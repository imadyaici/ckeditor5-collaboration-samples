function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }

function _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e547) { throw _e547; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e548) { didErr = true; err = _e548; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"], {
  /***/
  "./$$_lazy_route_resource lazy recursive":
  /*!******************************************************!*\
    !*** ./$$_lazy_route_resource lazy namespace object ***!
    \******************************************************/

  /*! no static exports found */

  /***/
  function $$_lazy_route_resourceLazyRecursive(module, exports) {
    function webpackEmptyAsyncContext(req) {
      // Here Promise.resolve().then() is used instead of new Promise() to prevent
      // uncaught exception popping up in devtools
      return Promise.resolve().then(function () {
        var e = new Error("Cannot find module '" + req + "'");
        e.code = 'MODULE_NOT_FOUND';
        throw e;
      });
    }

    webpackEmptyAsyncContext.keys = function () {
      return [];
    };

    webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
    module.exports = webpackEmptyAsyncContext;
    webpackEmptyAsyncContext.id = "./$$_lazy_route_resource lazy recursive";
    /***/
  },

  /***/
  "./node_modules/raw-loader/index.js!./src/app/app.component.html":
  /*!**************************************************************!*\
    !*** ./node_modules/raw-loader!./src/app/app.component.html ***!
    \**************************************************************/

  /*! no static exports found */

  /***/
  function node_modulesRawLoaderIndexJsSrcAppAppComponentHtml(module, exports) {
    module.exports = "<router-outlet></router-outlet>\n";
    /***/
  },

  /***/
  "./node_modules/raw-loader/index.js!./src/app/load-save-integration/load-save-integration.component.html":
  /*!******************************************************************************************************!*\
    !*** ./node_modules/raw-loader!./src/app/load-save-integration/load-save-integration.component.html ***!
    \******************************************************************************************************/

  /*! no static exports found */

  /***/
  function node_modulesRawLoaderIndexJsSrcAppLoadSaveIntegrationLoadSaveIntegrationComponentHtml(module, exports) {
    module.exports = "<header>\n\t<div class=\"centered\">\n\t\t<h1>\n\t\t\t<a href=\"https://ckeditor.com/ckeditor-5/\" target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t<img src=\"https://c.cksource.com/a/1/logos/ckeditor5.svg\" alt=\"CKEditor 5 logo\" /> CKEditor 5\n\t\t\t</a>\n\t\t</h1>\n\n\t\t<nav>\n\t\t\t<ul>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"https://ckeditor.com/collaboration/track-changes/\" target=\"_blank\" rel=\"noopener noreferrer\">Website</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"https://ckeditor.com/docs/ckeditor5/latest/features/collaboration/track-changes/track-changes.html\"\n\t\t\t\t\t\ttarget=\"_blank\" rel=\"noopener noreferrer\">Documentation</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</nav>\n\t</div>\n</header>\n\n<main>\n\t<div class=\"message\">\n\t\t<div class=\"centered\">\n\t\t\t<h1>CKEditor 5 track changes \"load and save\" integration for Angular</h1>\n\t\t</div>\n\t</div>\n\t<div class=\"centered\">\n\t\t<div class='row row-editor'>\n\t\t\t<ckeditor [editor]=\"Editor\" (ready)=\"onReady($event)\" [config]=\"editorConfig\" [data]=\"data\"></ckeditor>\n\t\t\t<div #sidebar class='sidebar'></div>\n\t\t</div>\n\t\t<div class=\"row row-info\">\n\t\t\tSee the editor data in the console.\n\t\t\t<button class=\"get-data\" (click)=\"showEditorDataInConsole($event)\">Get editor data</button>\n\t\t</div>\n\t\t<div class=\"row row-info\">\n\t\t\tYour license key is stored in the local storage.\n\t\t\t<button class=\"remove-license-key\" (click)=\"resetLicenseKey()\">Reset license key</button>\n\t\t</div>\n\t</div>\n</main>\n\n<footer>\n\t<div class=\"centered\">\n\t\t<p>\n\t\t\t<a href=\"https://ckeditor.com/ckeditor-5/\" target=\"_blank\" rel=\"noopener noreferrer\">CKEditor 5</a> – Rich text editor of tomorrow, available today\n\t\t</p>\n\t\t<p>\n\t\t\tCopyright © 2003-2021, <a href=\"https://cksource.com/\" target=\"_blank\" rel=\"noopener noreferrer\">CKSource</a> – Frederico Knabben. All rights reserved.\n\t\t</p>\n\t</div>\n</footer>\n";
    /***/
  },

  /***/
  "./node_modules/raw-loader/index.js!./src/app/menu/menu.component.html":
  /*!********************************************************************!*\
    !*** ./node_modules/raw-loader!./src/app/menu/menu.component.html ***!
    \********************************************************************/

  /*! no static exports found */

  /***/
  function node_modulesRawLoaderIndexJsSrcAppMenuMenuComponentHtml(module, exports) {
    module.exports = "<h1>Track changes for Angular</h1>\n<nav>\n  <ul>\n    <li>\n      <a routerLink=\"/load-save-integration\">Load and save integration</a>\n    </li>\n    <li>\n      <a routerLink=\"/track-changes-adapter\">Track changes adapter</a>\n    </li>\n  </ul>\n</nav>\n";
    /***/
  },

  /***/
  "./node_modules/raw-loader/index.js!./src/app/track-changes-adapter/track-changes-adapter.component.html":
  /*!******************************************************************************************************!*\
    !*** ./node_modules/raw-loader!./src/app/track-changes-adapter/track-changes-adapter.component.html ***!
    \******************************************************************************************************/

  /*! no static exports found */

  /***/
  function node_modulesRawLoaderIndexJsSrcAppTrackChangesAdapterTrackChangesAdapterComponentHtml(module, exports) {
    module.exports = "<header>\n\t<div class=\"centered\">\n\t\t<h1>\n\t\t\t<a href=\"https://ckeditor.com/ckeditor-5/\" target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t<img src=\"https://c.cksource.com/a/1/logos/ckeditor5.svg\" alt=\"CKEditor 5 logo\" /> CKEditor 5\n\t\t\t</a>\n\t\t</h1>\n\n\t\t<nav>\n\t\t\t<ul>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"https://ckeditor.com/collaboration/track-changes/\" target=\"_blank\" rel=\"noopener noreferrer\">Website</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"https://ckeditor.com/docs/ckeditor5/latest/features/collaboration/track-changes/track-changes.html\"\n\t\t\t\t\t\ttarget=\"_blank\" rel=\"noopener noreferrer\">Documentation</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</nav>\n\t</div>\n</header>\n\n<main>\n\t<div class=\"message\">\n\t\t<div class=\"centered\">\n\t\t\t<h1>CKEditor 5 track changes adapter integration for Angular</h1>\n\t\t</div>\n\t</div>\n\t<div class=\"centered\">\n\t\t<div class='row row-editor'>\n\t\t\t<ckeditor [editor]=\"Editor\" (ready)=\"onReady($event)\" [config]=\"editorConfig\" [data]=\"data\"></ckeditor>\n\t\t\t<div #sidebar class='sidebar'></div>\n\t\t</div>\n\t\t<div class=\"row row-info\">\n\t\t\tYour license key is stored in the local storage.\n\t\t\t<button class=\"remove-license-key\" (click)=\"resetLicenseKey()\">Reset license key</button>\n\t\t</div>\n\t</div>\n</main>\n\n<footer>\n\t<div class=\"centered\">\n\t\t<p>\n\t\t\t<a href=\"https://ckeditor.com/ckeditor-5/\" target=\"_blank\" rel=\"noopener noreferrer\">CKEditor 5</a> – Rich text editor of tomorrow, available today\n\t\t</p>\n\t\t<p>\n\t\t\tCopyright © 2003-2021, <a href=\"https://cksource.com/\" target=\"_blank\" rel=\"noopener noreferrer\">CKSource</a> – Frederico Knabben. All rights reserved.\n\t\t</p>\n\t</div>\n</footer>\n";
    /***/
  },

  /***/
  "./node_modules/tslib/tslib.es6.js":
  /*!*****************************************!*\
    !*** ./node_modules/tslib/tslib.es6.js ***!
    \*****************************************/

  /*! exports provided: __extends, __assign, __rest, __decorate, __param, __metadata, __awaiter, __generator, __createBinding, __exportStar, __values, __read, __spread, __spreadArrays, __await, __asyncGenerator, __asyncDelegator, __asyncValues, __makeTemplateObject, __importStar, __importDefault, __classPrivateFieldGet, __classPrivateFieldSet */

  /***/
  function node_modulesTslibTslibEs6Js(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__extends", function () {
      return __extends;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__assign", function () {
      return _assign;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__rest", function () {
      return __rest;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__decorate", function () {
      return __decorate;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__param", function () {
      return __param;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__metadata", function () {
      return __metadata;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__awaiter", function () {
      return __awaiter;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__generator", function () {
      return __generator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__createBinding", function () {
      return __createBinding;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__exportStar", function () {
      return __exportStar;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__values", function () {
      return __values;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__read", function () {
      return __read;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__spread", function () {
      return __spread;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__spreadArrays", function () {
      return __spreadArrays;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__await", function () {
      return __await;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__asyncGenerator", function () {
      return __asyncGenerator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__asyncDelegator", function () {
      return __asyncDelegator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__asyncValues", function () {
      return __asyncValues;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__makeTemplateObject", function () {
      return __makeTemplateObject;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__importStar", function () {
      return __importStar;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__importDefault", function () {
      return __importDefault;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__classPrivateFieldGet", function () {
      return __classPrivateFieldGet;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__classPrivateFieldSet", function () {
      return __classPrivateFieldSet;
    });
    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation.
    
    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.
    
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */

    /* global Reflect, Promise */


    var _extendStatics = function extendStatics(d, b) {
      _extendStatics = Object.setPrototypeOf || {
        __proto__: []
      } instanceof Array && function (d, b) {
        d.__proto__ = b;
      } || function (d, b) {
        for (var p in b) {
          if (b.hasOwnProperty(p)) d[p] = b[p];
        }
      };

      return _extendStatics(d, b);
    };

    function __extends(d, b) {
      _extendStatics(d, b);

      function __() {
        this.constructor = d;
      }

      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }

    var _assign = function __assign() {
      _assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
          s = arguments[i];

          for (var p in s) {
            if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
          }
        }

        return t;
      };

      return _assign.apply(this, arguments);
    };

    function __rest(s, e) {
      var t = {};

      for (var p in s) {
        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];
      }

      if (s != null && typeof Object.getOwnPropertySymbols === "function") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
        if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];
      }
      return t;
    }

    function __decorate(decorators, target, key, desc) {
      var c = arguments.length,
          r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
          d;
      if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {
        if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
      }
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    }

    function __param(paramIndex, decorator) {
      return function (target, key) {
        decorator(target, key, paramIndex);
      };
    }

    function __metadata(metadataKey, metadataValue) {
      if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
    }

    function __awaiter(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function (resolve) {
          resolve(value);
        });
      }

      return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }

        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }

        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }

        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    }

    function __generator(thisArg, body) {
      var _ = {
        label: 0,
        sent: function sent() {
          if (t[0] & 1) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      },
          f,
          y,
          t,
          g;
      return g = {
        next: verb(0),
        "throw": verb(1),
        "return": verb(2)
      }, typeof Symbol === "function" && (g[Symbol.iterator] = function () {
        return this;
      }), g;

      function verb(n) {
        return function (v) {
          return step([n, v]);
        };
      }

      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");

        while (_) {
          try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];

            switch (op[0]) {
              case 0:
              case 1:
                t = op;
                break;

              case 4:
                _.label++;
                return {
                  value: op[1],
                  done: false
                };

              case 5:
                _.label++;
                y = op[1];
                op = [0];
                continue;

              case 7:
                op = _.ops.pop();

                _.trys.pop();

                continue;

              default:
                if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
                  _ = 0;
                  continue;
                }

                if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
                  _.label = op[1];
                  break;
                }

                if (op[0] === 6 && _.label < t[1]) {
                  _.label = t[1];
                  t = op;
                  break;
                }

                if (t && _.label < t[2]) {
                  _.label = t[2];

                  _.ops.push(op);

                  break;
                }

                if (t[2]) _.ops.pop();

                _.trys.pop();

                continue;
            }

            op = body.call(thisArg, _);
          } catch (e) {
            op = [6, e];
            y = 0;
          } finally {
            f = t = 0;
          }
        }

        if (op[0] & 5) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    }

    function __createBinding(o, m, k, k2) {
      if (k2 === undefined) k2 = k;
      o[k2] = m[k];
    }

    function __exportStar(m, exports) {
      for (var p in m) {
        if (p !== "default" && !exports.hasOwnProperty(p)) exports[p] = m[p];
      }
    }

    function __values(o) {
      var s = typeof Symbol === "function" && Symbol.iterator,
          m = s && o[s],
          i = 0;
      if (m) return m.call(o);
      if (o && typeof o.length === "number") return {
        next: function next() {
          if (o && i >= o.length) o = void 0;
          return {
            value: o && o[i++],
            done: !o
          };
        }
      };
      throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
    }

    function __read(o, n) {
      var m = typeof Symbol === "function" && o[Symbol.iterator];
      if (!m) return o;
      var i = m.call(o),
          r,
          ar = [],
          e;

      try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {
          ar.push(r.value);
        }
      } catch (error) {
        e = {
          error: error
        };
      } finally {
        try {
          if (r && !r.done && (m = i["return"])) m.call(i);
        } finally {
          if (e) throw e.error;
        }
      }

      return ar;
    }

    function __spread() {
      for (var ar = [], i = 0; i < arguments.length; i++) {
        ar = ar.concat(__read(arguments[i]));
      }

      return ar;
    }

    function __spreadArrays() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++) {
        s += arguments[i].length;
      }

      for (var r = Array(s), k = 0, i = 0; i < il; i++) {
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {
          r[k] = a[j];
        }
      }

      return r;
    }

    ;

    function __await(v) {
      return this instanceof __await ? (this.v = v, this) : new __await(v);
    }

    function __asyncGenerator(thisArg, _arguments, generator) {
      if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
      var g = generator.apply(thisArg, _arguments || []),
          i,
          q = [];
      return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () {
        return this;
      }, i;

      function verb(n) {
        if (g[n]) i[n] = function (v) {
          return new Promise(function (a, b) {
            q.push([n, v, a, b]) > 1 || resume(n, v);
          });
        };
      }

      function resume(n, v) {
        try {
          step(g[n](v));
        } catch (e) {
          settle(q[0][3], e);
        }
      }

      function step(r) {
        r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);
      }

      function fulfill(value) {
        resume("next", value);
      }

      function reject(value) {
        resume("throw", value);
      }

      function settle(f, v) {
        if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);
      }
    }

    function __asyncDelegator(o) {
      var i, p;
      return i = {}, verb("next"), verb("throw", function (e) {
        throw e;
      }), verb("return"), i[Symbol.iterator] = function () {
        return this;
      }, i;

      function verb(n, f) {
        i[n] = o[n] ? function (v) {
          return (p = !p) ? {
            value: __await(o[n](v)),
            done: n === "return"
          } : f ? f(v) : v;
        } : f;
      }
    }

    function __asyncValues(o) {
      if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
      var m = o[Symbol.asyncIterator],
          i;
      return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () {
        return this;
      }, i);

      function verb(n) {
        i[n] = o[n] && function (v) {
          return new Promise(function (resolve, reject) {
            v = o[n](v), settle(resolve, reject, v.done, v.value);
          });
        };
      }

      function settle(resolve, reject, d, v) {
        Promise.resolve(v).then(function (v) {
          resolve({
            value: v,
            done: d
          });
        }, reject);
      }
    }

    function __makeTemplateObject(cooked, raw) {
      if (Object.defineProperty) {
        Object.defineProperty(cooked, "raw", {
          value: raw
        });
      } else {
        cooked.raw = raw;
      }

      return cooked;
    }

    ;

    function __importStar(mod) {
      if (mod && mod.__esModule) return mod;
      var result = {};
      if (mod != null) for (var k in mod) {
        if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
      }
      result["default"] = mod;
      return result;
    }

    function __importDefault(mod) {
      return mod && mod.__esModule ? mod : {
        "default": mod
      };
    }

    function __classPrivateFieldGet(receiver, privateMap) {
      if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to get private field on non-instance");
      }

      return privateMap.get(receiver);
    }

    function __classPrivateFieldSet(receiver, privateMap, value) {
      if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to set private field on non-instance");
      }

      privateMap.set(receiver, value);
      return value;
    }
    /***/

  },

  /***/
  "./src/app/app-routing.module.ts":
  /*!***************************************!*\
    !*** ./src/app/app-routing.module.ts ***!
    \***************************************/

  /*! exports provided: AppRoutingModule */

  /***/
  function srcAppAppRoutingModuleTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function () {
      return AppRoutingModule;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/router */
    "./node_modules/@angular/router/fesm2015/router.js");
    /* harmony import */


    var _load_save_integration_load_save_integration_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! ./load-save-integration/load-save-integration.component */
    "./src/app/load-save-integration/load-save-integration.component.ts");
    /* harmony import */


    var _track_changes_adapter_track_changes_adapter_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
    /*! ./track-changes-adapter/track-changes-adapter.component */
    "./src/app/track-changes-adapter/track-changes-adapter.component.ts");
    /* harmony import */


    var _menu_menu_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
    /*! ./menu/menu.component */
    "./src/app/menu/menu.component.ts");

    var routes = [{
      path: '',
      component: _menu_menu_component__WEBPACK_IMPORTED_MODULE_5__["MenuComponent"]
    }, {
      path: 'load-save-integration',
      component: _load_save_integration_load_save_integration_component__WEBPACK_IMPORTED_MODULE_3__["LoadSaveIntegrationComponent"]
    }, {
      path: 'track-changes-adapter',
      component: _track_changes_adapter_track_changes_adapter_component__WEBPACK_IMPORTED_MODULE_4__["TrackChangesAdapterComponent"]
    }];

    var AppRoutingModule = function AppRoutingModule() {
      _classCallCheck(this, AppRoutingModule);
    };

    AppRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
      imports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forRoot(routes)],
      exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]]
    })], AppRoutingModule);
    /***/
  },

  /***/
  "./src/app/app.component.css":
  /*!***********************************!*\
    !*** ./src/app/app.component.css ***!
    \***********************************/

  /*! no static exports found */

  /***/
  function srcAppAppComponentCss(module, exports) {
    module.exports = "";
    /***/
  },

  /***/
  "./src/app/app.component.ts":
  /*!**********************************!*\
    !*** ./src/app/app.component.ts ***!
    \**********************************/

  /*! exports provided: AppComponent */

  /***/
  function srcAppAppComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "AppComponent", function () {
      return AppComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");

    var AppComponent = function AppComponent() {
      _classCallCheck(this, AppComponent);
    };

    AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'app-root',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./app.component.html */
      "./node_modules/raw-loader/index.js!./src/app/app.component.html"))["default"],
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./app.component.css */
      "./src/app/app.component.css"))["default"]]
    })], AppComponent);
    /***/
  },

  /***/
  "./src/app/app.module.ts":
  /*!*******************************!*\
    !*** ./src/app/app.module.ts ***!
    \*******************************/

  /*! exports provided: AppModule */

  /***/
  function srcAppAppModuleTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "AppModule", function () {
      return AppModule;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/platform-browser */
    "./node_modules/@angular/platform-browser/fesm2015/platform-browser.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _app_routing_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! ./app-routing.module */
    "./src/app/app-routing.module.ts");
    /* harmony import */


    var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
    /*! @angular/router */
    "./node_modules/@angular/router/fesm2015/router.js");
    /* harmony import */


    var _app_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
    /*! ./app.component */
    "./src/app/app.component.ts");
    /* harmony import */


    var _track_changes_adapter_track_changes_adapter_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(
    /*! ./track-changes-adapter/track-changes-adapter.component */
    "./src/app/track-changes-adapter/track-changes-adapter.component.ts");
    /* harmony import */


    var _load_save_integration_load_save_integration_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(
    /*! ./load-save-integration/load-save-integration.component */
    "./src/app/load-save-integration/load-save-integration.component.ts");
    /* harmony import */


    var _ckeditor_ckeditor5_angular__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(
    /*! @ckeditor/ckeditor5-angular */
    "./node_modules/@ckeditor/ckeditor5-angular/fesm2015/ckeditor-ckeditor5-angular.js");
    /* harmony import */


    var _menu_menu_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(
    /*! ./menu/menu.component */
    "./src/app/menu/menu.component.ts");

    var AppModule = function AppModule() {
      _classCallCheck(this, AppModule);
    };

    AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["NgModule"])({
      declarations: [_app_component__WEBPACK_IMPORTED_MODULE_5__["AppComponent"], _track_changes_adapter_track_changes_adapter_component__WEBPACK_IMPORTED_MODULE_6__["TrackChangesAdapterComponent"], _load_save_integration_load_save_integration_component__WEBPACK_IMPORTED_MODULE_7__["LoadSaveIntegrationComponent"], _menu_menu_component__WEBPACK_IMPORTED_MODULE_9__["MenuComponent"]],
      imports: [_angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"], _ckeditor_ckeditor5_angular__WEBPACK_IMPORTED_MODULE_8__["CKEditorModule"], _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"], _app_routing_module__WEBPACK_IMPORTED_MODULE_3__["AppRoutingModule"]],
      providers: [],
      bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_5__["AppComponent"]]
    })], AppModule);
    /***/
  },

  /***/
  "./src/app/load-save-integration/load-save-integration.component.css":
  /*!***************************************************************************!*\
    !*** ./src/app/load-save-integration/load-save-integration.component.css ***!
    \***************************************************************************/

  /*! no static exports found */

  /***/
  function srcAppLoadSaveIntegrationLoadSaveIntegrationComponentCss(module, exports) {
    module.exports = "";
    /***/
  },

  /***/
  "./src/app/load-save-integration/load-save-integration.component.ts":
  /*!**************************************************************************!*\
    !*** ./src/app/load-save-integration/load-save-integration.component.ts ***!
    \**************************************************************************/

  /*! exports provided: LoadSaveIntegrationComponent */

  /***/
  function srcAppLoadSaveIntegrationLoadSaveIntegrationComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "LoadSaveIntegrationComponent", function () {
      return LoadSaveIntegrationComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _vendor_ckeditor5_build_classic_editor_with_track_changes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! ../../../vendor/ckeditor5/build/classic-editor-with-track-changes.js */
    "./vendor/ckeditor5/build/classic-editor-with-track-changes.js");
    /* harmony import */


    var _vendor_ckeditor5_build_classic_editor_with_track_changes_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_vendor_ckeditor5_build_classic_editor_with_track_changes_js__WEBPACK_IMPORTED_MODULE_2__);
    /* harmony import */


    var _load_save_integration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! ./load-save-integration */
    "./src/app/load-save-integration/load-save-integration.ts");

    var LoadSaveIntegrationComponent = /*#__PURE__*/function () {
      function LoadSaveIntegrationComponent() {
        _classCallCheck(this, LoadSaveIntegrationComponent);

        this.ready = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.Editor = _vendor_ckeditor5_build_classic_editor_with_track_changes_js__WEBPACK_IMPORTED_MODULE_2__;
        this.data = this.getInitialData();
        this.STORAGE_KEY = 'ckeditor-license-key';
        this.licenseKey = ''; // Application data will be available under a global variable `appData`.

        this.appData = {
          // The ID of the current user.
          userId: 'user-1',
          // Users data.
          users: [{
            id: 'user-1',
            name: 'Joe Doe',
            // Note that the avatar is optional.
            avatar: 'https://randomuser.me/api/portraits/thumb/men/26.jpg'
          }, {
            id: 'user-2',
            name: 'Ella Harper',
            avatar: 'https://randomuser.me/api/portraits/thumb/women/65.jpg'
          }],
          // Suggestion threads data.
          suggestions: [{
            id: 'suggestion-1',
            type: 'insertion',
            authorId: 'user-2',
            createdAt: new Date(2019, 1, 13, 11, 20, 48)
          }, {
            id: 'suggestion-2',
            type: 'deletion',
            authorId: 'user-1',
            createdAt: new Date(2019, 1, 14, 12, 7, 20)
          }, {
            id: 'suggestion-3',
            type: 'insertion',
            authorId: 'user-1',
            createdAt: new Date(2019, 1, 14, 12, 7, 20)
          }, {
            id: 'suggestion-4',
            type: 'deletion',
            authorId: 'user-1',
            createdAt: new Date(2019, 1, 15, 8, 44, 1)
          }, {
            id: 'suggestion-5',
            type: 'formatInline:886cqig6g8rf',
            authorId: 'user-2',
            createdAt: new Date(2019, 2, 8, 10, 2, 7),
            data: {
              commandName: 'bold',
              commandParams: [{
                forceValue: true
              }]
            }
          }, {
            id: 'suggestion-6',
            type: 'formatBlock:698dn3otqzd6',
            authorId: 'user-2',
            createdAt: new Date(2019, 2, 8, 10, 2, 10),
            data: {
              commandName: 'heading',
              commandParams: [{
                value: 'heading2'
              }],
              formatGroupId: 'blockName',
              multipleBlocks: false
            }
          }],
          // Comment threads data.
          commentThreads: [{
            threadId: 'suggestion-1',
            comments: [{
              commentId: 'comment-1',
              authorId: 'user-1',
              content: '<p>Are you sure it will fit here?</p>',
              createdAt: new Date('09/20/2018 14:21:53')
            }, {
              commentId: 'comment-2',
              authorId: 'user-2',
              content: '<p>I think so...</p>',
              createdAt: new Date('09/21/2018 08:17:01')
            }]
          }]
        }; // Note that Angular refs can be used once the view is initialized so we need to create
        // this container and use in the above editor configuration to work around this problem.

        this.sidebar = document.createElement('div');
        this.boundRefreshDisplayMode = this.refreshDisplayMode.bind(this);
        this.boundCheckPendingActions = this.checkPendingActions.bind(this);
      }

      _createClass(LoadSaveIntegrationComponent, [{
        key: "editorConfig",
        get: function get() {
          return {
            extraPlugins: [Object(_load_save_integration__WEBPACK_IMPORTED_MODULE_3__["getLoadSaveIntegration"])(this.appData)],
            sidebar: {
              container: this.sidebar
            },
            licenseKey: this.licenseKey
          };
        }
      }, {
        key: "ngOnInit",
        value: function ngOnInit() {
          // Save the provided license key in the local storage.
          this.licenseKey = window.localStorage.getItem(this.STORAGE_KEY) || window.prompt('Your license key');
          window.localStorage.setItem(this.STORAGE_KEY, this.licenseKey);
        }
      }, {
        key: "ngAfterViewInit",
        value: function ngAfterViewInit() {
          if (!this.sidebarContainer) {
            throw new Error('Div container for sidebar was not found');
          }

          this.sidebarContainer.nativeElement.appendChild(this.sidebar);
        }
      }, {
        key: "ngOnDestroy",
        value: function ngOnDestroy() {
          window.removeEventListener('resize', this.boundRefreshDisplayMode);
          window.removeEventListener('beforeunload', this.boundCheckPendingActions);
        }
      }, {
        key: "onReady",
        value: function onReady(editor) {
          this.editor = editor;
          this.ready.emit(editor); // Make the track changes mode the "default" state by turning it on right after the editor initializes.

          this.editor.execute('trackChanges'); // Prevent closing the tab when any action is pending.

          window.addEventListener('beforeunload', this.boundCheckPendingActions); // Switch between inline and sidebar annotations according to the window size.

          window.addEventListener('resize', this.boundRefreshDisplayMode);
          this.refreshDisplayMode();
        }
      }, {
        key: "resetLicenseKey",
        value: function resetLicenseKey() {
          window.localStorage.removeItem(this.STORAGE_KEY);
          window.location.reload();
        }
      }, {
        key: "checkPendingActions",
        value: function checkPendingActions(domEvt) {
          if (this.editor.plugins.get('PendingActions').hasAny) {
            domEvt.preventDefault();
            domEvt.returnValue = true;
          }
        }
      }, {
        key: "showEditorDataInConsole",
        value: function showEditorDataInConsole(evt) {
          var editorData = this.editor.data.get();
          var trackChanges = this.editor.plugins.get('TrackChanges');
          var comments = this.editor.plugins.get('CommentsRepository');
          var suggestionsData = trackChanges.getSuggestions();
          var commentThreadsData = comments.getCommentThreads({
            skipNotAttached: true,
            skipEmpty: true
          });
          console.log('Editor data:');
          console.log(editorData);
          console.log('Suggestions data:');
          console.log(suggestionsData);
          console.log('Comment threads data:');
          console.log(commentThreadsData);
          evt.preventDefault();
        }
      }, {
        key: "refreshDisplayMode",
        value: function refreshDisplayMode() {
          var annotationsUIs = this.editor.plugins.get('AnnotationsUIs');
          var sidebarElement = this.sidebarContainer.nativeElement;

          if (window.innerWidth < 1070) {
            sidebarElement.classList.remove('narrow');
            sidebarElement.classList.add('hidden');
            annotationsUIs.switchTo('inline');
          } else if (window.innerWidth < 1300) {
            sidebarElement.classList.remove('hidden');
            sidebarElement.classList.add('narrow');
            annotationsUIs.switchTo('narrowSidebar');
          } else {
            sidebarElement.classList.remove('hidden', 'narrow');
            annotationsUIs.switchTo('wideSidebar');
          }
        }
      }, {
        key: "getInitialData",
        value: function getInitialData() {
          return "\n\t\t\t<h2>\n\t\t\t\tBilingual Personality Disorder\n\t\t\t</h2>\n\t\t\t<figure class=\"image image-style-side\">\n\t\t\t\t<img src=\"https://c.cksource.com/a/1/img/docs/sample-image-bilingual-personality-disorder.jpg\" srcset=\"https://c.cksource.com/a/1/img/docs/sample-image-bilingual-personality-disorder.jpg, https://c.cksource.com/a/1/img/docs/sample-image-bilingual-personality-disorder_2x.jpg 2x\">\n\t\t\t\t<figcaption>\n\t\t\t\t\tOne language, one person.\n\t\t\t\t</figcaption>\n\t\t\t</figure>\n\t\t\t<p>\n\t\t\t\tThis may be the first time you hear about this made-up disorder but it\n\t\t\t\t<suggestion-start name=\"insertion:suggestion-1:user-2\"></suggestion-start>actually<suggestion-end name=\"insertion:suggestion-1:user-2\"></suggestion-end>\n\t\t\t\tisn\u2019t so far from the truth. Even the studies that were conducted almost half a century show\n\t\t\t\tthat <strong>the language you speak has more effects on you than you realize</strong>.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tOne of the very first experiments conducted on this topic dates back to 1964.\n\t\t\t\t<a href=\"https://www.researchgate.net/publication/9440038_Language_and_TAT_content_in_bilinguals\">In the experiment</a>\n\t\t\t\tdesigned by linguist Ervin-Tripp who is an\n\t\t\t\t<suggestion-start name=\"deletion:suggestion-2:user-1\"></suggestion-start>\n\t\t\t\tauthority<suggestion-end name=\"deletion:suggestion-2:user-1\">\n\t\t\t\t</suggestion-end>\n\t\t\t\t<suggestion-start name=\"insertion:suggestion-3:user-1\"></suggestion-start>\n\t\t\t\texpert<suggestion-end name=\"insertion:suggestion-3:user-1\"></suggestion-end>\n\t\t\t\tin psycholinguistic and sociolinguistic studies, adults who are bilingual\n\t\t\t\tin English in French were showed series of pictures and were asked to create 3-minute stories.\n\t\t\t\tIn the end participants emphasized\n\t\t\t\tdrastically different dynamics for stories in English and French.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tAnother ground-breaking experiment which included bilingual Japanese women married to American men\n\t\t\t\t<suggestion-start name=\"deletion:suggestion-4:user-1\"></suggestion-start>in San\n\t\t\t\tFrancisco <suggestion-end name=\"deletion:suggestion-4:user-1\">\n\t\t\t\t</suggestion-end>were\n\t\t\t\tasked to complete sentences. The goal of the experiment was to investigate whether or not human\n\t\t\t\tfeelings and thoughts\n\t\t\t\tare expressed differently in <strong>different language mindsets</strong>.\n\t\t\t</p>\n\t\t\t<p data-suggestion-start-before=\"formatBlock:698dn3otqzd6:suggestion-6:user-2\">\n\t\t\t\tHere is a sample from the the experiment:\n\t\t\t\t<suggestion-end name=\"formatBlock:698dn3otqzd6:suggestion-6:user-2\"></suggestion-end>\n\t\t\t</p>\n\t\t\t<table>\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t<th>English</th>\n\t\t\t\t\t\t<th>Japanese</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>Real friends should</td>\n\t\t\t\t\t\t<td>Be very frank</td>\n\t\t\t\t\t\t<td>Help each other</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>I will <suggestion-start name=\"formatInline:886cqig6g8rf:suggestion-5:user-2\"></suggestion-start>probably<suggestion-end name=\"formatInline:886cqig6g8rf:suggestion-5:user-2\" suggestion-type=\"formatInline:886cqig6g8rf\"></suggestion-end> become</td>\n\t\t\t\t\t\t<td>A teacher</td>\n\t\t\t\t\t<td>A housewife</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>When there is a conflict with family</td>\n\t\t\t\t\t\t<td>I do what I want</td>\n\t\t\t\t\t\t<td>It's a time of great unhappiness</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t\t<p>\n\t\t\t\tMore recent <a href=\"https://books.google.pl/books?id=1LMhWGHGkRUC\">studies</a> show, the\n\t\t\t\tlanguage a person speaks affects\n\t\t\t\ttheir cognition, behavior, emotions and hence <strong>their personality</strong>.\n\t\t\t\tThis shouldn\u2019t come as a surprise\n\t\t\t\t<a href=\"https://en.wikipedia.org/wiki/Lateralization_of_brain_function\">since we already know</a>\n\t\t\t\tthat different regions of the brain become more active depending on the person\u2019s activity at hand.\n\t\t\t\tThe structure, information and especially <strong>the culture</strong> of languages varies\n\t\t\t\tsubstantially and the language a person speaks is an essential element of daily life.\n\t\t\t</p>\n\t\t";
        }
      }]);

      return LoadSaveIntegrationComponent;
    }();

    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)], LoadSaveIntegrationComponent.prototype, "ready", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('sidebar', {
      "static": true
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])], LoadSaveIntegrationComponent.prototype, "sidebarContainer", void 0);
    LoadSaveIntegrationComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'load-save-integration',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./load-save-integration.component.html */
      "./node_modules/raw-loader/index.js!./src/app/load-save-integration/load-save-integration.component.html"))["default"],
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./load-save-integration.component.css */
      "./src/app/load-save-integration/load-save-integration.component.css"))["default"]]
    })], LoadSaveIntegrationComponent);
    /***/
  },

  /***/
  "./src/app/load-save-integration/load-save-integration.ts":
  /*!****************************************************************!*\
    !*** ./src/app/load-save-integration/load-save-integration.ts ***!
    \****************************************************************/

  /*! exports provided: getLoadSaveIntegration */

  /***/
  function srcAppLoadSaveIntegrationLoadSaveIntegrationTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "getLoadSaveIntegration", function () {
      return getLoadSaveIntegration;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");

    function getLoadSaveIntegration(appData) {
      return /*#__PURE__*/function () {
        function LoadSaveIntegration(editor) {
          _classCallCheck(this, LoadSaveIntegration);

          this.editor = editor;
        }

        _createClass(LoadSaveIntegration, [{
          key: "init",
          value: function init() {
            var usersPlugin = this.editor.plugins.get('Users');
            var trackChangesPlugin = this.editor.plugins.get('TrackChanges');
            var commentsRepositoryPlugin = this.editor.plugins.get('CommentsRepository'); // Load the users data.

            var _iterator = _createForOfIteratorHelper(appData.users),
                _step;

            try {
              for (_iterator.s(); !(_step = _iterator.n()).done;) {
                var user = _step.value;
                usersPlugin.addUser(user);
              } // Set the current user.

            } catch (err) {
              _iterator.e(err);
            } finally {
              _iterator.f();
            }

            usersPlugin.defineMe(appData.userId); // Load the comment threads data.

            var _iterator2 = _createForOfIteratorHelper(appData.commentThreads),
                _step2;

            try {
              for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
                var commentThread = _step2.value;
                commentThread.isFromAdapter = true;
                commentsRepositoryPlugin.addCommentThread(commentThread);
              } // Load the suggestions data.

            } catch (err) {
              _iterator2.e(err);
            } finally {
              _iterator2.f();
            }

            var _iterator3 = _createForOfIteratorHelper(appData.suggestions),
                _step3;

            try {
              for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
                var suggestion = _step3.value;
                trackChangesPlugin.addSuggestion(suggestion);
              }
            } catch (err) {
              _iterator3.e(err);
            } finally {
              _iterator3.f();
            }
          }
        }]);

        return LoadSaveIntegration;
      }();
    }
    /***/

  },

  /***/
  "./src/app/menu/menu.component.css":
  /*!*****************************************!*\
    !*** ./src/app/menu/menu.component.css ***!
    \*****************************************/

  /*! no static exports found */

  /***/
  function srcAppMenuMenuComponentCss(module, exports) {
    module.exports = "";
    /***/
  },

  /***/
  "./src/app/menu/menu.component.ts":
  /*!****************************************!*\
    !*** ./src/app/menu/menu.component.ts ***!
    \****************************************/

  /*! exports provided: MenuComponent */

  /***/
  function srcAppMenuMenuComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "MenuComponent", function () {
      return MenuComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");

    var MenuComponent = function MenuComponent() {
      _classCallCheck(this, MenuComponent);
    };

    MenuComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'menu',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./menu.component.html */
      "./node_modules/raw-loader/index.js!./src/app/menu/menu.component.html"))["default"],
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./menu.component.css */
      "./src/app/menu/menu.component.css"))["default"]]
    })], MenuComponent);
    /***/
  },

  /***/
  "./src/app/track-changes-adapter/track-changes-adapter.component.css":
  /*!***************************************************************************!*\
    !*** ./src/app/track-changes-adapter/track-changes-adapter.component.css ***!
    \***************************************************************************/

  /*! no static exports found */

  /***/
  function srcAppTrackChangesAdapterTrackChangesAdapterComponentCss(module, exports) {
    module.exports = "";
    /***/
  },

  /***/
  "./src/app/track-changes-adapter/track-changes-adapter.component.ts":
  /*!**************************************************************************!*\
    !*** ./src/app/track-changes-adapter/track-changes-adapter.component.ts ***!
    \**************************************************************************/

  /*! exports provided: TrackChangesAdapterComponent */

  /***/
  function srcAppTrackChangesAdapterTrackChangesAdapterComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "TrackChangesAdapterComponent", function () {
      return TrackChangesAdapterComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _vendor_ckeditor5_build_classic_editor_with_track_changes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! ../../../vendor/ckeditor5/build/classic-editor-with-track-changes.js */
    "./vendor/ckeditor5/build/classic-editor-with-track-changes.js");
    /* harmony import */


    var _vendor_ckeditor5_build_classic_editor_with_track_changes_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_vendor_ckeditor5_build_classic_editor_with_track_changes_js__WEBPACK_IMPORTED_MODULE_2__);
    /* harmony import */


    var _track_changes_adapter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! ./track-changes-adapter */
    "./src/app/track-changes-adapter/track-changes-adapter.ts");

    var TrackChangesAdapterComponent = /*#__PURE__*/function () {
      function TrackChangesAdapterComponent() {
        _classCallCheck(this, TrackChangesAdapterComponent);

        this.ready = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.Editor = _vendor_ckeditor5_build_classic_editor_with_track_changes_js__WEBPACK_IMPORTED_MODULE_2__;
        this.data = this.getInitialData();
        this.STORAGE_KEY = 'ckeditor-license-key';
        this.licenseKey = '';
        this.appData = {
          // The ID of the current user.
          userId: 'user-1',
          // Users data.
          users: [{
            id: 'user-1',
            name: 'Joe Doe',
            // Note that the avatar is optional.
            avatar: 'https://randomuser.me/api/portraits/thumb/men/26.jpg'
          }, {
            id: 'user-2',
            name: 'Ella Harper',
            avatar: 'https://randomuser.me/api/portraits/thumb/women/65.jpg'
          }],
          // Suggestion threads data.
          suggestions: [{
            id: 'suggestion-1',
            type: 'insertion',
            authorId: 'user-2',
            createdAt: new Date(2019, 1, 13, 11, 20, 48),
            hasComments: true
          }, {
            id: 'suggestion-2',
            type: 'deletion',
            authorId: 'user-1',
            createdAt: new Date(2019, 1, 14, 12, 7, 20),
            hasComments: false
          }, {
            id: 'suggestion-3',
            type: 'insertion',
            authorId: 'user-1',
            createdAt: new Date(2019, 1, 14, 12, 7, 20),
            hasComments: false
          }, {
            id: 'suggestion-4',
            type: 'deletion',
            authorId: 'user-1',
            createdAt: new Date(2019, 1, 15, 8, 44, 1),
            hasComments: true
          }, {
            id: 'suggestion-5',
            type: 'formatInline:886cqig6g8rf',
            authorId: 'user-2',
            hasComments: false,
            createdAt: new Date(2019, 2, 8, 10, 2, 7),
            data: {
              commandName: 'bold',
              commandParams: [{
                forceValue: true
              }]
            }
          }, {
            id: 'suggestion-6',
            type: 'formatBlock:698dn3otqzd6',
            authorId: 'user-2',
            hasComments: false,
            createdAt: new Date(2019, 2, 8, 10, 2, 10),
            data: {
              commandName: 'heading',
              commandParams: [{
                value: 'heading2'
              }],
              formatGroupId: 'blockName',
              multipleBlocks: false
            }
          }],
          // Comment threads data.
          comments: [{
            threadId: 'suggestion-1',
            comments: [{
              commentId: 'comment-1',
              content: 'Sounds good.',
              authorId: 'user-1',
              createdAt: new Date(2019, 1, 13, 11, 32, 57)
            }]
          }, {
            threadId: 'suggestion-4',
            comments: [{
              commentId: 'comment-2',
              content: 'I think it\'s not relevant.',
              authorId: 'user-2',
              createdAt: new Date(2019, 1, 15, 9, 3, 1)
            }, {
              commentId: 'comment-3',
              content: 'You are right. Thanks.',
              authorId: 'user-1',
              createdAt: new Date(2019, 1, 15, 9, 28, 1)
            }]
          }]
        }; // Note that Angular refs can be used once the view is initialized so we need to create
        // this container and use in the above editor configuration to work around this problem.

        this.sidebar = document.createElement('div');
        this.boundRefreshDisplayMode = this.refreshDisplayMode.bind(this);
        this.boundCheckPendingActions = this.checkPendingActions.bind(this);
      }

      _createClass(TrackChangesAdapterComponent, [{
        key: "editorConfig",
        get: function get() {
          return {
            extraPlugins: [Object(_track_changes_adapter__WEBPACK_IMPORTED_MODULE_3__["getTrackChangesAdapter"])(this.appData)],
            sidebar: {
              container: this.sidebar
            },
            licenseKey: this.licenseKey
          };
        }
      }, {
        key: "ngOnInit",
        value: function ngOnInit() {
          // Save the provided license key in the local storage.
          this.licenseKey = window.localStorage.getItem(this.STORAGE_KEY) || window.prompt('Your license key');
          window.localStorage.setItem(this.STORAGE_KEY, this.licenseKey);
        }
      }, {
        key: "ngAfterViewInit",
        value: function ngAfterViewInit() {
          if (!this.sidebarContainer) {
            throw new Error('Div container for sidebar was not found');
          }

          this.sidebarContainer.nativeElement.appendChild(this.sidebar);
        }
      }, {
        key: "ngOnDestroy",
        value: function ngOnDestroy() {
          window.removeEventListener('resize', this.boundRefreshDisplayMode);
          window.removeEventListener('beforeunload', this.boundCheckPendingActions);
        }
      }, {
        key: "onReady",
        value: function onReady(editor) {
          this.editor = editor;
          this.ready.emit(editor); // Make the track changes mode the "default" state by turning it on right after the editor initializes.

          this.editor.execute('trackChanges'); // Prevent closing the tab when any action is pending.

          window.addEventListener('beforeunload', this.boundCheckPendingActions); // Switch between inline and sidebar annotations according to the window size.

          window.addEventListener('resize', this.boundRefreshDisplayMode);
          this.refreshDisplayMode();
        }
      }, {
        key: "resetLicenseKey",
        value: function resetLicenseKey() {
          window.localStorage.removeItem(this.STORAGE_KEY);
          window.location.reload();
        }
      }, {
        key: "checkPendingActions",
        value: function checkPendingActions(domEvt) {
          if (this.editor.plugins.get('PendingActions').hasAny) {
            domEvt.preventDefault();
            domEvt.returnValue = true;
          }
        }
      }, {
        key: "refreshDisplayMode",
        value: function refreshDisplayMode() {
          var annotationsUIs = this.editor.plugins.get('AnnotationsUIs');
          var sidebarElement = this.sidebarContainer.nativeElement;

          if (window.innerWidth < 1070) {
            sidebarElement.classList.remove('narrow');
            sidebarElement.classList.add('hidden');
            annotationsUIs.switchTo('inline');
          } else if (window.innerWidth < 1300) {
            sidebarElement.classList.remove('hidden');
            sidebarElement.classList.add('narrow');
            annotationsUIs.switchTo('narrowSidebar');
          } else {
            sidebarElement.classList.remove('hidden', 'narrow');
            annotationsUIs.switchTo('wideSidebar');
          }
        }
      }, {
        key: "getInitialData",
        value: function getInitialData() {
          return "\n\t\t\t<h2>\n\t\t\t\tBilingual Personality Disorder\n\t\t\t</h2>\n\t\t\t<figure class=\"image image-style-side\">\n\t\t\t\t<img src=\"https://c.cksource.com/a/1/img/docs/sample-image-bilingual-personality-disorder.jpg\" srcset=\"https://c.cksource.com/a/1/img/docs/sample-image-bilingual-personality-disorder.jpg, https://c.cksource.com/a/1/img/docs/sample-image-bilingual-personality-disorder_2x.jpg 2x\">\n\t\t\t\t<figcaption>\n\t\t\t\t\tOne language, one person.\n\t\t\t\t</figcaption>\n\t\t\t</figure>\n\t\t\t<p>\n\t\t\t\tThis may be the first time you hear about this made-up disorder but it\n\t\t\t\t<suggestion-start name=\"insertion:suggestion-1:user-2\"></suggestion-start>actually<suggestion-end name=\"insertion:suggestion-1:user-2\"></suggestion-end>\n\t\t\t\tisn\u2019t so far from the truth. Even the studies that were conducted almost half a century show\n\t\t\t\tthat <strong>the language you speak has more effects on you than you realize</strong>.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tOne of the very first experiments conducted on this topic dates back to 1964.\n\t\t\t\t<a href=\"https://www.researchgate.net/publication/9440038_Language_and_TAT_content_in_bilinguals\">In the experiment</a>\n\t\t\t\tdesigned by linguist Ervin-Tripp who is an\n\t\t\t\t<suggestion-start name=\"deletion:suggestion-2:user-1\"></suggestion-start>\n\t\t\t\tauthority<suggestion-end name=\"deletion:suggestion-2:user-1\">\n\t\t\t\t</suggestion-end>\n\t\t\t\t<suggestion-start name=\"insertion:suggestion-3:user-1\"></suggestion-start>\n\t\t\t\texpert<suggestion-end name=\"insertion:suggestion-3:user-1\"></suggestion-end>\n\t\t\t\tin psycholinguistic and sociolinguistic studies, adults who are bilingual\n\t\t\t\tin English in French were showed series of pictures and were asked to create 3-minute stories.\n\t\t\t\tIn the end participants emphasized\n\t\t\t\tdrastically different dynamics for stories in English and French.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tAnother ground-breaking experiment which included bilingual Japanese women married to American men\n\t\t\t\t<suggestion-start name=\"deletion:suggestion-4:user-1\"></suggestion-start>in San\n\t\t\t\tFrancisco <suggestion-end name=\"deletion:suggestion-4:user-1\">\n\t\t\t\t</suggestion-end>were\n\t\t\t\tasked to complete sentences. The goal of the experiment was to investigate whether or not human\n\t\t\t\tfeelings and thoughts\n\t\t\t\tare expressed differently in <strong>different language mindsets</strong>.\n\t\t\t</p>\n\t\t\t<p data-suggestion-start-before=\"formatBlock:698dn3otqzd6:suggestion-6:user-2\">\n\t\t\t\tHere is a sample from the the experiment:\n\t\t\t\t<suggestion-end name=\"formatBlock:698dn3otqzd6:suggestion-6:user-2\"></suggestion-end>\n\t\t\t</p>\n\t\t\t<table>\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t<th>English</th>\n\t\t\t\t\t\t<th>Japanese</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>Real friends should</td>\n\t\t\t\t\t\t<td>Be very frank</td>\n\t\t\t\t\t\t<td>Help each other</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>I will <suggestion-start name=\"formatInline:886cqig6g8rf:suggestion-5:user-2\"></suggestion-start>probably<suggestion-end name=\"formatInline:886cqig6g8rf:suggestion-5:user-2\" suggestion-type=\"formatInline:886cqig6g8rf\"></suggestion-end> become</td>\n\t\t\t\t\t\t<td>A teacher</td>\n\t\t\t\t\t<td>A housewife</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>When there is a conflict with family</td>\n\t\t\t\t\t\t<td>I do what I want</td>\n\t\t\t\t\t\t<td>It's a time of great unhappiness</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t\t<p>\n\t\t\t\tMore recent <a href=\"https://books.google.pl/books?id=1LMhWGHGkRUC\">studies</a> show, the\n\t\t\t\tlanguage a person speaks affects\n\t\t\t\ttheir cognition, behavior, emotions and hence <strong>their personality</strong>.\n\t\t\t\tThis shouldn\u2019t come as a surprise\n\t\t\t\t<a href=\"https://en.wikipedia.org/wiki/Lateralization_of_brain_function\">since we already know</a>\n\t\t\t\tthat different regions of the brain become more active depending on the person\u2019s activity at hand.\n\t\t\t\tThe structure, information and especially <strong>the culture</strong> of languages varies\n\t\t\t\tsubstantially and the language a person speaks is an essential element of daily life.\n\t\t\t</p>\n\t\t";
        }
      }]);

      return TrackChangesAdapterComponent;
    }();

    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)], TrackChangesAdapterComponent.prototype, "ready", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('sidebar', {
      "static": true
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])], TrackChangesAdapterComponent.prototype, "sidebarContainer", void 0);
    TrackChangesAdapterComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'track-changes-adapter',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./track-changes-adapter.component.html */
      "./node_modules/raw-loader/index.js!./src/app/track-changes-adapter/track-changes-adapter.component.html"))["default"],
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./track-changes-adapter.component.css */
      "./src/app/track-changes-adapter/track-changes-adapter.component.css"))["default"]]
    })], TrackChangesAdapterComponent);
    /***/
  },

  /***/
  "./src/app/track-changes-adapter/track-changes-adapter.ts":
  /*!****************************************************************!*\
    !*** ./src/app/track-changes-adapter/track-changes-adapter.ts ***!
    \****************************************************************/

  /*! exports provided: getTrackChangesAdapter */

  /***/
  function srcAppTrackChangesAdapterTrackChangesAdapterTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "getTrackChangesAdapter", function () {
      return getTrackChangesAdapter;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");

    function getTrackChangesAdapter(appData) {
      return /*#__PURE__*/function () {
        function TrackChangesAdapter(editor) {
          _classCallCheck(this, TrackChangesAdapter);

          this.editor = editor;
        }

        _createClass(TrackChangesAdapter, [{
          key: "init",
          value: function init() {
            var usersPlugin = this.editor.plugins.get('Users');
            var trackChangesPlugin = this.editor.plugins.get('TrackChanges');
            var commentsRepositoryPlugin = this.editor.plugins.get('CommentsRepository'); // Load the users data.

            var _iterator4 = _createForOfIteratorHelper(appData.users),
                _step4;

            try {
              for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {
                var user = _step4.value;
                usersPlugin.addUser(user);
              } // Set the current user.

            } catch (err) {
              _iterator4.e(err);
            } finally {
              _iterator4.f();
            }

            usersPlugin.defineMe(appData.userId); // Set the adapter to the `TrackChanges#adapter` property.

            trackChangesPlugin.adapter = {
              getSuggestion: function getSuggestion(suggestionId) {
                // This function should query the database for data for a suggestion with a `suggestionId`.
                console.log('Get suggestion', suggestionId);
                return new Promise(function (resolve) {
                  resolve(appData.suggestions.find(function (suggestion) {
                    return suggestionId === suggestion.id;
                  }));
                });
              },
              addSuggestion: function addSuggestion(suggestionData) {
                // This function should save `suggestionData` in the database.
                console.log('Suggestion added', suggestionData);
                return Promise.resolve({
                  createdAt: new Date() // Should be set server-side.

                });
              },
              updateSuggestion: function updateSuggestion(id, suggestionData) {
                // This function should update `suggestionData` in the database.
                console.log('Suggestion updated', id, suggestionData);
                return Promise.resolve();
              }
            }; // Track changes uses comments to allow discussing about the suggestions.
            // The comments adapter has to be defined as well.

            commentsRepositoryPlugin.adapter = {
              getCommentThread: function getCommentThread(_ref) {
                var threadId = _ref.threadId;
                // This function should query the database for data for the comment thread with a `commentThreadId`.
                console.log('Get comment thread', threadId);
                return new Promise(function (resolve) {
                  resolve(appData.comments.find(function (comment) {
                    return threadId === comment.threadId;
                  }));
                });
              },
              addComment: function addComment(data) {
                // This function should save `data` in the database.
                console.log('Comment added', data);
                return Promise.resolve({
                  createdAt: new Date() // Should be set server-side.

                });
              },
              updateComment: function updateComment(data) {
                // This function should save `data` in the database.
                console.log('Comment updated', data);
                return Promise.resolve();
              },
              removeComment: function removeComment(data) {
                // This function should remove the comment of a given `data` from the database.
                console.log('Comment removed', data);
                return Promise.resolve();
              },
              removeCommentThread: function removeCommentThread(data) {
                // This function should remove the comment of a given `data` from the database.
                console.log('Comment thread removed', data);
                return Promise.resolve();
              }
            };
          }
        }]);

        return TrackChangesAdapter;
      }();
    }
    /***/

  },

  /***/
  "./src/environments/environment.ts":
  /*!*****************************************!*\
    !*** ./src/environments/environment.ts ***!
    \*****************************************/

  /*! exports provided: environment */

  /***/
  function srcEnvironmentsEnvironmentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "environment", function () {
      return environment;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js"); // This file can be replaced during build by using the `fileReplacements` array.
    // `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
    // The list of file replacements can be found in `angular.json`.


    var environment = {
      production: false
    };
    /*
     * For easier debugging in development mode, you can import the following file
     * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
     *
     * This import should be commented out in production mode because it will have a negative impact
     * on performance if an error is thrown.
     */
    // import 'zone.js/dist/zone-error';  // Included with Angular CLI.

    /***/
  },

  /***/
  "./src/main.ts":
  /*!*********************!*\
    !*** ./src/main.ts ***!
    \*********************/

  /*! no exports provided */

  /***/
  function srcMainTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/platform-browser-dynamic */
    "./node_modules/@angular/platform-browser-dynamic/fesm2015/platform-browser-dynamic.js");
    /* harmony import */


    var _app_app_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! ./app/app.module */
    "./src/app/app.module.ts");
    /* harmony import */


    var _environments_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
    /*! ./environments/environment */
    "./src/environments/environment.ts");

    if (_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].production) {
      Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["enableProdMode"])();
    }

    Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_2__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_3__["AppModule"])["catch"](function (err) {
      return console.error(err);
    });
    /***/
  },

  /***/
  "./vendor/ckeditor5/build/classic-editor-with-track-changes.js":
  /*!*********************************************************************!*\
    !*** ./vendor/ckeditor5/build/classic-editor-with-track-changes.js ***!
    \*********************************************************************/

  /*! no static exports found */

  /***/
  function vendorCkeditor5BuildClassicEditorWithTrackChangesJs(module, exports, __webpack_require__) {
    /*!
     * CKEditor 5 with collaboration features is licensed only under a commercial license and is protected by copyright law.
     * For more details about available licensing options please contact us at https://ckeditor.com/contact/.
     */
    !function (e) {
      var t = e.en = e.en || {};
      t.dictionary = Object.assign(t.dictionary || {}, {
        "*Change to:* %0": "*Change to:* %0",
        "*Check item*": "*Check item*",
        "*Format:* %0": "*Format:* %0",
        "*Indent:* %0": "*Indent:* %0",
        "*Insert:* %0": "*Insert:* %0",
        "*Merge cells*": "*Merge cells*",
        "*Merge:* %0": "*Merge:* %0",
        "*Outdent:* %0": "*Outdent:* %0",
        "*Remove all formatting*": "*Remove all formatting*",
        "*Remove format:* %0": "*Remove format:* %0",
        "*Remove image text alternative*": "*Remove image text alternative*",
        "*Remove link*": "*Remove link*",
        "*Remove:* %0": "*Remove:* %0",
        "*Replace table cells*": "*Replace table cells*",
        "*Reset font background color*": "*Reset font background color*",
        "*Reset font color*": "*Reset font color*",
        "*Reset font family*": "*Reset font family*",
        "*Reset font size*": "*Reset font size*",
        "*Reset image width*": "*Reset image width*",
        "*Set font background color:* %0": "*Set font background color:* %0",
        "*Set font color:* %0": "*Set font color:* %0",
        "*Set font family:* %0": "*Set font family:* %0",
        "*Set font size:* %0": "*Set font size:* %0",
        "*Set image text alternative:* %0": "*Set image text alternative:* %0",
        "*Set image width:* %0": "*Set image width:* %0",
        "*Set link:* %0": "*Set link:* %0",
        "*Split cell:* horizontally": "*Split cell:* horizontally",
        "*Split cell:* vertically": "*Split cell:* vertically",
        "*Split:* %0": "*Split:* %0",
        "*Uncheck item*": "*Uncheck item*",
        "%0 of %1": "%0 of %1",
        "Accept all selected suggestions": "Accept all selected suggestions",
        "Accept all suggestions": "Accept all suggestions",
        "Accept suggestion": "Accept suggestion",
        "Align center": "Align center",
        "Align left": "Align left",
        "Align right": "Align right",
        Anonymous: "Anonymous",
        Aquamarine: "Aquamarine",
        "Are you sure?": "Are you sure?",
        Big: "Big",
        Black: "Black",
        "Block quote": "Block quote",
        Blue: "Blue",
        "Blue marker": "Blue marker",
        Bold: "Bold",
        "Break text": "Break text",
        "Bulleted List": "Bulleted List",
        Cancel: "Cancel",
        "Cannot upload file:": "Cannot upload file:",
        "Centered image": "Centered image",
        "Change image text alternative": "Change image text alternative",
        "Choose heading": "Choose heading",
        Column: "Column",
        Comment: "Comment",
        "Comment editor": "Comment editor",
        "Could not insert image at the current position.": "Could not insert image at the current position.",
        "Could not obtain resized image URL.": "Could not obtain resized image URL.",
        Default: "Default",
        "Delete column": "Delete column",
        "Delete comment thread?": "Delete comment thread?",
        "Delete comment?": "Delete comment?",
        "Delete row": "Delete row",
        "Dim grey": "Dim grey",
        "Discard all selected suggestions": "Discard all selected suggestions",
        "Discard all suggestions": "Discard all suggestions",
        "Discard suggestion": "Discard suggestion",
        Downloadable: "Downloadable",
        "Dropdown toolbar": "Dropdown toolbar",
        Edit: "Edit",
        "Edit block": "Edit block",
        "Edit link": "Edit link",
        "Editor toolbar": "Editor toolbar",
        ELEMENT_BLOCK_QUOTE: "block quote",
        ELEMENT_BULLETED_LIST: "bulleted list",
        ELEMENT_CAPTION: "caption",
        ELEMENT_CODE_BLOCK: ["code block", "%0 code blocks"],
        ELEMENT_HEADING: ["heading (level %1)", "%0 headings (level %1)"],
        ELEMENT_HEADING_CUSTOM: ["heading (%1)", "%0 headings (%1)"],
        ELEMENT_HORIZONTAL_LINE: ["horizontal line", "%0 horizontal lines"],
        ELEMENT_IMAGE: ["image", "%0 images"],
        ELEMENT_INLINE_IMAGE: ["image", "%0 images"],
        ELEMENT_LINE_BREAK: ["line break", "%0 line breaks"],
        ELEMENT_LIST_ITEM: ["list item", "%0 list items"],
        ELEMENT_MEDIA: ["media item", "%0 media items"],
        ELEMENT_NUMBERED_LIST: "numbered list",
        ELEMENT_PAGE_BREAK: ["page break", "%0 page breaks"],
        ELEMENT_PARAGRAPH: ["paragraph", "%0 paragraphs"],
        ELEMENT_SPACE: ["space", "%0 spaces"],
        ELEMENT_TABLE: ["table", "%0 tables"],
        ELEMENT_TABLE_COLUMN: ["table column", "%0 table columns"],
        ELEMENT_TABLE_COLUMN_WITH_TEXT: ["table column *with text* %1", "%0 table columns *with text* %1"],
        ELEMENT_TABLE_ROW: ["table row", "%0 table rows"],
        ELEMENT_TABLE_ROW_WITH_TEXT: ["table row *with text* %1", "%0 table rows *with text* %1"],
        ELEMENT_TABLE_WITH_TEXT: "table *with text* %0",
        ELEMENT_TITLE: "title",
        ELEMENT_TODO_LIST: "to-do list",
        "Enter image caption": "Enter image caption",
        "Font Family": "Font Family",
        "Font Size": "Font Size",
        FORMAT_ALIGN_TO_CENTER: "align to center",
        FORMAT_ALIGN_TO_LEFT: "align to left",
        FORMAT_ALIGN_TO_RIGHT: "align to right",
        FORMAT_BOLD: "bold",
        FORMAT_CODE: "code",
        FORMAT_CUSTOM_HIGHLIGHT: "%0 highlight",
        FORMAT_HEADER_COLUMN: "header column",
        FORMAT_HEADER_ROW: "header row",
        FORMAT_HIGHLIGHT: "highlight",
        FORMAT_ITALIC: "italic",
        FORMAT_JUSTIFY_TEXT: "justify",
        FORMAT_REGULAR_COLUMN: "regular column",
        FORMAT_REGULAR_ROW: "regular row",
        FORMAT_RESTRICTED_DISABLED: "*Disable in restricted editing mode*",
        FORMAT_RESTRICTED_ENABLED: "*Enable in restricted editing mode*",
        FORMAT_SIDE_IMAGE: "side image",
        FORMAT_STRIKETHROUGH: "strikethrough",
        FORMAT_SUBSCRIPT: "subscript",
        FORMAT_SUPERSCRIPT: "superscript",
        FORMAT_UNDERLINE: "underline",
        "Full size image": "Full size image",
        Green: "Green",
        "Green marker": "Green marker",
        "Green pen": "Green pen",
        Grey: "Grey",
        "Header column": "Header column",
        "Header row": "Header row",
        Heading: "Heading",
        "Heading 1": "Heading 1",
        "Heading 2": "Heading 2",
        "Heading 3": "Heading 3",
        "Heading 4": "Heading 4",
        "Heading 5": "Heading 5",
        "Heading 6": "Heading 6",
        Highlight: "Highlight",
        Huge: "Huge",
        "Image resize list": "Image resize list",
        "Image toolbar": "Image toolbar",
        "image widget": "image widget",
        "In line": "In line",
        "Insert column left": "Insert column left",
        "Insert column right": "Insert column right",
        "Insert image": "Insert image",
        "Insert image or file": "Insert image or file",
        "Insert media": "Insert media",
        "Insert paragraph after block": "Insert paragraph after block",
        "Insert paragraph before block": "Insert paragraph before block",
        "Insert row above": "Insert row above",
        "Insert row below": "Insert row below",
        "Insert table": "Insert table",
        "Inserting image failed": "Inserting image failed",
        Italic: "Italic",
        Justify: "Justify",
        "Left aligned image": "Left aligned image",
        "Light blue": "Light blue",
        "Light green": "Light green",
        "Light grey": "Light grey",
        Link: "Link",
        "Link URL": "Link URL",
        "Media URL": "Media URL",
        "media widget": "media widget",
        "Merge cell down": "Merge cell down",
        "Merge cell left": "Merge cell left",
        "Merge cell right": "Merge cell right",
        "Merge cell up": "Merge cell up",
        "Merge cells": "Merge cells",
        Next: "Next",
        No: "No",
        NUMBER_OF_COMMENTS: ["%0 Comment", "%0 Comments"],
        "Numbered List": "Numbered List",
        "Open in a new tab": "Open in a new tab",
        "Open link in new tab": "Open link in new tab",
        Orange: "Orange",
        Original: "Original",
        Paragraph: "Paragraph",
        "Paste the media URL in the input.": "Paste the media URL in the input.",
        PENDING_ACTION_COMMENT_THREAD: "Unsaved change in comment thread.",
        PENDING_ACTION_SUGGESTION: "Unsaved change in suggestion.",
        "Pink marker": "Pink marker",
        Previous: "Previous",
        Purple: "Purple",
        Red: "Red",
        "Red pen": "Red pen",
        Redo: "Redo",
        Remove: "Remove",
        "Remove Format": "Remove Format",
        "Remove highlight": "Remove highlight",
        REPLACE_TEXT: "*Replace:* %0 *with* %1",
        "Reply...": "Reply...",
        "Resize image": "Resize image",
        "Resize image to %0": "Resize image to %0",
        "Resize image to the original size": "Resize image to the original size",
        "Rich Text Editor": "Rich Text Editor",
        "Rich Text Editor, %0": "Rich Text Editor, %0",
        "Right aligned image": "Right aligned image",
        Row: "Row",
        Save: "Save",
        "Select all": "Select all",
        "Select column": "Select column",
        "Select row": "Select row",
        "Selecting resized image failed": "Selecting resized image failed",
        "Show more items": "Show more items",
        "Side image": "Side image",
        Small: "Small",
        "Split cell horizontally": "Split cell horizontally",
        "Split cell vertically": "Split cell vertically",
        Strikethrough: "Strikethrough",
        Submit: "Submit",
        "Table toolbar": "Table toolbar",
        "Text alignment": "Text alignment",
        "Text alignment toolbar": "Text alignment toolbar",
        "Text alternative": "Text alternative",
        "Text highlight toolbar": "Text highlight toolbar",
        "The URL must not be empty.": "The URL must not be empty.",
        "This link has no URL": "This link has no URL",
        "This media URL is not supported.": "This media URL is not supported.",
        Tiny: "Tiny",
        "Tip: Paste the URL into the content to embed faster.": "Tip: Paste the URL into the content to embed faster.",
        "Toggle caption off": "Toggle caption off",
        "Toggle caption on": "Toggle caption on",
        TOO_LONG_COMMENT_ALERT: "Comment content is too long. Your comment has %0 characters but the limit is %1 characters.",
        "Track changes": "Track changes",
        Turquoise: "Turquoise",
        Underline: "Underline",
        Undo: "Undo",
        Unlink: "Unlink",
        "Upload failed": "Upload failed",
        "Upload in progress": "Upload in progress",
        White: "White",
        "Widget toolbar": "Widget toolbar",
        "Wrap text": "Wrap text",
        "Write a comment...": "Write a comment...",
        Yellow: "Yellow",
        "Yellow marker": "Yellow marker",
        Yes: "Yes"
      });
    }(window.CKEDITOR_TRANSLATIONS || (window.CKEDITOR_TRANSLATIONS = {})), function (e, t) {
      true ? module.exports = t() : undefined;
    }(window, function () {
      return function (e) {
        var t = {};

        function n(i) {
          if (t[i]) return t[i].exports;
          var o = t[i] = {
            i: i,
            l: !1,
            exports: {}
          };
          return e[i].call(o.exports, o, o.exports, n), o.l = !0, o.exports;
        }

        return n.m = e, n.c = t, n.d = function (e, t, i) {
          n.o(e, t) || Object.defineProperty(e, t, {
            enumerable: !0,
            get: i
          });
        }, n.r = function (e) {
          "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
          }), Object.defineProperty(e, "__esModule", {
            value: !0
          });
        }, n.t = function (e, t) {
          if (1 & t && (e = n(e)), 8 & t) return e;
          if (4 & t && "object" == typeof e && e && e.__esModule) return e;
          var i = Object.create(null);
          if (n.r(i), Object.defineProperty(i, "default", {
            enumerable: !0,
            value: e
          }), 2 & t && "string" != typeof e) for (var o in e) {
            n.d(i, o, function (t) {
              return e[t];
            }.bind(null, o));
          }
          return i;
        }, n.n = function (e) {
          var t = e && e.__esModule ? function () {
            return e["default"];
          } : function () {
            return e;
          };
          return n.d(t, "a", t), t;
        }, n.o = function (e, t) {
          return Object.prototype.hasOwnProperty.call(e, t);
        }, n.p = "", n(n.s = 215);
      }([function (e, t, n) {
        "use strict";

        n.d(t, "a", function () {
          return o;
        }), n.d(t, "b", function () {
          return r;
        });
        var i = "https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html";

        var o = /*#__PURE__*/function (_Error) {
          _inherits(o, _Error);

          var _super = _createSuper(o);

          function o(e, t, n) {
            var _this;

            _classCallCheck(this, o);

            _this = _super.call(this, function (e, t) {
              var n = new WeakSet(),
                  i = t ? " ".concat(JSON.stringify(t, function (e, t) {
                if ("object" == typeof t && null !== t) {
                  if (n.has(t)) return "[object ".concat(t.constructor.name, "]");
                  n.add(t);
                }

                return t;
              })) : "",
                  o = s(e);
              return e + i + o;
            }(e, n)), _this.name = "CKEditorError", _this.context = t, _this.data = n;
            return _this;
          }

          _createClass(o, [{
            key: "is",
            value: function is(e) {
              return "CKEditorError" === e;
            }
          }], [{
            key: "rethrowUnexpectedError",
            value: function rethrowUnexpectedError(e, t) {
              if (e.is && e.is("CKEditorError")) throw e;
              var n = new o(e.message, t);
              throw n.stack = e.stack, n;
            }
          }]);

          return o;
        }( /*#__PURE__*/_wrapNativeSuper(Error));

        function r(e, t) {
          var _console;

          (_console = console).warn.apply(_console, _toConsumableArray(a(e, t)));
        }

        function s(e) {
          return "\nRead more: ".concat(i, "#error-").concat(e);
        }

        function a(e, t) {
          var n = s(e);
          return t ? [e, t, n] : [e, n];
        }
      }, function (e, t, n) {
        "use strict";

        var i = function () {
          var e;
          return function () {
            return void 0 === e && (e = Boolean(window && document && document.all && !window.atob)), e;
          };
        }(),
            o = function () {
          var e = {};
          return function (t) {
            if (void 0 === e[t]) {
              var n = document.querySelector(t);
              if (window.HTMLIFrameElement && n instanceof window.HTMLIFrameElement) try {
                n = n.contentDocument.head;
              } catch (e) {
                n = null;
              }
              e[t] = n;
            }

            return e[t];
          };
        }(),
            r = [];

        function s(e) {
          for (var t = -1, n = 0; n < r.length; n++) {
            if (r[n].identifier === e) {
              t = n;
              break;
            }
          }

          return t;
        }

        function a(e, t) {
          for (var n = {}, i = [], o = 0; o < e.length; o++) {
            var a = e[o],
                c = t.base ? a[0] + t.base : a[0],
                l = n[c] || 0,
                d = "".concat(c, " ").concat(l);
            n[c] = l + 1;
            var u = s(d),
                h = {
              css: a[1],
              media: a[2],
              sourceMap: a[3]
            };
            -1 !== u ? (r[u].references++, r[u].updater(h)) : r.push({
              identifier: d,
              updater: g(h, t),
              references: 1
            }), i.push(d);
          }

          return i;
        }

        function c(e) {
          var t = document.createElement("style"),
              i = e.attributes || {};

          if (void 0 === i.nonce) {
            var r = n.nc;
            r && (i.nonce = r);
          }

          if (Object.keys(i).forEach(function (e) {
            t.setAttribute(e, i[e]);
          }), "function" == typeof e.insert) e.insert(t);else {
            var s = o(e.insert || "head");
            if (!s) throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
            s.appendChild(t);
          }
          return t;
        }

        var l = function () {
          var e = [];
          return function (t, n) {
            return e[t] = n, e.filter(Boolean).join("\n");
          };
        }();

        function d(e, t, n, i) {
          var o = n ? "" : i.media ? "@media ".concat(i.media, " {").concat(i.css, "}") : i.css;
          if (e.styleSheet) e.styleSheet.cssText = l(t, o);else {
            var r = document.createTextNode(o),
                s = e.childNodes;
            s[t] && e.removeChild(s[t]), s.length ? e.insertBefore(r, s[t]) : e.appendChild(r);
          }
        }

        var u = null,
            h = 0;

        function g(e, t) {
          var n, i, o;

          if (t.singleton) {
            var r = h++;
            n = u || (u = c(t)), i = d.bind(null, n, r, !1), o = d.bind(null, n, r, !0);
          } else n = c(t), i = function (e, t, n) {
            var i = n.css,
                o = n.media,
                r = n.sourceMap;
            if (o ? e.setAttribute("media", o) : e.removeAttribute("media"), r && "undefined" != typeof btoa && (i += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r)))), " */")), e.styleSheet) e.styleSheet.cssText = i;else {
              for (; e.firstChild;) {
                e.removeChild(e.firstChild);
              }

              e.appendChild(document.createTextNode(i));
            }
          }.bind(null, n, t), o = function o() {
            !function (e) {
              if (null === e.parentNode) return !1;
              e.parentNode.removeChild(e);
            }(n);
          };

          return i(e), function (t) {
            if (t) {
              if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap) return;
              i(e = t);
            } else o();
          };
        }

        e.exports = function (e, t) {
          (t = t || {}).singleton || "boolean" == typeof t.singleton || (t.singleton = i());
          var n = a(e = e || [], t);
          return function (e) {
            if (e = e || [], "[object Array]" === Object.prototype.toString.call(e)) {
              for (var i = 0; i < n.length; i++) {
                var o = s(n[i]);
                r[o].references--;
              }

              for (var c = a(e, t), l = 0; l < n.length; l++) {
                var d = s(n[l]);
                0 === r[d].references && (r[d].updater(), r.splice(d, 1));
              }

              n = c;
            }
          };
        };
      },, function (e, t, n) {
        "use strict";

        var i = n(8),
            o = "object" == typeof self && self && self.Object === Object && self,
            r = i.a || o || Function("return this")();
        t.a = r;
      }, function (e, t, n) {
        "use strict";

        (function (e) {
          var i = n(3),
              o = n(22),
              r = true && exports && !exports.nodeType && exports,
              s = r && "object" == typeof e && e && !e.nodeType && e,
              a = s && s.exports === r ? i.a.Buffer : void 0,
              c = (a ? a.isBuffer : void 0) || o.a;
          t.a = c;
        }).call(this, n(14)(e));
      }, function (e, t, n) {
        "use strict";

        (function (e) {
          var i = n(8),
              o = true && exports && !exports.nodeType && exports,
              r = o && "object" == typeof e && e && !e.nodeType && e,
              s = r && r.exports === o && i.a.process,
              a = function () {
            try {
              var e = r && r.require && r.require("util").types;

              return e || s && s.binding && s.binding("util");
            } catch (e) {}
          }();

          t.a = a;
        }).call(this, n(14)(e));
      }, function (e, t, n) {
        "use strict";

        (function (e) {
          var t = n(0);
          var i = "object" == typeof window ? window : e;
          if (i.CKEDITOR_VERSION) throw new t.a("ckeditor-duplicated-modules", null);
          i.CKEDITOR_VERSION = "31.0.0";
        }).call(this, n(18));
      }, function (e, t, n) {
        var i = n(1),
            o = n(183);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t, n) {
        "use strict";

        (function (e) {
          var n = "object" == typeof e && e && e.Object === Object && e;
          t.a = n;
        }).call(this, n(18));
      }, function (e, t, n) {
        "use strict";

        (function (e) {
          var i = n(3),
              o = true && exports && !exports.nodeType && exports,
              r = o && "object" == typeof e && e && !e.nodeType && e,
              s = r && r.exports === o ? i.a.Buffer : void 0,
              a = s ? s.allocUnsafe : void 0;

          t.a = function (e, t) {
            if (t) return e.slice();
            var n = e.length,
                i = a ? a(n) : new e.constructor(n);
            return e.copy(i), i;
          };
        }).call(this, n(14)(e));
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';
      }, function (e, t) {
        e.exports = '\x3c!--\n\n What you\'re currently looking at is the source code of a legally protected, proprietary software.\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\n\n Copyright (c) 2003-2021, CKSource Frederico Knabben. All rights reserved.\n\n!--\x3e\n\n<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 1.5h12A3.5 3.5 0 0 1 19.5 5v8l-.005.192a3.501 3.501 0 0 1-2.927 3.262l-.062.008v1.813a1.5 1.5 0 0 1-2.193 1.33l-.371-.193-.38-.212a13.452 13.452 0 0 1-3.271-2.63l-.062-.07H4A3.5 3.5 0 0 1 .5 13V5A3.5 3.5 0 0 1 4 1.5ZM4 3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h6.924a11.916 11.916 0 0 0 3.71 3.081l.372.194v-3.268L14.962 15H16a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H4Zm1.55 5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5Zm4.5 0a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5Zm4.5 0a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5Z"/></svg>\n';
      }, function (e, t) {
        e.exports = function (e) {
          if (!e.webpackPolyfill) {
            var t = Object.create(e);
            t.children || (t.children = []), Object.defineProperty(t, "loaded", {
              enumerable: !0,
              get: function get() {
                return t.l;
              }
            }), Object.defineProperty(t, "id", {
              enumerable: !0,
              get: function get() {
                return t.i;
              }
            }), Object.defineProperty(t, "exports", {
              enumerable: !0
            }), t.webpackPolyfill = 1;
          }

          return t;
        };
      }, function (e, t, n) {
        var i = n(1),
            o = n(184);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';
      }, function (e, t) {
        var n;

        n = function () {
          return this;
        }();

        try {
          n = n || new Function("return this")();
        } catch (e) {
          "object" == typeof window && (n = window);
        }

        e.exports = n;
      }, function (e, t, n) {
        var i = n(1),
            o = n(156);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t, n) {
        var i = n(1),
            o = n(157);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t, n) {
        var i = n(1),
            o = n(178);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t, n) {
        "use strict";

        t.a = function () {
          return !1;
        };
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';
      }, function (e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';
      }, function (e, t) {
        e.exports = '\x3c!--\n\n What you\'re currently looking at is the source code of a legally protected, proprietary software.\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\n\n Copyright (c) 2003-2021, CKSource Frederico Knabben. All rights reserved.\n\n!--\x3e\n\n<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.2 7h9.2c.6 0 1 .4 1 1v9.9c0 .5-.4 1-1 1H5.2a1 1 0 0 1-1-1V8c0-.6.4-1 1-1zm1 1.5c-.3 0-.5.2-.5.5v8c0 .3.2.5.5.5h.5c.2 0 .5-.2.5-.5V9c0-.3-.3-.5-.5-.5h-.5zm3.2 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5h-.4zm3.5 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5h-.5zm-1.4-7.1H8.3L6.5 3.6H3.8c-.5 0-.7.3-.7.8s.2.7.7.7h12c.6 0 .9-.2.9-.7 0-.5-.3-.8-1-.8h-2.4l-1.8-2.2z"/></svg>\n';
      }, function (e, t) {
        e.exports = '\x3c!--\n\n What you\'re currently looking at is the source code of a legally protected, proprietary software.\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\n\n Copyright (c) 2003-2021, CKSource Frederico Knabben. All rights reserved.\n\n!--\x3e\n\n<svg viewBox="0 0 20 20" width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="nonzero"><path d="M1 3.28C1 2.574 1.574 2 2.272 2h10.23c.703 0 1.272.573 1.272 1.28v12.768c0 .708-.574 1.281-1.271 1.281H2.272A1.276 1.276 0 0 1 1 16.049V3.28zm11.503 12.954c-.008 0-.006-12.77-.006-12.77 0-.003-10.225-.004-10.225-.004.007 0 .005 12.77.005 12.77 0 .003 10.226.004 10.226.004zm-8.31-9.58c0-.353.292-.64.636-.64h5.116c.351 0 .636.284.636.64a.641.641 0 0 1-.636.638H4.829a.636.636 0 0 1-.635-.639zm0 2.554c0-.352.292-.638.636-.638h5.116c.351 0 .636.283.636.638a.641.641 0 0 1-.636.639H4.829a.636.636 0 0 1-.635-.639zm0 2.555c0-.353.289-.639.633-.639h2.567c.35 0 .633.284.633.64a.639.639 0 0 1-.633.638H4.826a.634.634 0 0 1-.632-.639z"/><path d="M10.515 17.958l.154-.23c-.195-.099-.304-.193-.328-.28-.024-.09.001-.275.076-.552.062-.165.099-.296.111-.393.013-.159.013-.319 0-.478-.138-.41-.2-.686-.187-.83.013-.145.117-.335.313-.57l4.465-6.208c.356-.6 1.059-.56 2.11.119 1.051.68 1.443 1.271 1.177 1.771L14.53 17.14c-.105.271-.22.444-.347.516-.128.07-.399.118-.813.138a2.954 2.954 0 0 0-.487.21 2.044 2.044 0 0 0-.347.31c-.193.174-.332.262-.416.262-.064 0-.178-.05-.346-.15l-.204.27-1.056-.738h.001zm-.184.274l1.039.727-.259.34H9.614l.717-1.067z"/></g></svg>\n';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59 3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="m2.556 16.727.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415 1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5 9.59 17h9.406v1.5H8.245z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268 2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="m4.5 18.088-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5 9.59 17h9.406v1.5H8.245z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>';
      }, function (e, t) {
        e.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>';
      }, function (e, t, n) {
        var i = n(1),
            o = n(81);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck.ck-editor__editable span[data-ck-hidden]{display:none}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(83);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-color-link-fake-selection:rgba(31,177,255,0.3);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(85);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(87);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = '.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s,.ck.ck-tooltip.ck-tooltip_se,.ck.ck-tooltip.ck-tooltip_sw{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{top:calc(var(--ck-tooltip-arrow-size)*-1 + 1px);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_sw{right:50%;left:auto}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text{left:auto;right:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{left:auto;right:0}.ck.ck-tooltip.ck-tooltip_se{left:50%;right:auto}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text{right:auto;left:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after{right:auto;left:0;transform:translateX(50%)}.ck.ck-tooltip.ck-tooltip_n{top:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_e{left:calc(100% + var(--ck-tooltip-arrow-size));top:50%}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text:after{left:calc(var(--ck-tooltip-arrow-size)*-1);top:calc(50% - var(--ck-tooltip-arrow-size)*1);border-left-color:transparent;border-bottom-color:transparent;border-right-color:var(--ck-color-tooltip-background);border-top-color:transparent;border-left-width:0;border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_w{right:calc(100% + var(--ck-tooltip-arrow-size));left:auto;top:50%}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text:after{left:100%;top:calc(50% - var(--ck-tooltip-arrow-size)*1);border-left-color:var(--ck-color-tooltip-background);border-bottom-color:transparent;border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:0;border-top-width:var(--ck-tooltip-arrow-size)}';
      }, function (e, t, n) {
        var i = n(1),
            o = n(89);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(var(--ck-spacing-small)*-1);margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(91);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - var(--ck-switch-button-toggle-spacing)*2)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*0.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var(--ck-switch-button-translation)*-1))}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(93);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#000}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{width:var(--ck-color-grid-tile-size);height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{display:none;color:var(--ck-color-color-grid-check-icon)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(95);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = '.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{content:"";position:absolute;width:1px;height:100%;background-color:var(--ck-color-split-button-hover-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}';
      }, function (e, t, n) {
        var i = n(1),
            o = n(97);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);max-width:var(--ck-dropdown-max-width);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(99);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;background:var(--ck-color-toolbar-border);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(101);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(var(--ck-line-height-base)*0.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(103);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{width:max-content;max-width:var(--ck-toolbar-dropdown-max-width)}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(105);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(107);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(109);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(111);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck.ck-form__header{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{padding:var(--ck-spacing-small) var(--ck-spacing-large);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-form__header .ck-form__header__label{font-weight:700}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(113);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(115);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{pointer-events:none;transform-origin:0 0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);background:var(--ck-color-labeled-field-label-background);padding:0 calc(var(--ck-font-size-tiny)*0.5);line-height:normal;font-weight:400;text-overflow:ellipsis;overflow:hidden;max-width:100%;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-spacing-medium),calc(var(--ck-font-size-base)*0.6)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-spacing-medium)*-1),calc(var(--ck-font-size-base)*0.6)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));background:transparent;padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(117);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border);filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}';
      }, function (e, t, n) {
        var i = n(1),
            o = n(119);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(121);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(123);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(125);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(127);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck.ck-placeholder,.ck .ck-placeholder{position:relative}.ck.ck-placeholder:before,.ck .ck-placeholder:before{position:absolute;left:0;right:0;content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(129);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(131);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ":root{--ck-user-colors--0:#6d78e8;--ck-user-colors--0-alpha:rgba(109,120,232,0.15);--ck-user-colors--1:#007a6c;--ck-user-colors--1-alpha:rgba(0,122,108,0.15);--ck-user-colors--2:#ba4545;--ck-user-colors--2-alpha:rgba(186,69,69,0.15);--ck-user-colors--3:#5635b1;--ck-user-colors--3-alpha:rgba(86,53,177,0.15);--ck-user-colors--4:#548a2e;--ck-user-colors--4-alpha:rgba(84,138,46,0.15);--ck-user-colors--5:#c3185d;--ck-user-colors--5-alpha:rgba(195,24,93,0.15);--ck-user-colors--6:#ea4343;--ck-user-colors--6-alpha:rgba(234,67,67,0.15);--ck-user-colors--7:#0bc3d0;--ck-user-colors--7-alpha:rgba(11,195,208,0.15);--ck-user-dot-size:6px}.ck .ck-user__color--0{color:var(--ck-user-colors--0)}.ck .ck-user__bg-color--0{background-color:var(--ck-user-colors--0)}.ck .ck-user__selection--0{background-color:var(--ck-user-colors--0-alpha)}.ck .ck-user__selection--0.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--0)}.ck .ck-user__marker--0,.ck .ck-user__marker--0 .ck-user__marker-dot,.ck .ck-user__marker--0:after{background-color:var(--ck-user-colors--0)}.ck .ck-user__marker--0 .ck-user__marker-line{border:1px solid var(--ck-user-colors--0)}.ck .ck-user__color--1{color:var(--ck-user-colors--1)}.ck .ck-user__bg-color--1{background-color:var(--ck-user-colors--1)}.ck .ck-user__selection--1{background-color:var(--ck-user-colors--1-alpha)}.ck .ck-user__selection--1.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--1)}.ck .ck-user__marker--1,.ck .ck-user__marker--1 .ck-user__marker-dot,.ck .ck-user__marker--1:after{background-color:var(--ck-user-colors--1)}.ck .ck-user__marker--1 .ck-user__marker-line{border:1px solid var(--ck-user-colors--1)}.ck .ck-user__color--2{color:var(--ck-user-colors--2)}.ck .ck-user__bg-color--2{background-color:var(--ck-user-colors--2)}.ck .ck-user__selection--2{background-color:var(--ck-user-colors--2-alpha)}.ck .ck-user__selection--2.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--2)}.ck .ck-user__marker--2,.ck .ck-user__marker--2 .ck-user__marker-dot,.ck .ck-user__marker--2:after{background-color:var(--ck-user-colors--2)}.ck .ck-user__marker--2 .ck-user__marker-line{border:1px solid var(--ck-user-colors--2)}.ck .ck-user__color--3{color:var(--ck-user-colors--3)}.ck .ck-user__bg-color--3{background-color:var(--ck-user-colors--3)}.ck .ck-user__selection--3{background-color:var(--ck-user-colors--3-alpha)}.ck .ck-user__selection--3.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--3)}.ck .ck-user__marker--3,.ck .ck-user__marker--3 .ck-user__marker-dot,.ck .ck-user__marker--3:after{background-color:var(--ck-user-colors--3)}.ck .ck-user__marker--3 .ck-user__marker-line{border:1px solid var(--ck-user-colors--3)}.ck .ck-user__color--4{color:var(--ck-user-colors--4)}.ck .ck-user__bg-color--4{background-color:var(--ck-user-colors--4)}.ck .ck-user__selection--4{background-color:var(--ck-user-colors--4-alpha)}.ck .ck-user__selection--4.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--4)}.ck .ck-user__marker--4,.ck .ck-user__marker--4 .ck-user__marker-dot,.ck .ck-user__marker--4:after{background-color:var(--ck-user-colors--4)}.ck .ck-user__marker--4 .ck-user__marker-line{border:1px solid var(--ck-user-colors--4)}.ck .ck-user__color--5{color:var(--ck-user-colors--5)}.ck .ck-user__bg-color--5{background-color:var(--ck-user-colors--5)}.ck .ck-user__selection--5{background-color:var(--ck-user-colors--5-alpha)}.ck .ck-user__selection--5.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--5)}.ck .ck-user__marker--5,.ck .ck-user__marker--5 .ck-user__marker-dot,.ck .ck-user__marker--5:after{background-color:var(--ck-user-colors--5)}.ck .ck-user__marker--5 .ck-user__marker-line{border:1px solid var(--ck-user-colors--5)}.ck .ck-user__color--6{color:var(--ck-user-colors--6)}.ck .ck-user__bg-color--6{background-color:var(--ck-user-colors--6)}.ck .ck-user__selection--6{background-color:var(--ck-user-colors--6-alpha)}.ck .ck-user__selection--6.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--6)}.ck .ck-user__marker--6,.ck .ck-user__marker--6 .ck-user__marker-dot,.ck .ck-user__marker--6:after{background-color:var(--ck-user-colors--6)}.ck .ck-user__marker--6 .ck-user__marker-line{border:1px solid var(--ck-user-colors--6)}.ck .ck-user__color--7{color:var(--ck-user-colors--7)}.ck .ck-user__bg-color--7{background-color:var(--ck-user-colors--7)}.ck .ck-user__selection--7{background-color:var(--ck-user-colors--7-alpha)}.ck .ck-user__selection--7.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--7)}.ck .ck-user__marker--7,.ck .ck-user__marker--7 .ck-user__marker-dot,.ck .ck-user__marker--7:after{background-color:var(--ck-user-colors--7)}.ck .ck-user__marker--7 .ck-user__marker-line{border:1px solid var(--ck-user-colors--7)}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(133);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = '.ck .ck-widget .ck-widget__type-around__button{display:block;position:absolute;overflow:hidden;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{position:absolute;top:50%;left:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{top:calc(var(--ck-widget-outline-thickness)*-0.5);left:min(10%,30px);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-0.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;position:absolute;top:1px;left:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;position:absolute;left:0;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{top:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{width:var(--ck-widget-type-around-button-size);height:var(--ck-widget-type-around-button-size);background:var(--ck-color-widget-type-around-button);border-radius:100px;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);opacity:0;pointer-events:none}.ck .ck-widget .ck-widget__type-around__button svg{width:10px;height:8px;transform:translate(-50%,-50%);transition:transform .5s ease;margin-top:1px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{width:calc(var(--ck-widget-type-around-button-size) - 2px);height:calc(var(--ck-widget-type-around-button-size) - 2px);border-radius:100px;background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3))}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{pointer-events:none;height:1px;animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;outline:1px solid hsla(0,0%,100%,.5);background:var(--ck-color-base-text)}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}';
      }, function (e, t, n) {
        var i = n(1),
            o = n(135);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:0 var(--ck-spacing-small);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{top:calc(var(--ck-resizer-tooltip-height)*-1);left:50%;transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness));top:0}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(137);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = '.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;position:relative;pointer-events:none}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);top:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);border:1px solid var(--ck-clipboard-drop-target-color);background:var(--ck-clipboard-drop-target-color);margin-left:-1px}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{content:"";width:0;height:0;display:block;position:absolute;left:50%;top:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);transform:translateX(-50%);border-left:calc(var(--ck-clipboard-drop-target-dot-width)*0.5) solid transparent;border-bottom:0 solid transparent;border-right:calc(var(--ck-clipboard-drop-target-dot-width)*0.5) solid transparent;border-top:calc(var(--ck-clipboard-drop-target-dot-height)) solid var(--ck-clipboard-drop-target-color)}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}';
      }, function (e, t, n) {
        var i = n(1),
            o = n(139);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ":root{--ck-user-avatar-size:40px;--ck-user-avatar-background:#3670ab;--ck-user-avatar-color:#fff}.ck.ck-user{display:flex;justify-content:center;align-items:center;position:relative;border-radius:50%;overflow:hidden;background-color:var(--ck-user-avatar-background);height:var(--ck-user-avatar-size);width:var(--ck-user-avatar-size);min-width:var(--ck-user-avatar-size);min-height:var(--ck-user-avatar-size)}.ck.ck-user__name{color:var(--ck-user-avatar-color);cursor:default;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-user__name.ck-user__name--hidden{display:none}.ck.ck-user__img{display:none;width:inherit;height:inherit;background-position:50%;background-repeat:no-repeat;background-size:cover;background-color:var(--ck-user-avatar-background);border-radius:50%;border:2px solid var(--ck-user-avatar-background)}.ck.ck-user__img.ck-user__anonymous{display:block;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3E%3Cpath fill='%23FFF' d='M9.8 20H2c0-5.7 5-5.7 6-7l.2-.8c-1.6-.8-2.7-2.7-2.7-5 0-2.8 2-5.2 4.3-5.2S14 4.4 14 7.3c0 2.2-1 4-2.6 5l.2.6c1.2 1.3 6 1.4 6 7H9.8z'/%3E%3C/svg%3E\")}.ck.ck-user__img.ck-user__anonymous+.ck-user__name{display:none}.ck.ck-user__img.ck-user__avatar{display:block;background-color:#fff}.ck.ck-user__img.ck-user__img--hidden{display:none}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(141);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ':root{--ck-color-comment-background:#f3f7fb;--ck-color-comment-separator:#cddeef;--ck-color-comment-remove-background:#fcc;--ck-color-comment-input-background:var(--ck-color-comment-background)}.ck .ck-comment__wrapper{font-size:var(--ck-font-size-base);position:relative;outline:0;transition:all .3s linear}.ck .ck-comment__wrapper.ck-comment--remove-confirmation{transform:translate3d(-100%,0,0)}.ck .ck-comment__wrapper:first-of-type{border-top-right-radius:var(--ck-border-radius);border-top-left-radius:var(--ck-border-radius)}.ck .ck-comment:after{content:"";display:block;position:absolute;opacity:1;top:calc(var(--ck-user-avatar-size) + var(--ck-spacing-small));left:calc(var(--ck-spacing-standard) + var(--ck-user-avatar-size)/2 - 2px);width:4px;height:100%;background-color:var(--ck-color-comment-separator)}.ck .ck-comment--remove{background-color:var(--ck-color-comment-remove-background)}.ck .ck-comment--remove:after{opacity:0}.ck .ck-comment--edit{background-color:var(--ck-color-comment-input-background)}.ck .ck-comment--edit:after{opacity:0}.ck .ck-comment__main .ck-comment__input-wrapper{display:flex;flex-direction:column;position:relative;transition:all .3s linear}.ck .ck-comment__main .ck-comment__input-wrapper .ck-comment__input{padding:0}.ck .ck-comment__content{word-break:break-word}.ck .ck-comment__user{z-index:var(--ck-z-default)}.ck-comment__input-actions .ck.ck-button.ck-comment__input-actions--submit{color:var(--ck-color-button-save)}.ck-comment__input-actions .ck.ck-button.ck-comment__input-actions--cancel{color:var(--ck-color-button-cancel)}.ck .ck-comment__input p,.ck .ck-comment p{margin:0}.ck .ck-comment__input ol,.ck .ck-comment__input ul,.ck .ck-comment ol,.ck .ck-comment ul{padding-left:10px;margin-left:10px}.ck .ck-comment__input ul,.ck .ck-comment ul{list-style:disc;margin-bottom:5px;margin-top:0}.ck .ck-comment__input ul ul,.ck .ck-comment ul ul{list-style:circle}.ck .ck-comment__input ul ul ul,.ck .ck-comment ul ul ul{list-style:square}';
      }, function (e, t, n) {
        var i = n(1),
            o = n(143);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ':root{--ck-color-thread-remove-background:var(--ck-color-comment-remove-background);--ck-color-comment-count:#5891ca}.ck .ck-thread{width:100%;color:var(--ck-color-base-text);outline:0;background-color:var(--ck-color-base-background);overflow:hidden;transition:all .3s ease;border-radius:var(--ck-border-radius)}.ck .ck-thread__comments .ck-comment__wrapper:last-of-type .ck-comment:after{opacity:0}.ck .ck-thread__container{transition:transform .3s ease}.ck .ck-thread__comments{position:relative;z-index:var(--ck-z-default);list-style:none;margin:0;padding:0;border-radius:var(--ck-border-radius);overflow:hidden}.ck .ck-thread__comment-count{--ck-user-avatar-size:28px;padding-left:calc(var(--ck-user-avatar-size) + var(--ck-spacing-standard)*2);color:var(--ck-color-comment-count);font-size:var(--ck-font-size-base);font-weight:700;cursor:pointer;transition:background-color .3s ease}.ck .ck-thread__comment-count:before{content:"\\25BC";margin-right:var(--ck-spacing-small)}.ck .ck-thread--active .ck-comment__options.ck-dropdown{display:block}.ck .ck-thread--active .ck-thread__input{display:block;background-color:var(--ck-color-comment-background)}.ck .ck-thread--remove .ck-comment{background-color:var(--ck-color-comment-remove-background)}.ck .ck-thread--remove .ck-thread__input--active{background-color:var(--ck-color-base-background)}.ck .ck-thread--remove .ck-thread__comment-count,.ck .ck-thread--remove .ck-thread__input--active.ck-thread__input{background-color:var(--ck-color-comment-remove-background)}.ck .ck-thread--remove .ck-comment__wrapper .ck-comment:after{opacity:0}.ck .ck-thread--remove-confirmation .ck-thread__container{transform:translate3d(-100%,0,0)}.ck.ck-button.ck-thread__remove-confirm-submit{color:var(--ck-color-button-save)}.ck.ck-button.ck-thread__remove-confirm-cancel{color:var(--ck-color-button-cancel)}.ck .ck-thread__remove-confirm{font-size:var(--ck-font-size-base);position:absolute;display:flex;justify-content:flex-start;top:0;left:100%;width:100%;height:100%;background-color:var(--ck-color-comment-remove-background)}.ck .ck-thread__remove-confirm .ck-thread__remove-confirm-inner{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:var(--ck-spacing-standard);height:100%;width:100%;max-height:400px}.ck .ck-thread__remove-confirm p{font-weight:700;margin:0}.ck .ck-thread__input{width:calc(100% - var(--ck-user-avatar-size));transition:background-color .2s ease-in-out;border-radius:var(--ck-border-radius)}';
      }, function (e, t, n) {
        var i = n(1),
            o = n(145);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck .ck-comment__input-container{--ck-user-avatar-size:28px;font-size:var(--ck-font-size-base);display:none;padding:var(--ck-spacing-standard);background:var(--ck-color-comment-background)}.ck .ck-comment__input-container--active{display:flex}.ck .ck-comment__input{padding:var(--ck-spacing-standard);padding-top:var(--ck-spacing-medium);color:var(--ck-color-base-text);border-width:0;resize:none;background-color:transparent;transition:color .3s ease-in-out}.ck .ck-comment__input:focus{outline:none}.ck .ck-comment__input .ck-editor__editable_inline{--ck-focus-ring:none;--ck-inner-shadow:none;padding:0;overflow:visible;border:0;background-color:transparent;word-break:break-word}.ck-comment__input-wrapper .ck.ck-editor__editable_inline :first-child{margin-top:0}.ck-comment__input-wrapper .ck.ck-editor__editable_inline :last-child{margin-bottom:0}.ck .ck-comment__input-actions{width:100%;text-align:right;display:none}.ck .ck-comment__input-actions.ck-comment__input-actions--active{display:block}.ck .ck-comment__input-actions .ck-button{background-color:transparent;min-width:unset;min-height:unset;cursor:pointer;color:var(--ck-color-annotations-icon);border-radius:var(--ck-border-radius);font-size:var(--ck-annotation-button-size)}.ck .ck-comment__input-actions .ck-button.ck-disabled{opacity:.3}.ck .ck-comment__input-textarea{display:block}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(147);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ":root{--ck-color-annotation-icon:grey;--ck-color-annotation-info:#757575;--ck-annotation-button-size:0.85em}.ck .ck-annotation{--ck-user-avatar-size:28px;font-size:var(--ck-font-size-base);display:flex;position:relative;animation:fadeInLeft .3s;transition:background-color .3s ease;padding:var(--ck-spacing-standard)}.ck .ck-annotation .ck-button{background-color:transparent;min-width:unset;min-height:unset;cursor:pointer;color:var(--ck-color-annotation-icon);border-radius:var(--ck-border-radius);font-size:var(--ck-annotation-button-size)}.ck .ck-annotation__main{display:flex;flex-wrap:wrap;justify-content:space-between;width:calc(100% - var(--ck-user-avatar-size));transition:all .2s ease;border-radius:var(--ck-border-radius);padding-left:var(--ck-spacing-standard)}.ck .ck-annotation__main p{margin:0;white-space:normal;font-size:var(--ck-font-size-base);line-height:1.5em}.ck .ck-annotation__user{margin-top:var(--ck-spacing-small)}.ck .ck-annotation__info{display:flex;align-items:center;color:var(--ck-color-annotation-info);min-height:2.4em}.ck .ck-annotation__info-name,.ck .ck-annotation__info-time{font-weight:700;max-width:150px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--ck-color-annotation-info);font-size:var(--ck-font-size-small)}.ck .ck-annotation__info-time{margin-left:var(--ck-spacing-large)}.ck .ck-annotation__actions{transition:opacity .2s ease;opacity:.5}.ck .ck-annotation__content-wrapper{width:100%}@keyframes fadeInLeft{0%{transform:translate3d(-5%,0,0);opacity:0}to{transform:translateZ(0);opacity:1}}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(149);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ":root{--ck-color-comment-marker:#fef7a9;--ck-color-comment-marker-active:#fdf05d}.ck-comment-marker{background:var(--ck-color-comment-marker);border-top:3px solid transparent;border-bottom:3px solid transparent}.ck-comment-marker.ck-widget{background-color:transparent;border:3px solid var(--ck-color-comment-marker)}.ck-comment-marker--active{background:var(--ck-color-comment-marker-active)}.ck-comment-marker--active.ck-widget{border-color:var(--ck-color-comment-marker-active)}.ck-comment-marker--active.ck-widget .ck-comment-marker{background-color:var(--ck-color-comment-marker)}.ck-comment-marker--active .ck-comment-marker{background:var(--ck-color-comment-marker-active)}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(151);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ":root{--ck-color-annotation-wrapper-background:#fff;--ck-color-annotation-wrapper-drop-shadow:0 1px 1px 1px #e6e6e6}.ck.ck-sidebar{position:relative;transition:min-height .25s ease;outline:0}.ck-sidebar-item{position:absolute;width:100%;transition:top .3s ease,box-shadow .3s ease}.ck-sidebar-item--no-animation{transition:top 0s ease!important}.ck.ck-annotation-wrapper{outline:0;border-radius:var(--ck-border-radius);background:var(--ck-color-annotation-wrapper-background);box-shadow:var(--ck-color-annotation-wrapper-drop-shadow)}.ck.ck-annotation-wrapper:not(.ck-annotation-wrapper--active):hover{box-shadow:var(--ck-drop-shadow)}.ck.ck-annotation-wrapper--active{box-shadow:var(--ck-drop-shadow-active)}.ck.ck-annotation-wrapper--active .ck-annotation__actions,.ck.ck-annotation-wrapper:hover .ck-annotation__actions{opacity:1}.ck.ck-annotation-wrapper--active .ck-suggestion--accept,.ck.ck-annotation-wrapper:hover .ck-suggestion--accept{color:var(--ck-color-button-save)}.ck.ck-annotation-wrapper--active .ck-suggestion--discard,.ck.ck-annotation-wrapper:hover .ck-suggestion--discard{color:var(--ck-color-button-cancel)}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(153);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ":root{--ck-annotation-counter-icon-size:16px;--ck-annotation-counter-number-size:10px;--ck-color-annotation-counter-comment:#f2de02;--ck-color-annotation-counter-suggestion-insertion:#5ad86b;--ck-color-annotation-counter-suggestion-deletion:#d85a79;--ck-color-annotation-counter-suggestion-format:#5ac1d8}.ck.ck-sidebar--narrow .ck-sidebar-item{display:flex;justify-content:center}.ck.ck-sidebar--narrow .ck-annotation-counter{font-size:var(--ck-annotation-counter-icon-size);min-height:unset;padding:0;cursor:pointer;color:grey}.ck.ck-sidebar--narrow .ck-annotation-counter:focus,.ck.ck-sidebar--narrow .ck-annotation-counter:hover{background:transparent;box-shadow:none;color:#4d4d4d}.ck.ck-sidebar--narrow .ck-annotation-counter__badge{border-radius:50%;position:absolute;width:16px;height:16px;background:#333;font-weight:700;color:#fff;font-size:var(--ck-annotation-counter-number-size);font-family:var(--ck-font-face);right:0;top:-6px;text-shadow:-1px 0 2px #444,1px 0 2px #444;display:flex;justify-content:center;line-height:16px;z-index:1}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--edit-mode{line-height:1}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-insertion,.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-replace{background:var(--ck-color-annotation-counter-suggestion-insertion)}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-deletion{background:var(--ck-color-annotation-counter-suggestion-deletion)}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-format{background:var(--ck-color-annotation-counter-suggestion-format)}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--comment{background:var(--ck-color-annotation-counter-comment)}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(155);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ":root{--ck-inline-annotation-container-width:300px;--ck-inline-annotation-container-max-height:400px}.ck.ck-balloon-panel .ck-annotation-wrapper{position:static;width:var(--ck-inline-annotation-container-width);max-height:var(--ck-inline-annotation-container-max-height);overflow-y:auto;overscroll-behavior-y:contain;overflow-x:hidden}.ck.ck-balloon-panel .ck-annotation{animation:none}.ck.ck-balloon-panel .ck-annotation-wrapper *{white-space:normal}.ck.ck-balloon-panel .ck-annotation-wrapper strong{font-weight:700}.ck.ck-balloon-panel .ck-annotation-wrapper i{font-style:italic}.ck.ck-balloon-panel button.ck-suggestion--accept .ck-tooltip__text,.ck.ck-balloon-panel button.ck-suggestion--discard .ck-tooltip__text{text-align:center}.ck.ck-balloon-panel button.ck-suggestion--discard .ck-tooltip{left:unset;right:0}.ck.ck-balloon-panel button.ck-suggestion--discard .ck-tooltip__text{left:unset}.ck.ck-balloon-panel button.ck-suggestion--discard .ck-tooltip__text:after{left:calc(100% - 10px)}";
      }, function (e, t) {
        e.exports = ":root{--ck-color-comment-box-border:#f2de02;--ck-color-suggestion-box-deletion-border:#d85a79;--ck-color-suggestion-box-insertion-border:#5ad86b;--ck-color-suggestion-box-format-border:#5ac1d8}.ck .ck-suggestion{border-top-left-radius:var(--ck-border-radius)}.ck .ck-annotation{border-left:3px solid transparent}.ck .ck-suggestion--disabled-comments .ck-annotation{min-height:80px}.ck .ck-comment,.ck .ck-comment__input-container,.ck .ck-thread__comment-count{border-left:3px solid var(--ck-color-comment-box-border)}.ck .ck-suggestion-insertion .ck-suggestion{border-left-color:var(--ck-color-suggestion-box-insertion-border)}.ck .ck-suggestion-deletion .ck-suggestion{border-left-color:var(--ck-color-suggestion-box-deletion-border)}.ck .ck-suggestion-replace .ck-suggestion{border-left-color:var(--ck-color-suggestion-box-insertion-border)}.ck .ck-suggestion-format .ck-suggestion{border-left-color:var(--ck-color-suggestion-box-format-border)}.ck .ck-suggestion-wrapper{outline:0}.ck .ck-suggestion-type{font-weight:700}.ck .ck-suggestion-insertion .ck-comment,.ck .ck-suggestion-insertion .ck-comment__input-container,.ck .ck-suggestion-insertion .ck-thread__comment-count,.ck .ck-suggestion-replace .ck-comment,.ck .ck-suggestion-replace .ck-comment__input-container,.ck .ck-suggestion-replace .ck-thread__comment-count{border-left-color:var(--ck-color-suggestion-box-insertion-border)}.ck .ck-suggestion-deletion .ck-comment,.ck .ck-suggestion-deletion .ck-comment__input-container,.ck .ck-suggestion-deletion .ck-thread__comment-count{border-left-color:var(--ck-color-suggestion-box-deletion-border)}.ck .ck-suggestion-format .ck-comment,.ck .ck-suggestion-format .ck-comment__input-container,.ck .ck-suggestion-format .ck-thread__comment-count{border-left-color:var(--ck-color-suggestion-box-format-border)}";
      }, function (e, t) {
        e.exports = ':root{--ck-color-suggestion-marker-insertion-border:rgba(30,174,49,0.35);--ck-color-suggestion-marker-insertion-border-active:rgba(19,109,31,0.5);--ck-color-suggestion-marker-insertion-background:rgba(102,229,119,0.35);--ck-color-suggestion-marker-insertion-background-active:rgba(37,218,61,0.5);--ck-color-suggestion-marker-deletion-border:rgba(174,30,66,0.35);--ck-color-suggestion-marker-deletion-border-active:rgba(109,19,41,0.5);--ck-color-suggestion-marker-deletion-background:rgba(229,102,134,0.35);--ck-color-suggestion-marker-deletion-background-active:rgba(218,37,82,0.5);--ck-color-suggestion-marker-deletion-stroke:rgba(87,15,33,0.5);--ck-color-suggestion-marker-format-border:rgba(10,160,194,0.4);--ck-color-suggestion-marker-format-border-active:rgba(10,160,194,0.65);--ck-color-suggestion-widget-insertion-background:rgba(102,229,119,0.05);--ck-color-suggestion-widget-insertion-background-active:rgba(37,218,61,0.07);--ck-color-suggestion-widget-deletion-background:rgba(229,102,134,0.05);--ck-color-suggestion-widget-deletion-background-active:rgba(196,33,74,0.07);--ck-color-suggestion-widget-format-background:rgba(10,160,194,0.09);--ck-color-suggestion-widget-format-background-active:rgba(10,160,194,0.16)}.ck-content .ck-suggestion-marker-insertion{border-top:3px solid var(--ck-color-suggestion-marker-insertion-border);border-bottom:3px solid var(--ck-color-suggestion-marker-insertion-border);background:var(--ck-color-suggestion-marker-insertion-background)}.ck-content .ck-suggestion-marker-insertion.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-insertion-border-active);background:var(--ck-color-suggestion-marker-insertion-background-active)}.ck-content .ck-suggestion-marker-insertion.ck-widget{background:none;text-decoration:none;border:3px solid var(--ck-color-suggestion-marker-insertion-border)}.ck-content .ck-suggestion-marker-insertion.ck-widget.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-insertion-border-active)}.ck-content .ck-suggestion-marker-deletion{border-top:3px solid var(--ck-color-suggestion-marker-deletion-border);border-bottom:3px solid var(--ck-color-suggestion-marker-deletion-border);text-decoration:line-through;text-decoration-color:var(--ck-color-suggestion-marker-deletion-stroke);text-decoration-thickness:3px;background:var(--ck-color-suggestion-marker-deletion-background)}.ck-content .ck-suggestion-marker-deletion.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-deletion-border-active);background:var(--ck-color-suggestion-marker-deletion-background-active)}.ck-content .ck-suggestion-marker-deletion.ck-widget{background:none;text-decoration:none;border:3px solid var(--ck-color-suggestion-marker-deletion-border)}.ck-content .ck-suggestion-marker-deletion.ck-widget.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-deletion-border-active)}.ck-content .ck-suggestion-marker-merge:after{border-top:3px solid var(--ck-color-suggestion-marker-deletion-border);border-bottom:3px solid var(--ck-color-suggestion-marker-deletion-border);text-decoration:line-through;text-decoration-color:var(--ck-color-suggestion-marker-deletion-stroke);background:var(--ck-color-suggestion-marker-deletion-background);color:var(--ck-color-suggestion-marker-deletion-stroke);content:"¶"}.ck-content .ck-suggestion-marker-merge.ck-suggestion-marker--active:after{border-color:var(--ck-color-suggestion-marker-deletion-border-active);background:var(--ck-color-suggestion-marker-deletion-background-active)}.ck-content .ck-suggestion-marker-split:after{border-top:3px solid var(--ck-color-suggestion-marker-insertion-border);border-bottom:3px solid var(--ck-color-suggestion-marker-insertion-border);background:var(--ck-color-suggestion-marker-insertion-background);color:var(--ck-color-suggestion-marker-insertion-border);content:"¶"}.ck-content .ck-suggestion-marker-split.ck-suggestion-marker--active:after{border-color:var(--ck-color-suggestion-marker-insertion-border-active);background:var(--ck-color-suggestion-marker-insertion-background-active)}.ck-content .ck-suggestion-marker-formatInline{border-top:3px solid var(--ck-color-suggestion-marker-format-border);border-bottom:3px solid var(--ck-color-suggestion-marker-format-border)}.ck-content .ck-suggestion-marker-formatInline.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-format-border-active)}.ck-content .ck-suggestion-marker-formatInline.ck-widget{background:none;border:3px solid var(--ck-color-suggestion-marker-format-border)}.ck-content .ck-suggestion-marker-formatInline.ck-widget.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-format-border-active)}.ck-content .ck-suggestion-marker-formatBlock{border:0;background:none;box-shadow:-7px 0 0 0 var(--ck-color-base-background),-10px 0 0 0 var(--ck-color-suggestion-marker-format-border)}.ck-content .ck-suggestion-marker-formatBlock.ck-suggestion-marker--active{box-shadow:-5px 0 0 0 var(--ck-color-base-background),-8px 0 0 0 var(--ck-color-suggestion-marker-format-border-active)}.ck-content ol .ck-suggestion-marker-formatBlock,.ck-content ul .ck-suggestion-marker-formatBlock{box-shadow:-2px 0 0 0 var(--ck-color-base-background),-5px 0 0 0 var(--ck-color-suggestion-marker-format-border)}.ck-content ol .ck-suggestion-marker-formatBlock.ck-suggestion-marker--active,.ck-content ul .ck-suggestion-marker-formatBlock.ck-suggestion-marker--active{box-shadow:-2px 0 0 0 var(--ck-color-base-background),-5px 0 0 0 var(--ck-color-suggestion-marker-format-border-active)}';
      }, function (e, t, n) {
        var i = n(1),
            o = n(159);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck-content .ck-suggestion-marker-deletion.ck-widget.ck-horizontal-line{background-color:var(--ck-color-suggestion-widget-deletion-background)}.ck-content .ck-suggestion-marker-deletion.ck-widget.ck-horizontal-line.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-deletion-background-active)}.ck-content .ck-suggestion-marker-insertion.ck-widget.ck-horizontal-line{background-color:var(--ck-color-suggestion-widget-insertion-background)}.ck-content .ck-suggestion-marker-insertion.ck-widget.ck-horizontal-line.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-insertion-background-active)}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(161);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck-content .ck-suggestion-marker-deletion.ck-widget.image{background-color:var(--ck-color-suggestion-widget-deletion-background)}.ck-content .ck-suggestion-marker-deletion.ck-widget.image img{opacity:.6}.ck-content .ck-suggestion-marker-deletion.ck-widget.image figcaption{background-color:var(--ck-color-suggestion-widget-deletion-background)}.ck-content .ck-suggestion-marker-deletion.ck-widget.image.ck-suggestion-marker--active,.ck-content .ck-suggestion-marker-deletion.ck-widget.image.ck-suggestion-marker--active figcaption{background-color:var(--ck-color-suggestion-widget-deletion-background-active)}.ck-content .ck-suggestion-marker-insertion.ck-widget.image,.ck-content .ck-suggestion-marker-insertion.ck-widget.image figcaption{background-color:var(--ck-color-suggestion-widget-insertion-background)}.ck-content .ck-suggestion-marker-insertion.ck-widget.image.ck-suggestion-marker--active,.ck-content .ck-suggestion-marker-insertion.ck-widget.image.ck-suggestion-marker--active figcaption{background-color:var(--ck-color-suggestion-widget-insertion-background-active)}.ck-content .ck-widget.image>figcaption.ck-suggestion-marker-deletion{background-color:var(--ck-color-suggestion-widget-deletion-background);border:none}.ck-content .ck-widget.image>figcaption.ck-suggestion-marker-deletion.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-deletion-background-active)}.ck-content .ck-widget.image>figcaption.ck-suggestion-marker-insertion{background-color:var(--ck-color-suggestion-widget-insertion-background);border:none}.ck-content .ck-widget.image>figcaption.ck-suggestion-marker-insertion.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-insertion-background-active)}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(163);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck-content .ck-suggestion-marker-deletion.ck-widget.media{background-color:var(--ck-color-suggestion-widget-deletion-background)}.ck-content .ck-suggestion-marker-deletion.ck-widget.media .ck-media__wrapper{opacity:.6}.ck-content .ck-suggestion-marker-deletion.ck-widget.media.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-deletion-background-active)}.ck-content .ck-suggestion-marker-insertion.ck-widget.media{background-color:var(--ck-color-suggestion-widget-insertion-background)}.ck-content .ck-suggestion-marker-insertion.ck-widget.media.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-insertion-background-active)}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(165);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck-content .ck-suggestion-marker-deletion.ck-widget.page-break{background-color:var(--ck-color-suggestion-widget-deletion-background)}.ck-content .ck-suggestion-marker-deletion.ck-widget.page-break.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-deletion-background-active)}.ck-content .ck-suggestion-marker-insertion.ck-widget.page-break{background-color:var(--ck-color-suggestion-widget-insertion-background)}.ck-content .ck-suggestion-marker-insertion.ck-widget.page-break.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-insertion-background-active)}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(167);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ":root{--ck-color-suggestion-widget-th-insertion-background:rgba(102,229,119,0.12);--ck-color-suggestion-widget-th-insertion-background-active:rgba(37,218,61,0.14);--ck-color-suggestion-widget-th-deletion-background:rgba(229,102,134,0.14);--ck-color-suggestion-widget-th-deletion-background-active:rgba(196,33,74,0.16)}.ck-content figure.table .ck-suggestion-marker-formatBlock{box-shadow:-3px 0 0 0 var(--ck-color-suggestion-marker-format-border)}.ck-content figure.table .ck-suggestion-marker-formatBlock.ck-suggestion-marker--active{box-shadow:-3px 0 0 0 var(--ck-color-suggestion-marker-format-border-active)}.ck-content .ck-suggestion-marker-insertion.table>table{border-color:var(--ck-color-suggestion-marker-insertion-border)}.ck-content .ck-suggestion-marker-insertion.table>table>tbody>tr>th,.ck-content .ck-suggestion-marker-insertion.table>table>thead>tr>th{background-color:var(--ck-color-suggestion-widget-th-insertion-background);border-color:var(--ck-color-suggestion-marker-insertion-border)}.ck-content .ck-suggestion-marker-insertion.table>table>tbody>tr>td{background-color:var(--ck-color-suggestion-widget-insertion-background);border-color:var(--ck-color-suggestion-marker-insertion-border)}.ck-content .ck-suggestion-marker-insertion.ck-suggestion-marker--active.table>table{border-color:var(--ck-color-suggestion-marker-insertion-border-active)}.ck-content .ck-suggestion-marker-insertion.ck-suggestion-marker--active.table>table>tbody>tr>th,.ck-content .ck-suggestion-marker-insertion.ck-suggestion-marker--active.table>table>thead>tr>th{background-color:var(--ck-color-suggestion-widget-th-insertion-background-active);border-color:var(--ck-color-suggestion-marker-insertion-border-active)}.ck-content .ck-suggestion-marker-insertion.ck-suggestion-marker--active.table>table>tbody>tr>td{background-color:var(--ck-color-suggestion-widget-insertion-background-active);border-color:var(--ck-color-suggestion-marker-insertion-border-active)}.ck-content .ck-suggestion-marker-deletion.table>table{border-color:var(--ck-color-suggestion-marker-deletion-border)}.ck-content .ck-suggestion-marker-deletion.table>table>tbody>tr>th,.ck-content .ck-suggestion-marker-deletion.table>table>thead>tr>th{background-color:var(--ck-color-suggestion-widget-th-deletion-background);border-color:var(--ck-color-suggestion-marker-deletion-border);text-decoration:none}.ck-content .ck-suggestion-marker-deletion.table>table>tbody>tr>td{background-color:var(--ck-color-suggestion-widget-deletion-background);border-color:var(--ck-color-suggestion-marker-deletion-border);text-decoration:none}.ck-content .ck-suggestion-marker-deletion.ck-suggestion-marker--active.table>table{border-color:var(--ck-color-suggestion-marker-deletion-border-active)}.ck-content .ck-suggestion-marker-deletion.ck-suggestion-marker--active.table>table>tbody>tr>th,.ck-content .ck-suggestion-marker-deletion.ck-suggestion-marker--active.table>table>thead>tr>th{background-color:var(--ck-color-suggestion-widget-th-deletion-background-active);border-color:var(--ck-color-suggestion-marker-deletion-border-active)}.ck-content .ck-suggestion-marker-deletion.ck-suggestion-marker--active.table>table>tbody>tr>td{background-color:var(--ck-color-suggestion-widget-deletion-background-active);border-color:var(--ck-color-suggestion-marker-deletion-border-active)}.ck-content .table th.ck-suggestion-marker-insertion{background-color:var(--ck-color-suggestion-widget-th-insertion-background)}.ck-content .table th.ck-suggestion-marker-insertion.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-th-insertion-background-active)}.ck-content .table th.ck-suggestion-marker-deletion{background-color:var(--ck-color-suggestion-widget-th-deletion-background);text-decoration:none}.ck-content .table th.ck-suggestion-marker-deletion.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-th-deletion-background-active)}.ck-content .table td.ck-suggestion-marker-insertion{background-color:var(--ck-color-suggestion-widget-insertion-background)}.ck-content .table td.ck-suggestion-marker-insertion.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-insertion-background-active)}.ck-content .table td.ck-suggestion-marker-deletion{background-color:var(--ck-color-suggestion-widget-deletion-background);text-decoration:none}.ck-content .table td.ck-suggestion-marker-deletion.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-deletion-background-active)}.ck-content .table td.ck-suggestion-marker-formatBlock,.ck-content .table td.ck-suggestion-marker-formatInline,.ck-content .table th.ck-suggestion-marker-formatBlock,.ck-content .table th.ck-suggestion-marker-formatInline{background-color:var(--ck-color-suggestion-widget-format-background);box-shadow:none}.ck-content .table td.ck-suggestion-marker-formatBlock.ck-suggestion-marker--active,.ck-content .table td.ck-suggestion-marker-formatInline.ck-suggestion-marker--active,.ck-content .table th.ck-suggestion-marker-formatBlock.ck-suggestion-marker--active,.ck-content .table th.ck-suggestion-marker-formatInline.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-format-background-active);box-shadow:none}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(169);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;position:absolute;pointer-events:none;left:0;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{position:absolute;pointer-events:all}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{width:var(--ck-resizer-size);height:var(--ck-resizer-size);background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{top:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{top:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(171);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ':root{--ck-table-selected-cell-background:rgba(158,207,250,0.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{position:relative;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{content:"";pointer-events:none;background-color:var(--ck-table-selected-cell-background);position:absolute;top:0;left:0;right:0;bottom:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}';
      }, function (e, t, n) {
        var i = n(1),
            o = n(173);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(175);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck .ck-button.ck-color-table__remove-color{display:flex;align-items:center;width:100%}label.ck.ck-color-grid__label{font-weight:unset}.ck .ck-button.ck-color-table__remove-color{padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck .ck-button.ck-color-table__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-base-border)}[dir=ltr] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard)}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(177);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}";
      }, function (e, t) {
        e.exports = ".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(180);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ":root{--ck-highlight-marker-yellow:#fdfd77;--ck-highlight-marker-green:#62f962;--ck-highlight-marker-pink:#fc7899;--ck-highlight-marker-blue:#72ccfd;--ck-highlight-pen-red:#e71313;--ck-highlight-pen-green:#128a00}.ck-content .marker-yellow{background-color:var(--ck-highlight-marker-yellow)}.ck-content .marker-green{background-color:var(--ck-highlight-marker-green)}.ck-content .marker-pink{background-color:var(--ck-highlight-marker-pink)}.ck-content .marker-blue{background-color:var(--ck-highlight-marker-blue)}.ck-content .pen-red{color:var(--ck-highlight-pen-red);background-color:transparent}.ck-content .pen-green{color:var(--ck-highlight-pen-green);background-color:transparent}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(182);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}";
      }, function (e, t) {
        e.exports = '.ck-vertical-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-text-width)*0.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-large);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after,[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}';
      }, function (e, t) {
        e.exports = ".ck-content .image{display:table;clear:both;text-align:center;margin:.9em auto;min-width:50px}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{display:inline-flex;max-width:100%;align-items:flex-start}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{padding-left:inherit;padding-right:inherit;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(186);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:var(--ck-color-image-caption-text);background-color:var(--ck-color-image-caption-background);padding:.6em;font-size:.75em;outline-offset:-1px}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(188);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck-content .image.image_resized{max-width:100%;display:block;box-sizing:border-box}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(190);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-right:0;margin-left:auto}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-top:var(--ck-inline-image-style-spacing);margin-bottom:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(192);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image-inline .ck-progress-bar,.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image-inline .ck-progress-bar,.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(194);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = '.ck-image-upload-complete-icon{display:block;position:absolute;top:min(var(--ck-spacing-medium),6%);right:min(var(--ck-spacing-medium),6%);border-radius:50%;z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:calc(1px*var(--ck-image-upload-icon-size));animation-delay:0ms,3s;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}';
      }, function (e, t, n) {
        var i = n(1),
            o = n(196);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = '.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}';
      }, function (e, t, n) {
        var i = n(1),
            o = n(198);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{height:100%;border-right:1px solid var(--ck-color-base-text);margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(200);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(202);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(204);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = '.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(var(--ck-spacing-standard)*3);background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}';
      }, function (e, t, n) {
        var i = n(1),
            o = n(206);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(208);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck-content .media{clear:both;margin:.9em 0;display:block;min-width:15em}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(210);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(212);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}";
      }, function (e, t, n) {
        var i = n(1),
            o = n(214);
        "string" == typeof (o = o.__esModule ? o["default"] : o) && (o = [[e.i, o, ""]]);
        var r = {
          injectType: "singletonStyleTag",
          attributes: {
            "data-cke": !0
          },
          insert: "head",
          singleton: !0
        };
        i(o, r);
        e.exports = o.locals || {};
      }, function (e, t) {
        e.exports = ".ck-content .table{margin:.9em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border:1px solid #bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}";
      }, function (e, t, n) {
        "use strict";

        var _marked = /*#__PURE__*/regeneratorRuntime.mark(Rl),
            _marked2 = /*#__PURE__*/regeneratorRuntime.mark(Nl),
            _marked3 = /*#__PURE__*/regeneratorRuntime.mark(yf),
            _marked4 = /*#__PURE__*/regeneratorRuntime.mark(Xx),
            _marked5 = /*#__PURE__*/regeneratorRuntime.mark(Zx),
            _marked6 = /*#__PURE__*/regeneratorRuntime.mark(ey);

        n.r(t), n.d(t, "default", function () {
          return oS;
        });

        var i = function i() {
          return function e() {
            e.called = !0;
          };
        };

        var o = function o(e, t) {
          _classCallCheck(this, o);

          this.source = e, this.name = t, this.path = [], this.stop = i(), this.off = i();
        };

        var r = new Array(256).fill().map(function (e, t) {
          return ("0" + t.toString(16)).slice(-2);
        });

        function s() {
          var e = 4294967296 * Math.random() >>> 0,
              t = 4294967296 * Math.random() >>> 0,
              n = 4294967296 * Math.random() >>> 0,
              i = 4294967296 * Math.random() >>> 0;
          return "e" + r[e >> 0 & 255] + r[e >> 8 & 255] + r[e >> 16 & 255] + r[e >> 24 & 255] + r[t >> 0 & 255] + r[t >> 8 & 255] + r[t >> 16 & 255] + r[t >> 24 & 255] + r[n >> 0 & 255] + r[n >> 8 & 255] + r[n >> 16 & 255] + r[n >> 24 & 255] + r[i >> 0 & 255] + r[i >> 8 & 255] + r[i >> 16 & 255] + r[i >> 24 & 255];
        }

        var a = {
          get: function get(e) {
            return "number" != typeof e ? this[e] || this.normal : e;
          },
          highest: 1e5,
          high: 1e3,
          normal: 0,
          low: -1e3,
          lowest: -1e5
        },
            c = (n(6), n(0));
        var l = Symbol("listeningTo"),
            d = Symbol("emitterId");
        var u = {
          on: function on(e, t) {
            var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
            this.listenTo(this, e, t, n);
          },
          once: function once(e, t, n) {
            var i = !1;
            this.listenTo(this, e, function (e) {
              for (var _len = arguments.length, n = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                n[_key - 1] = arguments[_key];
              }

              i || (i = !0, e.off(), t.call.apply(t, [this, e].concat(n)));
            }, n);
          },
          off: function off(e, t) {
            this.stopListening(this, e, t);
          },
          listenTo: function listenTo(e, t, n) {
            var i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
            var o, r;
            this[l] || (this[l] = {});
            var s = this[l];
            g(e) || h(e);
            var a = g(e);
            (o = s[a]) || (o = s[a] = {
              emitter: e,
              callbacks: {}
            }), (r = o.callbacks[t]) || (r = o.callbacks[t] = []), r.push(n), function (e, t, n, i, o) {
              t._addEventListener ? t._addEventListener(n, i, o) : e._addEventListener.call(t, n, i, o);
            }(this, e, t, n, i);
          },
          stopListening: function stopListening(e, t, n) {
            var i = this[l];
            var o = e && g(e);
            var r = i && o && i[o],
                s = r && t && r.callbacks[t];
            if (!(!i || e && !r || t && !s)) if (n) {
              k(this, e, t, n), -1 !== s.indexOf(n) && (1 === s.length ? delete r.callbacks[t] : k(this, e, t, n));
            } else if (s) {
              for (; n = s.pop();) {
                k(this, e, t, n);
              }

              delete r.callbacks[t];
            } else if (r) {
              for (t in r.callbacks) {
                this.stopListening(e, t);
              }

              delete i[o];
            } else {
              for (o in i) {
                this.stopListening(i[o].emitter);
              }

              delete this[l];
            }
          },
          fire: function fire(e) {
            try {
              var _n2 = e instanceof o ? e : new o(this, e),
                  _i2 = _n2.name;

              var _r2 = function e(t, n) {
                var i;
                if (!t._events || !(i = t._events[n]) || !i.callbacks.length) return n.indexOf(":") > -1 ? e(t, n.substr(0, n.lastIndexOf(":"))) : null;
                return i.callbacks;
              }(this, _i2);

              for (var _len2 = arguments.length, t = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
                t[_key2 - 1] = arguments[_key2];
              }

              if (_n2.path.push(this), _r2) {
                var _e2 = [_n2].concat(t);

                _r2 = Array.from(_r2);

                for (var _t2 = 0; _t2 < _r2.length && (_r2[_t2].callback.apply(this, _e2), _n2.off.called && (delete _n2.off.called, this._removeEventListener(_i2, _r2[_t2].callback)), !_n2.stop.called); _t2++) {
                  ;
                }
              }

              if (this._delegations) {
                var _e3 = this._delegations.get(_i2),
                    _o2 = this._delegations.get("*");

                _e3 && p(_e3, _n2, t), _o2 && p(_o2, _n2, t);
              }

              return _n2["return"];
            } catch (e) {
              c.a.rethrowUnexpectedError(e, this);
            }
          },
          delegate: function delegate() {
            var _this2 = this;

            for (var _len3 = arguments.length, e = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
              e[_key3] = arguments[_key3];
            }

            return {
              to: function to(t, n) {
                _this2._delegations || (_this2._delegations = new Map()), e.forEach(function (e) {
                  var i = _this2._delegations.get(e);

                  i ? i.set(t, n) : _this2._delegations.set(e, new Map([[t, n]]));
                });
              }
            };
          },
          stopDelegating: function stopDelegating(e, t) {
            if (this._delegations) if (e) {
              if (t) {
                var _n3 = this._delegations.get(e);

                _n3 && _n3["delete"](t);
              } else this._delegations["delete"](e);
            } else this._delegations.clear();
          },
          _addEventListener: function _addEventListener(e, t, n) {
            !function (e, t) {
              var n = m(e);
              if (n[t]) return;
              var i = t,
                  o = null;
              var r = [];

              for (; "" !== i && !n[i];) {
                n[i] = {
                  callbacks: [],
                  childEvents: []
                }, r.push(n[i]), o && n[i].childEvents.push(o), o = i, i = i.substr(0, i.lastIndexOf(":"));
              }

              if ("" !== i) {
                var _iterator5 = _createForOfIteratorHelper(r),
                    _step5;

                try {
                  for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {
                    var _e4 = _step5.value;
                    _e4.callbacks = n[i].callbacks.slice();
                  }
                } catch (err) {
                  _iterator5.e(err);
                } finally {
                  _iterator5.f();
                }

                n[i].childEvents.push(o);
              }
            }(this, e);
            var i = f(this, e),
                o = a.get(n.priority),
                r = {
              callback: t,
              priority: o
            };

            var _iterator6 = _createForOfIteratorHelper(i),
                _step6;

            try {
              for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {
                var _e5 = _step6.value;

                var _t3 = !1;

                for (var _n4 = 0; _n4 < _e5.length; _n4++) {
                  if (_e5[_n4].priority < o) {
                    _e5.splice(_n4, 0, r), _t3 = !0;
                    break;
                  }
                }

                _t3 || _e5.push(r);
              }
            } catch (err) {
              _iterator6.e(err);
            } finally {
              _iterator6.f();
            }
          },
          _removeEventListener: function _removeEventListener(e, t) {
            var n = f(this, e);

            var _iterator7 = _createForOfIteratorHelper(n),
                _step7;

            try {
              for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {
                var _e6 = _step7.value;

                for (var _n5 = 0; _n5 < _e6.length; _n5++) {
                  _e6[_n5].callback == t && (_e6.splice(_n5, 1), _n5--);
                }
              }
            } catch (err) {
              _iterator7.e(err);
            } finally {
              _iterator7.f();
            }
          }
        };

        function h(e, t) {
          e[d] || (e[d] = t || s());
        }

        function g(e) {
          return e[d];
        }

        function m(e) {
          return e._events || Object.defineProperty(e, "_events", {
            value: {}
          }), e._events;
        }

        function f(e, t) {
          var n = m(e)[t];
          if (!n) return [];
          var i = [n.callbacks];

          for (var _t4 = 0; _t4 < n.childEvents.length; _t4++) {
            var _o3 = f(e, n.childEvents[_t4]);

            i = i.concat(_o3);
          }

          return i;
        }

        function p(e, t, n) {
          var _iterator8 = _createForOfIteratorHelper(e),
              _step8;

          try {
            for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {
              var _step8$value = _slicedToArray(_step8.value, 2),
                  _i3 = _step8$value[0],
                  _r3 = _step8$value[1];

              _r3 ? "function" == typeof _r3 && (_r3 = _r3(t.name)) : _r3 = t.name;

              var _e7 = new o(t.source, _r3);

              _e7.path = _toConsumableArray(t.path), _i3.fire.apply(_i3, [_e7].concat(_toConsumableArray(n)));
            }
          } catch (err) {
            _iterator8.e(err);
          } finally {
            _iterator8.f();
          }
        }

        function k(e, t, n, i) {
          t._removeEventListener ? t._removeEventListener(n, i) : e._removeEventListener.call(t, n, i);
        }

        var b = function b(e) {
          var t = typeof e;
          return null != e && ("object" == t || "function" == t);
        },
            w = n(3),
            _ = w.a.Symbol,
            v = Object.prototype,
            x = v.hasOwnProperty,
            y = v.toString,
            C = _ ? _.toStringTag : void 0;

        var T = function T(e) {
          var t = x.call(e, C),
              n = e[C];

          try {
            e[C] = void 0;
            var i = !0;
          } catch (e) {}

          var o = y.call(e);
          return i && (t ? e[C] = n : delete e[C]), o;
        },
            A = Object.prototype.toString;

        var E = function E(e) {
          return A.call(e);
        },
            I = "[object Null]",
            S = "[object Undefined]",
            M = _ ? _.toStringTag : void 0;

        var P = function P(e) {
          return null == e ? void 0 === e ? S : I : M && M in Object(e) ? T(e) : E(e);
        },
            R = "[object AsyncFunction]",
            N = "[object Function]",
            O = "[object GeneratorFunction]",
            D = "[object Proxy]";

        var L = function L(e) {
          if (!b(e)) return !1;
          var t = P(e);
          return t == N || t == O || t == R || t == D;
        },
            z = w.a["__core-js_shared__"],
            V = function () {
          var e = /[^.]+$/.exec(z && z.keys && z.keys.IE_PROTO || "");
          return e ? "Symbol(src)_1." + e : "";
        }();

        var B = function B(e) {
          return !!V && V in e;
        },
            F = Function.prototype.toString;

        var j = function j(e) {
          if (null != e) {
            try {
              return F.call(e);
            } catch (e) {}

            try {
              return e + "";
            } catch (e) {}
          }

          return "";
        },
            H = /^\[object .+?Constructor\]$/,
            U = Function.prototype,
            W = Object.prototype,
            q = U.toString,
            $ = W.hasOwnProperty,
            G = RegExp("^" + q.call($).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");

        var Y = function Y(e) {
          return !(!b(e) || B(e)) && (L(e) ? G : H).test(j(e));
        };

        var K = function K(e, t) {
          return null == e ? void 0 : e[t];
        };

        var Q = function Q(e, t) {
          var n = K(e, t);
          return Y(n) ? n : void 0;
        },
            J = function () {
          try {
            var e = Q(Object, "defineProperty");
            return e({}, "", {}), e;
          } catch (e) {}
        }();

        var X = function X(e, t, n) {
          "__proto__" == t && J ? J(e, t, {
            configurable: !0,
            enumerable: !0,
            value: n,
            writable: !0
          }) : e[t] = n;
        };

        var Z = function Z(e, t) {
          return e === t || e != e && t != t;
        },
            ee = Object.prototype.hasOwnProperty;

        var te = function te(e, t, n) {
          var i = e[t];
          ee.call(e, t) && Z(i, n) && (void 0 !== n || t in e) || X(e, t, n);
        };

        var ne = function ne(e, t, n, i) {
          var o = !n;
          n || (n = {});

          for (var r = -1, s = t.length; ++r < s;) {
            var a = t[r],
                c = i ? i(n[a], e[a], a, n, e) : void 0;
            void 0 === c && (c = e[a]), o ? X(n, a, c) : te(n, a, c);
          }

          return n;
        };

        var ie = function ie(e) {
          return e;
        };

        var oe = function oe(e, t, n) {
          switch (n.length) {
            case 0:
              return e.call(t);

            case 1:
              return e.call(t, n[0]);

            case 2:
              return e.call(t, n[0], n[1]);

            case 3:
              return e.call(t, n[0], n[1], n[2]);
          }

          return e.apply(t, n);
        },
            re = Math.max;

        var se = function se(e, t, n) {
          return t = re(void 0 === t ? e.length - 1 : t, 0), function () {
            for (var i = arguments, o = -1, r = re(i.length - t, 0), s = Array(r); ++o < r;) {
              s[o] = i[t + o];
            }

            o = -1;

            for (var a = Array(t + 1); ++o < t;) {
              a[o] = i[o];
            }

            return a[t] = n(s), oe(e, this, a);
          };
        };

        var ae = function ae(e) {
          return function () {
            return e;
          };
        },
            ce = J ? function (e, t) {
          return J(e, "toString", {
            configurable: !0,
            enumerable: !1,
            value: ae(t),
            writable: !0
          });
        } : ie,
            le = 800,
            de = 16,
            ue = Date.now;

        var he = function (e) {
          var t = 0,
              n = 0;
          return function () {
            var i = ue(),
                o = de - (i - n);

            if (n = i, o > 0) {
              if (++t >= le) return arguments[0];
            } else t = 0;

            return e.apply(void 0, arguments);
          };
        }(ce);

        var ge = function ge(e, t) {
          return he(se(e, t, ie), e + "");
        },
            me = 9007199254740991;

        var fe = function fe(e) {
          return "number" == typeof e && e > -1 && e % 1 == 0 && e <= me;
        };

        var pe = function pe(e) {
          return null != e && fe(e.length) && !L(e);
        },
            ke = 9007199254740991,
            be = /^(?:0|[1-9]\d*)$/;

        var we = function we(e, t) {
          var n = typeof e;
          return !!(t = null == t ? ke : t) && ("number" == n || "symbol" != n && be.test(e)) && e > -1 && e % 1 == 0 && e < t;
        };

        var _e = function _e(e, t, n) {
          if (!b(n)) return !1;
          var i = typeof t;
          return !!("number" == i ? pe(n) && we(t, n.length) : "string" == i && t in n) && Z(n[t], e);
        };

        var ve = function ve(e) {
          return ge(function (t, n) {
            var i = -1,
                o = n.length,
                r = o > 1 ? n[o - 1] : void 0,
                s = o > 2 ? n[2] : void 0;

            for (r = e.length > 3 && "function" == typeof r ? (o--, r) : void 0, s && _e(n[0], n[1], s) && (r = o < 3 ? void 0 : r, o = 1), t = Object(t); ++i < o;) {
              var a = n[i];
              a && e(t, a, i, r);
            }

            return t;
          });
        };

        var xe = function xe(e, t) {
          for (var n = -1, i = Array(e); ++n < e;) {
            i[n] = t(n);
          }

          return i;
        };

        var ye = function ye(e) {
          return null != e && "object" == typeof e;
        },
            Ce = "[object Arguments]";

        var Te = function Te(e) {
          return ye(e) && P(e) == Ce;
        },
            Ae = Object.prototype,
            Ee = Ae.hasOwnProperty,
            Ie = Ae.propertyIsEnumerable,
            Se = Te(function () {
          return arguments;
        }()) ? Te : function (e) {
          return ye(e) && Ee.call(e, "callee") && !Ie.call(e, "callee");
        },
            Me = Array.isArray,
            Pe = n(4),
            Re = {};

        Re["[object Float32Array]"] = Re["[object Float64Array]"] = Re["[object Int8Array]"] = Re["[object Int16Array]"] = Re["[object Int32Array]"] = Re["[object Uint8Array]"] = Re["[object Uint8ClampedArray]"] = Re["[object Uint16Array]"] = Re["[object Uint32Array]"] = !0, Re["[object Arguments]"] = Re["[object Array]"] = Re["[object ArrayBuffer]"] = Re["[object Boolean]"] = Re["[object DataView]"] = Re["[object Date]"] = Re["[object Error]"] = Re["[object Function]"] = Re["[object Map]"] = Re["[object Number]"] = Re["[object Object]"] = Re["[object RegExp]"] = Re["[object Set]"] = Re["[object String]"] = Re["[object WeakMap]"] = !1;

        var Ne = function Ne(e) {
          return ye(e) && fe(e.length) && !!Re[P(e)];
        };

        var Oe = function Oe(e) {
          return function (t) {
            return e(t);
          };
        },
            De = n(5),
            Le = De.a && De.a.isTypedArray,
            ze = Le ? Oe(Le) : Ne,
            Ve = Object.prototype.hasOwnProperty;

        var Be = function Be(e, t) {
          var n = Me(e),
              i = !n && Se(e),
              o = !n && !i && Object(Pe.a)(e),
              r = !n && !i && !o && ze(e),
              s = n || i || o || r,
              a = s ? xe(e.length, String) : [],
              c = a.length;

          for (var l in e) {
            !t && !Ve.call(e, l) || s && ("length" == l || o && ("offset" == l || "parent" == l) || r && ("buffer" == l || "byteLength" == l || "byteOffset" == l) || we(l, c)) || a.push(l);
          }

          return a;
        },
            Fe = Object.prototype;

        var je = function je(e) {
          var t = e && e.constructor;
          return e === ("function" == typeof t && t.prototype || Fe);
        };

        var He = function He(e) {
          var t = [];
          if (null != e) for (var n in Object(e)) {
            t.push(n);
          }
          return t;
        },
            Ue = Object.prototype.hasOwnProperty;

        var We = function We(e) {
          if (!b(e)) return He(e);
          var t = je(e),
              n = [];

          for (var i in e) {
            ("constructor" != i || !t && Ue.call(e, i)) && n.push(i);
          }

          return n;
        };

        var qe = function qe(e) {
          return pe(e) ? Be(e, !0) : We(e);
        },
            $e = ve(function (e, t) {
          ne(t, qe(t), e);
        });

        var Ge = Symbol("observableProperties"),
            Ye = Symbol("boundObservables"),
            Ke = Symbol("boundProperties"),
            Qe = Symbol("decoratedMethods"),
            Je = Symbol("decoratedOriginal"),
            Xe = {
          set: function set(e, t) {
            var _this3 = this;

            if (b(e)) return void Object.keys(e).forEach(function (t) {
              _this3.set(t, e[t]);
            }, this);
            et(this);
            var n = this[Ge];
            if (e in this && !n.has(e)) throw new c.a("observable-set-cannot-override", this);
            Object.defineProperty(this, e, {
              enumerable: !0,
              configurable: !0,
              get: function get() {
                return n.get(e);
              },
              set: function set(t) {
                var i = n.get(e);
                var o = this.fire("set:" + e, e, t, i);
                void 0 === o && (o = t), i === o && n.has(e) || (n.set(e, o), this.fire("change:" + e, e, o, i));
              }
            }), this[e] = t;
          },
          bind: function bind() {
            var _this4 = this;

            for (var _len4 = arguments.length, e = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
              e[_key4] = arguments[_key4];
            }

            if (!e.length || !it(e)) throw new c.a("observable-bind-wrong-properties", this);
            if (new Set(e).size !== e.length) throw new c.a("observable-bind-duplicate-properties", this);
            et(this);
            var t = this[Ke];
            e.forEach(function (e) {
              if (t.has(e)) throw new c.a("observable-bind-rebind", _this4);
            });
            var n = new Map();
            return e.forEach(function (e) {
              var i = {
                property: e,
                to: []
              };
              t.set(e, i), n.set(e, i);
            }), {
              to: tt,
              toMany: nt,
              _observable: this,
              _bindProperties: e,
              _to: [],
              _bindings: n
            };
          },
          unbind: function unbind() {
            var _this5 = this;

            if (!this[Ge]) return;
            var t = this[Ke],
                n = this[Ye];

            for (var _len5 = arguments.length, e = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
              e[_key5] = arguments[_key5];
            }

            if (e.length) {
              if (!it(e)) throw new c.a("observable-unbind-wrong-properties", this);
              e.forEach(function (e) {
                var i = t.get(e);
                if (!i) return;
                var o, r, s, a;
                i.to.forEach(function (e) {
                  o = e[0], r = e[1], s = n.get(o), (a = s[r])["delete"](i), a.size || delete s[r], Object.keys(s).length || (n["delete"](o), _this5.stopListening(o, "change"));
                }), t["delete"](e);
              });
            } else n.forEach(function (e, t) {
              _this5.stopListening(t, "change");
            }), n.clear(), t.clear();
          },
          decorate: function decorate(e) {
            var _this6 = this;

            var t = this[e];
            if (!t) throw new c.a("observablemixin-cannot-decorate-undefined", this, {
              object: this,
              methodName: e
            });
            this.on(e, function (e, n) {
              e["return"] = t.apply(_this6, n);
            }), this[e] = function () {
              for (var _len6 = arguments.length, t = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
                t[_key6] = arguments[_key6];
              }

              return this.fire(e, t);
            }, this[e][Je] = t, this[Qe] || (this[Qe] = []), this[Qe].push(e);
          }
        };
        $e(Xe, u), Xe.stopListening = function (e, t, n) {
          if (!e && this[Qe]) {
            var _iterator9 = _createForOfIteratorHelper(this[Qe]),
                _step9;

            try {
              for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {
                var _e8 = _step9.value;
                this[_e8] = this[_e8][Je];
              }
            } catch (err) {
              _iterator9.e(err);
            } finally {
              _iterator9.f();
            }

            delete this[Qe];
          }

          u.stopListening.call(this, e, t, n);
        };
        var Ze = Xe;

        function et(e) {
          e[Ge] || (Object.defineProperty(e, Ge, {
            value: new Map()
          }), Object.defineProperty(e, Ye, {
            value: new Map()
          }), Object.defineProperty(e, Ke, {
            value: new Map()
          }));
        }

        function tt() {
          var _this7 = this;

          var t = function () {
            for (var _len7 = arguments.length, e = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
              e[_key7] = arguments[_key7];
            }

            if (!e.length) throw new c.a("observable-bind-to-parse-error", null);
            var t = {
              to: []
            };
            var n;
            "function" == typeof e[e.length - 1] && (t.callback = e.pop());
            return e.forEach(function (e) {
              if ("string" == typeof e) n.properties.push(e);else {
                if ("object" != typeof e) throw new c.a("observable-bind-to-parse-error", null);
                n = {
                  observable: e,
                  properties: []
                }, t.to.push(n);
              }
            }), t;
          }.apply(void 0, arguments),
              n = Array.from(this._bindings.keys()),
              i = n.length;

          if (!t.callback && t.to.length > 1) throw new c.a("observable-bind-to-no-callback", this);
          if (i > 1 && t.callback) throw new c.a("observable-bind-to-extra-callback", this);
          t.to.forEach(function (e) {
            if (e.properties.length && e.properties.length !== i) throw new c.a("observable-bind-to-properties-length", _this7);
            e.properties.length || (e.properties = _this7._bindProperties);
          }), this._to = t.to, t.callback && (this._bindings.get(n[0]).callback = t.callback), function (e, t) {
            t.forEach(function (t) {
              var n = e[Ye];
              var i;
              n.get(t.observable) || e.listenTo(t.observable, "change", function (o, r) {
                (i = n.get(t.observable)[r]) && i.forEach(function (t) {
                  ot(e, t.property);
                });
              });
            });
          }(this._observable, this._to), function (e) {
            var t;

            e._bindings.forEach(function (n, i) {
              e._to.forEach(function (o) {
                t = o.properties[n.callback ? 0 : e._bindProperties.indexOf(i)], n.to.push([o.observable, t]), function (e, t, n, i) {
                  var o = e[Ye],
                      r = o.get(n),
                      s = r || {};
                  s[i] || (s[i] = new Set());
                  s[i].add(t), r || o.set(n, s);
                }(e._observable, n, o.observable, t);
              });
            });
          }(this), this._bindProperties.forEach(function (e) {
            ot(_this7._observable, e);
          });
        }

        function nt(e, t, n) {
          if (this._bindings.size > 1) throw new c.a("observable-bind-to-many-not-one-binding", this);
          this.to.apply(this, _toConsumableArray(function (e, t) {
            var n = e.map(function (e) {
              return [e, t];
            });
            return Array.prototype.concat.apply([], n);
          }(e, t)).concat([n]));
        }

        function it(e) {
          return e.every(function (e) {
            return "string" == typeof e;
          });
        }

        function ot(e, t) {
          var n = e[Ke].get(t);
          var i;
          i = n.callback ? n.callback.apply(e, n.to.map(function (e) {
            return e[0][e[1]];
          })) : (i = n.to[0])[0][i[1]], Object.prototype.hasOwnProperty.call(e, t) ? e[t] = i : e.set(t, i);
        }

        function rt(e) {
          for (var _len8 = arguments.length, t = new Array(_len8 > 1 ? _len8 - 1 : 0), _key8 = 1; _key8 < _len8; _key8++) {
            t[_key8 - 1] = arguments[_key8];
          }

          t.forEach(function (t) {
            Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t)).forEach(function (n) {
              if (n in e.prototype) return;
              var i = Object.getOwnPropertyDescriptor(t, n);
              i.enumerable = !1, Object.defineProperty(e.prototype, n, i);
            });
          });
        }

        var st = /*#__PURE__*/function () {
          function st(e) {
            _classCallCheck(this, st);

            this.editor = e, this.set("isEnabled", !0), this._disableStack = new Set();
          }

          _createClass(st, [{
            key: "forceDisabled",
            value: function forceDisabled(e) {
              this._disableStack.add(e), 1 == this._disableStack.size && (this.on("set:isEnabled", at, {
                priority: "highest"
              }), this.isEnabled = !1);
            }
          }, {
            key: "clearForceDisabled",
            value: function clearForceDisabled(e) {
              this._disableStack["delete"](e), 0 == this._disableStack.size && (this.off("set:isEnabled", at), this.isEnabled = !0);
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this.stopListening();
            }
          }], [{
            key: "isContextPlugin",
            get: function get() {
              return !1;
            }
          }]);

          return st;
        }();

        function at(e) {
          e["return"] = !1, e.stop();
        }

        rt(st, Ze);

        var ct = /*#__PURE__*/function () {
          function ct(e) {
            var _this8 = this;

            _classCallCheck(this, ct);

            this.editor = e, this.set("value", void 0), this.set("isEnabled", !1), this.affectsData = !0, this._disableStack = new Set(), this.decorate("execute"), this.listenTo(this.editor.model.document, "change", function () {
              _this8.refresh();
            }), this.on("execute", function (e) {
              _this8.isEnabled || e.stop();
            }, {
              priority: "high"
            }), this.listenTo(e, "change:isReadOnly", function (e, t, n) {
              n && _this8.affectsData ? _this8.forceDisabled("readOnlyMode") : _this8.clearForceDisabled("readOnlyMode");
            });
          }

          _createClass(ct, [{
            key: "refresh",
            value: function refresh() {
              this.isEnabled = !0;
            }
          }, {
            key: "forceDisabled",
            value: function forceDisabled(e) {
              this._disableStack.add(e), 1 == this._disableStack.size && (this.on("set:isEnabled", lt, {
                priority: "highest"
              }), this.isEnabled = !1);
            }
          }, {
            key: "clearForceDisabled",
            value: function clearForceDisabled(e) {
              this._disableStack["delete"](e), 0 == this._disableStack.size && (this.off("set:isEnabled", lt), this.refresh());
            }
          }, {
            key: "execute",
            value: function execute() {}
          }, {
            key: "destroy",
            value: function destroy() {
              this.stopListening();
            }
          }]);

          return ct;
        }();

        function lt(e) {
          e["return"] = !1, e.stop();
        }

        rt(ct, Ze);

        var dt = function dt(e, t) {
          return function (n) {
            return e(t(n));
          };
        },
            ut = dt(Object.getPrototypeOf, Object),
            ht = "[object Object]",
            gt = Function.prototype,
            mt = Object.prototype,
            ft = gt.toString,
            pt = mt.hasOwnProperty,
            kt = ft.call(Object);

        var bt = function bt(e) {
          if (!ye(e) || P(e) != ht) return !1;
          var t = ut(e);
          if (null === t) return !0;
          var n = pt.call(t, "constructor") && t.constructor;
          return "function" == typeof n && n instanceof n && ft.call(n) == kt;
        };

        var wt = function wt() {
          this.__data__ = [], this.size = 0;
        };

        var _t = function _t(e, t) {
          for (var n = e.length; n--;) {
            if (Z(e[n][0], t)) return n;
          }

          return -1;
        },
            vt = Array.prototype.splice;

        var xt = function xt(e) {
          var t = this.__data__,
              n = _t(t, e);

          return !(n < 0 || (n == t.length - 1 ? t.pop() : vt.call(t, n, 1), --this.size, 0));
        };

        var yt = function yt(e) {
          var t = this.__data__,
              n = _t(t, e);

          return n < 0 ? void 0 : t[n][1];
        };

        var Ct = function Ct(e) {
          return _t(this.__data__, e) > -1;
        };

        var Tt = function Tt(e, t) {
          var n = this.__data__,
              i = _t(n, e);

          return i < 0 ? (++this.size, n.push([e, t])) : n[i][1] = t, this;
        };

        function At(e) {
          var t = -1,
              n = null == e ? 0 : e.length;

          for (this.clear(); ++t < n;) {
            var i = e[t];
            this.set(i[0], i[1]);
          }
        }

        At.prototype.clear = wt, At.prototype["delete"] = xt, At.prototype.get = yt, At.prototype.has = Ct, At.prototype.set = Tt;
        var Et = At;

        var It = function It() {
          this.__data__ = new Et(), this.size = 0;
        };

        var St = function St(e) {
          var t = this.__data__,
              n = t["delete"](e);
          return this.size = t.size, n;
        };

        var Mt = function Mt(e) {
          return this.__data__.get(e);
        };

        var Pt = function Pt(e) {
          return this.__data__.has(e);
        },
            Rt = Q(w.a, "Map"),
            Nt = Q(Object, "create");

        var Ot = function Ot() {
          this.__data__ = Nt ? Nt(null) : {}, this.size = 0;
        };

        var Dt = function Dt(e) {
          var t = this.has(e) && delete this.__data__[e];
          return this.size -= t ? 1 : 0, t;
        },
            Lt = "__lodash_hash_undefined__",
            zt = Object.prototype.hasOwnProperty;

        var Vt = function Vt(e) {
          var t = this.__data__;

          if (Nt) {
            var n = t[e];
            return n === Lt ? void 0 : n;
          }

          return zt.call(t, e) ? t[e] : void 0;
        },
            Bt = Object.prototype.hasOwnProperty;

        var Ft = function Ft(e) {
          var t = this.__data__;
          return Nt ? void 0 !== t[e] : Bt.call(t, e);
        },
            jt = "__lodash_hash_undefined__";

        var Ht = function Ht(e, t) {
          var n = this.__data__;
          return this.size += this.has(e) ? 0 : 1, n[e] = Nt && void 0 === t ? jt : t, this;
        };

        function Ut(e) {
          var t = -1,
              n = null == e ? 0 : e.length;

          for (this.clear(); ++t < n;) {
            var i = e[t];
            this.set(i[0], i[1]);
          }
        }

        Ut.prototype.clear = Ot, Ut.prototype["delete"] = Dt, Ut.prototype.get = Vt, Ut.prototype.has = Ft, Ut.prototype.set = Ht;
        var Wt = Ut;

        var qt = function qt() {
          this.size = 0, this.__data__ = {
            hash: new Wt(),
            map: new (Rt || Et)(),
            string: new Wt()
          };
        };

        var $t = function $t(e) {
          var t = typeof e;
          return "string" == t || "number" == t || "symbol" == t || "boolean" == t ? "__proto__" !== e : null === e;
        };

        var Gt = function Gt(e, t) {
          var n = e.__data__;
          return $t(t) ? n["string" == typeof t ? "string" : "hash"] : n.map;
        };

        var Yt = function Yt(e) {
          var t = Gt(this, e)["delete"](e);
          return this.size -= t ? 1 : 0, t;
        };

        var Kt = function Kt(e) {
          return Gt(this, e).get(e);
        };

        var Qt = function Qt(e) {
          return Gt(this, e).has(e);
        };

        var Jt = function Jt(e, t) {
          var n = Gt(this, e),
              i = n.size;
          return n.set(e, t), this.size += n.size == i ? 0 : 1, this;
        };

        function Xt(e) {
          var t = -1,
              n = null == e ? 0 : e.length;

          for (this.clear(); ++t < n;) {
            var i = e[t];
            this.set(i[0], i[1]);
          }
        }

        Xt.prototype.clear = qt, Xt.prototype["delete"] = Yt, Xt.prototype.get = Kt, Xt.prototype.has = Qt, Xt.prototype.set = Jt;
        var Zt = Xt,
            en = 200;

        var tn = function tn(e, t) {
          var n = this.__data__;

          if (n instanceof Et) {
            var i = n.__data__;
            if (!Rt || i.length < en - 1) return i.push([e, t]), this.size = ++n.size, this;
            n = this.__data__ = new Zt(i);
          }

          return n.set(e, t), this.size = n.size, this;
        };

        function nn(e) {
          var t = this.__data__ = new Et(e);
          this.size = t.size;
        }

        nn.prototype.clear = It, nn.prototype["delete"] = St, nn.prototype.get = Mt, nn.prototype.has = Pt, nn.prototype.set = tn;
        var on = nn;

        var rn = function rn(e, t) {
          for (var n = -1, i = null == e ? 0 : e.length; ++n < i && !1 !== t(e[n], n, e);) {
            ;
          }

          return e;
        },
            sn = dt(Object.keys, Object),
            an = Object.prototype.hasOwnProperty;

        var cn = function cn(e) {
          if (!je(e)) return sn(e);
          var t = [];

          for (var n in Object(e)) {
            an.call(e, n) && "constructor" != n && t.push(n);
          }

          return t;
        };

        var ln = function ln(e) {
          return pe(e) ? Be(e) : cn(e);
        };

        var dn = function dn(e, t) {
          return e && ne(t, ln(t), e);
        };

        var un = function un(e, t) {
          return e && ne(t, qe(t), e);
        },
            hn = n(9);

        var gn = function gn(e, t) {
          var n = -1,
              i = e.length;

          for (t || (t = Array(i)); ++n < i;) {
            t[n] = e[n];
          }

          return t;
        };

        var mn = function mn(e, t) {
          for (var n = -1, i = null == e ? 0 : e.length, o = 0, r = []; ++n < i;) {
            var s = e[n];
            t(s, n, e) && (r[o++] = s);
          }

          return r;
        };

        var fn = function fn() {
          return [];
        },
            pn = Object.prototype.propertyIsEnumerable,
            kn = Object.getOwnPropertySymbols,
            bn = kn ? function (e) {
          return null == e ? [] : (e = Object(e), mn(kn(e), function (t) {
            return pn.call(e, t);
          }));
        } : fn;

        var wn = function wn(e, t) {
          return ne(e, bn(e), t);
        };

        var _n = function _n(e, t) {
          for (var n = -1, i = t.length, o = e.length; ++n < i;) {
            e[o + n] = t[n];
          }

          return e;
        },
            vn = Object.getOwnPropertySymbols ? function (e) {
          for (var t = []; e;) {
            _n(t, bn(e)), e = ut(e);
          }

          return t;
        } : fn;

        var xn = function xn(e, t) {
          return ne(e, vn(e), t);
        };

        var yn = function yn(e, t, n) {
          var i = t(e);
          return Me(e) ? i : _n(i, n(e));
        };

        var Cn = function Cn(e) {
          return yn(e, ln, bn);
        };

        var Tn = function Tn(e) {
          return yn(e, qe, vn);
        },
            An = Q(w.a, "DataView"),
            En = Q(w.a, "Promise"),
            In = Q(w.a, "Set"),
            Sn = Q(w.a, "WeakMap"),
            Mn = j(An),
            Pn = j(Rt),
            Rn = j(En),
            Nn = j(In),
            On = j(Sn),
            Dn = P;

        (An && "[object DataView]" != Dn(new An(new ArrayBuffer(1))) || Rt && "[object Map]" != Dn(new Rt()) || En && "[object Promise]" != Dn(En.resolve()) || In && "[object Set]" != Dn(new In()) || Sn && "[object WeakMap]" != Dn(new Sn())) && (Dn = function Dn(e) {
          var t = P(e),
              n = "[object Object]" == t ? e.constructor : void 0,
              i = n ? j(n) : "";
          if (i) switch (i) {
            case Mn:
              return "[object DataView]";

            case Pn:
              return "[object Map]";

            case Rn:
              return "[object Promise]";

            case Nn:
              return "[object Set]";

            case On:
              return "[object WeakMap]";
          }
          return t;
        });
        var Ln = Dn,
            zn = Object.prototype.hasOwnProperty;

        var Vn = function Vn(e) {
          var t = e.length,
              n = new e.constructor(t);
          return t && "string" == typeof e[0] && zn.call(e, "index") && (n.index = e.index, n.input = e.input), n;
        },
            Bn = w.a.Uint8Array;

        var Fn = function Fn(e) {
          var t = new e.constructor(e.byteLength);
          return new Bn(t).set(new Bn(e)), t;
        };

        var jn = function jn(e, t) {
          var n = t ? Fn(e.buffer) : e.buffer;
          return new e.constructor(n, e.byteOffset, e.byteLength);
        },
            Hn = /\w*$/;

        var Un = function Un(e) {
          var t = new e.constructor(e.source, Hn.exec(e));
          return t.lastIndex = e.lastIndex, t;
        },
            Wn = _ ? _.prototype : void 0,
            qn = Wn ? Wn.valueOf : void 0;

        var $n = function $n(e) {
          return qn ? Object(qn.call(e)) : {};
        };

        var Gn = function Gn(e, t) {
          var n = t ? Fn(e.buffer) : e.buffer;
          return new e.constructor(n, e.byteOffset, e.length);
        },
            Yn = "[object Boolean]",
            Kn = "[object Date]",
            Qn = "[object Map]",
            Jn = "[object Number]",
            Xn = "[object RegExp]",
            Zn = "[object Set]",
            ei = "[object String]",
            ti = "[object Symbol]",
            ni = "[object ArrayBuffer]",
            ii = "[object DataView]",
            oi = "[object Float32Array]",
            ri = "[object Float64Array]",
            si = "[object Int8Array]",
            ai = "[object Int16Array]",
            ci = "[object Int32Array]",
            li = "[object Uint8Array]",
            di = "[object Uint8ClampedArray]",
            ui = "[object Uint16Array]",
            hi = "[object Uint32Array]";

        var gi = function gi(e, t, n) {
          var i = e.constructor;

          switch (t) {
            case ni:
              return Fn(e);

            case Yn:
            case Kn:
              return new i(+e);

            case ii:
              return jn(e, n);

            case oi:
            case ri:
            case si:
            case ai:
            case ci:
            case li:
            case di:
            case ui:
            case hi:
              return Gn(e, n);

            case Qn:
              return new i();

            case Jn:
            case ei:
              return new i(e);

            case Xn:
              return Un(e);

            case Zn:
              return new i();

            case ti:
              return $n(e);
          }
        },
            mi = Object.create,
            fi = function () {
          function e() {}

          return function (t) {
            if (!b(t)) return {};
            if (mi) return mi(t);
            e.prototype = t;
            var n = new e();
            return e.prototype = void 0, n;
          };
        }();

        var pi = function pi(e) {
          return "function" != typeof e.constructor || je(e) ? {} : fi(ut(e));
        },
            ki = "[object Map]";

        var bi = function bi(e) {
          return ye(e) && Ln(e) == ki;
        },
            wi = De.a && De.a.isMap,
            _i = wi ? Oe(wi) : bi,
            vi = "[object Set]";

        var xi = function xi(e) {
          return ye(e) && Ln(e) == vi;
        },
            yi = De.a && De.a.isSet,
            Ci = yi ? Oe(yi) : xi,
            Ti = 1,
            Ai = 2,
            Ei = 4,
            Ii = "[object Arguments]",
            Si = "[object Function]",
            Mi = "[object GeneratorFunction]",
            Pi = "[object Object]",
            Ri = {};

        Ri[Ii] = Ri["[object Array]"] = Ri["[object ArrayBuffer]"] = Ri["[object DataView]"] = Ri["[object Boolean]"] = Ri["[object Date]"] = Ri["[object Float32Array]"] = Ri["[object Float64Array]"] = Ri["[object Int8Array]"] = Ri["[object Int16Array]"] = Ri["[object Int32Array]"] = Ri["[object Map]"] = Ri["[object Number]"] = Ri[Pi] = Ri["[object RegExp]"] = Ri["[object Set]"] = Ri["[object String]"] = Ri["[object Symbol]"] = Ri["[object Uint8Array]"] = Ri["[object Uint8ClampedArray]"] = Ri["[object Uint16Array]"] = Ri["[object Uint32Array]"] = !0, Ri["[object Error]"] = Ri[Si] = Ri["[object WeakMap]"] = !1;

        var Ni = function e(t, n, i, o, r, s) {
          var a,
              c = n & Ti,
              l = n & Ai,
              d = n & Ei;
          if (i && (a = r ? i(t, o, r, s) : i(t)), void 0 !== a) return a;
          if (!b(t)) return t;
          var u = Me(t);

          if (u) {
            if (a = Vn(t), !c) return gn(t, a);
          } else {
            var h = Ln(t),
                g = h == Si || h == Mi;
            if (Object(Pe.a)(t)) return Object(hn.a)(t, c);

            if (h == Pi || h == Ii || g && !r) {
              if (a = l || g ? {} : pi(t), !c) return l ? xn(t, un(a, t)) : wn(t, dn(a, t));
            } else {
              if (!Ri[h]) return r ? t : {};
              a = gi(t, h, c);
            }
          }

          s || (s = new on());
          var m = s.get(t);
          if (m) return m;
          s.set(t, a), Ci(t) ? t.forEach(function (o) {
            a.add(e(o, n, i, o, t, s));
          }) : _i(t) && t.forEach(function (o, r) {
            a.set(r, e(o, n, i, r, t, s));
          });
          var f = u ? void 0 : (d ? l ? Tn : Cn : l ? qe : ln)(t);
          return rn(f || t, function (o, r) {
            f && (o = t[r = o]), te(a, r, e(o, n, i, r, t, s));
          }), a;
        },
            Oi = 1,
            Di = 4;

        var Li = function Li(e, t) {
          return Ni(e, Oi | Di, t = "function" == typeof t ? t : void 0);
        };

        var zi = function zi(e) {
          return ye(e) && 1 === e.nodeType && !bt(e);
        };

        var Vi = /*#__PURE__*/function () {
          function Vi(e, t) {
            _classCallCheck(this, Vi);

            this._config = {}, t && this.define(Bi(t)), e && this._setObjectToTarget(this._config, e);
          }

          _createClass(Vi, [{
            key: "set",
            value: function set(e, t) {
              this._setToTarget(this._config, e, t);
            }
          }, {
            key: "define",
            value: function define(e, t) {
              this._setToTarget(this._config, e, t, !0);
            }
          }, {
            key: "get",
            value: function get(e) {
              return this._getFromSource(this._config, e);
            }
          }, {
            key: "names",
            value: /*#__PURE__*/regeneratorRuntime.mark(function names() {
              var _i4, _Object$keys, _e9;

              return regeneratorRuntime.wrap(function names$(_context) {
                while (1) {
                  switch (_context.prev = _context.next) {
                    case 0:
                      _i4 = 0, _Object$keys = Object.keys(this._config);

                    case 1:
                      if (!(_i4 < _Object$keys.length)) {
                        _context.next = 8;
                        break;
                      }

                      _e9 = _Object$keys[_i4];
                      _context.next = 5;
                      return _e9;

                    case 5:
                      _i4++;
                      _context.next = 1;
                      break;

                    case 8:
                    case "end":
                      return _context.stop();
                  }
                }
              }, names, this);
            })
          }, {
            key: "_setToTarget",
            value: function _setToTarget(e, t, n) {
              var i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;
              if (bt(t)) return void this._setObjectToTarget(e, t, i);
              var o = t.split(".");
              t = o.pop();

              var _iterator10 = _createForOfIteratorHelper(o),
                  _step10;

              try {
                for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {
                  var _t5 = _step10.value;
                  bt(e[_t5]) || (e[_t5] = {}), e = e[_t5];
                }
              } catch (err) {
                _iterator10.e(err);
              } finally {
                _iterator10.f();
              }

              if (bt(n)) return bt(e[t]) || (e[t] = {}), e = e[t], void this._setObjectToTarget(e, n, i);
              i && void 0 !== e[t] || (e[t] = n);
            }
          }, {
            key: "_getFromSource",
            value: function _getFromSource(e, t) {
              var n = t.split(".");
              t = n.pop();

              var _iterator11 = _createForOfIteratorHelper(n),
                  _step11;

              try {
                for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {
                  var _t6 = _step11.value;

                  if (!bt(e[_t6])) {
                    e = null;
                    break;
                  }

                  e = e[_t6];
                }
              } catch (err) {
                _iterator11.e(err);
              } finally {
                _iterator11.f();
              }

              return e ? Bi(e[t]) : void 0;
            }
          }, {
            key: "_setObjectToTarget",
            value: function _setObjectToTarget(e, t, n) {
              var _this9 = this;

              Object.keys(t).forEach(function (i) {
                _this9._setToTarget(e, i, t[i], n);
              });
            }
          }]);

          return Vi;
        }();

        function Bi(e) {
          return Li(e, Fi);
        }

        function Fi(e) {
          return zi(e) ? e : void 0;
        }

        function ji(e) {
          return !(!e || !e[Symbol.iterator]);
        }

        var Hi = /*#__PURE__*/function (_Symbol$iterator) {
          function Hi() {
            var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
            var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

            _classCallCheck(this, Hi);

            var n = ji(e);

            if (n || (t = e), this._items = [], this._itemMap = new Map(), this._idProperty = t.idProperty || "id", this._bindToExternalToInternalMap = new WeakMap(), this._bindToInternalToExternalMap = new WeakMap(), this._skippedIndexesFromExternal = [], n) {
              var _iterator12 = _createForOfIteratorHelper(e),
                  _step12;

              try {
                for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {
                  var _t7 = _step12.value;
                  this._items.push(_t7), this._itemMap.set(this._getItemIdBeforeAdding(_t7), _t7);
                }
              } catch (err) {
                _iterator12.e(err);
              } finally {
                _iterator12.f();
              }
            }
          }

          _createClass(Hi, [{
            key: "length",
            get: function get() {
              return this._items.length;
            }
          }, {
            key: "first",
            get: function get() {
              return this._items[0] || null;
            }
          }, {
            key: "last",
            get: function get() {
              return this._items[this.length - 1] || null;
            }
          }, {
            key: "add",
            value: function add(e, t) {
              return this.addMany([e], t);
            }
          }, {
            key: "addMany",
            value: function addMany(e, t) {
              if (void 0 === t) t = this._items.length;else if (t > this._items.length || t < 0) throw new c.a("collection-add-item-invalid-index", this);

              for (var _n6 = 0; _n6 < e.length; _n6++) {
                var _i5 = e[_n6],
                    _o4 = this._getItemIdBeforeAdding(_i5),
                    _r4 = t + _n6;

                this._items.splice(_r4, 0, _i5), this._itemMap.set(_o4, _i5), this.fire("add", _i5, _r4);
              }

              return this.fire("change", {
                added: e,
                removed: [],
                index: t
              }), this;
            }
          }, {
            key: "get",
            value: function get(e) {
              var t;
              if ("string" == typeof e) t = this._itemMap.get(e);else {
                if ("number" != typeof e) throw new c.a("collection-get-invalid-arg", this);
                t = this._items[e];
              }
              return t || null;
            }
          }, {
            key: "has",
            value: function has(e) {
              if ("string" == typeof e) return this._itemMap.has(e);
              {
                var _t8 = e[this._idProperty];
                return this._itemMap.has(_t8);
              }
            }
          }, {
            key: "getIndex",
            value: function getIndex(e) {
              var t;
              return t = "string" == typeof e ? this._itemMap.get(e) : e, this._items.indexOf(t);
            }
          }, {
            key: "remove",
            value: function remove(e) {
              var _this$_remove = this._remove(e),
                  _this$_remove2 = _slicedToArray(_this$_remove, 2),
                  t = _this$_remove2[0],
                  n = _this$_remove2[1];

              return this.fire("change", {
                added: [],
                removed: [t],
                index: n
              }), t;
            }
          }, {
            key: "map",
            value: function map(e, t) {
              return this._items.map(e, t);
            }
          }, {
            key: "find",
            value: function find(e, t) {
              return this._items.find(e, t);
            }
          }, {
            key: "filter",
            value: function filter(e, t) {
              return this._items.filter(e, t);
            }
          }, {
            key: "clear",
            value: function clear() {
              this._bindToCollection && (this.stopListening(this._bindToCollection), this._bindToCollection = null);
              var e = Array.from(this._items);

              for (; this.length;) {
                this._remove(0);
              }

              this.fire("change", {
                added: [],
                removed: e,
                index: 0
              });
            }
          }, {
            key: "bindTo",
            value: function bindTo(e) {
              var _this10 = this;

              if (this._bindToCollection) throw new c.a("collection-bind-to-rebind", this);
              return this._bindToCollection = e, {
                as: function as(e) {
                  _this10._setUpBindToBinding(function (t) {
                    return new e(t);
                  });
                },
                using: function using(e) {
                  "function" == typeof e ? _this10._setUpBindToBinding(function (t) {
                    return e(t);
                  }) : _this10._setUpBindToBinding(function (t) {
                    return t[e];
                  });
                }
              };
            }
          }, {
            key: "_setUpBindToBinding",
            value: function _setUpBindToBinding(e) {
              var _this11 = this;

              var t = this._bindToCollection,
                  n = function n(_n8, i, o) {
                var r = t._bindToCollection == _this11,
                    s = t._bindToInternalToExternalMap.get(i);

                if (r && s) _this11._bindToExternalToInternalMap.set(i, s), _this11._bindToInternalToExternalMap.set(s, i);else {
                  var _n7 = e(i);

                  if (!_n7) return void _this11._skippedIndexesFromExternal.push(o);
                  var _r5 = o;

                  var _iterator13 = _createForOfIteratorHelper(_this11._skippedIndexesFromExternal),
                      _step13;

                  try {
                    for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {
                      var _e11 = _step13.value;
                      o > _e11 && _r5--;
                    }
                  } catch (err) {
                    _iterator13.e(err);
                  } finally {
                    _iterator13.f();
                  }

                  var _iterator14 = _createForOfIteratorHelper(t._skippedIndexesFromExternal),
                      _step14;

                  try {
                    for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {
                      var _e12 = _step14.value;
                      _r5 >= _e12 && _r5++;
                    }
                  } catch (err) {
                    _iterator14.e(err);
                  } finally {
                    _iterator14.f();
                  }

                  _this11._bindToExternalToInternalMap.set(i, _n7), _this11._bindToInternalToExternalMap.set(_n7, i), _this11.add(_n7, _r5);

                  for (var _e10 = 0; _e10 < t._skippedIndexesFromExternal.length; _e10++) {
                    _r5 <= t._skippedIndexesFromExternal[_e10] && t._skippedIndexesFromExternal[_e10]++;
                  }
                }
              };

              var _iterator15 = _createForOfIteratorHelper(t),
                  _step15;

              try {
                for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {
                  var _e13 = _step15.value;
                  n(0, _e13, t.getIndex(_e13));
                }
              } catch (err) {
                _iterator15.e(err);
              } finally {
                _iterator15.f();
              }

              this.listenTo(t, "add", n), this.listenTo(t, "remove", function (e, t, n) {
                var i = _this11._bindToExternalToInternalMap.get(t);

                i && _this11.remove(i), _this11._skippedIndexesFromExternal = _this11._skippedIndexesFromExternal.reduce(function (e, t) {
                  return n < t && e.push(t - 1), n > t && e.push(t), e;
                }, []);
              });
            }
          }, {
            key: "_getItemIdBeforeAdding",
            value: function _getItemIdBeforeAdding(e) {
              var t = this._idProperty;
              var n;

              if (t in e) {
                if ("string" != typeof (n = e[t])) throw new c.a("collection-add-invalid-id", this);
                if (this.get(n)) throw new c.a("collection-add-item-already-exists", this);
              } else e[t] = n = s();

              return n;
            }
          }, {
            key: "_remove",
            value: function _remove(e) {
              var t,
                  n,
                  i,
                  o = !1;
              var r = this._idProperty;
              if ("string" == typeof e ? (n = e, o = !(i = this._itemMap.get(n)), i && (t = this._items.indexOf(i))) : "number" == typeof e ? (t = e, o = !(i = this._items[t]), i && (n = i[r])) : (n = (i = e)[r], o = -1 == (t = this._items.indexOf(i)) || !this._itemMap.get(n)), o) throw new c.a("collection-remove-404", this);
              this._items.splice(t, 1), this._itemMap["delete"](n);

              var s = this._bindToInternalToExternalMap.get(i);

              return this._bindToInternalToExternalMap["delete"](i), this._bindToExternalToInternalMap["delete"](s), this.fire("remove", i, t), [i, t];
            }
          }, {
            key: _Symbol$iterator,
            value: function value() {
              return this._items[Symbol.iterator]();
            }
          }]);

          return Hi;
        }(Symbol.iterator);

        rt(Hi, u);

        var Ui = /*#__PURE__*/function (_Symbol$iterator2) {
          function Ui(e) {
            var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
            var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];

            _classCallCheck(this, Ui);

            this._context = e, this._plugins = new Map(), this._availablePlugins = new Map();

            var _iterator16 = _createForOfIteratorHelper(t),
                _step16;

            try {
              for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {
                var _e14 = _step16.value;
                _e14.pluginName && this._availablePlugins.set(_e14.pluginName, _e14);
              }
            } catch (err) {
              _iterator16.e(err);
            } finally {
              _iterator16.f();
            }

            this._contextPlugins = new Map();

            var _iterator17 = _createForOfIteratorHelper(n),
                _step17;

            try {
              for (_iterator17.s(); !(_step17 = _iterator17.n()).done;) {
                var _step17$value = _slicedToArray(_step17.value, 2),
                    _e15 = _step17$value[0],
                    _t9 = _step17$value[1];

                this._contextPlugins.set(_e15, _t9), this._contextPlugins.set(_t9, _e15), _e15.pluginName && this._availablePlugins.set(_e15.pluginName, _e15);
              }
            } catch (err) {
              _iterator17.e(err);
            } finally {
              _iterator17.f();
            }
          }

          _createClass(Ui, [{
            key: _Symbol$iterator2,
            value: /*#__PURE__*/regeneratorRuntime.mark(function value() {
              var _iterator18, _step18, _e16;

              return regeneratorRuntime.wrap(function value$(_context2) {
                while (1) {
                  switch (_context2.prev = _context2.next) {
                    case 0:
                      _iterator18 = _createForOfIteratorHelper(this._plugins);
                      _context2.prev = 1;

                      _iterator18.s();

                    case 3:
                      if ((_step18 = _iterator18.n()).done) {
                        _context2.next = 11;
                        break;
                      }

                      _e16 = _step18.value;
                      _context2.t0 = "function" == typeof _e16[0];

                      if (!_context2.t0) {
                        _context2.next = 9;
                        break;
                      }

                      _context2.next = 9;
                      return _e16;

                    case 9:
                      _context2.next = 3;
                      break;

                    case 11:
                      _context2.next = 16;
                      break;

                    case 13:
                      _context2.prev = 13;
                      _context2.t1 = _context2["catch"](1);

                      _iterator18.e(_context2.t1);

                    case 16:
                      _context2.prev = 16;

                      _iterator18.f();

                      return _context2.finish(16);

                    case 19:
                    case "end":
                      return _context2.stop();
                  }
                }
              }, value, this, [[1, 13, 16, 19]]);
            })
          }, {
            key: "get",
            value: function get(e) {
              var t = this._plugins.get(e);

              if (!t) {
                var _t10 = e;
                throw "function" == typeof e && (_t10 = e.pluginName || e.name), new c.a("plugincollection-plugin-not-loaded", this._context, {
                  plugin: _t10
                });
              }

              return t;
            }
          }, {
            key: "has",
            value: function has(e) {
              return this._plugins.has(e);
            }
          }, {
            key: "init",
            value: function init(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
              var i = this,
                  o = this._context;
              !function e(t) {
                var n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Set();
                t.forEach(function (t) {
                  a(t) && (n.has(t) || (n.add(t), t.pluginName && !i._availablePlugins.has(t.pluginName) && i._availablePlugins.set(t.pluginName, t), t.requires && e(t.requires, n)));
                });
              }(e), h(e);

              var r = _toConsumableArray(function e(t) {
                var n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Set();
                return t.map(function (e) {
                  return a(e) ? e : i._availablePlugins.get(e);
                }).reduce(function (t, i) {
                  return n.has(i) ? t : (n.add(i), i.requires && (h(i.requires, i), e(i.requires, n).forEach(function (e) {
                    return t.add(e);
                  })), t.add(i));
                }, new Set());
              }(e.filter(function (e) {
                return !d(e, t);
              })));

              !function (e, t) {
                var _iterator19 = _createForOfIteratorHelper(t),
                    _step19;

                try {
                  for (_iterator19.s(); !(_step19 = _iterator19.n()).done;) {
                    var _n9 = _step19.value;
                    if ("function" != typeof _n9) throw new c.a("plugincollection-replace-plugin-invalid-type", null, {
                      pluginItem: _n9
                    });
                    var _t11 = _n9.pluginName;
                    if (!_t11) throw new c.a("plugincollection-replace-plugin-missing-name", null, {
                      pluginItem: _n9
                    });
                    if (_n9.requires && _n9.requires.length) throw new c.a("plugincollection-plugin-for-replacing-cannot-have-dependencies", null, {
                      pluginName: _t11
                    });

                    var _o5 = i._availablePlugins.get(_t11);

                    if (!_o5) throw new c.a("plugincollection-plugin-for-replacing-not-exist", null, {
                      pluginName: _t11
                    });

                    var _r6 = e.indexOf(_o5);

                    if (-1 === _r6) {
                      if (i._contextPlugins.has(_o5)) return;
                      throw new c.a("plugincollection-plugin-for-replacing-not-loaded", null, {
                        pluginName: _t11
                      });
                    }

                    if (_o5.requires && _o5.requires.length) throw new c.a("plugincollection-replaced-plugin-cannot-have-dependencies", null, {
                      pluginName: _t11
                    });
                    e.splice(_r6, 1, _n9), i._availablePlugins.set(_t11, _n9);
                  }
                } catch (err) {
                  _iterator19.e(err);
                } finally {
                  _iterator19.f();
                }
              }(r, n);

              var s = function (e) {
                return e.map(function (e) {
                  var t = i._contextPlugins.get(e) || new e(o);
                  return i._add(e, t), t;
                });
              }(r);

              return g(s, "init").then(function () {
                return g(s, "afterInit");
              }).then(function () {
                return s;
              });

              function a(e) {
                return "function" == typeof e;
              }

              function l(e) {
                return a(e) && e.isContextPlugin;
              }

              function d(e, t) {
                return t.some(function (t) {
                  return t === e || u(e) === t || u(t) === e;
                });
              }

              function u(e) {
                return a(e) ? e.pluginName || e.name : e;
              }

              function h(e) {
                var n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                e.map(function (e) {
                  return a(e) ? e : i._availablePlugins.get(e) || e;
                }).forEach(function (e) {
                  !function (e, t) {
                    if (a(e)) return;
                    if (t) throw new c.a("plugincollection-soft-required", o, {
                      missingPlugin: e,
                      requiredBy: u(t)
                    });
                    throw new c.a("plugincollection-plugin-not-found", o, {
                      plugin: e
                    });
                  }(e, n), function (e, t) {
                    if (!l(t)) return;
                    if (l(e)) return;
                    throw new c.a("plugincollection-context-required", o, {
                      plugin: u(e),
                      requiredBy: u(t)
                    });
                  }(e, n), function (e, n) {
                    if (!n) return;
                    if (!d(e, t)) return;
                    throw new c.a("plugincollection-required", o, {
                      plugin: u(e),
                      requiredBy: u(n)
                    });
                  }(e, n);
                });
              }

              function g(e, t) {
                return e.reduce(function (e, n) {
                  return n[t] ? i._contextPlugins.has(n) ? e : e.then(n[t].bind(n)) : e;
                }, Promise.resolve());
              }
            }
          }, {
            key: "destroy",
            value: function destroy() {
              var e = [];

              var _iterator20 = _createForOfIteratorHelper(this),
                  _step20;

              try {
                for (_iterator20.s(); !(_step20 = _iterator20.n()).done;) {
                  var _step20$value = _slicedToArray(_step20.value, 2),
                      _t12 = _step20$value[1];

                  "function" != typeof _t12.destroy || this._contextPlugins.has(_t12) || e.push(_t12.destroy());
                }
              } catch (err) {
                _iterator20.e(err);
              } finally {
                _iterator20.f();
              }

              return Promise.all(e);
            }
          }, {
            key: "_add",
            value: function _add(e, t) {
              this._plugins.set(e, t);

              var n = e.pluginName;

              if (n) {
                if (this._plugins.has(n)) throw new c.a("plugincollection-plugin-name-conflict", null, {
                  pluginName: n,
                  plugin1: this._plugins.get(n).constructor,
                  plugin2: e
                });

                this._plugins.set(n, t);
              }
            }
          }]);

          return Ui;
        }(Symbol.iterator);

        function Wi(e) {
          return Array.isArray(e) ? e : [e];
        }

        function qi(e, t) {
          var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;
          if ("number" != typeof n) throw new c.a("translation-service-quantity-not-a-number", null, {
            quantity: n
          });
          var i = Object.keys(window.CKEDITOR_TRANSLATIONS).length;
          1 === i && (e = Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);
          var o = t.id || t.string;
          if (0 === i || !function (e, t) {
            return !!window.CKEDITOR_TRANSLATIONS[e] && !!window.CKEDITOR_TRANSLATIONS[e].dictionary[t];
          }(e, o)) return 1 !== n ? t.plural : t.string;

          var r = window.CKEDITOR_TRANSLATIONS[e].dictionary,
              s = window.CKEDITOR_TRANSLATIONS[e].getPluralForm || function (e) {
            return 1 === e ? 0 : 1;
          };

          if ("string" == typeof r[o]) return r[o];
          var a = Number(s(n));
          return r[o][a];
        }

        rt(Ui, u), window.CKEDITOR_TRANSLATIONS || (window.CKEDITOR_TRANSLATIONS = {});
        var $i = ["ar", "ara", "fa", "per", "fas", "he", "heb", "ku", "kur", "ug", "uig"];

        function Gi(e) {
          return $i.includes(e) ? "rtl" : "ltr";
        }

        var Yi = /*#__PURE__*/function () {
          function Yi() {
            var _this12 = this;

            var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

            _classCallCheck(this, Yi);

            this.uiLanguage = e.uiLanguage || "en", this.contentLanguage = e.contentLanguage || this.uiLanguage, this.uiLanguageDirection = Gi(this.uiLanguage), this.contentLanguageDirection = Gi(this.contentLanguage), this.t = function (e, t) {
              return _this12._t(e, t);
            };
          }

          _createClass(Yi, [{
            key: "language",
            get: function get() {
              return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."), this.uiLanguage;
            }
          }, {
            key: "_t",
            value: function _t(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
              t = Wi(t), "string" == typeof e && (e = {
                string: e
              });
              var n = !!e.plural ? t[0] : 1;
              return function (e, t) {
                return e.replace(/%(\d+)/g, function (e, n) {
                  return n < t.length ? t[n] : e;
                });
              }(qi(this.uiLanguage, e, n), t);
            }
          }]);

          return Yi;
        }();

        var Ki = /*#__PURE__*/function () {
          function Ki(e) {
            _classCallCheck(this, Ki);

            this.config = new Vi(e, this.constructor.defaultConfig);
            var t = this.constructor.builtinPlugins;
            this.config.define("plugins", t), this.plugins = new Ui(this, t);
            var n = this.config.get("language") || {};
            this.locale = new Yi({
              uiLanguage: "string" == typeof n ? n : n.ui,
              contentLanguage: this.config.get("language.content")
            }), this.t = this.locale.t, this.editors = new Hi(), this._contextOwner = null;
          }

          _createClass(Ki, [{
            key: "initPlugins",
            value: function initPlugins() {
              var e = this.config.get("plugins") || [],
                  t = this.config.get("substitutePlugins") || [];

              var _iterator21 = _createForOfIteratorHelper(e.concat(t)),
                  _step21;

              try {
                for (_iterator21.s(); !(_step21 = _iterator21.n()).done;) {
                  var _n10 = _step21.value;
                  if ("function" != typeof _n10) throw new c.a("context-initplugins-constructor-only", null, {
                    Plugin: _n10
                  });
                  if (!0 !== _n10.isContextPlugin) throw new c.a("context-initplugins-invalid-plugin", null, {
                    Plugin: _n10
                  });
                }
              } catch (err) {
                _iterator21.e(err);
              } finally {
                _iterator21.f();
              }

              return this.plugins.init(e, [], t);
            }
          }, {
            key: "destroy",
            value: function destroy() {
              var _this13 = this;

              return Promise.all(Array.from(this.editors, function (e) {
                return e.destroy();
              })).then(function () {
                return _this13.plugins.destroy();
              });
            }
          }, {
            key: "_addEditor",
            value: function _addEditor(e, t) {
              if (this._contextOwner) throw new c.a("context-addeditor-private-context");
              this.editors.add(e), t && (this._contextOwner = e);
            }
          }, {
            key: "_removeEditor",
            value: function _removeEditor(e) {
              return this.editors.has(e) && this.editors.remove(e), this._contextOwner === e ? this.destroy() : Promise.resolve();
            }
          }, {
            key: "_getEditorConfig",
            value: function _getEditorConfig() {
              var e = {};

              var _iterator22 = _createForOfIteratorHelper(this.config.names()),
                  _step22;

              try {
                for (_iterator22.s(); !(_step22 = _iterator22.n()).done;) {
                  var _t13 = _step22.value;
                  ["plugins", "removePlugins", "extraPlugins"].includes(_t13) || (e[_t13] = this.config.get(_t13));
                }
              } catch (err) {
                _iterator22.e(err);
              } finally {
                _iterator22.f();
              }

              return e;
            }
          }], [{
            key: "create",
            value: function create(e) {
              var _this14 = this;

              return new Promise(function (t) {
                var n = new _this14(e);
                t(n.initPlugins().then(function () {
                  return n;
                }));
              });
            }
          }]);

          return Ki;
        }();

        var Qi = /*#__PURE__*/function () {
          function Qi(e) {
            _classCallCheck(this, Qi);

            this.context = e;
          }

          _createClass(Qi, [{
            key: "destroy",
            value: function destroy() {
              this.stopListening();
            }
          }], [{
            key: "isContextPlugin",
            get: function get() {
              return !0;
            }
          }]);

          return Qi;
        }();

        function Ji(e, t) {
          var n = Math.min(e.length, t.length);

          for (var _i6 = 0; _i6 < n; _i6++) {
            if (e[_i6] != t[_i6]) return _i6;
          }

          return e.length == t.length ? "same" : e.length < t.length ? "prefix" : "extension";
        }

        rt(Qi, Ze);
        var Xi = 4;

        var Zi = function Zi(e) {
          return Ni(e, Xi);
        };

        var eo = /*#__PURE__*/function () {
          function eo(e) {
            _classCallCheck(this, eo);

            this.document = e, this.parent = null;
          }

          _createClass(eo, [{
            key: "index",
            get: function get() {
              var e;
              if (!this.parent) return null;
              if (-1 == (e = this.parent.getChildIndex(this))) throw new c.a("view-node-not-found-in-parent", this);
              return e;
            }
          }, {
            key: "nextSibling",
            get: function get() {
              var e = this.index;
              return null !== e && this.parent.getChild(e + 1) || null;
            }
          }, {
            key: "previousSibling",
            get: function get() {
              var e = this.index;
              return null !== e && this.parent.getChild(e - 1) || null;
            }
          }, {
            key: "root",
            get: function get() {
              var e = this;

              for (; e.parent;) {
                e = e.parent;
              }

              return e;
            }
          }, {
            key: "isAttached",
            value: function isAttached() {
              return this.root.is("rootElement");
            }
          }, {
            key: "getPath",
            value: function getPath() {
              var e = [];
              var t = this;

              for (; t.parent;) {
                e.unshift(t.index), t = t.parent;
              }

              return e;
            }
          }, {
            key: "getAncestors",
            value: function getAncestors() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {
                includeSelf: !1,
                parentFirst: !1
              };
              var t = [];
              var n = e.includeSelf ? this : this.parent;

              for (; n;) {
                t[e.parentFirst ? "push" : "unshift"](n), n = n.parent;
              }

              return t;
            }
          }, {
            key: "getCommonAncestor",
            value: function getCommonAncestor(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
              var n = this.getAncestors(t),
                  i = e.getAncestors(t);
              var o = 0;

              for (; n[o] == i[o] && n[o];) {
                o++;
              }

              return 0 === o ? null : n[o - 1];
            }
          }, {
            key: "isBefore",
            value: function isBefore(e) {
              if (this == e) return !1;
              if (this.root !== e.root) return !1;
              var t = this.getPath(),
                  n = e.getPath(),
                  i = Ji(t, n);

              switch (i) {
                case "prefix":
                  return !0;

                case "extension":
                  return !1;

                default:
                  return t[i] < n[i];
              }
            }
          }, {
            key: "isAfter",
            value: function isAfter(e) {
              return this != e && this.root === e.root && !this.isBefore(e);
            }
          }, {
            key: "_remove",
            value: function _remove() {
              this.parent._removeChildren(this.index);
            }
          }, {
            key: "_fireChange",
            value: function _fireChange(e, t) {
              this.fire("change:" + e, t), this.parent && this.parent._fireChange(e, t);
            }
          }, {
            key: "toJSON",
            value: function toJSON() {
              var e = Zi(this);
              return delete e.parent, e;
            }
          }, {
            key: "is",
            value: function is(e) {
              return "node" === e || "view:node" === e;
            }
          }]);

          return eo;
        }();

        rt(eo, u);

        var to = /*#__PURE__*/function (_eo) {
          _inherits(to, _eo);

          var _super2 = _createSuper(to);

          function to(e, t) {
            var _this15;

            _classCallCheck(this, to);

            _this15 = _super2.call(this, e), _this15._textData = t;
            return _this15;
          }

          _createClass(to, [{
            key: "is",
            value: function is(e) {
              return "$text" === e || "view:$text" === e || "text" === e || "view:text" === e || "node" === e || "view:node" === e;
            }
          }, {
            key: "data",
            get: function get() {
              return this._textData;
            }
          }, {
            key: "_data",
            get: function get() {
              return this.data;
            },
            set: function set(e) {
              this._fireChange("text", this), this._textData = e;
            }
          }, {
            key: "isSimilar",
            value: function isSimilar(e) {
              return e instanceof to && (this === e || this.data === e.data);
            }
          }, {
            key: "_clone",
            value: function _clone() {
              return new to(this.document, this.data);
            }
          }]);

          return to;
        }(eo);

        var no = /*#__PURE__*/function () {
          function no(e, t, n) {
            _classCallCheck(this, no);

            if (this.textNode = e, t < 0 || t > e.data.length) throw new c.a("view-textproxy-wrong-offsetintext", this);
            if (n < 0 || t + n > e.data.length) throw new c.a("view-textproxy-wrong-length", this);
            this.data = e.data.substring(t, t + n), this.offsetInText = t;
          }

          _createClass(no, [{
            key: "offsetSize",
            get: function get() {
              return this.data.length;
            }
          }, {
            key: "isPartial",
            get: function get() {
              return this.data.length !== this.textNode.data.length;
            }
          }, {
            key: "parent",
            get: function get() {
              return this.textNode.parent;
            }
          }, {
            key: "root",
            get: function get() {
              return this.textNode.root;
            }
          }, {
            key: "document",
            get: function get() {
              return this.textNode.document;
            }
          }, {
            key: "is",
            value: function is(e) {
              return "$textProxy" === e || "view:$textProxy" === e || "textProxy" === e || "view:textProxy" === e;
            }
          }, {
            key: "getAncestors",
            value: function getAncestors() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {
                includeSelf: !1,
                parentFirst: !1
              };
              var t = [];
              var n = e.includeSelf ? this.textNode : this.parent;

              for (; null !== n;) {
                t[e.parentFirst ? "push" : "unshift"](n), n = n.parent;
              }

              return t;
            }
          }]);

          return no;
        }();

        function io(e) {
          return ji(e) ? new Map(e) : function (e) {
            var t = new Map();

            for (var _n11 in e) {
              t.set(_n11, e[_n11]);
            }

            return t;
          }(e);
        }

        var oo = /*#__PURE__*/function () {
          function oo() {
            _classCallCheck(this, oo);

            this._patterns = [], this.add.apply(this, arguments);
          }

          _createClass(oo, [{
            key: "add",
            value: function add() {
              for (var _len9 = arguments.length, e = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
                e[_key9] = arguments[_key9];
              }

              for (var _i7 = 0, _e17 = e; _i7 < _e17.length; _i7++) {
                var _t14 = _e17[_i7];
                ("string" == typeof _t14 || _t14 instanceof RegExp) && (_t14 = {
                  name: _t14
                }), this._patterns.push(_t14);
              }
            }
          }, {
            key: "match",
            value: function match() {
              for (var _len10 = arguments.length, e = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {
                e[_key10] = arguments[_key10];
              }

              for (var _i8 = 0, _e18 = e; _i8 < _e18.length; _i8++) {
                var _t15 = _e18[_i8];

                var _iterator23 = _createForOfIteratorHelper(this._patterns),
                    _step23;

                try {
                  for (_iterator23.s(); !(_step23 = _iterator23.n()).done;) {
                    var _e19 = _step23.value;

                    var _n12 = ro(_t15, _e19);

                    if (_n12) return {
                      element: _t15,
                      pattern: _e19,
                      match: _n12
                    };
                  }
                } catch (err) {
                  _iterator23.e(err);
                } finally {
                  _iterator23.f();
                }
              }

              return null;
            }
          }, {
            key: "matchAll",
            value: function matchAll() {
              var t = [];

              for (var _len11 = arguments.length, e = new Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {
                e[_key11] = arguments[_key11];
              }

              for (var _i9 = 0, _e20 = e; _i9 < _e20.length; _i9++) {
                var _n13 = _e20[_i9];

                var _iterator24 = _createForOfIteratorHelper(this._patterns),
                    _step24;

                try {
                  for (_iterator24.s(); !(_step24 = _iterator24.n()).done;) {
                    var _e21 = _step24.value;

                    var _i10 = ro(_n13, _e21);

                    _i10 && t.push({
                      element: _n13,
                      pattern: _e21,
                      match: _i10
                    });
                  }
                } catch (err) {
                  _iterator24.e(err);
                } finally {
                  _iterator24.f();
                }
              }

              return t.length > 0 ? t : null;
            }
          }, {
            key: "getElementName",
            value: function getElementName() {
              if (1 !== this._patterns.length) return null;
              var e = this._patterns[0],
                  t = e.name;
              return "function" == typeof e || !t || t instanceof RegExp ? null : t;
            }
          }]);

          return oo;
        }();

        function ro(e, t) {
          if ("function" == typeof t) return t(e);
          var n = {};
          return t.name && (n.name = function (e, t) {
            if (e instanceof RegExp) return !!t.match(e);
            return e === t;
          }(t.name, e.name), !n.name) ? null : t.attributes && (n.attributes = function (e, t) {
            var n = new Set(t.getAttributeKeys());
            bt(e) ? (void 0 !== e.style && Object(c.b)("matcher-pattern-deprecated-attributes-style-key", e), void 0 !== e["class"] && Object(c.b)("matcher-pattern-deprecated-attributes-class-key", e)) : (n["delete"]("style"), n["delete"]("class"));
            return so(e, n, function (e) {
              return t.getAttribute(e);
            });
          }(t.attributes, e), !n.attributes) ? null : !(t.classes && (n.classes = function (e, t) {
            return so(e, t.getClassNames());
          }(t.classes, e), !n.classes)) && !(t.styles && (n.styles = function (e, t) {
            return so(e, t.getStyleNames(!0), function (e) {
              return t.getStyle(e);
            });
          }(t.styles, e), !n.styles)) && n;
        }

        function so(e, t, n) {
          var i = function (e) {
            if (Array.isArray(e)) return e.map(function (e) {
              return bt(e) ? (void 0 !== e.key && void 0 !== e.value || Object(c.b)("matcher-pattern-missing-key-or-value", e), [e.key, e.value]) : [e, !0];
            });
            if (bt(e)) return Object.entries(e);
            return [[e, !0]];
          }(e),
              o = Array.from(t),
              r = [];

          return i.forEach(function (_ref2) {
            var _ref3 = _slicedToArray(_ref2, 2),
                e = _ref3[0],
                t = _ref3[1];

            o.forEach(function (i) {
              (function (e, t) {
                return !0 === e || e === t || e instanceof RegExp && t.match(e);
              })(e, i) && function (e, t, n) {
                if (!0 === e) return !0;
                var i = n(t);
                return e === i || e instanceof RegExp && !!String(i).match(e);
              }(t, i, n) && r.push(i);
            });
          }), !i.length || r.length < i.length ? null : r;
        }

        var ao = "[object Symbol]";

        var co = function co(e) {
          return "symbol" == typeof e || ye(e) && P(e) == ao;
        },
            lo = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
            uo = /^\w*$/;

        var ho = function ho(e, t) {
          if (Me(e)) return !1;
          var n = typeof e;
          return !("number" != n && "symbol" != n && "boolean" != n && null != e && !co(e)) || uo.test(e) || !lo.test(e) || null != t && e in Object(t);
        },
            go = "Expected a function";

        function mo(e, t) {
          if ("function" != typeof e || null != t && "function" != typeof t) throw new TypeError(go);

          var n = function n() {
            var i = arguments,
                o = t ? t.apply(this, i) : i[0],
                r = n.cache;
            if (r.has(o)) return r.get(o);
            var s = e.apply(this, i);
            return n.cache = r.set(o, s) || r, s;
          };

          return n.cache = new (mo.Cache || Zt)(), n;
        }

        mo.Cache = Zt;
        var fo = mo,
            po = 500;

        var ko = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
            bo = /\\(\\)?/g,
            wo = function (e) {
          var t = fo(e, function (e) {
            return n.size === po && n.clear(), e;
          }),
              n = t.cache;
          return t;
        }(function (e) {
          var t = [];
          return 46 === e.charCodeAt(0) && t.push(""), e.replace(ko, function (e, n, i, o) {
            t.push(i ? o.replace(bo, "$1") : n || e);
          }), t;
        });

        var _o = function _o(e, t) {
          for (var n = -1, i = null == e ? 0 : e.length, o = Array(i); ++n < i;) {
            o[n] = t(e[n], n, e);
          }

          return o;
        },
            vo = 1 / 0,
            xo = _ ? _.prototype : void 0,
            yo = xo ? xo.toString : void 0;

        var Co = function e(t) {
          if ("string" == typeof t) return t;
          if (Me(t)) return _o(t, e) + "";
          if (co(t)) return yo ? yo.call(t) : "";
          var n = t + "";
          return "0" == n && 1 / t == -vo ? "-0" : n;
        };

        var To = function To(e) {
          return null == e ? "" : Co(e);
        };

        var Ao = function Ao(e, t) {
          return Me(e) ? e : ho(e, t) ? [e] : wo(To(e));
        };

        var Eo = function Eo(e) {
          var t = null == e ? 0 : e.length;
          return t ? e[t - 1] : void 0;
        },
            Io = 1 / 0;

        var So = function So(e) {
          if ("string" == typeof e || co(e)) return e;
          var t = e + "";
          return "0" == t && 1 / e == -Io ? "-0" : t;
        };

        var Mo = function Mo(e, t) {
          for (var n = 0, i = (t = Ao(t, e)).length; null != e && n < i;) {
            e = e[So(t[n++])];
          }

          return n && n == i ? e : void 0;
        };

        var Po = function Po(e, t, n) {
          var i = -1,
              o = e.length;
          t < 0 && (t = -t > o ? 0 : o + t), (n = n > o ? o : n) < 0 && (n += o), o = t > n ? 0 : n - t >>> 0, t >>>= 0;

          for (var r = Array(o); ++i < o;) {
            r[i] = e[i + t];
          }

          return r;
        };

        var Ro = function Ro(e, t) {
          return t.length < 2 ? e : Mo(e, Po(t, 0, -1));
        };

        var No = function No(e, t) {
          return t = Ao(t, e), null == (e = Ro(e, t)) || delete e[So(Eo(t))];
        };

        var Oo = function Oo(e, t) {
          return null == e || No(e, t);
        };

        var Do = function Do(e, t, n) {
          var i = null == e ? void 0 : Mo(e, t);
          return void 0 === i ? n : i;
        };

        var Lo = function Lo(e, t, n) {
          (void 0 === n || Z(e[t], n)) && (void 0 !== n || t in e) || X(e, t, n);
        };

        var zo = function (e) {
          return function (t, n, i) {
            for (var o = -1, r = Object(t), s = i(t), a = s.length; a--;) {
              var c = s[e ? a : ++o];
              if (!1 === n(r[c], c, r)) break;
            }

            return t;
          };
        }();

        var Vo = function Vo(e) {
          return ye(e) && pe(e);
        };

        var Bo = function Bo(e, t) {
          if (("constructor" !== t || "function" != typeof e[t]) && "__proto__" != t) return e[t];
        };

        var Fo = function Fo(e) {
          return ne(e, qe(e));
        };

        var jo = function jo(e, t, n, i, o, r, s) {
          var a = Bo(e, n),
              c = Bo(t, n),
              l = s.get(c);
          if (l) Lo(e, n, l);else {
            var d = r ? r(a, c, n + "", e, t, s) : void 0,
                u = void 0 === d;

            if (u) {
              var h = Me(c),
                  g = !h && Object(Pe.a)(c),
                  m = !h && !g && ze(c);
              d = c, h || g || m ? Me(a) ? d = a : Vo(a) ? d = gn(a) : g ? (u = !1, d = Object(hn.a)(c, !0)) : m ? (u = !1, d = Gn(c, !0)) : d = [] : bt(c) || Se(c) ? (d = a, Se(a) ? d = Fo(a) : b(a) && !L(a) || (d = pi(c))) : u = !1;
            }

            u && (s.set(c, d), o(d, c, i, r, s), s["delete"](c)), Lo(e, n, d);
          }
        };

        var Ho = function e(t, n, i, o, r) {
          t !== n && zo(n, function (s, a) {
            if (r || (r = new on()), b(s)) jo(t, n, a, i, e, o, r);else {
              var c = o ? o(Bo(t, a), s, a + "", t, n, r) : void 0;
              void 0 === c && (c = s), Lo(t, a, c);
            }
          }, qe);
        },
            Uo = ve(function (e, t, n) {
          Ho(e, t, n);
        });

        var Wo = function Wo(e, t, n, i) {
          if (!b(e)) return e;

          for (var o = -1, r = (t = Ao(t, e)).length, s = r - 1, a = e; null != a && ++o < r;) {
            var c = So(t[o]),
                l = n;
            if ("__proto__" === c || "constructor" === c || "prototype" === c) return e;

            if (o != s) {
              var d = a[c];
              void 0 === (l = i ? i(d, c, a) : void 0) && (l = b(d) ? d : we(t[o + 1]) ? [] : {});
            }

            te(a, c, l), a = a[c];
          }

          return e;
        };

        var qo = function qo(e, t, n) {
          return null == e ? e : Wo(e, t, n);
        };

        var $o = /*#__PURE__*/function () {
          function $o(e) {
            _classCallCheck(this, $o);

            this._styles = {}, this._styleProcessor = e;
          }

          _createClass($o, [{
            key: "isEmpty",
            get: function get() {
              var e = Object.entries(this._styles);
              return !Array.from(e).length;
            }
          }, {
            key: "size",
            get: function get() {
              return this.isEmpty ? 0 : this.getStyleNames().length;
            }
          }, {
            key: "setTo",
            value: function setTo(e) {
              this.clear();
              var t = Array.from(function (e) {
                var t = null,
                    n = 0,
                    i = 0,
                    o = null;
                var r = new Map();
                if ("" === e) return r;
                ";" != e.charAt(e.length - 1) && (e += ";");

                for (var _s2 = 0; _s2 < e.length; _s2++) {
                  var _a2 = e.charAt(_s2);

                  if (null === t) switch (_a2) {
                    case ":":
                      o || (o = e.substr(n, _s2 - n), i = _s2 + 1);
                      break;

                    case '"':
                    case "'":
                      t = _a2;
                      break;

                    case ";":
                      {
                        var _t16 = e.substr(i, _s2 - i);

                        o && r.set(o.trim(), _t16.trim()), o = null, n = _s2 + 1;
                        break;
                      }
                  } else _a2 === t && (t = null);
                }

                return r;
              }(e).entries());

              for (var _i11 = 0, _t17 = t; _i11 < _t17.length; _i11++) {
                var _t17$_i = _slicedToArray(_t17[_i11], 2),
                    _e22 = _t17$_i[0],
                    _n14 = _t17$_i[1];

                this._styleProcessor.toNormalizedForm(_e22, _n14, this._styles);
              }
            }
          }, {
            key: "has",
            value: function has(e) {
              if (this.isEmpty) return !1;

              var t = this._styleProcessor.getReducedForm(e, this._styles).find(function (_ref4) {
                var _ref5 = _slicedToArray(_ref4, 1),
                    t = _ref5[0];

                return t === e;
              });

              return Array.isArray(t);
            }
          }, {
            key: "set",
            value: function set(e, t) {
              if (b(e)) for (var _i12 = 0, _Object$entries = Object.entries(e); _i12 < _Object$entries.length; _i12++) {
                var _Object$entries$_i = _slicedToArray(_Object$entries[_i12], 2),
                    _t18 = _Object$entries$_i[0],
                    _n15 = _Object$entries$_i[1];

                this._styleProcessor.toNormalizedForm(_t18, _n15, this._styles);
              } else this._styleProcessor.toNormalizedForm(e, t, this._styles);
            }
          }, {
            key: "remove",
            value: function remove(e) {
              var t = Yo(e);
              Oo(this._styles, t), delete this._styles[e], this._cleanEmptyObjectsOnPath(t);
            }
          }, {
            key: "getNormalized",
            value: function getNormalized(e) {
              return this._styleProcessor.getNormalized(e, this._styles);
            }
          }, {
            key: "toString",
            value: function toString() {
              return this.isEmpty ? "" : this._getStylesEntries().map(function (e) {
                return e.join(":");
              }).sort().join(";") + ";";
            }
          }, {
            key: "getAsString",
            value: function getAsString(e) {
              if (this.isEmpty) return;
              if (this._styles[e] && !b(this._styles[e])) return this._styles[e];

              var t = this._styleProcessor.getReducedForm(e, this._styles).find(function (_ref6) {
                var _ref7 = _slicedToArray(_ref6, 1),
                    t = _ref7[0];

                return t === e;
              });

              return Array.isArray(t) ? t[1] : void 0;
            }
          }, {
            key: "getStyleNames",
            value: function getStyleNames() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;
              if (this.isEmpty) return [];
              if (e) return this._styleProcessor.getStyleNames(this._styles);
              return this._getStylesEntries().map(function (_ref8) {
                var _ref9 = _slicedToArray(_ref8, 1),
                    e = _ref9[0];

                return e;
              });
            }
          }, {
            key: "clear",
            value: function clear() {
              this._styles = {};
            }
          }, {
            key: "_getStylesEntries",
            value: function _getStylesEntries() {
              var e = [],
                  t = Object.keys(this._styles);

              for (var _i13 = 0, _t19 = t; _i13 < _t19.length; _i13++) {
                var _n16 = _t19[_i13];
                e.push.apply(e, _toConsumableArray(this._styleProcessor.getReducedForm(_n16, this._styles)));
              }

              return e;
            }
          }, {
            key: "_cleanEmptyObjectsOnPath",
            value: function _cleanEmptyObjectsOnPath(e) {
              var t = e.split(".");
              if (!(t.length > 1)) return;
              var n = t.splice(0, t.length - 1).join("."),
                  i = Do(this._styles, n);
              i && !Array.from(Object.keys(i)).length && this.remove(n);
            }
          }]);

          return $o;
        }();

        var Go = /*#__PURE__*/function () {
          function Go() {
            _classCallCheck(this, Go);

            this._normalizers = new Map(), this._extractors = new Map(), this._reducers = new Map(), this._consumables = new Map();
          }

          _createClass(Go, [{
            key: "toNormalizedForm",
            value: function toNormalizedForm(e, t, n) {
              if (b(t)) Ko(n, Yo(e), t);else if (this._normalizers.has(e)) {
                var _i14 = this._normalizers.get(e),
                    _i15 = _i14(t),
                    _o6 = _i15.path,
                    _r7 = _i15.value;

                Ko(n, _o6, _r7);
              } else Ko(n, e, t);
            }
          }, {
            key: "getNormalized",
            value: function getNormalized(e, t) {
              if (!e) return Uo({}, t);
              if (void 0 !== t[e]) return t[e];

              if (this._extractors.has(e)) {
                var _n17 = this._extractors.get(e);

                if ("string" == typeof _n17) return Do(t, _n17);

                var _i16 = _n17(e, t);

                if (_i16) return _i16;
              }

              return Do(t, Yo(e));
            }
          }, {
            key: "getReducedForm",
            value: function getReducedForm(e, t) {
              var n = this.getNormalized(e, t);
              if (void 0 === n) return [];

              if (this._reducers.has(e)) {
                return this._reducers.get(e)(n);
              }

              return [[e, n]];
            }
          }, {
            key: "getStyleNames",
            value: function getStyleNames(e) {
              var _this16 = this;

              var t = Array.from(this._consumables.keys()).filter(function (t) {
                var n = _this16.getNormalized(t, e);

                return n && "object" == typeof n ? Object.keys(n).length : n;
              }),
                  n = new Set([].concat(_toConsumableArray(t), _toConsumableArray(Object.keys(e))));
              return Array.from(n.values());
            }
          }, {
            key: "getRelatedStyles",
            value: function getRelatedStyles(e) {
              return this._consumables.get(e) || [];
            }
          }, {
            key: "setNormalizer",
            value: function setNormalizer(e, t) {
              this._normalizers.set(e, t);
            }
          }, {
            key: "setExtractor",
            value: function setExtractor(e, t) {
              this._extractors.set(e, t);
            }
          }, {
            key: "setReducer",
            value: function setReducer(e, t) {
              this._reducers.set(e, t);
            }
          }, {
            key: "setStyleRelation",
            value: function setStyleRelation(e, t) {
              this._mapStyleNames(e, t);

              var _iterator25 = _createForOfIteratorHelper(t),
                  _step25;

              try {
                for (_iterator25.s(); !(_step25 = _iterator25.n()).done;) {
                  var _n18 = _step25.value;

                  this._mapStyleNames(_n18, [e]);
                }
              } catch (err) {
                _iterator25.e(err);
              } finally {
                _iterator25.f();
              }
            }
          }, {
            key: "_mapStyleNames",
            value: function _mapStyleNames(e, t) {
              var _this$_consumables$ge;

              this._consumables.has(e) || this._consumables.set(e, []), (_this$_consumables$ge = this._consumables.get(e)).push.apply(_this$_consumables$ge, _toConsumableArray(t));
            }
          }]);

          return Go;
        }();

        function Yo(e) {
          return e.replace("-", ".");
        }

        function Ko(e, t, n) {
          var i = n;
          b(n) && (i = Uo({}, Do(e, t), n)), qo(e, t, i);
        }

        var Qo = /*#__PURE__*/function (_eo2) {
          _inherits(Qo, _eo2);

          var _super3 = _createSuper(Qo);

          function Qo(e, t, n, i) {
            var _this17;

            _classCallCheck(this, Qo);

            if (_this17 = _super3.call(this, e), _this17.name = t, _this17._attrs = function (e) {
              e = io(e);

              var _iterator26 = _createForOfIteratorHelper(e),
                  _step26;

              try {
                for (_iterator26.s(); !(_step26 = _iterator26.n()).done;) {
                  var _step26$value = _slicedToArray(_step26.value, 2),
                      _t20 = _step26$value[0],
                      _n19 = _step26$value[1];

                  null === _n19 ? e["delete"](_t20) : "string" != typeof _n19 && e.set(_t20, String(_n19));
                }
              } catch (err) {
                _iterator26.e(err);
              } finally {
                _iterator26.f();
              }

              return e;
            }(n), _this17._children = [], i && _this17._insertChild(0, i), _this17._classes = new Set(), _this17._attrs.has("class")) {
              var _e23 = _this17._attrs.get("class");

              Jo(_this17._classes, _e23), _this17._attrs["delete"]("class");
            }

            _this17._styles = new $o(_this17.document.stylesProcessor), _this17._attrs.has("style") && (_this17._styles.setTo(_this17._attrs.get("style")), _this17._attrs["delete"]("style")), _this17._customProperties = new Map(), _this17._isAllowedInsideAttributeElement = !1;
            return _possibleConstructorReturn(_this17);
          }

          _createClass(Qo, [{
            key: "childCount",
            get: function get() {
              return this._children.length;
            }
          }, {
            key: "isEmpty",
            get: function get() {
              return 0 === this._children.length;
            }
          }, {
            key: "isAllowedInsideAttributeElement",
            get: function get() {
              return this._isAllowedInsideAttributeElement;
            }
          }, {
            key: "is",
            value: function is(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              return t ? t === this.name && ("element" === e || "view:element" === e) : "element" === e || "view:element" === e || "node" === e || "view:node" === e;
            }
          }, {
            key: "getChild",
            value: function getChild(e) {
              return this._children[e];
            }
          }, {
            key: "getChildIndex",
            value: function getChildIndex(e) {
              return this._children.indexOf(e);
            }
          }, {
            key: "getChildren",
            value: function getChildren() {
              return this._children[Symbol.iterator]();
            }
          }, {
            key: "getAttributeKeys",
            value: /*#__PURE__*/regeneratorRuntime.mark(function getAttributeKeys() {
              return regeneratorRuntime.wrap(function getAttributeKeys$(_context3) {
                while (1) {
                  switch (_context3.prev = _context3.next) {
                    case 0:
                      _context3.t0 = this._classes.size > 0;

                      if (!_context3.t0) {
                        _context3.next = 4;
                        break;
                      }

                      _context3.next = 4;
                      return "class";

                    case 4:
                      _context3.t1 = this._styles.isEmpty;

                      if (_context3.t1) {
                        _context3.next = 8;
                        break;
                      }

                      _context3.next = 8;
                      return "style";

                    case 8:
                      return _context3.delegateYield(this._attrs.keys(), "t2", 9);

                    case 9:
                    case "end":
                      return _context3.stop();
                  }
                }
              }, getAttributeKeys, this);
            })
          }, {
            key: "getAttributes",
            value: /*#__PURE__*/regeneratorRuntime.mark(function getAttributes() {
              return regeneratorRuntime.wrap(function getAttributes$(_context4) {
                while (1) {
                  switch (_context4.prev = _context4.next) {
                    case 0:
                      return _context4.delegateYield(this._attrs.entries(), "t0", 1);

                    case 1:
                      _context4.t1 = this._classes.size > 0;

                      if (!_context4.t1) {
                        _context4.next = 5;
                        break;
                      }

                      _context4.next = 5;
                      return ["class", this.getAttribute("class")];

                    case 5:
                      _context4.t2 = this._styles.isEmpty;

                      if (_context4.t2) {
                        _context4.next = 9;
                        break;
                      }

                      _context4.next = 9;
                      return ["style", this.getAttribute("style")];

                    case 9:
                    case "end":
                      return _context4.stop();
                  }
                }
              }, getAttributes, this);
            })
          }, {
            key: "getAttribute",
            value: function getAttribute(e) {
              if ("class" == e) return this._classes.size > 0 ? _toConsumableArray(this._classes).join(" ") : void 0;

              if ("style" == e) {
                var _e24 = this._styles.toString();

                return "" == _e24 ? void 0 : _e24;
              }

              return this._attrs.get(e);
            }
          }, {
            key: "hasAttribute",
            value: function hasAttribute(e) {
              return "class" == e ? this._classes.size > 0 : "style" == e ? !this._styles.isEmpty : this._attrs.has(e);
            }
          }, {
            key: "isSimilar",
            value: function isSimilar(e) {
              if (!(e instanceof Qo)) return !1;
              if (this === e) return !0;
              if (this.name != e.name) return !1;
              if (this.isAllowedInsideAttributeElement != e.isAllowedInsideAttributeElement) return !1;
              if (this._attrs.size !== e._attrs.size || this._classes.size !== e._classes.size || this._styles.size !== e._styles.size) return !1;

              var _iterator27 = _createForOfIteratorHelper(this._attrs),
                  _step27;

              try {
                for (_iterator27.s(); !(_step27 = _iterator27.n()).done;) {
                  var _step27$value = _slicedToArray(_step27.value, 2),
                      _t21 = _step27$value[0],
                      _n20 = _step27$value[1];

                  if (!e._attrs.has(_t21) || e._attrs.get(_t21) !== _n20) return !1;
                }
              } catch (err) {
                _iterator27.e(err);
              } finally {
                _iterator27.f();
              }

              var _iterator28 = _createForOfIteratorHelper(this._classes),
                  _step28;

              try {
                for (_iterator28.s(); !(_step28 = _iterator28.n()).done;) {
                  var _t22 = _step28.value;
                  if (!e._classes.has(_t22)) return !1;
                }
              } catch (err) {
                _iterator28.e(err);
              } finally {
                _iterator28.f();
              }

              var _iterator29 = _createForOfIteratorHelper(this._styles.getStyleNames()),
                  _step29;

              try {
                for (_iterator29.s(); !(_step29 = _iterator29.n()).done;) {
                  var _t23 = _step29.value;
                  if (!e._styles.has(_t23) || e._styles.getAsString(_t23) !== this._styles.getAsString(_t23)) return !1;
                }
              } catch (err) {
                _iterator29.e(err);
              } finally {
                _iterator29.f();
              }

              return !0;
            }
          }, {
            key: "hasClass",
            value: function hasClass() {
              for (var _len12 = arguments.length, e = new Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {
                e[_key12] = arguments[_key12];
              }

              for (var _i17 = 0, _e25 = e; _i17 < _e25.length; _i17++) {
                var _t24 = _e25[_i17];
                if (!this._classes.has(_t24)) return !1;
              }

              return !0;
            }
          }, {
            key: "getClassNames",
            value: function getClassNames() {
              return this._classes.keys();
            }
          }, {
            key: "getStyle",
            value: function getStyle(e) {
              return this._styles.getAsString(e);
            }
          }, {
            key: "getNormalizedStyle",
            value: function getNormalizedStyle(e) {
              return this._styles.getNormalized(e);
            }
          }, {
            key: "getStyleNames",
            value: function getStyleNames() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;
              return this._styles.getStyleNames(e);
            }
          }, {
            key: "hasStyle",
            value: function hasStyle() {
              for (var _len13 = arguments.length, e = new Array(_len13), _key13 = 0; _key13 < _len13; _key13++) {
                e[_key13] = arguments[_key13];
              }

              for (var _i18 = 0, _e26 = e; _i18 < _e26.length; _i18++) {
                var _t25 = _e26[_i18];
                if (!this._styles.has(_t25)) return !1;
              }

              return !0;
            }
          }, {
            key: "findAncestor",
            value: function findAncestor() {
              for (var _len14 = arguments.length, e = new Array(_len14), _key14 = 0; _key14 < _len14; _key14++) {
                e[_key14] = arguments[_key14];
              }

              var t = _construct(oo, e);

              var n = this.parent;

              for (; n;) {
                if (t.match(n)) return n;
                n = n.parent;
              }

              return null;
            }
          }, {
            key: "getCustomProperty",
            value: function getCustomProperty(e) {
              return this._customProperties.get(e);
            }
          }, {
            key: "getCustomProperties",
            value: /*#__PURE__*/regeneratorRuntime.mark(function getCustomProperties() {
              return regeneratorRuntime.wrap(function getCustomProperties$(_context5) {
                while (1) {
                  switch (_context5.prev = _context5.next) {
                    case 0:
                      return _context5.delegateYield(this._customProperties.entries(), "t0", 1);

                    case 1:
                    case "end":
                      return _context5.stop();
                  }
                }
              }, getCustomProperties, this);
            })
          }, {
            key: "getIdentity",
            value: function getIdentity() {
              var e = Array.from(this._classes).sort().join(","),
                  t = this._styles.toString(),
                  n = Array.from(this._attrs).map(function (e) {
                return "".concat(e[0], "=\"").concat(e[1], "\"");
              }).sort().join(" ");

              return this.name + ("" == e ? "" : " class=\"".concat(e, "\"")) + (t ? " style=\"".concat(t, "\"") : "") + ("" == n ? "" : " ".concat(n));
            }
          }, {
            key: "_clone",
            value: function _clone() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;
              var t = [];

              if (e) {
                var _iterator30 = _createForOfIteratorHelper(this.getChildren()),
                    _step30;

                try {
                  for (_iterator30.s(); !(_step30 = _iterator30.n()).done;) {
                    var _n21 = _step30.value;
                    t.push(_n21._clone(e));
                  }
                } catch (err) {
                  _iterator30.e(err);
                } finally {
                  _iterator30.f();
                }
              }

              var n = new this.constructor(this.document, this.name, this._attrs, t);
              return n._classes = new Set(this._classes), n._styles.set(this._styles.getNormalized()), n._customProperties = new Map(this._customProperties), n.getFillerOffset = this.getFillerOffset, n._isAllowedInsideAttributeElement = this.isAllowedInsideAttributeElement, n;
            }
          }, {
            key: "_appendChild",
            value: function _appendChild(e) {
              return this._insertChild(this.childCount, e);
            }
          }, {
            key: "_insertChild",
            value: function _insertChild(e, t) {
              this._fireChange("children", this);

              var n = 0;

              var i = function (e, t) {
                if ("string" == typeof t) return [new to(e, t)];
                ji(t) || (t = [t]);
                return Array.from(t).map(function (t) {
                  return "string" == typeof t ? new to(e, t) : t instanceof no ? new to(e, t.data) : t;
                });
              }(this.document, t);

              var _iterator31 = _createForOfIteratorHelper(i),
                  _step31;

              try {
                for (_iterator31.s(); !(_step31 = _iterator31.n()).done;) {
                  var _t26 = _step31.value;
                  null !== _t26.parent && _t26._remove(), _t26.parent = this, _t26.document = this.document, this._children.splice(e, 0, _t26), e++, n++;
                }
              } catch (err) {
                _iterator31.e(err);
              } finally {
                _iterator31.f();
              }

              return n;
            }
          }, {
            key: "_removeChildren",
            value: function _removeChildren(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;

              this._fireChange("children", this);

              for (var _n22 = e; _n22 < e + t; _n22++) {
                this._children[_n22].parent = null;
              }

              return this._children.splice(e, t);
            }
          }, {
            key: "_setAttribute",
            value: function _setAttribute(e, t) {
              t = String(t), this._fireChange("attributes", this), "class" == e ? Jo(this._classes, t) : "style" == e ? this._styles.setTo(t) : this._attrs.set(e, t);
            }
          }, {
            key: "_removeAttribute",
            value: function _removeAttribute(e) {
              return this._fireChange("attributes", this), "class" == e ? this._classes.size > 0 && (this._classes.clear(), !0) : "style" == e ? !this._styles.isEmpty && (this._styles.clear(), !0) : this._attrs["delete"](e);
            }
          }, {
            key: "_addClass",
            value: function _addClass(e) {
              this._fireChange("attributes", this);

              var _iterator32 = _createForOfIteratorHelper(Wi(e)),
                  _step32;

              try {
                for (_iterator32.s(); !(_step32 = _iterator32.n()).done;) {
                  var _t27 = _step32.value;

                  this._classes.add(_t27);
                }
              } catch (err) {
                _iterator32.e(err);
              } finally {
                _iterator32.f();
              }
            }
          }, {
            key: "_removeClass",
            value: function _removeClass(e) {
              this._fireChange("attributes", this);

              var _iterator33 = _createForOfIteratorHelper(Wi(e)),
                  _step33;

              try {
                for (_iterator33.s(); !(_step33 = _iterator33.n()).done;) {
                  var _t28 = _step33.value;

                  this._classes["delete"](_t28);
                }
              } catch (err) {
                _iterator33.e(err);
              } finally {
                _iterator33.f();
              }
            }
          }, {
            key: "_setStyle",
            value: function _setStyle(e, t) {
              this._fireChange("attributes", this), this._styles.set(e, t);
            }
          }, {
            key: "_removeStyle",
            value: function _removeStyle(e) {
              this._fireChange("attributes", this);

              var _iterator34 = _createForOfIteratorHelper(Wi(e)),
                  _step34;

              try {
                for (_iterator34.s(); !(_step34 = _iterator34.n()).done;) {
                  var _t29 = _step34.value;

                  this._styles.remove(_t29);
                }
              } catch (err) {
                _iterator34.e(err);
              } finally {
                _iterator34.f();
              }
            }
          }, {
            key: "_setCustomProperty",
            value: function _setCustomProperty(e, t) {
              this._customProperties.set(e, t);
            }
          }, {
            key: "_removeCustomProperty",
            value: function _removeCustomProperty(e) {
              return this._customProperties["delete"](e);
            }
          }]);

          return Qo;
        }(eo);

        function Jo(e, t) {
          var n = t.split(/\s+/);
          e.clear(), n.forEach(function (t) {
            return e.add(t);
          });
        }

        var Xo = /*#__PURE__*/function (_Qo) {
          _inherits(Xo, _Qo);

          var _super4 = _createSuper(Xo);

          function Xo(e, t, n, i) {
            var _this18;

            _classCallCheck(this, Xo);

            _this18 = _super4.call(this, e, t, n, i), _this18.getFillerOffset = Zo;
            return _this18;
          }

          _createClass(Xo, [{
            key: "is",
            value: function is(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              return t ? t === this.name && ("containerElement" === e || "view:containerElement" === e || "element" === e || "view:element" === e) : "containerElement" === e || "view:containerElement" === e || "element" === e || "view:element" === e || "node" === e || "view:node" === e;
            }
          }]);

          return Xo;
        }(Qo);

        function Zo() {
          var e = _toConsumableArray(this.getChildren()),
              t = e[this.childCount - 1];

          if (t && t.is("element", "br")) return this.childCount;

          var _iterator35 = _createForOfIteratorHelper(e),
              _step35;

          try {
            for (_iterator35.s(); !(_step35 = _iterator35.n()).done;) {
              var _t30 = _step35.value;
              if (!_t30.is("uiElement")) return null;
            }
          } catch (err) {
            _iterator35.e(err);
          } finally {
            _iterator35.f();
          }

          return this.childCount;
        }

        var er = /*#__PURE__*/function (_Xo) {
          _inherits(er, _Xo);

          var _super5 = _createSuper(er);

          function er(e, t, n, i) {
            var _this19;

            _classCallCheck(this, er);

            _this19 = _super5.call(this, e, t, n, i), _this19.set("isReadOnly", !1), _this19.set("isFocused", !1), _this19.bind("isReadOnly").to(e), _this19.bind("isFocused").to(e, "isFocused", function (t) {
              return t && e.selection.editableElement == _assertThisInitialized(_this19);
            }), _this19.listenTo(e.selection, "change", function () {
              _this19.isFocused = e.isFocused && e.selection.editableElement == _assertThisInitialized(_this19);
            });
            return _this19;
          }

          _createClass(er, [{
            key: "is",
            value: function is(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              return t ? t === this.name && ("editableElement" === e || "view:editableElement" === e || "containerElement" === e || "view:containerElement" === e || "element" === e || "view:element" === e) : "editableElement" === e || "view:editableElement" === e || "containerElement" === e || "view:containerElement" === e || "element" === e || "view:element" === e || "node" === e || "view:node" === e;
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this.stopListening();
            }
          }]);

          return er;
        }(Xo);

        rt(er, Ze);
        var tr = Symbol("rootName");

        var nr = /*#__PURE__*/function (_er) {
          _inherits(nr, _er);

          var _super6 = _createSuper(nr);

          function nr(e, t) {
            var _this20;

            _classCallCheck(this, nr);

            _this20 = _super6.call(this, e, t), _this20.rootName = "main";
            return _this20;
          }

          _createClass(nr, [{
            key: "is",
            value: function is(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              return t ? t === this.name && ("rootElement" === e || "view:rootElement" === e || "editableElement" === e || "view:editableElement" === e || "containerElement" === e || "view:containerElement" === e || "element" === e || "view:element" === e) : "rootElement" === e || "view:rootElement" === e || "editableElement" === e || "view:editableElement" === e || "containerElement" === e || "view:containerElement" === e || "element" === e || "view:element" === e || "node" === e || "view:node" === e;
            }
          }, {
            key: "rootName",
            get: function get() {
              return this.getCustomProperty(tr);
            },
            set: function set(e) {
              this._setCustomProperty(tr, e);
            }
          }, {
            key: "_name",
            set: function set(e) {
              this.name = e;
            }
          }]);

          return nr;
        }(er);

        var ir = /*#__PURE__*/function (_Symbol$iterator3) {
          function ir() {
            var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

            _classCallCheck(this, ir);

            if (!e.boundaries && !e.startPosition) throw new c.a("view-tree-walker-no-start-position", null);
            if (e.direction && "forward" != e.direction && "backward" != e.direction) throw new c.a("view-tree-walker-unknown-direction", e.startPosition, {
              direction: e.direction
            });
            this.boundaries = e.boundaries || null, e.startPosition ? this.position = or._createAt(e.startPosition) : this.position = or._createAt(e.boundaries["backward" == e.direction ? "end" : "start"]), this.direction = e.direction || "forward", this.singleCharacters = !!e.singleCharacters, this.shallow = !!e.shallow, this.ignoreElementEnd = !!e.ignoreElementEnd, this._boundaryStartParent = this.boundaries ? this.boundaries.start.parent : null, this._boundaryEndParent = this.boundaries ? this.boundaries.end.parent : null;
          }

          _createClass(ir, [{
            key: _Symbol$iterator3,
            value: function value() {
              return this;
            }
          }, {
            key: "skip",
            value: function skip(e) {
              var t, n, i;

              do {
                var _this$next;

                i = this.position, (_this$next = this.next(), t = _this$next.done, n = _this$next.value, _this$next);
              } while (!t && e(n));

              t || (this.position = i);
            }
          }, {
            key: "next",
            value: function next() {
              return "forward" == this.direction ? this._next() : this._previous();
            }
          }, {
            key: "_next",
            value: function _next() {
              var e = this.position.clone();
              var t = this.position,
                  n = e.parent;
              if (null === n.parent && e.offset === n.childCount) return {
                done: !0
              };
              if (n === this._boundaryEndParent && e.offset == this.boundaries.end.offset) return {
                done: !0
              };
              var i;

              if (n instanceof to) {
                if (e.isAtEnd) return this.position = or._createAfter(n), this._next();
                i = n.data[e.offset];
              } else i = n.getChild(e.offset);

              if (i instanceof Qo) return this.shallow ? e.offset++ : e = new or(i, 0), this.position = e, this._formatReturnValue("elementStart", i, t, e, 1);

              if (i instanceof to) {
                if (this.singleCharacters) return e = new or(i, 0), this.position = e, this._next();
                {
                  var _n23,
                      _o7 = i.data.length;

                  return i == this._boundaryEndParent ? (_o7 = this.boundaries.end.offset, _n23 = new no(i, 0, _o7), e = or._createAfter(_n23)) : (_n23 = new no(i, 0, i.data.length), e.offset++), this.position = e, this._formatReturnValue("text", _n23, t, e, _o7);
                }
              }

              if ("string" == typeof i) {
                var _i19;

                if (this.singleCharacters) _i19 = 1;else {
                  _i19 = (n === this._boundaryEndParent ? this.boundaries.end.offset : n.data.length) - e.offset;
                }

                var _o8 = new no(n, e.offset, _i19);

                return e.offset += _i19, this.position = e, this._formatReturnValue("text", _o8, t, e, _i19);
              }

              return e = or._createAfter(n), this.position = e, this.ignoreElementEnd ? this._next() : this._formatReturnValue("elementEnd", n, t, e);
            }
          }, {
            key: "_previous",
            value: function _previous() {
              var e = this.position.clone();
              var t = this.position,
                  n = e.parent;
              if (null === n.parent && 0 === e.offset) return {
                done: !0
              };
              if (n == this._boundaryStartParent && e.offset == this.boundaries.start.offset) return {
                done: !0
              };
              var i;

              if (n instanceof to) {
                if (e.isAtStart) return this.position = or._createBefore(n), this._previous();
                i = n.data[e.offset - 1];
              } else i = n.getChild(e.offset - 1);

              if (i instanceof Qo) return this.shallow ? (e.offset--, this.position = e, this._formatReturnValue("elementStart", i, t, e, 1)) : (e = new or(i, i.childCount), this.position = e, this.ignoreElementEnd ? this._previous() : this._formatReturnValue("elementEnd", i, t, e));

              if (i instanceof to) {
                if (this.singleCharacters) return e = new or(i, i.data.length), this.position = e, this._previous();
                {
                  var _n24,
                      _o9 = i.data.length;

                  if (i == this._boundaryStartParent) {
                    var _t31 = this.boundaries.start.offset;
                    _o9 = (_n24 = new no(i, _t31, i.data.length - _t31)).data.length, e = or._createBefore(_n24);
                  } else _n24 = new no(i, 0, i.data.length), e.offset--;

                  return this.position = e, this._formatReturnValue("text", _n24, t, e, _o9);
                }
              }

              if ("string" == typeof i) {
                var _i20;

                if (this.singleCharacters) _i20 = 1;else {
                  var _t32 = n === this._boundaryStartParent ? this.boundaries.start.offset : 0;

                  _i20 = e.offset - _t32;
                }
                e.offset -= _i20;

                var _o10 = new no(n, e.offset, _i20);

                return this.position = e, this._formatReturnValue("text", _o10, t, e, _i20);
              }

              return e = or._createBefore(n), this.position = e, this._formatReturnValue("elementStart", n, t, e, 1);
            }
          }, {
            key: "_formatReturnValue",
            value: function _formatReturnValue(e, t, n, i, o) {
              return t instanceof no && (t.offsetInText + t.data.length == t.textNode.data.length && ("forward" != this.direction || this.boundaries && this.boundaries.end.isEqual(this.position) ? n = or._createAfter(t.textNode) : (i = or._createAfter(t.textNode), this.position = i)), 0 === t.offsetInText && ("backward" != this.direction || this.boundaries && this.boundaries.start.isEqual(this.position) ? n = or._createBefore(t.textNode) : (i = or._createBefore(t.textNode), this.position = i))), {
                done: !1,
                value: {
                  type: e,
                  item: t,
                  previousPosition: n,
                  nextPosition: i,
                  length: o
                }
              };
            }
          }]);

          return ir;
        }(Symbol.iterator);

        var or = /*#__PURE__*/function () {
          function or(e, t) {
            _classCallCheck(this, or);

            this.parent = e, this.offset = t;
          }

          _createClass(or, [{
            key: "nodeAfter",
            get: function get() {
              return this.parent.is("$text") ? null : this.parent.getChild(this.offset) || null;
            }
          }, {
            key: "nodeBefore",
            get: function get() {
              return this.parent.is("$text") ? null : this.parent.getChild(this.offset - 1) || null;
            }
          }, {
            key: "isAtStart",
            get: function get() {
              return 0 === this.offset;
            }
          }, {
            key: "isAtEnd",
            get: function get() {
              var e = this.parent.is("$text") ? this.parent.data.length : this.parent.childCount;
              return this.offset === e;
            }
          }, {
            key: "root",
            get: function get() {
              return this.parent.root;
            }
          }, {
            key: "editableElement",
            get: function get() {
              var e = this.parent;

              for (; !(e instanceof er);) {
                if (!e.parent) return null;
                e = e.parent;
              }

              return e;
            }
          }, {
            key: "getShiftedBy",
            value: function getShiftedBy(e) {
              var t = or._createAt(this),
                  n = t.offset + e;

              return t.offset = n < 0 ? 0 : n, t;
            }
          }, {
            key: "getLastMatchingPosition",
            value: function getLastMatchingPosition(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
              t.startPosition = this;
              var n = new ir(t);
              return n.skip(e), n.position;
            }
          }, {
            key: "getAncestors",
            value: function getAncestors() {
              return this.parent.is("documentFragment") ? [this.parent] : this.parent.getAncestors({
                includeSelf: !0
              });
            }
          }, {
            key: "getCommonAncestor",
            value: function getCommonAncestor(e) {
              var t = this.getAncestors(),
                  n = e.getAncestors();
              var i = 0;

              for (; t[i] == n[i] && t[i];) {
                i++;
              }

              return 0 === i ? null : t[i - 1];
            }
          }, {
            key: "is",
            value: function is(e) {
              return "position" === e || "view:position" === e;
            }
          }, {
            key: "isEqual",
            value: function isEqual(e) {
              return this.parent == e.parent && this.offset == e.offset;
            }
          }, {
            key: "isBefore",
            value: function isBefore(e) {
              return "before" == this.compareWith(e);
            }
          }, {
            key: "isAfter",
            value: function isAfter(e) {
              return "after" == this.compareWith(e);
            }
          }, {
            key: "compareWith",
            value: function compareWith(e) {
              if (this.root !== e.root) return "different";
              if (this.isEqual(e)) return "same";
              var t = this.parent.is("node") ? this.parent.getPath() : [],
                  n = e.parent.is("node") ? e.parent.getPath() : [];
              t.push(this.offset), n.push(e.offset);
              var i = Ji(t, n);

              switch (i) {
                case "prefix":
                  return "before";

                case "extension":
                  return "after";

                default:
                  return t[i] < n[i] ? "before" : "after";
              }
            }
          }, {
            key: "getWalker",
            value: function getWalker() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
              return e.startPosition = this, new ir(e);
            }
          }, {
            key: "clone",
            value: function clone() {
              return new or(this.parent, this.offset);
            }
          }], [{
            key: "_createAt",
            value: function _createAt(e, t) {
              if (e instanceof or) return new this(e.parent, e.offset);
              {
                var _n25 = e;
                if ("end" == t) t = _n25.is("$text") ? _n25.data.length : _n25.childCount;else {
                  if ("before" == t) return this._createBefore(_n25);
                  if ("after" == t) return this._createAfter(_n25);
                  if (0 !== t && !t) throw new c.a("view-createpositionat-offset-required", _n25);
                }
                return new or(_n25, t);
              }
            }
          }, {
            key: "_createAfter",
            value: function _createAfter(e) {
              if (e.is("$textProxy")) return new or(e.textNode, e.offsetInText + e.data.length);
              if (!e.parent) throw new c.a("view-position-after-root", e, {
                root: e
              });
              return new or(e.parent, e.index + 1);
            }
          }, {
            key: "_createBefore",
            value: function _createBefore(e) {
              if (e.is("$textProxy")) return new or(e.textNode, e.offsetInText);
              if (!e.parent) throw new c.a("view-position-before-root", e, {
                root: e
              });
              return new or(e.parent, e.index);
            }
          }]);

          return or;
        }();

        var rr = /*#__PURE__*/function (_Symbol$iterator4) {
          function rr(e) {
            var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

            _classCallCheck(this, rr);

            this.start = e.clone(), this.end = t ? t.clone() : e.clone();
          }

          _createClass(rr, [{
            key: _Symbol$iterator4,
            value: /*#__PURE__*/regeneratorRuntime.mark(function value() {
              return regeneratorRuntime.wrap(function value$(_context6) {
                while (1) {
                  switch (_context6.prev = _context6.next) {
                    case 0:
                      return _context6.delegateYield(new ir({
                        boundaries: this,
                        ignoreElementEnd: !0
                      }), "t0", 1);

                    case 1:
                    case "end":
                      return _context6.stop();
                  }
                }
              }, value, this);
            })
          }, {
            key: "isCollapsed",
            get: function get() {
              return this.start.isEqual(this.end);
            }
          }, {
            key: "isFlat",
            get: function get() {
              return this.start.parent === this.end.parent;
            }
          }, {
            key: "root",
            get: function get() {
              return this.start.root;
            }
          }, {
            key: "getEnlarged",
            value: function getEnlarged() {
              var e = this.start.getLastMatchingPosition(sr, {
                direction: "backward"
              }),
                  t = this.end.getLastMatchingPosition(sr);
              return e.parent.is("$text") && e.isAtStart && (e = or._createBefore(e.parent)), t.parent.is("$text") && t.isAtEnd && (t = or._createAfter(t.parent)), new rr(e, t);
            }
          }, {
            key: "getTrimmed",
            value: function getTrimmed() {
              var e = this.start.getLastMatchingPosition(sr);
              if (e.isAfter(this.end) || e.isEqual(this.end)) return new rr(e, e);
              var t = this.end.getLastMatchingPosition(sr, {
                direction: "backward"
              });
              var n = e.nodeAfter,
                  i = t.nodeBefore;
              return n && n.is("$text") && (e = new or(n, 0)), i && i.is("$text") && (t = new or(i, i.data.length)), new rr(e, t);
            }
          }, {
            key: "isEqual",
            value: function isEqual(e) {
              return this == e || this.start.isEqual(e.start) && this.end.isEqual(e.end);
            }
          }, {
            key: "containsPosition",
            value: function containsPosition(e) {
              return e.isAfter(this.start) && e.isBefore(this.end);
            }
          }, {
            key: "containsRange",
            value: function containsRange(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;
              e.isCollapsed && (t = !1);
              var n = this.containsPosition(e.start) || t && this.start.isEqual(e.start),
                  i = this.containsPosition(e.end) || t && this.end.isEqual(e.end);
              return n && i;
            }
          }, {
            key: "getDifference",
            value: function getDifference(e) {
              var t = [];
              return this.isIntersecting(e) ? (this.containsPosition(e.start) && t.push(new rr(this.start, e.start)), this.containsPosition(e.end) && t.push(new rr(e.end, this.end))) : t.push(this.clone()), t;
            }
          }, {
            key: "getIntersection",
            value: function getIntersection(e) {
              if (this.isIntersecting(e)) {
                var _t33 = this.start,
                    _n26 = this.end;
                return this.containsPosition(e.start) && (_t33 = e.start), this.containsPosition(e.end) && (_n26 = e.end), new rr(_t33, _n26);
              }

              return null;
            }
          }, {
            key: "getWalker",
            value: function getWalker() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
              return e.boundaries = this, new ir(e);
            }
          }, {
            key: "getCommonAncestor",
            value: function getCommonAncestor() {
              return this.start.getCommonAncestor(this.end);
            }
          }, {
            key: "getContainedElement",
            value: function getContainedElement() {
              if (this.isCollapsed) return null;
              var e = this.start.nodeAfter,
                  t = this.end.nodeBefore;
              return this.start.parent.is("$text") && this.start.isAtEnd && this.start.parent.nextSibling && (e = this.start.parent.nextSibling), this.end.parent.is("$text") && this.end.isAtStart && this.end.parent.previousSibling && (t = this.end.parent.previousSibling), e && e.is("element") && e === t ? e : null;
            }
          }, {
            key: "clone",
            value: function clone() {
              return new rr(this.start, this.end);
            }
          }, {
            key: "getItems",
            value: /*#__PURE__*/regeneratorRuntime.mark(function getItems() {
              var e,
                  t,
                  _iterator36,
                  _step36,
                  _e27,
                  _args7 = arguments;

              return regeneratorRuntime.wrap(function getItems$(_context7) {
                while (1) {
                  switch (_context7.prev = _context7.next) {
                    case 0:
                      e = _args7.length > 0 && _args7[0] !== undefined ? _args7[0] : {};
                      e.boundaries = this, e.ignoreElementEnd = !0;
                      t = new ir(e);
                      _iterator36 = _createForOfIteratorHelper(t);
                      _context7.prev = 4;

                      _iterator36.s();

                    case 6:
                      if ((_step36 = _iterator36.n()).done) {
                        _context7.next = 12;
                        break;
                      }

                      _e27 = _step36.value;
                      _context7.next = 10;
                      return _e27.item;

                    case 10:
                      _context7.next = 6;
                      break;

                    case 12:
                      _context7.next = 17;
                      break;

                    case 14:
                      _context7.prev = 14;
                      _context7.t0 = _context7["catch"](4);

                      _iterator36.e(_context7.t0);

                    case 17:
                      _context7.prev = 17;

                      _iterator36.f();

                      return _context7.finish(17);

                    case 20:
                    case "end":
                      return _context7.stop();
                  }
                }
              }, getItems, this, [[4, 14, 17, 20]]);
            })
          }, {
            key: "getPositions",
            value: /*#__PURE__*/regeneratorRuntime.mark(function getPositions() {
              var e,
                  t,
                  _iterator37,
                  _step37,
                  _e28,
                  _args8 = arguments;

              return regeneratorRuntime.wrap(function getPositions$(_context8) {
                while (1) {
                  switch (_context8.prev = _context8.next) {
                    case 0:
                      e = _args8.length > 0 && _args8[0] !== undefined ? _args8[0] : {};
                      e.boundaries = this;
                      t = new ir(e);
                      _context8.next = 5;
                      return t.position;

                    case 5:
                      _iterator37 = _createForOfIteratorHelper(t);
                      _context8.prev = 6;

                      _iterator37.s();

                    case 8:
                      if ((_step37 = _iterator37.n()).done) {
                        _context8.next = 14;
                        break;
                      }

                      _e28 = _step37.value;
                      _context8.next = 12;
                      return _e28.nextPosition;

                    case 12:
                      _context8.next = 8;
                      break;

                    case 14:
                      _context8.next = 19;
                      break;

                    case 16:
                      _context8.prev = 16;
                      _context8.t0 = _context8["catch"](6);

                      _iterator37.e(_context8.t0);

                    case 19:
                      _context8.prev = 19;

                      _iterator37.f();

                      return _context8.finish(19);

                    case 22:
                    case "end":
                      return _context8.stop();
                  }
                }
              }, getPositions, this, [[6, 16, 19, 22]]);
            })
          }, {
            key: "is",
            value: function is(e) {
              return "range" === e || "view:range" === e;
            }
          }, {
            key: "isIntersecting",
            value: function isIntersecting(e) {
              return this.start.isBefore(e.end) && this.end.isAfter(e.start);
            }
          }], [{
            key: "_createFromParentsAndOffsets",
            value: function _createFromParentsAndOffsets(e, t, n, i) {
              return new this(new or(e, t), new or(n, i));
            }
          }, {
            key: "_createFromPositionAndShift",
            value: function _createFromPositionAndShift(e, t) {
              var n = e,
                  i = e.getShiftedBy(t);
              return t > 0 ? new this(n, i) : new this(i, n);
            }
          }, {
            key: "_createIn",
            value: function _createIn(e) {
              return this._createFromParentsAndOffsets(e, 0, e, e.childCount);
            }
          }, {
            key: "_createOn",
            value: function _createOn(e) {
              var t = e.is("$textProxy") ? e.offsetSize : 1;
              return this._createFromPositionAndShift(or._createBefore(e), t);
            }
          }]);

          return rr;
        }(Symbol.iterator);

        function sr(e) {
          return !(!e.item.is("attributeElement") && !e.item.is("uiElement"));
        }

        function ar(e) {
          var t = 0;

          var _iterator38 = _createForOfIteratorHelper(e),
              _step38;

          try {
            for (_iterator38.s(); !(_step38 = _iterator38.n()).done;) {
              var _n27 = _step38.value;
              t++;
            }
          } catch (err) {
            _iterator38.e(err);
          } finally {
            _iterator38.f();
          }

          return t;
        }

        var cr = /*#__PURE__*/function () {
          function cr() {
            var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
            var t = arguments.length > 1 ? arguments[1] : undefined;
            var n = arguments.length > 2 ? arguments[2] : undefined;

            _classCallCheck(this, cr);

            this._ranges = [], this._lastRangeBackward = !1, this._isFake = !1, this._fakeSelectionLabel = "", this.setTo(e, t, n);
          }

          _createClass(cr, [{
            key: "isFake",
            get: function get() {
              return this._isFake;
            }
          }, {
            key: "fakeSelectionLabel",
            get: function get() {
              return this._fakeSelectionLabel;
            }
          }, {
            key: "anchor",
            get: function get() {
              if (!this._ranges.length) return null;
              var e = this._ranges[this._ranges.length - 1];
              return (this._lastRangeBackward ? e.end : e.start).clone();
            }
          }, {
            key: "focus",
            get: function get() {
              if (!this._ranges.length) return null;
              var e = this._ranges[this._ranges.length - 1];
              return (this._lastRangeBackward ? e.start : e.end).clone();
            }
          }, {
            key: "isCollapsed",
            get: function get() {
              return 1 === this.rangeCount && this._ranges[0].isCollapsed;
            }
          }, {
            key: "rangeCount",
            get: function get() {
              return this._ranges.length;
            }
          }, {
            key: "isBackward",
            get: function get() {
              return !this.isCollapsed && this._lastRangeBackward;
            }
          }, {
            key: "editableElement",
            get: function get() {
              return this.anchor ? this.anchor.editableElement : null;
            }
          }, {
            key: "getRanges",
            value: /*#__PURE__*/regeneratorRuntime.mark(function getRanges() {
              var _iterator39, _step39, _e29;

              return regeneratorRuntime.wrap(function getRanges$(_context9) {
                while (1) {
                  switch (_context9.prev = _context9.next) {
                    case 0:
                      _iterator39 = _createForOfIteratorHelper(this._ranges);
                      _context9.prev = 1;

                      _iterator39.s();

                    case 3:
                      if ((_step39 = _iterator39.n()).done) {
                        _context9.next = 9;
                        break;
                      }

                      _e29 = _step39.value;
                      _context9.next = 7;
                      return _e29.clone();

                    case 7:
                      _context9.next = 3;
                      break;

                    case 9:
                      _context9.next = 14;
                      break;

                    case 11:
                      _context9.prev = 11;
                      _context9.t0 = _context9["catch"](1);

                      _iterator39.e(_context9.t0);

                    case 14:
                      _context9.prev = 14;

                      _iterator39.f();

                      return _context9.finish(14);

                    case 17:
                    case "end":
                      return _context9.stop();
                  }
                }
              }, getRanges, this, [[1, 11, 14, 17]]);
            })
          }, {
            key: "getFirstRange",
            value: function getFirstRange() {
              var e = null;

              var _iterator40 = _createForOfIteratorHelper(this._ranges),
                  _step40;

              try {
                for (_iterator40.s(); !(_step40 = _iterator40.n()).done;) {
                  var _t34 = _step40.value;
                  e && !_t34.start.isBefore(e.start) || (e = _t34);
                }
              } catch (err) {
                _iterator40.e(err);
              } finally {
                _iterator40.f();
              }

              return e ? e.clone() : null;
            }
          }, {
            key: "getLastRange",
            value: function getLastRange() {
              var e = null;

              var _iterator41 = _createForOfIteratorHelper(this._ranges),
                  _step41;

              try {
                for (_iterator41.s(); !(_step41 = _iterator41.n()).done;) {
                  var _t35 = _step41.value;
                  e && !_t35.end.isAfter(e.end) || (e = _t35);
                }
              } catch (err) {
                _iterator41.e(err);
              } finally {
                _iterator41.f();
              }

              return e ? e.clone() : null;
            }
          }, {
            key: "getFirstPosition",
            value: function getFirstPosition() {
              var e = this.getFirstRange();
              return e ? e.start.clone() : null;
            }
          }, {
            key: "getLastPosition",
            value: function getLastPosition() {
              var e = this.getLastRange();
              return e ? e.end.clone() : null;
            }
          }, {
            key: "isEqual",
            value: function isEqual(e) {
              if (this.isFake != e.isFake) return !1;
              if (this.isFake && this.fakeSelectionLabel != e.fakeSelectionLabel) return !1;
              if (this.rangeCount != e.rangeCount) return !1;
              if (0 === this.rangeCount) return !0;
              if (!this.anchor.isEqual(e.anchor) || !this.focus.isEqual(e.focus)) return !1;

              var _iterator42 = _createForOfIteratorHelper(this._ranges),
                  _step42;

              try {
                for (_iterator42.s(); !(_step42 = _iterator42.n()).done;) {
                  var _t36 = _step42.value;

                  var _n28 = !1;

                  var _iterator43 = _createForOfIteratorHelper(e._ranges),
                      _step43;

                  try {
                    for (_iterator43.s(); !(_step43 = _iterator43.n()).done;) {
                      var _i21 = _step43.value;

                      if (_t36.isEqual(_i21)) {
                        _n28 = !0;
                        break;
                      }
                    }
                  } catch (err) {
                    _iterator43.e(err);
                  } finally {
                    _iterator43.f();
                  }

                  if (!_n28) return !1;
                }
              } catch (err) {
                _iterator42.e(err);
              } finally {
                _iterator42.f();
              }

              return !0;
            }
          }, {
            key: "isSimilar",
            value: function isSimilar(e) {
              if (this.isBackward != e.isBackward) return !1;
              var t = ar(this.getRanges());
              if (t != ar(e.getRanges())) return !1;
              if (0 == t) return !0;

              var _iterator44 = _createForOfIteratorHelper(this.getRanges()),
                  _step44;

              try {
                for (_iterator44.s(); !(_step44 = _iterator44.n()).done;) {
                  var _t37 = _step44.value;
                  _t37 = _t37.getTrimmed();

                  var _n29 = !1;

                  var _iterator45 = _createForOfIteratorHelper(e.getRanges()),
                      _step45;

                  try {
                    for (_iterator45.s(); !(_step45 = _iterator45.n()).done;) {
                      var _i22 = _step45.value;

                      if (_i22 = _i22.getTrimmed(), _t37.start.isEqual(_i22.start) && _t37.end.isEqual(_i22.end)) {
                        _n29 = !0;
                        break;
                      }
                    }
                  } catch (err) {
                    _iterator45.e(err);
                  } finally {
                    _iterator45.f();
                  }

                  if (!_n29) return !1;
                }
              } catch (err) {
                _iterator44.e(err);
              } finally {
                _iterator44.f();
              }

              return !0;
            }
          }, {
            key: "getSelectedElement",
            value: function getSelectedElement() {
              return 1 !== this.rangeCount ? null : this.getFirstRange().getContainedElement();
            }
          }, {
            key: "setTo",
            value: function setTo(e, t, n) {
              if (null === e) this._setRanges([]), this._setFakeOptions(t);else if (e instanceof cr || e instanceof lr) this._setRanges(e.getRanges(), e.isBackward), this._setFakeOptions({
                fake: e.isFake,
                label: e.fakeSelectionLabel
              });else if (e instanceof rr) this._setRanges([e], t && t.backward), this._setFakeOptions(t);else if (e instanceof or) this._setRanges([new rr(e)]), this._setFakeOptions(t);else if (e instanceof eo) {
                var _i23 = !!n && !!n.backward;

                var _o11;

                if (void 0 === t) throw new c.a("view-selection-setto-required-second-parameter", this);
                _o11 = "in" == t ? rr._createIn(e) : "on" == t ? rr._createOn(e) : new rr(or._createAt(e, t)), this._setRanges([_o11], _i23), this._setFakeOptions(n);
              } else {
                if (!ji(e)) throw new c.a("view-selection-setto-not-selectable", this);
                this._setRanges(e, t && t.backward), this._setFakeOptions(t);
              }
              this.fire("change");
            }
          }, {
            key: "setFocus",
            value: function setFocus(e, t) {
              if (null === this.anchor) throw new c.a("view-selection-setfocus-no-ranges", this);

              var n = or._createAt(e, t);

              if ("same" == n.compareWith(this.focus)) return;
              var i = this.anchor;
              this._ranges.pop(), "before" == n.compareWith(i) ? this._addRange(new rr(n, i), !0) : this._addRange(new rr(i, n)), this.fire("change");
            }
          }, {
            key: "is",
            value: function is(e) {
              return "selection" === e || "view:selection" === e;
            }
          }, {
            key: "_setRanges",
            value: function _setRanges(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;
              e = Array.from(e), this._ranges = [];

              var _iterator46 = _createForOfIteratorHelper(e),
                  _step46;

              try {
                for (_iterator46.s(); !(_step46 = _iterator46.n()).done;) {
                  var _t38 = _step46.value;

                  this._addRange(_t38);
                }
              } catch (err) {
                _iterator46.e(err);
              } finally {
                _iterator46.f();
              }

              this._lastRangeBackward = !!t;
            }
          }, {
            key: "_setFakeOptions",
            value: function _setFakeOptions() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
              this._isFake = !!e.fake, this._fakeSelectionLabel = e.fake && e.label || "";
            }
          }, {
            key: "_addRange",
            value: function _addRange(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;
              if (!(e instanceof rr)) throw new c.a("view-selection-add-range-not-range", this);
              this._pushRange(e), this._lastRangeBackward = !!t;
            }
          }, {
            key: "_pushRange",
            value: function _pushRange(e) {
              var _iterator47 = _createForOfIteratorHelper(this._ranges),
                  _step47;

              try {
                for (_iterator47.s(); !(_step47 = _iterator47.n()).done;) {
                  var _t39 = _step47.value;
                  if (e.isIntersecting(_t39)) throw new c.a("view-selection-range-intersects", this, {
                    addedRange: e,
                    intersectingRange: _t39
                  });
                }
              } catch (err) {
                _iterator47.e(err);
              } finally {
                _iterator47.f();
              }

              this._ranges.push(new rr(e.start, e.end));
            }
          }]);

          return cr;
        }();

        rt(cr, u);

        var lr = /*#__PURE__*/function () {
          function lr() {
            var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
            var t = arguments.length > 1 ? arguments[1] : undefined;
            var n = arguments.length > 2 ? arguments[2] : undefined;

            _classCallCheck(this, lr);

            this._selection = new cr(), this._selection.delegate("change").to(this), this._selection.setTo(e, t, n);
          }

          _createClass(lr, [{
            key: "isFake",
            get: function get() {
              return this._selection.isFake;
            }
          }, {
            key: "fakeSelectionLabel",
            get: function get() {
              return this._selection.fakeSelectionLabel;
            }
          }, {
            key: "anchor",
            get: function get() {
              return this._selection.anchor;
            }
          }, {
            key: "focus",
            get: function get() {
              return this._selection.focus;
            }
          }, {
            key: "isCollapsed",
            get: function get() {
              return this._selection.isCollapsed;
            }
          }, {
            key: "rangeCount",
            get: function get() {
              return this._selection.rangeCount;
            }
          }, {
            key: "isBackward",
            get: function get() {
              return this._selection.isBackward;
            }
          }, {
            key: "editableElement",
            get: function get() {
              return this._selection.editableElement;
            }
          }, {
            key: "_ranges",
            get: function get() {
              return this._selection._ranges;
            }
          }, {
            key: "getRanges",
            value: /*#__PURE__*/regeneratorRuntime.mark(function getRanges() {
              return regeneratorRuntime.wrap(function getRanges$(_context10) {
                while (1) {
                  switch (_context10.prev = _context10.next) {
                    case 0:
                      return _context10.delegateYield(this._selection.getRanges(), "t0", 1);

                    case 1:
                    case "end":
                      return _context10.stop();
                  }
                }
              }, getRanges, this);
            })
          }, {
            key: "getFirstRange",
            value: function getFirstRange() {
              return this._selection.getFirstRange();
            }
          }, {
            key: "getLastRange",
            value: function getLastRange() {
              return this._selection.getLastRange();
            }
          }, {
            key: "getFirstPosition",
            value: function getFirstPosition() {
              return this._selection.getFirstPosition();
            }
          }, {
            key: "getLastPosition",
            value: function getLastPosition() {
              return this._selection.getLastPosition();
            }
          }, {
            key: "getSelectedElement",
            value: function getSelectedElement() {
              return this._selection.getSelectedElement();
            }
          }, {
            key: "isEqual",
            value: function isEqual(e) {
              return this._selection.isEqual(e);
            }
          }, {
            key: "isSimilar",
            value: function isSimilar(e) {
              return this._selection.isSimilar(e);
            }
          }, {
            key: "is",
            value: function is(e) {
              return "selection" === e || "documentSelection" == e || "view:selection" == e || "view:documentSelection" == e;
            }
          }, {
            key: "_setTo",
            value: function _setTo(e, t, n) {
              this._selection.setTo(e, t, n);
            }
          }, {
            key: "_setFocus",
            value: function _setFocus(e, t) {
              this._selection.setFocus(e, t);
            }
          }]);

          return lr;
        }();

        rt(lr, u);

        var dr = /*#__PURE__*/function (_o12) {
          _inherits(dr, _o12);

          var _super7 = _createSuper(dr);

          function dr(e, t, n) {
            var _this21;

            _classCallCheck(this, dr);

            _this21 = _super7.call(this, e, t), _this21.startRange = n, _this21._eventPhase = "none", _this21._currentTarget = null;
            return _this21;
          }

          _createClass(dr, [{
            key: "eventPhase",
            get: function get() {
              return this._eventPhase;
            }
          }, {
            key: "currentTarget",
            get: function get() {
              return this._currentTarget;
            }
          }]);

          return dr;
        }(o);

        var ur = Symbol("bubbling contexts");

        function hr(e, t, n) {
          e instanceof dr && (e._eventPhase = t, e._currentTarget = n);
        }

        function gr(e, t, n) {
          var o = "string" == typeof t ? e.get(t) : mr(e, t);

          for (var _len15 = arguments.length, i = new Array(_len15 > 3 ? _len15 - 3 : 0), _key15 = 3; _key15 < _len15; _key15++) {
            i[_key15 - 3] = arguments[_key15];
          }

          return !!o && (o.fire.apply(o, [n].concat(i)), n.stop.called);
        }

        function mr(e, t) {
          var _iterator48 = _createForOfIteratorHelper(e),
              _step48;

          try {
            for (_iterator48.s(); !(_step48 = _iterator48.n()).done;) {
              var _step48$value = _slicedToArray(_step48.value, 2),
                  _n30 = _step48$value[0],
                  _i24 = _step48$value[1];

              if ("function" == typeof _n30 && _n30(t)) return _i24;
            }
          } catch (err) {
            _iterator48.e(err);
          } finally {
            _iterator48.f();
          }

          return null;
        }

        function fr(e) {
          return e[ur] || (e[ur] = new Map()), e[ur];
        }

        var pr = /*#__PURE__*/function () {
          function pr(e) {
            _classCallCheck(this, pr);

            this.selection = new lr(), this.roots = new Hi({
              idProperty: "rootName"
            }), this.stylesProcessor = e, this.set("isReadOnly", !1), this.set("isFocused", !1), this.set("isSelecting", !1), this.set("isComposing", !1), this._postFixers = new Set();
          }

          _createClass(pr, [{
            key: "getRoot",
            value: function getRoot() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "main";
              return this.roots.get(e);
            }
          }, {
            key: "registerPostFixer",
            value: function registerPostFixer(e) {
              this._postFixers.add(e);
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this.roots.map(function (e) {
                return e.destroy();
              }), this.stopListening();
            }
          }, {
            key: "_callPostFixers",
            value: function _callPostFixers(e) {
              var t = !1;

              do {
                var _iterator49 = _createForOfIteratorHelper(this._postFixers),
                    _step49;

                try {
                  for (_iterator49.s(); !(_step49 = _iterator49.n()).done;) {
                    var _n31 = _step49.value;
                    if (t = _n31(e)) break;
                  }
                } catch (err) {
                  _iterator49.e(err);
                } finally {
                  _iterator49.f();
                }
              } while (t);
            }
          }]);

          return pr;
        }();

        rt(pr, {
          fire: function fire(e) {
            try {
              var _n32 = e instanceof o ? e : new o(this, e),
                  _i25 = fr(this);

              if (!_i25.size) return;

              for (var _len16 = arguments.length, t = new Array(_len16 > 1 ? _len16 - 1 : 0), _key16 = 1; _key16 < _len16; _key16++) {
                t[_key16 - 1] = arguments[_key16];
              }

              if (hr(_n32, "capturing", this), gr.apply(void 0, [_i25, "$capture", _n32].concat(t))) return _n32["return"];

              var _r8 = _n32.startRange || this.selection.getFirstRange(),
                  _s3 = _r8 ? _r8.getContainedElement() : null,
                  _a3 = !!_s3 && Boolean(mr(_i25, _s3));

              var _l2 = _s3 || function (e) {
                if (!e) return null;
                var t = e.start.parent,
                    n = e.end.parent,
                    i = t.getPath(),
                    o = n.getPath();
                return i.length > o.length ? t : n;
              }(_r8);

              if (hr(_n32, "atTarget", _l2), !_a3) {
                if (gr.apply(void 0, [_i25, "$text", _n32].concat(t))) return _n32["return"];
                hr(_n32, "bubbling", _l2);
              }

              for (; _l2;) {
                if (_l2.is("rootElement")) {
                  if (gr.apply(void 0, [_i25, "$root", _n32].concat(t))) return _n32["return"];
                } else if (_l2.is("element") && gr.apply(void 0, [_i25, _l2.name, _n32].concat(t))) return _n32["return"];

                if (gr.apply(void 0, [_i25, _l2, _n32].concat(t))) return _n32["return"];
                hr(_n32, "bubbling", _l2 = _l2.parent);
              }

              return hr(_n32, "bubbling", this), gr.apply(void 0, [_i25, "$document", _n32].concat(t)), _n32["return"];
            } catch (e) {
              c.a.rethrowUnexpectedError(e, this);
            }
          },
          _addEventListener: function _addEventListener(e, t, n) {
            var i = Wi(n.context || "$document"),
                o = fr(this);

            var _iterator50 = _createForOfIteratorHelper(i),
                _step50;

            try {
              for (_iterator50.s(); !(_step50 = _iterator50.n()).done;) {
                var _r9 = _step50.value;

                var _i26 = o.get(_r9);

                _i26 || (_i26 = Object.create(u), o.set(_r9, _i26)), this.listenTo(_i26, e, t, n);
              }
            } catch (err) {
              _iterator50.e(err);
            } finally {
              _iterator50.f();
            }
          },
          _removeEventListener: function _removeEventListener(e, t) {
            var n = fr(this);

            var _iterator51 = _createForOfIteratorHelper(n.values()),
                _step51;

            try {
              for (_iterator51.s(); !(_step51 = _iterator51.n()).done;) {
                var _i27 = _step51.value;
                this.stopListening(_i27, e, t);
              }
            } catch (err) {
              _iterator51.e(err);
            } finally {
              _iterator51.f();
            }
          }
        }), rt(pr, Ze);
        var kr = 10;

        var br = /*#__PURE__*/function (_Qo2) {
          _inherits(br, _Qo2);

          var _super8 = _createSuper(br);

          function br(e, t, n, i) {
            var _this22;

            _classCallCheck(this, br);

            _this22 = _super8.call(this, e, t, n, i), _this22.getFillerOffset = wr, _this22._priority = kr, _this22._id = null, _this22._clonesGroup = null;
            return _this22;
          }

          _createClass(br, [{
            key: "priority",
            get: function get() {
              return this._priority;
            }
          }, {
            key: "id",
            get: function get() {
              return this._id;
            }
          }, {
            key: "getElementsWithSameId",
            value: function getElementsWithSameId() {
              if (null === this.id) throw new c.a("attribute-element-get-elements-with-same-id-no-id", this);
              return new Set(this._clonesGroup);
            }
          }, {
            key: "is",
            value: function is(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              return t ? t === this.name && ("attributeElement" === e || "view:attributeElement" === e || "element" === e || "view:element" === e) : "attributeElement" === e || "view:attributeElement" === e || "element" === e || "view:element" === e || "node" === e || "view:node" === e;
            }
          }, {
            key: "isSimilar",
            value: function isSimilar(e) {
              return null !== this.id || null !== e.id ? this.id === e.id : _get(_getPrototypeOf(br.prototype), "isSimilar", this).call(this, e) && this.priority == e.priority;
            }
          }, {
            key: "_clone",
            value: function _clone(e) {
              var t = _get(_getPrototypeOf(br.prototype), "_clone", this).call(this, e);

              return t._priority = this._priority, t._id = this._id, t;
            }
          }]);

          return br;
        }(Qo);

        function wr() {
          if (_r(this)) return null;
          var e = this.parent;

          for (; e && e.is("attributeElement");) {
            if (_r(e) > 1) return null;
            e = e.parent;
          }

          return !e || _r(e) > 1 ? null : this.childCount;
        }

        function _r(e) {
          return Array.from(e.getChildren()).filter(function (e) {
            return !e.is("uiElement");
          }).length;
        }

        br.DEFAULT_PRIORITY = kr;

        var vr = /*#__PURE__*/function (_Qo3) {
          _inherits(vr, _Qo3);

          var _super9 = _createSuper(vr);

          function vr(e, t, n, i) {
            var _this23;

            _classCallCheck(this, vr);

            _this23 = _super9.call(this, e, t, n, i), _this23._isAllowedInsideAttributeElement = !0, _this23.getFillerOffset = xr;
            return _this23;
          }

          _createClass(vr, [{
            key: "is",
            value: function is(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              return t ? t === this.name && ("emptyElement" === e || "view:emptyElement" === e || "element" === e || "view:element" === e) : "emptyElement" === e || "view:emptyElement" === e || "element" === e || "view:element" === e || "node" === e || "view:node" === e;
            }
          }, {
            key: "_insertChild",
            value: function _insertChild(e, t) {
              if (t && (t instanceof eo || Array.from(t).length > 0)) throw new c.a("view-emptyelement-cannot-add", [this, t]);
            }
          }]);

          return vr;
        }(Qo);

        function xr() {
          return null;
        }

        var yr = navigator.userAgent.toLowerCase();
        var Cr = {
          isMac: function (e) {
            return e.indexOf("macintosh") > -1;
          }(yr),
          isGecko: function (e) {
            return !!e.match(/gecko\/\d+/);
          }(yr),
          isSafari: function (e) {
            return e.indexOf(" applewebkit/") > -1 && -1 === e.indexOf("chrome");
          }(yr),
          isAndroid: function (e) {
            return e.indexOf("android") > -1;
          }(yr),
          isBlink: function (e) {
            return e.indexOf("chrome/") > -1 && e.indexOf("edge/") < 0;
          }(yr),
          features: {
            isRegExpUnicodePropertySupported: function () {
              var e = !1;

              try {
                e = 0 === "ć".search(new RegExp("[\\p{L}]", "u"));
              } catch (e) {}

              return e;
            }()
          }
        };

        var Tr = {
          ctrl: "⌃",
          cmd: "⌘",
          alt: "⌥",
          shift: "⇧"
        },
            Ar = {
          ctrl: "Ctrl+",
          alt: "Alt+",
          shift: "Shift+"
        },
            Er = function () {
          var e = {
            arrowleft: 37,
            arrowup: 38,
            arrowright: 39,
            arrowdown: 40,
            backspace: 8,
            "delete": 46,
            enter: 13,
            space: 32,
            esc: 27,
            tab: 9,
            ctrl: 1114112,
            shift: 2228224,
            alt: 4456448,
            cmd: 8912896
          };

          for (var _t40 = 65; _t40 <= 90; _t40++) {
            var _n33 = String.fromCharCode(_t40);

            e[_n33.toLowerCase()] = _t40;
          }

          for (var _t41 = 48; _t41 <= 57; _t41++) {
            e[_t41 - 48] = _t41;
          }

          for (var _t42 = 112; _t42 <= 123; _t42++) {
            e["f" + (_t42 - 111)] = _t42;
          }

          var _iterator52 = _createForOfIteratorHelper("`-=[];',./\\"),
              _step52;

          try {
            for (_iterator52.s(); !(_step52 = _iterator52.n()).done;) {
              var _t43 = _step52.value;
              e[_t43] = _t43.charCodeAt(0);
            }
          } catch (err) {
            _iterator52.e(err);
          } finally {
            _iterator52.f();
          }

          return e;
        }(),
            Ir = Object.fromEntries(Object.entries(Er).map(function (_ref10) {
          var _ref11 = _slicedToArray(_ref10, 2),
              e = _ref11[0],
              t = _ref11[1];

          return [t, e.charAt(0).toUpperCase() + e.slice(1)];
        }));

        function Sr(e) {
          var t;

          if ("string" == typeof e) {
            if (!(t = Er[e.toLowerCase()])) throw new c.a("keyboard-unknown-key", null, {
              key: e
            });
          } else t = e.keyCode + (e.altKey ? Er.alt : 0) + (e.ctrlKey ? Er.ctrl : 0) + (e.shiftKey ? Er.shift : 0) + (e.metaKey ? Er.cmd : 0);

          return t;
        }

        function Mr(e) {
          return "string" == typeof e && (e = function (e) {
            return e.split("+").map(function (e) {
              return e.trim();
            });
          }(e)), e.map(function (e) {
            return "string" == typeof e ? function (e) {
              if (e.endsWith("!")) return Sr(e.slice(0, -1));
              var t = Sr(e);
              return Cr.isMac && t == Er.ctrl ? Er.cmd : t;
            }(e) : e;
          }).reduce(function (e, t) {
            return t + e;
          }, 0);
        }

        function Pr(e) {
          var t = Mr(e);
          return Object.entries(Cr.isMac ? Tr : Ar).reduce(function (e, _ref12) {
            var _ref13 = _slicedToArray(_ref12, 2),
                n = _ref13[0],
                i = _ref13[1];

            return 0 != (t & Er[n]) && (t &= ~Er[n], e += i), e;
          }, "") + (t ? Ir[t] : "");
        }

        function Rr(e, t) {
          var n = "ltr" === t;

          switch (e) {
            case Er.arrowleft:
              return n ? "left" : "right";

            case Er.arrowright:
              return n ? "right" : "left";

            case Er.arrowup:
              return "up";

            case Er.arrowdown:
              return "down";
          }
        }

        var Nr = /*#__PURE__*/function (_Qo4) {
          _inherits(Nr, _Qo4);

          var _super10 = _createSuper(Nr);

          function Nr(e, t, n, i) {
            var _this24;

            _classCallCheck(this, Nr);

            _this24 = _super10.call(this, e, t, n, i), _this24._isAllowedInsideAttributeElement = !0, _this24.getFillerOffset = Dr;
            return _this24;
          }

          _createClass(Nr, [{
            key: "is",
            value: function is(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              return t ? t === this.name && ("uiElement" === e || "view:uiElement" === e || "element" === e || "view:element" === e) : "uiElement" === e || "view:uiElement" === e || "element" === e || "view:element" === e || "node" === e || "view:node" === e;
            }
          }, {
            key: "_insertChild",
            value: function _insertChild(e, t) {
              if (t && (t instanceof eo || Array.from(t).length > 0)) throw new c.a("view-uielement-cannot-add", this);
            }
          }, {
            key: "render",
            value: function render(e) {
              return this.toDomElement(e);
            }
          }, {
            key: "toDomElement",
            value: function toDomElement(e) {
              var t = e.createElement(this.name);

              var _iterator53 = _createForOfIteratorHelper(this.getAttributeKeys()),
                  _step53;

              try {
                for (_iterator53.s(); !(_step53 = _iterator53.n()).done;) {
                  var _e30 = _step53.value;
                  t.setAttribute(_e30, this.getAttribute(_e30));
                }
              } catch (err) {
                _iterator53.e(err);
              } finally {
                _iterator53.f();
              }

              return t;
            }
          }]);

          return Nr;
        }(Qo);

        function Or(e) {
          e.document.on("arrowKey", function (t, n) {
            return function (e, t, n) {
              if (t.keyCode == Er.arrowright) {
                var _e31 = t.domTarget.ownerDocument.defaultView.getSelection(),
                    _i28 = 1 == _e31.rangeCount && _e31.getRangeAt(0).collapsed;

                if (_i28 || t.shiftKey) {
                  var _t44 = _e31.focusNode,
                      _o13 = _e31.focusOffset,
                      _r10 = n.domPositionToView(_t44, _o13);

                  if (null === _r10) return;

                  var _s4 = !1;

                  var _a4 = _r10.getLastMatchingPosition(function (e) {
                    return e.item.is("uiElement") && (_s4 = !0), !(!e.item.is("uiElement") && !e.item.is("attributeElement"));
                  });

                  if (_s4) {
                    var _t45 = n.viewPositionToDom(_a4);

                    _i28 ? _e31.collapse(_t45.parent, _t45.offset) : _e31.extend(_t45.parent, _t45.offset);
                  }
                }
              }
            }(0, n, e.domConverter);
          }, {
            priority: "low"
          });
        }

        function Dr() {
          return null;
        }

        var Lr = /*#__PURE__*/function (_Qo5) {
          _inherits(Lr, _Qo5);

          var _super11 = _createSuper(Lr);

          function Lr(e, t, n, i) {
            var _this25;

            _classCallCheck(this, Lr);

            _this25 = _super11.call(this, e, t, n, i), _this25._isAllowedInsideAttributeElement = !0, _this25.getFillerOffset = zr;
            return _this25;
          }

          _createClass(Lr, [{
            key: "is",
            value: function is(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              return t ? t === this.name && ("rawElement" === e || "view:rawElement" === e || "element" === e || "view:element" === e) : "rawElement" === e || "view:rawElement" === e || e === this.name || e === "view:" + this.name || "element" === e || "view:element" === e || "node" === e || "view:node" === e;
            }
          }, {
            key: "_insertChild",
            value: function _insertChild(e, t) {
              if (t && (t instanceof eo || Array.from(t).length > 0)) throw new c.a("view-rawelement-cannot-add", [this, t]);
            }
          }]);

          return Lr;
        }(Qo);

        function zr() {
          return null;
        }

        var Vr = /*#__PURE__*/function (_Symbol$iterator5) {
          function Vr(e, t) {
            _classCallCheck(this, Vr);

            this.document = e, this._children = [], t && this._insertChild(0, t);
          }

          _createClass(Vr, [{
            key: _Symbol$iterator5,
            value: function value() {
              return this._children[Symbol.iterator]();
            }
          }, {
            key: "childCount",
            get: function get() {
              return this._children.length;
            }
          }, {
            key: "isEmpty",
            get: function get() {
              return 0 === this.childCount;
            }
          }, {
            key: "root",
            get: function get() {
              return this;
            }
          }, {
            key: "parent",
            get: function get() {
              return null;
            }
          }, {
            key: "is",
            value: function is(e) {
              return "documentFragment" === e || "view:documentFragment" === e;
            }
          }, {
            key: "_appendChild",
            value: function _appendChild(e) {
              return this._insertChild(this.childCount, e);
            }
          }, {
            key: "getChild",
            value: function getChild(e) {
              return this._children[e];
            }
          }, {
            key: "getChildIndex",
            value: function getChildIndex(e) {
              return this._children.indexOf(e);
            }
          }, {
            key: "getChildren",
            value: function getChildren() {
              return this._children[Symbol.iterator]();
            }
          }, {
            key: "_insertChild",
            value: function _insertChild(e, t) {
              this._fireChange("children", this);

              var n = 0;

              var i = function (e, t) {
                if ("string" == typeof t) return [new to(e, t)];
                ji(t) || (t = [t]);
                return Array.from(t).map(function (t) {
                  return "string" == typeof t ? new to(e, t) : t instanceof no ? new to(e, t.data) : t;
                });
              }(this.document, t);

              var _iterator54 = _createForOfIteratorHelper(i),
                  _step54;

              try {
                for (_iterator54.s(); !(_step54 = _iterator54.n()).done;) {
                  var _t46 = _step54.value;
                  null !== _t46.parent && _t46._remove(), _t46.parent = this, this._children.splice(e, 0, _t46), e++, n++;
                }
              } catch (err) {
                _iterator54.e(err);
              } finally {
                _iterator54.f();
              }

              return n;
            }
          }, {
            key: "_removeChildren",
            value: function _removeChildren(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;

              this._fireChange("children", this);

              for (var _n34 = e; _n34 < e + t; _n34++) {
                this._children[_n34].parent = null;
              }

              return this._children.splice(e, t);
            }
          }, {
            key: "_fireChange",
            value: function _fireChange(e, t) {
              this.fire("change:" + e, t);
            }
          }]);

          return Vr;
        }(Symbol.iterator);

        rt(Vr, u);

        var Br = /*#__PURE__*/function () {
          function Br(e) {
            _classCallCheck(this, Br);

            this.document = e, this._cloneGroups = new Map();
          }

          _createClass(Br, [{
            key: "setSelection",
            value: function setSelection(e, t, n) {
              this.document.selection._setTo(e, t, n);
            }
          }, {
            key: "setSelectionFocus",
            value: function setSelectionFocus(e, t) {
              this.document.selection._setFocus(e, t);
            }
          }, {
            key: "createDocumentFragment",
            value: function createDocumentFragment(e) {
              return new Vr(this.document, e);
            }
          }, {
            key: "createText",
            value: function createText(e) {
              return new to(this.document, e);
            }
          }, {
            key: "createAttributeElement",
            value: function createAttributeElement(e, t) {
              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
              var i = new br(this.document, e, t);
              return "number" == typeof n.priority && (i._priority = n.priority), n.id && (i._id = n.id), i;
            }
          }, {
            key: "createContainerElement",
            value: function createContainerElement(e, t) {
              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
              var i = new Xo(this.document, e, t);
              return void 0 !== n.isAllowedInsideAttributeElement && (i._isAllowedInsideAttributeElement = n.isAllowedInsideAttributeElement), i;
            }
          }, {
            key: "createEditableElement",
            value: function createEditableElement(e, t) {
              var n = new er(this.document, e, t);
              return n._document = this.document, n;
            }
          }, {
            key: "createEmptyElement",
            value: function createEmptyElement(e, t) {
              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
              var i = new vr(this.document, e, t);
              return void 0 !== n.isAllowedInsideAttributeElement && (i._isAllowedInsideAttributeElement = n.isAllowedInsideAttributeElement), i;
            }
          }, {
            key: "createUIElement",
            value: function createUIElement(e, t, n) {
              var i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
              var o = new Nr(this.document, e, t);
              return n && (o.render = n), void 0 !== i.isAllowedInsideAttributeElement && (o._isAllowedInsideAttributeElement = i.isAllowedInsideAttributeElement), o;
            }
          }, {
            key: "createRawElement",
            value: function createRawElement(e, t, n) {
              var i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
              var o = new Lr(this.document, e, t);
              return o.render = n || function () {}, void 0 !== i.isAllowedInsideAttributeElement && (o._isAllowedInsideAttributeElement = i.isAllowedInsideAttributeElement), o;
            }
          }, {
            key: "setAttribute",
            value: function setAttribute(e, t, n) {
              n._setAttribute(e, t);
            }
          }, {
            key: "removeAttribute",
            value: function removeAttribute(e, t) {
              t._removeAttribute(e);
            }
          }, {
            key: "addClass",
            value: function addClass(e, t) {
              t._addClass(e);
            }
          }, {
            key: "removeClass",
            value: function removeClass(e, t) {
              t._removeClass(e);
            }
          }, {
            key: "setStyle",
            value: function setStyle(e, t, n) {
              bt(e) && void 0 === n && (n = t), n._setStyle(e, t);
            }
          }, {
            key: "removeStyle",
            value: function removeStyle(e, t) {
              t._removeStyle(e);
            }
          }, {
            key: "setCustomProperty",
            value: function setCustomProperty(e, t, n) {
              n._setCustomProperty(e, t);
            }
          }, {
            key: "removeCustomProperty",
            value: function removeCustomProperty(e, t) {
              return t._removeCustomProperty(e);
            }
          }, {
            key: "breakAttributes",
            value: function breakAttributes(e) {
              return e instanceof or ? this._breakAttributes(e) : this._breakAttributesRange(e);
            }
          }, {
            key: "breakContainer",
            value: function breakContainer(e) {
              var t = e.parent;
              if (!t.is("containerElement")) throw new c.a("view-writer-break-non-container-element", this.document);
              if (!t.parent) throw new c.a("view-writer-break-root", this.document);
              if (e.isAtStart) return or._createBefore(t);

              if (!e.isAtEnd) {
                var _n35 = t._clone(!1);

                this.insert(or._createAfter(t), _n35);

                var _i29 = new rr(e, or._createAt(t, "end")),
                    _o14 = new or(_n35, 0);

                this.move(_i29, _o14);
              }

              return or._createAfter(t);
            }
          }, {
            key: "mergeAttributes",
            value: function mergeAttributes(e) {
              var t = e.offset,
                  n = e.parent;
              if (n.is("$text")) return e;

              if (n.is("attributeElement") && 0 === n.childCount) {
                var _e32 = n.parent,
                    _t47 = n.index;
                return n._remove(), this._removeFromClonedElementsGroup(n), this.mergeAttributes(new or(_e32, _t47));
              }

              var i = n.getChild(t - 1),
                  o = n.getChild(t);
              if (!i || !o) return e;
              if (i.is("$text") && o.is("$text")) return Wr(i, o);

              if (i.is("attributeElement") && o.is("attributeElement") && i.isSimilar(o)) {
                var _e33 = i.childCount;
                return i._appendChild(o.getChildren()), o._remove(), this._removeFromClonedElementsGroup(o), this.mergeAttributes(new or(i, _e33));
              }

              return e;
            }
          }, {
            key: "mergeContainers",
            value: function mergeContainers(e) {
              var t = e.nodeBefore,
                  n = e.nodeAfter;
              if (!(t && n && t.is("containerElement") && n.is("containerElement"))) throw new c.a("view-writer-merge-containers-invalid-position", this.document);
              var i = t.getChild(t.childCount - 1),
                  o = i instanceof to ? or._createAt(i, "end") : or._createAt(t, "end");
              return this.move(rr._createIn(n), or._createAt(t, "end")), this.remove(rr._createOn(n)), o;
            }
          }, {
            key: "insert",
            value: function insert(e, t) {
              (function e(t, n) {
                var _iterator55 = _createForOfIteratorHelper(t),
                    _step55;

                try {
                  var _loop = function _loop() {
                    var i = _step55.value;
                    if (!qr.some(function (e) {
                      return i instanceof e;
                    })) throw new c.a("view-writer-insert-invalid-node-type", n);
                    i.is("$text") || e(i.getChildren(), n);
                  };

                  for (_iterator55.s(); !(_step55 = _iterator55.n()).done;) {
                    _loop();
                  }
                } catch (err) {
                  _iterator55.e(err);
                } finally {
                  _iterator55.f();
                }
              })(t = ji(t) ? _toConsumableArray(t) : [t], this.document);

              var n = t.reduce(function (e, t) {
                var n = e[e.length - 1],
                    i = !(t.is("uiElement") && t.isAllowedInsideAttributeElement);
                return n && n.breakAttributes == i ? n.nodes.push(t) : e.push({
                  breakAttributes: i,
                  nodes: [t]
                }), e;
              }, []);
              var i = null,
                  o = e;

              var _iterator56 = _createForOfIteratorHelper(n),
                  _step56;

              try {
                for (_iterator56.s(); !(_step56 = _iterator56.n()).done;) {
                  var _step56$value = _step56.value,
                      _e34 = _step56$value.nodes,
                      _t48 = _step56$value.breakAttributes;

                  var _n36 = this._insertNodes(o, _e34, _t48);

                  i || (i = _n36.start), o = _n36.end;
                }
              } catch (err) {
                _iterator56.e(err);
              } finally {
                _iterator56.f();
              }

              return i ? new rr(i, o) : new rr(e);
            }
          }, {
            key: "remove",
            value: function remove(e) {
              var t = e instanceof rr ? e : rr._createOn(e);
              if (Gr(t, this.document), t.isCollapsed) return new Vr(this.document);

              var _this$_breakAttribute = this._breakAttributesRange(t, !0),
                  n = _this$_breakAttribute.start,
                  i = _this$_breakAttribute.end,
                  o = n.parent,
                  r = i.offset - n.offset,
                  s = o._removeChildren(n.offset, r);

              var _iterator57 = _createForOfIteratorHelper(s),
                  _step57;

              try {
                for (_iterator57.s(); !(_step57 = _iterator57.n()).done;) {
                  var _e35 = _step57.value;

                  this._removeFromClonedElementsGroup(_e35);
                }
              } catch (err) {
                _iterator57.e(err);
              } finally {
                _iterator57.f();
              }

              var a = this.mergeAttributes(n);
              return t.start = a, t.end = a.clone(), new Vr(this.document, s);
            }
          }, {
            key: "clear",
            value: function clear(e, t) {
              Gr(e, this.document);
              var n = e.getWalker({
                direction: "backward",
                ignoreElementEnd: !0
              });

              var _iterator58 = _createForOfIteratorHelper(n),
                  _step58;

              try {
                for (_iterator58.s(); !(_step58 = _iterator58.n()).done;) {
                  var _i30 = _step58.value;
                  var _n37 = _i30.item;

                  var _o15 = void 0;

                  if (_n37.is("element") && t.isSimilar(_n37)) _o15 = rr._createOn(_n37);else if (!_i30.nextPosition.isAfter(e.start) && _n37.is("$textProxy")) {
                    var _e36 = _n37.getAncestors().find(function (e) {
                      return e.is("element") && t.isSimilar(e);
                    });

                    _e36 && (_o15 = rr._createIn(_e36));
                  }
                  _o15 && (_o15.end.isAfter(e.end) && (_o15.end = e.end), _o15.start.isBefore(e.start) && (_o15.start = e.start), this.remove(_o15));
                }
              } catch (err) {
                _iterator58.e(err);
              } finally {
                _iterator58.f();
              }
            }
          }, {
            key: "move",
            value: function move(e, t) {
              var n;

              if (t.isAfter(e.end)) {
                var _i31 = (t = this._breakAttributes(t, !0)).parent,
                    _o16 = _i31.childCount;

                e = this._breakAttributesRange(e, !0), n = this.remove(e), t.offset += _i31.childCount - _o16;
              } else n = this.remove(e);

              return this.insert(t, n);
            }
          }, {
            key: "wrap",
            value: function wrap(e, t) {
              if (!(t instanceof br)) throw new c.a("view-writer-wrap-invalid-attribute", this.document);

              if (Gr(e, this.document), e.isCollapsed) {
                var _n38 = e.start;
                _n38.parent.is("element") && !function (e) {
                  return Array.from(e.getChildren()).some(function (e) {
                    return !e.is("uiElement");
                  });
                }(_n38.parent) && (_n38 = _n38.getLastMatchingPosition(function (e) {
                  return e.item.is("uiElement");
                })), _n38 = this._wrapPosition(_n38, t);
                var _i32 = this.document.selection;
                return _i32.isCollapsed && _i32.getFirstPosition().isEqual(e.start) && this.setSelection(_n38), new rr(_n38);
              }

              return this._wrapRange(e, t);
            }
          }, {
            key: "unwrap",
            value: function unwrap(e, t) {
              if (!(t instanceof br)) throw new c.a("view-writer-unwrap-invalid-attribute", this.document);
              if (Gr(e, this.document), e.isCollapsed) return e;

              var _this$_breakAttribute2 = this._breakAttributesRange(e, !0),
                  n = _this$_breakAttribute2.start,
                  i = _this$_breakAttribute2.end,
                  o = n.parent,
                  r = this._unwrapChildren(o, n.offset, i.offset, t),
                  s = this.mergeAttributes(r.start);

              s.isEqual(r.start) || r.end.offset--;
              var a = this.mergeAttributes(r.end);
              return new rr(s, a);
            }
          }, {
            key: "rename",
            value: function rename(e, t) {
              var n = new Xo(this.document, e, t.getAttributes());
              return this.insert(or._createAfter(t), n), this.move(rr._createIn(t), or._createAt(n, 0)), this.remove(rr._createOn(t)), n;
            }
          }, {
            key: "clearClonedElementsGroup",
            value: function clearClonedElementsGroup(e) {
              this._cloneGroups["delete"](e);
            }
          }, {
            key: "createPositionAt",
            value: function createPositionAt(e, t) {
              return or._createAt(e, t);
            }
          }, {
            key: "createPositionAfter",
            value: function createPositionAfter(e) {
              return or._createAfter(e);
            }
          }, {
            key: "createPositionBefore",
            value: function createPositionBefore(e) {
              return or._createBefore(e);
            }
          }, {
            key: "createRange",
            value: function createRange(e, t) {
              return new rr(e, t);
            }
          }, {
            key: "createRangeOn",
            value: function createRangeOn(e) {
              return rr._createOn(e);
            }
          }, {
            key: "createRangeIn",
            value: function createRangeIn(e) {
              return rr._createIn(e);
            }
          }, {
            key: "createSelection",
            value: function createSelection(e, t, n) {
              return new cr(e, t, n);
            }
          }, {
            key: "_insertNodes",
            value: function _insertNodes(e, t, n) {
              var i, o;
              if (!(i = n ? Fr(e) : e.parent.is("$text") ? e.parent.parent : e.parent)) throw new c.a("view-writer-invalid-position-container", this.document);
              o = n ? this._breakAttributes(e, !0) : e.parent.is("$text") ? Ur(e) : e;

              var r = i._insertChild(o.offset, t);

              var _iterator59 = _createForOfIteratorHelper(t),
                  _step59;

              try {
                for (_iterator59.s(); !(_step59 = _iterator59.n()).done;) {
                  var _e37 = _step59.value;

                  this._addToClonedElementsGroup(_e37);
                }
              } catch (err) {
                _iterator59.e(err);
              } finally {
                _iterator59.f();
              }

              var s = o.getShiftedBy(r),
                  a = this.mergeAttributes(o);
              a.isEqual(o) || s.offset--;
              var l = this.mergeAttributes(s);
              return new rr(a, l);
            }
          }, {
            key: "_wrapChildren",
            value: function _wrapChildren(e, t, n, i) {
              var o = t;
              var r = [];

              for (; o < n;) {
                var _t49 = e.getChild(o),
                    _n39 = _t49.is("$text"),
                    _s5 = _t49.is("attributeElement"),
                    _a5 = _t49.isAllowedInsideAttributeElement;

                if (_s5 && this._wrapAttributeElement(i, _t49)) r.push(new or(e, o));else if (_n39 || _a5 || _s5 && jr(i, _t49)) {
                  var _n40 = i._clone();

                  _t49._remove(), _n40._appendChild(_t49), e._insertChild(o, _n40), this._addToClonedElementsGroup(_n40), r.push(new or(e, o));
                } else _s5 && this._wrapChildren(_t49, 0, _t49.childCount, i);
                o++;
              }

              var s = 0;

              for (var _i33 = 0, _r11 = r; _i33 < _r11.length; _i33++) {
                var _e38 = _r11[_i33];
                if (_e38.offset -= s, _e38.offset == t) continue;
                this.mergeAttributes(_e38).isEqual(_e38) || (s++, n--);
              }

              return rr._createFromParentsAndOffsets(e, t, e, n);
            }
          }, {
            key: "_unwrapChildren",
            value: function _unwrapChildren(e, t, n, i) {
              var o = t;
              var r = [];

              for (; o < n;) {
                var _t50 = e.getChild(o);

                if (_t50.is("attributeElement")) {
                  if (_t50.isSimilar(i)) {
                    var _i34 = _t50.getChildren(),
                        _s6 = _t50.childCount;

                    _t50._remove(), e._insertChild(o, _i34), this._removeFromClonedElementsGroup(_t50), r.push(new or(e, o), new or(e, o + _s6)), o += _s6, n += _s6 - 1;
                  } else this._unwrapAttributeElement(i, _t50) ? (r.push(new or(e, o), new or(e, o + 1)), o++) : (this._unwrapChildren(_t50, 0, _t50.childCount, i), o++);
                } else o++;
              }

              var s = 0;

              for (var _i35 = 0, _r12 = r; _i35 < _r12.length; _i35++) {
                var _e39 = _r12[_i35];
                if (_e39.offset -= s, _e39.offset == t || _e39.offset == n) continue;
                this.mergeAttributes(_e39).isEqual(_e39) || (s++, n--);
              }

              return rr._createFromParentsAndOffsets(e, t, e, n);
            }
          }, {
            key: "_wrapRange",
            value: function _wrapRange(e, t) {
              var _this$_breakAttribute3 = this._breakAttributesRange(e, !0),
                  n = _this$_breakAttribute3.start,
                  i = _this$_breakAttribute3.end,
                  o = n.parent,
                  r = this._wrapChildren(o, n.offset, i.offset, t),
                  s = this.mergeAttributes(r.start);

              s.isEqual(r.start) || r.end.offset--;
              var a = this.mergeAttributes(r.end);
              return new rr(s, a);
            }
          }, {
            key: "_wrapPosition",
            value: function _wrapPosition(e, t) {
              if (t.isSimilar(e.parent)) return Hr(e.clone());
              e.parent.is("$text") && (e = Ur(e));
              var n = this.createAttributeElement();
              n._priority = Number.POSITIVE_INFINITY, n.isSimilar = function () {
                return !1;
              }, e.parent._insertChild(e.offset, n);
              var i = new rr(e, e.getShiftedBy(1));
              this.wrap(i, t);
              var o = new or(n.parent, n.index);

              n._remove();

              var r = o.nodeBefore,
                  s = o.nodeAfter;
              return r instanceof to && s instanceof to ? Wr(r, s) : Hr(o);
            }
          }, {
            key: "_wrapAttributeElement",
            value: function _wrapAttributeElement(e, t) {
              if (!Yr(e, t)) return !1;
              if (e.name !== t.name || e.priority !== t.priority) return !1;

              var _iterator60 = _createForOfIteratorHelper(e.getAttributeKeys()),
                  _step60;

              try {
                for (_iterator60.s(); !(_step60 = _iterator60.n()).done;) {
                  var _n41 = _step60.value;
                  if ("class" !== _n41 && "style" !== _n41 && t.hasAttribute(_n41) && t.getAttribute(_n41) !== e.getAttribute(_n41)) return !1;
                }
              } catch (err) {
                _iterator60.e(err);
              } finally {
                _iterator60.f();
              }

              var _iterator61 = _createForOfIteratorHelper(e.getStyleNames()),
                  _step61;

              try {
                for (_iterator61.s(); !(_step61 = _iterator61.n()).done;) {
                  var _n42 = _step61.value;
                  if (t.hasStyle(_n42) && t.getStyle(_n42) !== e.getStyle(_n42)) return !1;
                }
              } catch (err) {
                _iterator61.e(err);
              } finally {
                _iterator61.f();
              }

              var _iterator62 = _createForOfIteratorHelper(e.getAttributeKeys()),
                  _step62;

              try {
                for (_iterator62.s(); !(_step62 = _iterator62.n()).done;) {
                  var _n43 = _step62.value;
                  "class" !== _n43 && "style" !== _n43 && (t.hasAttribute(_n43) || this.setAttribute(_n43, e.getAttribute(_n43), t));
                }
              } catch (err) {
                _iterator62.e(err);
              } finally {
                _iterator62.f();
              }

              var _iterator63 = _createForOfIteratorHelper(e.getStyleNames()),
                  _step63;

              try {
                for (_iterator63.s(); !(_step63 = _iterator63.n()).done;) {
                  var _n44 = _step63.value;
                  t.hasStyle(_n44) || this.setStyle(_n44, e.getStyle(_n44), t);
                }
              } catch (err) {
                _iterator63.e(err);
              } finally {
                _iterator63.f();
              }

              var _iterator64 = _createForOfIteratorHelper(e.getClassNames()),
                  _step64;

              try {
                for (_iterator64.s(); !(_step64 = _iterator64.n()).done;) {
                  var _n45 = _step64.value;
                  t.hasClass(_n45) || this.addClass(_n45, t);
                }
              } catch (err) {
                _iterator64.e(err);
              } finally {
                _iterator64.f();
              }

              return !0;
            }
          }, {
            key: "_unwrapAttributeElement",
            value: function _unwrapAttributeElement(e, t) {
              if (!Yr(e, t)) return !1;
              if (e.name !== t.name || e.priority !== t.priority) return !1;

              var _iterator65 = _createForOfIteratorHelper(e.getAttributeKeys()),
                  _step65;

              try {
                for (_iterator65.s(); !(_step65 = _iterator65.n()).done;) {
                  var _n46 = _step65.value;
                  if ("class" !== _n46 && "style" !== _n46 && (!t.hasAttribute(_n46) || t.getAttribute(_n46) !== e.getAttribute(_n46))) return !1;
                }
              } catch (err) {
                _iterator65.e(err);
              } finally {
                _iterator65.f();
              }

              if (!t.hasClass.apply(t, _toConsumableArray(e.getClassNames()))) return !1;

              var _iterator66 = _createForOfIteratorHelper(e.getStyleNames()),
                  _step66;

              try {
                for (_iterator66.s(); !(_step66 = _iterator66.n()).done;) {
                  var _n47 = _step66.value;
                  if (!t.hasStyle(_n47) || t.getStyle(_n47) !== e.getStyle(_n47)) return !1;
                }
              } catch (err) {
                _iterator66.e(err);
              } finally {
                _iterator66.f();
              }

              var _iterator67 = _createForOfIteratorHelper(e.getAttributeKeys()),
                  _step67;

              try {
                for (_iterator67.s(); !(_step67 = _iterator67.n()).done;) {
                  var _n48 = _step67.value;
                  "class" !== _n48 && "style" !== _n48 && this.removeAttribute(_n48, t);
                }
              } catch (err) {
                _iterator67.e(err);
              } finally {
                _iterator67.f();
              }

              return this.removeClass(Array.from(e.getClassNames()), t), this.removeStyle(Array.from(e.getStyleNames()), t), !0;
            }
          }, {
            key: "_breakAttributesRange",
            value: function _breakAttributesRange(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;
              var n = e.start,
                  i = e.end;

              if (Gr(e, this.document), e.isCollapsed) {
                var _n49 = this._breakAttributes(e.start, t);

                return new rr(_n49, _n49);
              }

              var o = this._breakAttributes(i, t),
                  r = o.parent.childCount,
                  s = this._breakAttributes(n, t);

              return o.offset += o.parent.childCount - r, new rr(s, o);
            }
          }, {
            key: "_breakAttributes",
            value: function _breakAttributes(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;
              var n = e.offset,
                  i = e.parent;
              if (e.parent.is("emptyElement")) throw new c.a("view-writer-cannot-break-empty-element", this.document);
              if (e.parent.is("uiElement")) throw new c.a("view-writer-cannot-break-ui-element", this.document);
              if (e.parent.is("rawElement")) throw new c.a("view-writer-cannot-break-raw-element", this.document);
              if (!t && i.is("$text") && $r(i.parent)) return e.clone();
              if ($r(i)) return e.clone();
              if (i.is("$text")) return this._breakAttributes(Ur(e), t);

              if (n == i.childCount) {
                var _e40 = new or(i.parent, i.index + 1);

                return this._breakAttributes(_e40, t);
              }

              if (0 === n) {
                var _e41 = new or(i.parent, i.index);

                return this._breakAttributes(_e41, t);
              }

              {
                var _e42 = i.index + 1,
                    _o17 = i._clone();

                i.parent._insertChild(_e42, _o17), this._addToClonedElementsGroup(_o17);

                var _r13 = i.childCount - n,
                    _s7 = i._removeChildren(n, _r13);

                _o17._appendChild(_s7);

                var _a6 = new or(i.parent, _e42);

                return this._breakAttributes(_a6, t);
              }
            }
          }, {
            key: "_addToClonedElementsGroup",
            value: function _addToClonedElementsGroup(e) {
              if (!e.root.is("rootElement")) return;

              if (e.is("element")) {
                var _iterator68 = _createForOfIteratorHelper(e.getChildren()),
                    _step68;

                try {
                  for (_iterator68.s(); !(_step68 = _iterator68.n()).done;) {
                    var _t51 = _step68.value;

                    this._addToClonedElementsGroup(_t51);
                  }
                } catch (err) {
                  _iterator68.e(err);
                } finally {
                  _iterator68.f();
                }
              }

              var t = e.id;
              if (!t) return;

              var n = this._cloneGroups.get(t);

              n || (n = new Set(), this._cloneGroups.set(t, n)), n.add(e), e._clonesGroup = n;
            }
          }, {
            key: "_removeFromClonedElementsGroup",
            value: function _removeFromClonedElementsGroup(e) {
              if (e.is("element")) {
                var _iterator69 = _createForOfIteratorHelper(e.getChildren()),
                    _step69;

                try {
                  for (_iterator69.s(); !(_step69 = _iterator69.n()).done;) {
                    var _t52 = _step69.value;

                    this._removeFromClonedElementsGroup(_t52);
                  }
                } catch (err) {
                  _iterator69.e(err);
                } finally {
                  _iterator69.f();
                }
              }

              var t = e.id;
              if (!t) return;

              var n = this._cloneGroups.get(t);

              n && n["delete"](e);
            }
          }]);

          return Br;
        }();

        function Fr(e) {
          var t = e.parent;

          for (; !$r(t);) {
            if (!t) return;
            t = t.parent;
          }

          return t;
        }

        function jr(e, t) {
          return e.priority < t.priority || !(e.priority > t.priority) && e.getIdentity() < t.getIdentity();
        }

        function Hr(e) {
          var t = e.nodeBefore;
          if (t && t.is("$text")) return new or(t, t.data.length);
          var n = e.nodeAfter;
          return n && n.is("$text") ? new or(n, 0) : e;
        }

        function Ur(e) {
          if (e.offset == e.parent.data.length) return new or(e.parent.parent, e.parent.index + 1);
          if (0 === e.offset) return new or(e.parent.parent, e.parent.index);
          var t = e.parent.data.slice(e.offset);
          return e.parent._data = e.parent.data.slice(0, e.offset), e.parent.parent._insertChild(e.parent.index + 1, new to(e.root.document, t)), new or(e.parent.parent, e.parent.index + 1);
        }

        function Wr(e, t) {
          var n = e.data.length;
          return e._data += t.data, t._remove(), new or(e, n);
        }

        var qr = [to, br, Xo, vr, Lr, Nr];

        function $r(e) {
          return e && (e.is("containerElement") || e.is("documentFragment"));
        }

        function Gr(e, t) {
          var n = Fr(e.start),
              i = Fr(e.end);
          if (!n || !i || n !== i) throw new c.a("view-writer-invalid-range-container", t);
        }

        function Yr(e, t) {
          return null === e.id && null === t.id;
        }

        function Kr(e) {
          return "[object Text]" == Object.prototype.toString.call(e);
        }

        var Qr = function Qr(e) {
          return e.createTextNode(" ");
        },
            Jr = function Jr(e) {
          var t = e.createElement("span");
          return t.dataset.ckeFiller = !0, t.innerHTML = " ", t;
        },
            Xr = function Xr(e) {
          var t = e.createElement("br");
          return t.dataset.ckeFiller = !0, t;
        },
            Zr = 7,
            es = "⁠".repeat(Zr);

        function ts(e) {
          return Kr(e) && e.data.substr(0, Zr) === es;
        }

        function ns(e) {
          return e.data.length == Zr && ts(e);
        }

        function is(e) {
          return ts(e) ? e.data.slice(Zr) : e.data;
        }

        function os(e, t) {
          if (t.keyCode == Er.arrowleft) {
            var _e43 = t.domTarget.ownerDocument.defaultView.getSelection();

            if (1 == _e43.rangeCount && _e43.getRangeAt(0).collapsed) {
              var _t53 = _e43.getRangeAt(0).startContainer,
                  _n50 = _e43.getRangeAt(0).startOffset;

              ts(_t53) && _n50 <= Zr && _e43.collapse(_t53, 0);
            }
          }
        }

        function rs(e, t, n) {
          var i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;
          n = n || function (e, t) {
            return e === t;
          }, Array.isArray(e) || (e = Array.prototype.slice.call(e)), Array.isArray(t) || (t = Array.prototype.slice.call(t));

          var o = function (e, t, n) {
            var i = ss(e, t, n);
            if (-1 === i) return {
              firstIndex: -1,
              lastIndexOld: -1,
              lastIndexNew: -1
            };
            var o = as(e, i),
                r = as(t, i),
                s = ss(o, r, n),
                a = e.length - s,
                c = t.length - s;
            return {
              firstIndex: i,
              lastIndexOld: a,
              lastIndexNew: c
            };
          }(e, t, n);

          return i ? function (e, t) {
            var n = e.firstIndex,
                i = e.lastIndexOld,
                o = e.lastIndexNew;
            if (-1 === n) return Array(t).fill("equal");
            var r = [];
            n > 0 && (r = r.concat(Array(n).fill("equal")));
            o - n > 0 && (r = r.concat(Array(o - n).fill("insert")));
            i - n > 0 && (r = r.concat(Array(i - n).fill("delete")));
            o < t && (r = r.concat(Array(t - o).fill("equal")));
            return r;
          }(o, t.length) : function (e, t) {
            var n = [],
                i = t.firstIndex,
                o = t.lastIndexOld,
                r = t.lastIndexNew;
            r - i > 0 && n.push({
              index: i,
              type: "insert",
              values: e.slice(i, r)
            });
            o - i > 0 && n.push({
              index: i + (r - i),
              type: "delete",
              howMany: o - i
            });
            return n;
          }(t, o);
        }

        function ss(e, t, n) {
          for (var _i36 = 0; _i36 < Math.max(e.length, t.length); _i36++) {
            if (void 0 === e[_i36] || void 0 === t[_i36] || !n(e[_i36], t[_i36])) return _i36;
          }

          return -1;
        }

        function as(e, t) {
          return e.slice(t).reverse();
        }

        function cs(e, t, n) {
          n = n || function (e, t) {
            return e === t;
          };

          var i = e.length,
              o = t.length;
          if (i > 200 || o > 200 || i + o > 300) return cs.fastDiff(e, t, n, !0);
          var r, s;

          if (o < i) {
            var _n51 = e;
            e = t, t = _n51, r = "delete", s = "insert";
          } else r = "insert", s = "delete";

          var a = e.length,
              c = t.length,
              l = c - a,
              d = {},
              u = {};

          function h(i) {
            var o = (void 0 !== u[i - 1] ? u[i - 1] : -1) + 1,
                l = void 0 !== u[i + 1] ? u[i + 1] : -1,
                h = o > l ? -1 : 1;
            d[i + h] && (d[i] = d[i + h].slice(0)), d[i] || (d[i] = []), d[i].push(o > l ? r : s);
            var g = Math.max(o, l),
                m = g - i;

            for (; m < a && g < c && n(e[m], t[g]);) {
              m++, g++, d[i].push("equal");
            }

            return g;
          }

          var g,
              m = 0;

          do {
            for (g = -m; g < l; g++) {
              u[g] = h(g);
            }

            for (g = l + m; g > l; g--) {
              u[g] = h(g);
            }

            u[l] = h(l), m++;
          } while (u[l] !== c);

          return d[l].slice(1);
        }

        function ls(e, t, n) {
          e.insertBefore(n, e.childNodes[t] || null);
        }

        function ds(e) {
          var t = e.parentNode;
          t && t.removeChild(e);
        }

        function us(e) {
          if (e) {
            if (e.defaultView) return e instanceof e.defaultView.Document;
            if (e.ownerDocument && e.ownerDocument.defaultView) return e instanceof e.ownerDocument.defaultView.Node;
          }

          return !1;
        }

        cs.fastDiff = rs;
        n(80);

        var hs = /*#__PURE__*/function () {
          function hs(e, t) {
            var _this26 = this;

            _classCallCheck(this, hs);

            this.domDocuments = new Set(), this.domConverter = e, this.markedAttributes = new Set(), this.markedChildren = new Set(), this.markedTexts = new Set(), this.selection = t, this.set("isFocused", !1), this.set("isSelecting", !1), Cr.isBlink && !Cr.isAndroid && this.on("change:isSelecting", function () {
              _this26.isSelecting || _this26.render();
            }), this._inlineFiller = null, this._fakeSelectionContainer = null;
          }

          _createClass(hs, [{
            key: "markToSync",
            value: function markToSync(e, t) {
              if ("text" === e) this.domConverter.mapViewToDom(t.parent) && this.markedTexts.add(t);else {
                if (!this.domConverter.mapViewToDom(t)) return;
                if ("attributes" === e) this.markedAttributes.add(t);else {
                  if ("children" !== e) throw new c.a("view-renderer-unknown-type", this);
                  this.markedChildren.add(t);
                }
              }
            }
          }, {
            key: "render",
            value: function render() {
              var e;
              var t = !(Cr.isBlink && !Cr.isAndroid) || !this.isSelecting;

              var _iterator70 = _createForOfIteratorHelper(this.markedChildren),
                  _step70;

              try {
                for (_iterator70.s(); !(_step70 = _iterator70.n()).done;) {
                  var _e44 = _step70.value;

                  this._updateChildrenMappings(_e44);
                }
              } catch (err) {
                _iterator70.e(err);
              } finally {
                _iterator70.f();
              }

              t ? (this._inlineFiller && !this._isSelectionInInlineFiller() && this._removeInlineFiller(), this._inlineFiller ? e = this._getInlineFillerPosition() : this._needsInlineFillerAtSelection() && (e = this.selection.getFirstPosition(), this.markedChildren.add(e.parent))) : this._inlineFiller && this._inlineFiller.parentNode && (e = this.domConverter.domPositionToView(this._inlineFiller));

              var _iterator71 = _createForOfIteratorHelper(this.markedAttributes),
                  _step71;

              try {
                for (_iterator71.s(); !(_step71 = _iterator71.n()).done;) {
                  var _e45 = _step71.value;

                  this._updateAttrs(_e45);
                }
              } catch (err) {
                _iterator71.e(err);
              } finally {
                _iterator71.f();
              }

              var _iterator72 = _createForOfIteratorHelper(this.markedChildren),
                  _step72;

              try {
                for (_iterator72.s(); !(_step72 = _iterator72.n()).done;) {
                  var _t55 = _step72.value;

                  this._updateChildren(_t55, {
                    inlineFillerPosition: e
                  });
                }
              } catch (err) {
                _iterator72.e(err);
              } finally {
                _iterator72.f();
              }

              var _iterator73 = _createForOfIteratorHelper(this.markedTexts),
                  _step73;

              try {
                for (_iterator73.s(); !(_step73 = _iterator73.n()).done;) {
                  var _t56 = _step73.value;
                  !this.markedChildren.has(_t56.parent) && this.domConverter.mapViewToDom(_t56.parent) && this._updateText(_t56, {
                    inlineFillerPosition: e
                  });
                }
              } catch (err) {
                _iterator73.e(err);
              } finally {
                _iterator73.f();
              }

              if (t) if (e) {
                var _t54 = this.domConverter.viewPositionToDom(e),
                    _n52 = _t54.parent.ownerDocument;

                ts(_t54.parent) ? this._inlineFiller = _t54.parent : this._inlineFiller = gs(_n52, _t54.parent, _t54.offset);
              } else this._inlineFiller = null;
              this._updateFocus(), this._updateSelection(), this.markedTexts.clear(), this.markedAttributes.clear(), this.markedChildren.clear();
            }
          }, {
            key: "_updateChildrenMappings",
            value: function _updateChildrenMappings(e) {
              var t = this.domConverter.mapViewToDom(e);
              if (!t) return;

              var n = Array.from(this.domConverter.mapViewToDom(e).childNodes),
                  i = Array.from(this.domConverter.viewChildrenToDom(e, t.ownerDocument, {
                withChildren: !1
              })),
                  o = this._diffNodeLists(n, i),
                  r = this._findReplaceActions(o, n, i);

              if (-1 !== r.indexOf("replace")) {
                var _t57 = {
                  equal: 0,
                  insert: 0,
                  "delete": 0
                };

                var _iterator74 = _createForOfIteratorHelper(r),
                    _step74;

                try {
                  for (_iterator74.s(); !(_step74 = _iterator74.n()).done;) {
                    var _o18 = _step74.value;

                    if ("replace" === _o18) {
                      var _o19 = _t57.equal + _t57.insert,
                          _r14 = _t57.equal + _t57["delete"],
                          _s8 = e.getChild(_o19);

                      !_s8 || _s8.is("uiElement") || _s8.is("rawElement") || this._updateElementMappings(_s8, n[_r14]), ds(i[_o19]), _t57.equal++;
                    } else _t57[_o18]++;
                  }
                } catch (err) {
                  _iterator74.e(err);
                } finally {
                  _iterator74.f();
                }
              }
            }
          }, {
            key: "_updateElementMappings",
            value: function _updateElementMappings(e, t) {
              this.domConverter.unbindDomElement(t), this.domConverter.bindElements(t, e), this.markedChildren.add(e), this.markedAttributes.add(e);
            }
          }, {
            key: "_getInlineFillerPosition",
            value: function _getInlineFillerPosition() {
              var e = this.selection.getFirstPosition();
              return e.parent.is("$text") ? or._createBefore(this.selection.getFirstPosition().parent) : e;
            }
          }, {
            key: "_isSelectionInInlineFiller",
            value: function _isSelectionInInlineFiller() {
              if (1 != this.selection.rangeCount || !this.selection.isCollapsed) return !1;
              var e = this.selection.getFirstPosition(),
                  t = this.domConverter.viewPositionToDom(e);
              return !!(t && Kr(t.parent) && ts(t.parent));
            }
          }, {
            key: "_removeInlineFiller",
            value: function _removeInlineFiller() {
              var e = this._inlineFiller;
              if (!ts(e)) throw new c.a("view-renderer-filler-was-lost", this);
              ns(e) ? e.remove() : e.data = e.data.substr(Zr), this._inlineFiller = null;
            }
          }, {
            key: "_needsInlineFillerAtSelection",
            value: function _needsInlineFillerAtSelection() {
              if (1 != this.selection.rangeCount || !this.selection.isCollapsed) return !1;
              var e = this.selection.getFirstPosition(),
                  t = e.parent,
                  n = e.offset;
              if (!this.domConverter.mapViewToDom(t.root)) return !1;
              if (!t.is("element")) return !1;
              if (!function (e) {
                if ("false" == e.getAttribute("contenteditable")) return !1;
                var t = e.findAncestor(function (e) {
                  return e.hasAttribute("contenteditable");
                });
                return !t || "true" == t.getAttribute("contenteditable");
              }(t)) return !1;
              if (n === t.getFillerOffset()) return !1;
              var i = e.nodeBefore,
                  o = e.nodeAfter;
              return !(i instanceof to || o instanceof to);
            }
          }, {
            key: "_updateText",
            value: function _updateText(e, t) {
              var n = this.domConverter.findCorrespondingDomText(e),
                  i = this.domConverter.viewToDom(e, n.ownerDocument),
                  o = n.data;
              var r = i.data;
              var s = t.inlineFillerPosition;

              if (s && s.parent == e.parent && s.offset == e.index && (r = es + r), o != r) {
                var _e46 = rs(o, r);

                var _iterator75 = _createForOfIteratorHelper(_e46),
                    _step75;

                try {
                  for (_iterator75.s(); !(_step75 = _iterator75.n()).done;) {
                    var _t58 = _step75.value;
                    "insert" === _t58.type ? n.insertData(_t58.index, _t58.values.join("")) : n.deleteData(_t58.index, _t58.howMany);
                  }
                } catch (err) {
                  _iterator75.e(err);
                } finally {
                  _iterator75.f();
                }
              }
            }
          }, {
            key: "_updateAttrs",
            value: function _updateAttrs(e) {
              var t = this.domConverter.mapViewToDom(e);
              if (!t) return;
              var n = Array.from(t.attributes).map(function (e) {
                return e.name;
              }),
                  i = e.getAttributeKeys();

              var _iterator76 = _createForOfIteratorHelper(i),
                  _step76;

              try {
                for (_iterator76.s(); !(_step76 = _iterator76.n()).done;) {
                  var _n53 = _step76.value;

                  var _i37 = e.getAttribute(_n53);

                  this.domConverter.shouldRenderAttribute(_n53, _i37) ? t.setAttribute(_n53, _i37) : t.removeAttribute(_n53);
                }
              } catch (err) {
                _iterator76.e(err);
              } finally {
                _iterator76.f();
              }

              var _iterator77 = _createForOfIteratorHelper(n),
                  _step77;

              try {
                for (_iterator77.s(); !(_step77 = _iterator77.n()).done;) {
                  var _i38 = _step77.value;
                  "script" === e.name && "data-ck-hidden" === _i38 || e.hasAttribute(_i38) || t.removeAttribute(_i38);
                }
              } catch (err) {
                _iterator77.e(err);
              } finally {
                _iterator77.f();
              }
            }
          }, {
            key: "_updateChildren",
            value: function _updateChildren(e, t) {
              var n = this.domConverter.mapViewToDom(e);
              if (!n) return;
              var i = t.inlineFillerPosition,
                  o = this.domConverter.mapViewToDom(e).childNodes,
                  r = Array.from(this.domConverter.viewChildrenToDom(e, n.ownerDocument, {
                bind: !0
              }));
              i && i.parent === e && gs(n.ownerDocument, r, i.offset);

              var s = this._diffNodeLists(o, r);

              var a = 0;
              var c = new Set();

              var _iterator78 = _createForOfIteratorHelper(s),
                  _step78;

              try {
                for (_iterator78.s(); !(_step78 = _iterator78.n()).done;) {
                  var _e47 = _step78.value;
                  "delete" === _e47 ? (c.add(o[a]), ds(o[a])) : "equal" === _e47 && a++;
                }
              } catch (err) {
                _iterator78.e(err);
              } finally {
                _iterator78.f();
              }

              a = 0;

              var _iterator79 = _createForOfIteratorHelper(s),
                  _step79;

              try {
                for (_iterator79.s(); !(_step79 = _iterator79.n()).done;) {
                  var _e48 = _step79.value;
                  "insert" === _e48 ? (ls(n, a, r[a]), a++) : "equal" === _e48 && (this._markDescendantTextToSync(this.domConverter.domToView(r[a])), a++);
                }
              } catch (err) {
                _iterator79.e(err);
              } finally {
                _iterator79.f();
              }

              var _iterator80 = _createForOfIteratorHelper(c),
                  _step80;

              try {
                for (_iterator80.s(); !(_step80 = _iterator80.n()).done;) {
                  var _e49 = _step80.value;
                  _e49.parentNode || this.domConverter.unbindDomElement(_e49);
                }
              } catch (err) {
                _iterator80.e(err);
              } finally {
                _iterator80.f();
              }
            }
          }, {
            key: "_diffNodeLists",
            value: function _diffNodeLists(e, t) {
              return cs(e = function (e, t) {
                var n = Array.from(e);
                if (0 == n.length || !t) return n;
                n[n.length - 1] == t && n.pop();
                return n;
              }(e, this._fakeSelectionContainer), t, function (e, t, n) {
                if (t === n) return !0;
                if (Kr(t) && Kr(n)) return t.data === n.data;
                if (e.isBlockFiller(t) && e.isBlockFiller(n)) return !0;
                return !1;
              }.bind(null, this.domConverter));
            }
          }, {
            key: "_findReplaceActions",
            value: function _findReplaceActions(e, t, n) {
              if (-1 === e.indexOf("insert") || -1 === e.indexOf("delete")) return e;
              var i = [],
                  o = [],
                  r = [];
              var s = {
                equal: 0,
                insert: 0,
                "delete": 0
              };

              var _iterator81 = _createForOfIteratorHelper(e),
                  _step81;

              try {
                for (_iterator81.s(); !(_step81 = _iterator81.n()).done;) {
                  var _a7 = _step81.value;
                  "insert" === _a7 ? r.push(n[s.equal + s.insert]) : "delete" === _a7 ? o.push(t[s.equal + s["delete"]]) : ((i = i.concat(cs(o, r, ms).map(function (e) {
                    return "equal" === e ? "replace" : e;
                  }))).push("equal"), o = [], r = []), s[_a7]++;
                }
              } catch (err) {
                _iterator81.e(err);
              } finally {
                _iterator81.f();
              }

              return i.concat(cs(o, r, ms).map(function (e) {
                return "equal" === e ? "replace" : e;
              }));
            }
          }, {
            key: "_markDescendantTextToSync",
            value: function _markDescendantTextToSync(e) {
              if (e) if (e.is("$text")) this.markedTexts.add(e);else if (e.is("element")) {
                var _iterator82 = _createForOfIteratorHelper(e.getChildren()),
                    _step82;

                try {
                  for (_iterator82.s(); !(_step82 = _iterator82.n()).done;) {
                    var _t59 = _step82.value;

                    this._markDescendantTextToSync(_t59);
                  }
                } catch (err) {
                  _iterator82.e(err);
                } finally {
                  _iterator82.f();
                }
              }
            }
          }, {
            key: "_updateSelection",
            value: function _updateSelection() {
              if (Cr.isBlink && !Cr.isAndroid && this.isSelecting && !this.markedChildren.size) return;
              if (0 === this.selection.rangeCount) return this._removeDomSelection(), void this._removeFakeSelection();
              var e = this.domConverter.mapViewToDom(this.selection.editableElement);
              this.isFocused && e && (this.selection.isFake ? this._updateFakeSelection(e) : (this._removeFakeSelection(), this._updateDomSelection(e)));
            }
          }, {
            key: "_updateFakeSelection",
            value: function _updateFakeSelection(e) {
              var t = e.ownerDocument;
              this._fakeSelectionContainer || (this._fakeSelectionContainer = function (e) {
                var t = e.createElement("div");
                return t.className = "ck-fake-selection-container", Object.assign(t.style, {
                  position: "fixed",
                  top: 0,
                  left: "-9999px",
                  width: "42px"
                }), t.textContent = " ", t;
              }(t));
              var n = this._fakeSelectionContainer;
              if (this.domConverter.bindFakeSelection(n, this.selection), !this._fakeSelectionNeedsUpdate(e)) return;
              n.parentElement && n.parentElement == e || e.appendChild(n), n.textContent = this.selection.fakeSelectionLabel || " ";
              var i = t.getSelection(),
                  o = t.createRange();
              i.removeAllRanges(), o.selectNodeContents(n), i.addRange(o);
            }
          }, {
            key: "_updateDomSelection",
            value: function _updateDomSelection(e) {
              var t = e.ownerDocument.defaultView.getSelection();
              if (!this._domSelectionNeedsUpdate(t)) return;
              var n = this.domConverter.viewPositionToDom(this.selection.anchor),
                  i = this.domConverter.viewPositionToDom(this.selection.focus);
              t.collapse(n.parent, n.offset), t.extend(i.parent, i.offset), Cr.isGecko && function (e, t) {
                var n = e.parent;
                if (n.nodeType != Node.ELEMENT_NODE || e.offset != n.childNodes.length - 1) return;
                var i = n.childNodes[e.offset];
                i && "BR" == i.tagName && t.addRange(t.getRangeAt(0));
              }(i, t);
            }
          }, {
            key: "_domSelectionNeedsUpdate",
            value: function _domSelectionNeedsUpdate(e) {
              if (!this.domConverter.isDomSelectionCorrect(e)) return !0;
              var t = e && this.domConverter.domSelectionToView(e);
              return (!t || !this.selection.isEqual(t)) && !(!this.selection.isCollapsed && this.selection.isSimilar(t));
            }
          }, {
            key: "_fakeSelectionNeedsUpdate",
            value: function _fakeSelectionNeedsUpdate(e) {
              var t = this._fakeSelectionContainer,
                  n = e.ownerDocument.getSelection();
              return !t || t.parentElement !== e || n.anchorNode !== t && !t.contains(n.anchorNode) || t.textContent !== this.selection.fakeSelectionLabel;
            }
          }, {
            key: "_removeDomSelection",
            value: function _removeDomSelection() {
              var _iterator83 = _createForOfIteratorHelper(this.domDocuments),
                  _step83;

              try {
                for (_iterator83.s(); !(_step83 = _iterator83.n()).done;) {
                  var _e50 = _step83.value;

                  if (_e50.getSelection().rangeCount) {
                    var _t60 = _e50.activeElement,
                        _n54 = this.domConverter.mapDomToView(_t60);

                    _t60 && _n54 && _e50.getSelection().removeAllRanges();
                  }
                }
              } catch (err) {
                _iterator83.e(err);
              } finally {
                _iterator83.f();
              }
            }
          }, {
            key: "_removeFakeSelection",
            value: function _removeFakeSelection() {
              var e = this._fakeSelectionContainer;
              e && e.remove();
            }
          }, {
            key: "_updateFocus",
            value: function _updateFocus() {
              if (this.isFocused) {
                var _e51 = this.selection.editableElement;
                _e51 && this.domConverter.focus(_e51);
              }
            }
          }]);

          return hs;
        }();

        function gs(e, t, n) {
          var i = t instanceof Array ? t : t.childNodes,
              o = i[n];
          if (Kr(o)) return o.data = es + o.data, o;
          {
            var _o20 = e.createTextNode(es);

            return Array.isArray(t) ? i.splice(n, 0, _o20) : ls(t, n, _o20), _o20;
          }
        }

        function ms(e, t) {
          return us(e) && us(t) && !Kr(e) && !Kr(t) && e.nodeType !== Node.COMMENT_NODE && t.nodeType !== Node.COMMENT_NODE && e.tagName.toLowerCase() === t.tagName.toLowerCase();
        }

        rt(hs, Ze);
        var fs = {
          window: window,
          document: document
        };

        function ps(e) {
          var t = 0;

          for (; e.previousSibling;) {
            e = e.previousSibling, t++;
          }

          return t;
        }

        function ks(e) {
          var t = [];

          for (; e && e.nodeType != Node.DOCUMENT_NODE;) {
            t.unshift(e), e = e.parentNode;
          }

          return t;
        }

        var bs = Xr(document),
            ws = Qr(document),
            _s = Jr(document);

        var vs = /*#__PURE__*/function () {
          function vs(e) {
            var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

            _classCallCheck(this, vs);

            this.document = e, this.renderingMode = t.renderingMode || "editing", this.experimentalRenderingMode = !1, this.blockFillerMode = t.blockFillerMode || ("editing" === this.renderingMode ? "br" : "nbsp"), this.preElements = ["pre"], this.blockElements = ["address", "article", "aside", "blockquote", "caption", "center", "dd", "details", "dir", "div", "dl", "dt", "fieldset", "figcaption", "figure", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "header", "hgroup", "legend", "li", "main", "menu", "nav", "ol", "p", "pre", "section", "summary", "table", "tbody", "td", "tfoot", "th", "thead", "tr", "ul"], this.inlineObjectElements = ["object", "iframe", "input", "button", "textarea", "select", "option", "video", "embed", "audio", "img", "canvas"], this._domToViewMapping = new WeakMap(), this._viewToDomMapping = new WeakMap(), this._fakeSelectionMapping = new WeakMap(), this._rawContentElementMatcher = new oo(), this._encounteredRawContentDomNodes = new WeakSet();
          }

          _createClass(vs, [{
            key: "bindFakeSelection",
            value: function bindFakeSelection(e, t) {
              this._fakeSelectionMapping.set(e, new cr(t));
            }
          }, {
            key: "fakeSelectionToView",
            value: function fakeSelectionToView(e) {
              return this._fakeSelectionMapping.get(e);
            }
          }, {
            key: "bindElements",
            value: function bindElements(e, t) {
              this._domToViewMapping.set(e, t), this._viewToDomMapping.set(t, e);
            }
          }, {
            key: "unbindDomElement",
            value: function unbindDomElement(e) {
              var t = this._domToViewMapping.get(e);

              if (t) {
                this._domToViewMapping["delete"](e), this._viewToDomMapping["delete"](t);

                var _iterator84 = _createForOfIteratorHelper(e.childNodes),
                    _step84;

                try {
                  for (_iterator84.s(); !(_step84 = _iterator84.n()).done;) {
                    var _t61 = _step84.value;
                    this.unbindDomElement(_t61);
                  }
                } catch (err) {
                  _iterator84.e(err);
                } finally {
                  _iterator84.f();
                }
              }
            }
          }, {
            key: "bindDocumentFragments",
            value: function bindDocumentFragments(e, t) {
              this._domToViewMapping.set(e, t), this._viewToDomMapping.set(t, e);
            }
          }, {
            key: "shouldRenderAttribute",
            value: function shouldRenderAttribute(e, t) {
              return !this.experimentalRenderingMode || "data" === this.renderingMode || !(e.toLowerCase().startsWith("on") || t.match(/(\b)(on\S+)(\s*)=|javascript:|(<\s*)(\/*)script/i) || t.match(/data:(?!image\/(png|jpeg|gif|webp))/i));
            }
          }, {
            key: "setContentOf",
            value: function setContentOf(e, t) {
              if (!this.experimentalRenderingMode || "data" === this.renderingMode) return void (e.innerHTML = t);
              var n = new DOMParser().parseFromString(t, "text/html"),
                  i = n.createDocumentFragment(),
                  o = n.body.childNodes;

              for (; o.length > 0;) {
                i.appendChild(o[0]);
              }

              var r = n.createTreeWalker(i, NodeFilter.SHOW_ELEMENT),
                  s = [];
              var a;

              for (; a = r.nextNode();) {
                s.push(a);
              }

              for (var _i39 = 0, _s9 = s; _i39 < _s9.length; _i39++) {
                var _e52 = _s9[_i39];

                var _iterator85 = _createForOfIteratorHelper(_e52.getAttributeNames()),
                    _step85;

                try {
                  for (_iterator85.s(); !(_step85 = _iterator85.n()).done;) {
                    var _t63 = _step85.value;

                    var _n55 = _e52.getAttribute(_t63);

                    this.shouldRenderAttribute(_t63, _n55) || _e52.removeAttribute(_t63);
                  }
                } catch (err) {
                  _iterator85.e(err);
                } finally {
                  _iterator85.f();
                }

                var _t62 = _e52.tagName.toLowerCase();

                this._shouldRenameElement(_t62) && _e52.replaceWith(this._createReplacementDomElement(_t62, _e52));
              }

              for (; e.firstChild;) {
                e.firstChild.remove();
              }

              e.append(i);
            }
          }, {
            key: "viewToDom",
            value: function viewToDom(e, t) {
              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

              if (e.is("$text")) {
                var _n56 = this._processDataFromViewText(e);

                return t.createTextNode(_n56);
              }

              {
                if (this.mapViewToDom(e)) return this.mapViewToDom(e);

                var _i40;

                if (e.is("documentFragment")) _i40 = t.createDocumentFragment(), n.bind && this.bindDocumentFragments(_i40, e);else {
                  if (e.is("uiElement")) return _i40 = "$comment" === e.name ? t.createComment(e.getCustomProperty("$rawContent")) : e.render(t, this), n.bind && this.bindElements(_i40, e), _i40;
                  _i40 = this._shouldRenameElement(e.name) ? this._createReplacementDomElement(e.name) : e.hasAttribute("xmlns") ? t.createElementNS(e.getAttribute("xmlns"), e.name) : t.createElement(e.name), e.is("rawElement") && e.render(_i40, this), n.bind && this.bindElements(_i40, e);

                  var _iterator86 = _createForOfIteratorHelper(e.getAttributeKeys()),
                      _step86;

                  try {
                    for (_iterator86.s(); !(_step86 = _iterator86.n()).done;) {
                      var _t64 = _step86.value;

                      var _n57 = e.getAttribute(_t64);

                      this.shouldRenderAttribute(_t64, _n57) && _i40.setAttribute(_t64, _n57);
                    }
                  } catch (err) {
                    _iterator86.e(err);
                  } finally {
                    _iterator86.f();
                  }
                }

                if (!1 !== n.withChildren) {
                  var _iterator87 = _createForOfIteratorHelper(this.viewChildrenToDom(e, t, n)),
                      _step87;

                  try {
                    for (_iterator87.s(); !(_step87 = _iterator87.n()).done;) {
                      var _o21 = _step87.value;

                      _i40.appendChild(_o21);
                    }
                  } catch (err) {
                    _iterator87.e(err);
                  } finally {
                    _iterator87.f();
                  }
                }

                return _i40;
              }
            }
          }, {
            key: "viewChildrenToDom",
            value: /*#__PURE__*/regeneratorRuntime.mark(function viewChildrenToDom(e, t) {
              var n,
                  i,
                  o,
                  _iterator88,
                  _step88,
                  _r15,
                  _args11 = arguments;

              return regeneratorRuntime.wrap(function viewChildrenToDom$(_context11) {
                while (1) {
                  switch (_context11.prev = _context11.next) {
                    case 0:
                      n = _args11.length > 2 && _args11[2] !== undefined ? _args11[2] : {};
                      i = e.getFillerOffset && e.getFillerOffset();
                      o = 0;
                      _iterator88 = _createForOfIteratorHelper(e.getChildren());
                      _context11.prev = 4;

                      _iterator88.s();

                    case 6:
                      if ((_step88 = _iterator88.n()).done) {
                        _context11.next = 17;
                        break;
                      }

                      _r15 = _step88.value;
                      _context11.t0 = i === o;

                      if (!_context11.t0) {
                        _context11.next = 12;
                        break;
                      }

                      _context11.next = 12;
                      return this._getBlockFiller(t);

                    case 12:
                      _context11.next = 14;
                      return this.viewToDom(_r15, t, n);

                    case 14:
                      o++;

                    case 15:
                      _context11.next = 6;
                      break;

                    case 17:
                      _context11.next = 22;
                      break;

                    case 19:
                      _context11.prev = 19;
                      _context11.t1 = _context11["catch"](4);

                      _iterator88.e(_context11.t1);

                    case 22:
                      _context11.prev = 22;

                      _iterator88.f();

                      return _context11.finish(22);

                    case 25:
                      _context11.t2 = i === o;

                      if (!_context11.t2) {
                        _context11.next = 29;
                        break;
                      }

                      _context11.next = 29;
                      return this._getBlockFiller(t);

                    case 29:
                    case "end":
                      return _context11.stop();
                  }
                }
              }, viewChildrenToDom, this, [[4, 19, 22, 25]]);
            })
          }, {
            key: "viewRangeToDom",
            value: function viewRangeToDom(e) {
              var t = this.viewPositionToDom(e.start),
                  n = this.viewPositionToDom(e.end),
                  i = document.createRange();
              return i.setStart(t.parent, t.offset), i.setEnd(n.parent, n.offset), i;
            }
          }, {
            key: "viewPositionToDom",
            value: function viewPositionToDom(e) {
              var t = e.parent;

              if (t.is("$text")) {
                var _n58 = this.findCorrespondingDomText(t);

                if (!_n58) return null;
                var _i41 = e.offset;
                return ts(_n58) && (_i41 += Zr), {
                  parent: _n58,
                  offset: _i41
                };
              }

              {
                var _n59, _i42, _o22;

                if (0 === e.offset) {
                  if (!(_n59 = this.mapViewToDom(t))) return null;
                  _o22 = _n59.childNodes[0];
                } else {
                  var _t65 = e.nodeBefore;
                  if (!(_i42 = _t65.is("$text") ? this.findCorrespondingDomText(_t65) : this.mapViewToDom(e.nodeBefore))) return null;
                  _n59 = _i42.parentNode, _o22 = _i42.nextSibling;
                }

                if (Kr(_o22) && ts(_o22)) return {
                  parent: _o22,
                  offset: Zr
                };
                return {
                  parent: _n59,
                  offset: _i42 ? ps(_i42) + 1 : 0
                };
              }
            }
          }, {
            key: "domToView",
            value: function domToView(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
              if (this.isBlockFiller(e)) return null;
              var n = this.getHostViewElement(e);
              if (n) return n;
              if (this.isComment(e) && t.skipComments) return null;

              if (Kr(e)) {
                if (ns(e)) return null;
                {
                  var _t66 = this._processDataFromDomText(e);

                  return "" === _t66 ? null : new to(this.document, _t66);
                }
              }

              {
                if (this.mapDomToView(e)) return this.mapDomToView(e);

                var _n60;

                if (this.isDocumentFragment(e)) _n60 = new Vr(this.document), t.bind && this.bindDocumentFragments(e, _n60);else {
                  _n60 = this._createViewElement(e, t), t.bind && this.bindElements(e, _n60);
                  var _i43 = e.attributes;
                  if (_i43) for (var _e53 = _i43.length - 1; _e53 >= 0; _e53--) {
                    _n60._setAttribute(_i43[_e53].name, _i43[_e53].value);
                  }

                  if (this._isViewElementWithRawContent(_n60, t) || this.isComment(e)) {
                    var _t67 = this.isComment(e) ? e.data : e.innerHTML;

                    return _n60._setCustomProperty("$rawContent", _t67), this._encounteredRawContentDomNodes.add(e), _n60;
                  }
                }

                if (!1 !== t.withChildren) {
                  var _iterator89 = _createForOfIteratorHelper(this.domChildrenToView(e, t)),
                      _step89;

                  try {
                    for (_iterator89.s(); !(_step89 = _iterator89.n()).done;) {
                      var _i44 = _step89.value;

                      _n60._appendChild(_i44);
                    }
                  } catch (err) {
                    _iterator89.e(err);
                  } finally {
                    _iterator89.f();
                  }
                }

                return _n60;
              }
            }
          }, {
            key: "domChildrenToView",
            value: /*#__PURE__*/regeneratorRuntime.mark(function domChildrenToView(e) {
              var t,
                  _n61,
                  _i45,
                  _o23,
                  _args12 = arguments;

              return regeneratorRuntime.wrap(function domChildrenToView$(_context12) {
                while (1) {
                  switch (_context12.prev = _context12.next) {
                    case 0:
                      t = _args12.length > 1 && _args12[1] !== undefined ? _args12[1] : {};
                      _n61 = 0;

                    case 2:
                      if (!(_n61 < e.childNodes.length)) {
                        _context12.next = 11;
                        break;
                      }

                      _i45 = e.childNodes[_n61], _o23 = this.domToView(_i45, t);
                      _context12.t0 = null !== _o23;

                      if (!_context12.t0) {
                        _context12.next = 8;
                        break;
                      }

                      _context12.next = 8;
                      return _o23;

                    case 8:
                      _n61++;
                      _context12.next = 2;
                      break;

                    case 11:
                    case "end":
                      return _context12.stop();
                  }
                }
              }, domChildrenToView, this);
            })
          }, {
            key: "domSelectionToView",
            value: function domSelectionToView(e) {
              if (1 === e.rangeCount) {
                var _t68 = e.getRangeAt(0).startContainer;
                Kr(_t68) && (_t68 = _t68.parentNode);

                var _n62 = this.fakeSelectionToView(_t68);

                if (_n62) return _n62;
              }

              var t = this.isDomSelectionBackward(e),
                  n = [];

              for (var _t69 = 0; _t69 < e.rangeCount; _t69++) {
                var _i46 = e.getRangeAt(_t69),
                    _o24 = this.domRangeToView(_i46);

                _o24 && n.push(_o24);
              }

              return new cr(n, {
                backward: t
              });
            }
          }, {
            key: "domRangeToView",
            value: function domRangeToView(e) {
              var t = this.domPositionToView(e.startContainer, e.startOffset),
                  n = this.domPositionToView(e.endContainer, e.endOffset);
              return t && n ? new rr(t, n) : null;
            }
          }, {
            key: "domPositionToView",
            value: function domPositionToView(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
              if (this.isBlockFiller(e)) return this.domPositionToView(e.parentNode, ps(e));
              var n = this.mapDomToView(e);
              if (n && (n.is("uiElement") || n.is("rawElement"))) return or._createBefore(n);

              if (Kr(e)) {
                if (ns(e)) return this.domPositionToView(e.parentNode, ps(e));

                var _n63 = this.findCorrespondingViewText(e);

                var _i47 = t;
                return _n63 ? (ts(e) && (_i47 = (_i47 -= Zr) < 0 ? 0 : _i47), new or(_n63, _i47)) : null;
              }

              if (0 === t) {
                var _t70 = this.mapDomToView(e);

                if (_t70) return new or(_t70, 0);
              } else {
                var _n64 = e.childNodes[t - 1],
                    _i48 = Kr(_n64) ? this.findCorrespondingViewText(_n64) : this.mapDomToView(_n64);

                if (_i48 && _i48.parent) return new or(_i48.parent, _i48.index + 1);
              }

              return null;
            }
          }, {
            key: "mapDomToView",
            value: function mapDomToView(e) {
              return this.getHostViewElement(e) || this._domToViewMapping.get(e);
            }
          }, {
            key: "findCorrespondingViewText",
            value: function findCorrespondingViewText(e) {
              if (ns(e)) return null;
              var t = this.getHostViewElement(e);
              if (t) return t;
              var n = e.previousSibling;

              if (n) {
                if (!this.isElement(n)) return null;

                var _e54 = this.mapDomToView(n);

                if (_e54) {
                  return _e54.nextSibling instanceof to ? _e54.nextSibling : null;
                }
              } else {
                var _t71 = this.mapDomToView(e.parentNode);

                if (_t71) {
                  var _e55 = _t71.getChild(0);

                  return _e55 instanceof to ? _e55 : null;
                }
              }

              return null;
            }
          }, {
            key: "mapViewToDom",
            value: function mapViewToDom(e) {
              return this._viewToDomMapping.get(e);
            }
          }, {
            key: "findCorrespondingDomText",
            value: function findCorrespondingDomText(e) {
              var t = e.previousSibling;
              return t && this.mapViewToDom(t) ? this.mapViewToDom(t).nextSibling : !t && e.parent && this.mapViewToDom(e.parent) ? this.mapViewToDom(e.parent).childNodes[0] : null;
            }
          }, {
            key: "focus",
            value: function focus(e) {
              var t = this.mapViewToDom(e);

              if (t && t.ownerDocument.activeElement !== t) {
                var _fs$window = fs.window,
                    _e56 = _fs$window.scrollX,
                    _n65 = _fs$window.scrollY,
                    _i49 = [];
                xs(t, function (e) {
                  var t = e.scrollLeft,
                      n = e.scrollTop;

                  _i49.push([t, n]);
                }), t.focus(), xs(t, function (e) {
                  var _i49$shift = _i49.shift(),
                      _i49$shift2 = _slicedToArray(_i49$shift, 2),
                      t = _i49$shift2[0],
                      n = _i49$shift2[1];

                  e.scrollLeft = t, e.scrollTop = n;
                }), fs.window.scrollTo(_e56, _n65);
              }
            }
          }, {
            key: "isElement",
            value: function isElement(e) {
              return e && e.nodeType == Node.ELEMENT_NODE;
            }
          }, {
            key: "isDocumentFragment",
            value: function isDocumentFragment(e) {
              return e && e.nodeType == Node.DOCUMENT_FRAGMENT_NODE;
            }
          }, {
            key: "isComment",
            value: function isComment(e) {
              return e && e.nodeType == Node.COMMENT_NODE;
            }
          }, {
            key: "isBlockFiller",
            value: function isBlockFiller(e) {
              return "br" == this.blockFillerMode ? e.isEqualNode(bs) : !("BR" !== e.tagName || !ys(e, this.blockElements) || 1 !== e.parentNode.childNodes.length) || e.isEqualNode(_s) || function (e, t) {
                return e.isEqualNode(ws) && ys(e, t) && 1 === e.parentNode.childNodes.length;
              }(e, this.blockElements);
            }
          }, {
            key: "isDomSelectionBackward",
            value: function isDomSelectionBackward(e) {
              if (e.isCollapsed) return !1;
              var t = document.createRange();
              t.setStart(e.anchorNode, e.anchorOffset), t.setEnd(e.focusNode, e.focusOffset);
              var n = t.collapsed;
              return t.detach(), n;
            }
          }, {
            key: "getHostViewElement",
            value: function getHostViewElement(e) {
              var t = ks(e);

              for (t.pop(); t.length;) {
                var _e57 = t.pop(),
                    _n66 = this._domToViewMapping.get(_e57);

                if (_n66 && (_n66.is("uiElement") || _n66.is("rawElement"))) return _n66;
              }

              return null;
            }
          }, {
            key: "isDomSelectionCorrect",
            value: function isDomSelectionCorrect(e) {
              return this._isDomSelectionPositionCorrect(e.anchorNode, e.anchorOffset) && this._isDomSelectionPositionCorrect(e.focusNode, e.focusOffset);
            }
          }, {
            key: "registerRawContentMatcher",
            value: function registerRawContentMatcher(e) {
              this._rawContentElementMatcher.add(e);
            }
          }, {
            key: "_getBlockFiller",
            value: function _getBlockFiller(e) {
              switch (this.blockFillerMode) {
                case "nbsp":
                  return Qr(e);

                case "markedNbsp":
                  return Jr(e);

                case "br":
                  return Xr(e);
              }
            }
          }, {
            key: "_isDomSelectionPositionCorrect",
            value: function _isDomSelectionPositionCorrect(e, t) {
              if (Kr(e) && ts(e) && t < Zr) return !1;
              if (this.isElement(e) && ts(e.childNodes[t])) return !1;
              var n = this.mapDomToView(e);
              return !n || !n.is("uiElement") && !n.is("rawElement");
            }
          }, {
            key: "_processDataFromViewText",
            value: function _processDataFromViewText(e) {
              var _this27 = this;

              var t = e.data;
              if (e.getAncestors().some(function (e) {
                return _this27.preElements.includes(e.name);
              })) return t;

              if (" " == t.charAt(0)) {
                var _n67 = this._getTouchingInlineViewNode(e, !1);

                !(_n67 && _n67.is("$textProxy") && this._nodeEndsWithSpace(_n67)) && _n67 || (t = " " + t.substr(1));
              }

              if (" " == t.charAt(t.length - 1)) {
                var _n68 = this._getTouchingInlineViewNode(e, !0),
                    _i50 = _n68 && _n68.is("$textProxy") && " " == _n68.data.charAt(0);

                " " != t.charAt(t.length - 2) && _n68 && !_i50 || (t = t.substr(0, t.length - 1) + " ");
              }

              return t.replace(/ {2}/g, "  ");
            }
          }, {
            key: "_nodeEndsWithSpace",
            value: function _nodeEndsWithSpace(e) {
              var _this28 = this;

              if (e.getAncestors().some(function (e) {
                return _this28.preElements.includes(e.name);
              })) return !1;

              var t = this._processDataFromViewText(e);

              return " " == t.charAt(t.length - 1);
            }
          }, {
            key: "_processDataFromDomText",
            value: function _processDataFromDomText(e) {
              var t = e.data;
              if (function (e, t) {
                return ks(e).some(function (e) {
                  return e.tagName && t.includes(e.tagName.toLowerCase());
                });
              }(e, this.preElements)) return is(e);
              t = t.replace(/[ \n\t\r]{1,}/g, " ");

              var n = this._getTouchingInlineDomNode(e, !1),
                  i = this._getTouchingInlineDomNode(e, !0),
                  o = this._checkShouldLeftTrimDomText(e, n),
                  r = this._checkShouldRightTrimDomText(e, i);

              o && (t = t.replace(/^ /, "")), r && (t = t.replace(/ $/, "")), t = (t = is(new Text(t))).replace(/ \u00A0/g, "  ");
              var s = i && this.isElement(i) && "BR" != i.tagName,
                  a = i && Kr(i) && " " == i.data.charAt(0);
              return (/( |\u00A0)\u00A0$/.test(t) || !i || s || a) && (t = t.replace(/\u00A0$/, " ")), (o || n && this.isElement(n) && "BR" != n.tagName) && (t = t.replace(/^\u00A0/, " ")), t;
            }
          }, {
            key: "_checkShouldLeftTrimDomText",
            value: function _checkShouldLeftTrimDomText(e, t) {
              return !t || (this.isElement(t) ? "BR" === t.tagName : !this._encounteredRawContentDomNodes.has(e.previousSibling) && /[^\S\u00A0]/.test(t.data.charAt(t.data.length - 1)));
            }
          }, {
            key: "_checkShouldRightTrimDomText",
            value: function _checkShouldRightTrimDomText(e, t) {
              return !t && !ts(e);
            }
          }, {
            key: "_getTouchingInlineViewNode",
            value: function _getTouchingInlineViewNode(e, t) {
              var n = new ir({
                startPosition: t ? or._createAfter(e) : or._createBefore(e),
                direction: t ? "forward" : "backward"
              });

              var _iterator90 = _createForOfIteratorHelper(n),
                  _step90;

              try {
                for (_iterator90.s(); !(_step90 = _iterator90.n()).done;) {
                  var _e58 = _step90.value;
                  if (_e58.item.is("element") && this.inlineObjectElements.includes(_e58.item.name)) return _e58.item;
                  if (_e58.item.is("containerElement")) return null;
                  if (_e58.item.is("element", "br")) return null;
                  if (_e58.item.is("$textProxy")) return _e58.item;
                }
              } catch (err) {
                _iterator90.e(err);
              } finally {
                _iterator90.f();
              }

              return null;
            }
          }, {
            key: "_getTouchingInlineDomNode",
            value: function _getTouchingInlineDomNode(e, t) {
              if (!e.parentNode) return null;
              var n = t ? "firstChild" : "lastChild",
                  i = t ? "nextSibling" : "previousSibling";
              var o = !0;

              do {
                if (!o && e[n] ? e = e[n] : e[i] ? (e = e[i], o = !1) : (e = e.parentNode, o = !0), !e || this._isBlockElement(e)) return null;
              } while (!Kr(e) && "BR" != e.tagName && !this._isInlineObjectElement(e));

              return e;
            }
          }, {
            key: "_isBlockElement",
            value: function _isBlockElement(e) {
              return this.isElement(e) && this.blockElements.includes(e.tagName.toLowerCase());
            }
          }, {
            key: "_isInlineObjectElement",
            value: function _isInlineObjectElement(e) {
              return this.isElement(e) && this.inlineObjectElements.includes(e.tagName.toLowerCase());
            }
          }, {
            key: "_createViewElement",
            value: function _createViewElement(e, t) {
              if (this.isComment(e)) return new Nr(this.document, "$comment");
              var n = t.keepOriginalCase ? e.tagName : e.tagName.toLowerCase();
              return new Qo(this.document, n);
            }
          }, {
            key: "_isViewElementWithRawContent",
            value: function _isViewElementWithRawContent(e, t) {
              return !1 !== t.withChildren && this._rawContentElementMatcher.match(e);
            }
          }, {
            key: "_shouldRenameElement",
            value: function _shouldRenameElement(e) {
              return this.experimentalRenderingMode && "editing" == this.renderingMode && "script" == e;
            }
          }, {
            key: "_createReplacementDomElement",
            value: function _createReplacementDomElement(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              var n = document.createElement("span");

              if (n.setAttribute("data-ck-hidden", e), t) {
                for (; t.firstChild;) {
                  n.appendChild(t.firstChild);
                }

                var _iterator91 = _createForOfIteratorHelper(t.getAttributeNames()),
                    _step91;

                try {
                  for (_iterator91.s(); !(_step91 = _iterator91.n()).done;) {
                    var _e59 = _step91.value;
                    n.setAttribute(_e59, t.getAttribute(_e59));
                  }
                } catch (err) {
                  _iterator91.e(err);
                } finally {
                  _iterator91.f();
                }
              }

              return n;
            }
          }]);

          return vs;
        }();

        function xs(e, t) {
          for (; e && e != fs.document;) {
            t(e), e = e.parentNode;
          }
        }

        function ys(e, t) {
          var n = e.parentNode;
          return n && n.tagName && t.includes(n.tagName.toLowerCase());
        }

        function Cs(e) {
          var t = Object.prototype.toString.apply(e);
          return "[object Window]" == t || "[object global]" == t;
        }

        var Ts = $e({}, u, {
          listenTo: function listenTo(e) {
            var _u$listenTo;

            for (var _len17 = arguments.length, t = new Array(_len17 > 1 ? _len17 - 1 : 0), _key17 = 1; _key17 < _len17; _key17++) {
              t[_key17 - 1] = arguments[_key17];
            }

            if (us(e) || Cs(e)) {
              var _n69 = this._getProxyEmitter(e) || new As(e);

              _n69.attach.apply(_n69, t), e = _n69;
            }

            (_u$listenTo = u.listenTo).call.apply(_u$listenTo, [this, e].concat(t));
          },
          stopListening: function stopListening(e, t, n) {
            if (us(e) || Cs(e)) {
              var _t72 = this._getProxyEmitter(e);

              if (!_t72) return;
              e = _t72;
            }

            u.stopListening.call(this, e, t, n), e instanceof As && e.detach(t);
          },
          _getProxyEmitter: function _getProxyEmitter(e) {
            return function (e, t) {
              return e[l] && e[l][t] ? e[l][t].emitter : null;
            }(this, Es(e));
          }
        });

        var As = function As(e) {
          _classCallCheck(this, As);

          h(this, Es(e)), this._domNode = e;
        };

        function Es(e) {
          return e["data-ck-expando"] || (e["data-ck-expando"] = s());
        }

        $e(As.prototype, u, {
          attach: function attach(e, t) {
            var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
            if (this._domListeners && this._domListeners[e]) return;

            var i = {
              capture: !!n.useCapture,
              passive: !!n.usePassive
            },
                o = this._createDomListener(e, i);

            this._domNode.addEventListener(e, o, i), this._domListeners || (this._domListeners = {}), this._domListeners[e] = o;
          },
          detach: function detach(e) {
            var t;
            !this._domListeners[e] || (t = this._events[e]) && t.callbacks.length || this._domListeners[e].removeListener();
          },
          _createDomListener: function _createDomListener(e, t) {
            var _this29 = this;

            var n = function n(t) {
              _this29.fire(e, t);
            };

            return n.removeListener = function () {
              _this29._domNode.removeEventListener(e, n, t), delete _this29._domListeners[e];
            }, n;
          }
        });

        var Is = /*#__PURE__*/function () {
          function Is(e) {
            _classCallCheck(this, Is);

            this.view = e, this.document = e.document, this.isEnabled = !1;
          }

          _createClass(Is, [{
            key: "enable",
            value: function enable() {
              this.isEnabled = !0;
            }
          }, {
            key: "disable",
            value: function disable() {
              this.isEnabled = !1;
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this.disable(), this.stopListening();
            }
          }, {
            key: "checkShouldIgnoreEventFromTarget",
            value: function checkShouldIgnoreEventFromTarget(e) {
              return e && 3 === e.nodeType && (e = e.parentNode), !(!e || 1 !== e.nodeType) && e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *");
            }
          }]);

          return Is;
        }();

        rt(Is, Ts);
        var Ss = "__lodash_hash_undefined__";

        var Ms = function Ms(e) {
          return this.__data__.set(e, Ss), this;
        };

        var Ps = function Ps(e) {
          return this.__data__.has(e);
        };

        function Rs(e) {
          var t = -1,
              n = null == e ? 0 : e.length;

          for (this.__data__ = new Zt(); ++t < n;) {
            this.add(e[t]);
          }
        }

        Rs.prototype.add = Rs.prototype.push = Ms, Rs.prototype.has = Ps;
        var Ns = Rs;

        var Os = function Os(e, t) {
          for (var n = -1, i = null == e ? 0 : e.length; ++n < i;) {
            if (t(e[n], n, e)) return !0;
          }

          return !1;
        };

        var Ds = function Ds(e, t) {
          return e.has(t);
        },
            Ls = 1,
            zs = 2;

        var Vs = function Vs(e, t, n, i, o, r) {
          var s = n & Ls,
              a = e.length,
              c = t.length;
          if (a != c && !(s && c > a)) return !1;
          var l = r.get(e),
              d = r.get(t);
          if (l && d) return l == t && d == e;
          var u = -1,
              h = !0,
              g = n & zs ? new Ns() : void 0;

          for (r.set(e, t), r.set(t, e); ++u < a;) {
            var m = e[u],
                f = t[u];
            if (i) var p = s ? i(f, m, u, t, e, r) : i(m, f, u, e, t, r);

            if (void 0 !== p) {
              if (p) continue;
              h = !1;
              break;
            }

            if (g) {
              if (!Os(t, function (e, t) {
                if (!Ds(g, t) && (m === e || o(m, e, n, i, r))) return g.push(t);
              })) {
                h = !1;
                break;
              }
            } else if (m !== f && !o(m, f, n, i, r)) {
              h = !1;
              break;
            }
          }

          return r["delete"](e), r["delete"](t), h;
        };

        var Bs = function Bs(e) {
          var t = -1,
              n = Array(e.size);
          return e.forEach(function (e, i) {
            n[++t] = [i, e];
          }), n;
        };

        var Fs = function Fs(e) {
          var t = -1,
              n = Array(e.size);
          return e.forEach(function (e) {
            n[++t] = e;
          }), n;
        },
            js = 1,
            Hs = 2,
            Us = "[object Boolean]",
            Ws = "[object Date]",
            qs = "[object Error]",
            $s = "[object Map]",
            Gs = "[object Number]",
            Ys = "[object RegExp]",
            Ks = "[object Set]",
            Qs = "[object String]",
            Js = "[object Symbol]",
            Xs = "[object ArrayBuffer]",
            Zs = "[object DataView]",
            ea = _ ? _.prototype : void 0,
            ta = ea ? ea.valueOf : void 0;

        var na = function na(e, t, n, i, o, r, s) {
          switch (n) {
            case Zs:
              if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset) return !1;
              e = e.buffer, t = t.buffer;

            case Xs:
              return !(e.byteLength != t.byteLength || !r(new Bn(e), new Bn(t)));

            case Us:
            case Ws:
            case Gs:
              return Z(+e, +t);

            case qs:
              return e.name == t.name && e.message == t.message;

            case Ys:
            case Qs:
              return e == t + "";

            case $s:
              var a = Bs;

            case Ks:
              var c = i & js;
              if (a || (a = Fs), e.size != t.size && !c) return !1;
              var l = s.get(e);
              if (l) return l == t;
              i |= Hs, s.set(e, t);
              var d = Vs(a(e), a(t), i, o, r, s);
              return s["delete"](e), d;

            case Js:
              if (ta) return ta.call(e) == ta.call(t);
          }

          return !1;
        },
            ia = 1,
            oa = Object.prototype.hasOwnProperty;

        var ra = function ra(e, t, n, i, o, r) {
          var s = n & ia,
              a = Cn(e),
              c = a.length;
          if (c != Cn(t).length && !s) return !1;

          for (var l = c; l--;) {
            var d = a[l];
            if (!(s ? d in t : oa.call(t, d))) return !1;
          }

          var u = r.get(e),
              h = r.get(t);
          if (u && h) return u == t && h == e;
          var g = !0;
          r.set(e, t), r.set(t, e);

          for (var m = s; ++l < c;) {
            var f = e[d = a[l]],
                p = t[d];
            if (i) var k = s ? i(p, f, d, t, e, r) : i(f, p, d, e, t, r);

            if (!(void 0 === k ? f === p || o(f, p, n, i, r) : k)) {
              g = !1;
              break;
            }

            m || (m = "constructor" == d);
          }

          if (g && !m) {
            var b = e.constructor,
                w = t.constructor;
            b != w && "constructor" in e && "constructor" in t && !("function" == typeof b && b instanceof b && "function" == typeof w && w instanceof w) && (g = !1);
          }

          return r["delete"](e), r["delete"](t), g;
        },
            sa = 1,
            aa = "[object Arguments]",
            ca = "[object Array]",
            la = "[object Object]",
            da = Object.prototype.hasOwnProperty;

        var ua = function ua(e, t, n, i, o, r) {
          var s = Me(e),
              a = Me(t),
              c = s ? ca : Ln(e),
              l = a ? ca : Ln(t),
              d = (c = c == aa ? la : c) == la,
              u = (l = l == aa ? la : l) == la,
              h = c == l;

          if (h && Object(Pe.a)(e)) {
            if (!Object(Pe.a)(t)) return !1;
            s = !0, d = !1;
          }

          if (h && !d) return r || (r = new on()), s || ze(e) ? Vs(e, t, n, i, o, r) : na(e, t, c, n, i, o, r);

          if (!(n & sa)) {
            var g = d && da.call(e, "__wrapped__"),
                m = u && da.call(t, "__wrapped__");

            if (g || m) {
              var f = g ? e.value() : e,
                  p = m ? t.value() : t;
              return r || (r = new on()), o(f, p, n, i, r);
            }
          }

          return !!h && (r || (r = new on()), ra(e, t, n, i, o, r));
        };

        var ha = function e(t, n, i, o, r) {
          return t === n || (null == t || null == n || !ye(t) && !ye(n) ? t != t && n != n : ua(t, n, i, o, e, r));
        };

        var ga = function ga(e, t, n) {
          var i = (n = "function" == typeof n ? n : void 0) ? n(e, t) : void 0;
          return void 0 === i ? ha(e, t, void 0, n) : !!i;
        };

        var ma = /*#__PURE__*/function (_Is) {
          _inherits(ma, _Is);

          var _super12 = _createSuper(ma);

          function ma(e) {
            var _this30;

            _classCallCheck(this, ma);

            _this30 = _super12.call(this, e), _this30._config = {
              childList: !0,
              characterData: !0,
              characterDataOldValue: !0,
              subtree: !0
            }, _this30.domConverter = e.domConverter, _this30.renderer = e._renderer, _this30._domElements = [], _this30._mutationObserver = new window.MutationObserver(_this30._onMutations.bind(_assertThisInitialized(_this30)));
            return _this30;
          }

          _createClass(ma, [{
            key: "flush",
            value: function flush() {
              this._onMutations(this._mutationObserver.takeRecords());
            }
          }, {
            key: "observe",
            value: function observe(e) {
              this._domElements.push(e), this.isEnabled && this._mutationObserver.observe(e, this._config);
            }
          }, {
            key: "enable",
            value: function enable() {
              _get(_getPrototypeOf(ma.prototype), "enable", this).call(this);

              var _iterator92 = _createForOfIteratorHelper(this._domElements),
                  _step92;

              try {
                for (_iterator92.s(); !(_step92 = _iterator92.n()).done;) {
                  var _e60 = _step92.value;

                  this._mutationObserver.observe(_e60, this._config);
                }
              } catch (err) {
                _iterator92.e(err);
              } finally {
                _iterator92.f();
              }
            }
          }, {
            key: "disable",
            value: function disable() {
              _get(_getPrototypeOf(ma.prototype), "disable", this).call(this), this._mutationObserver.disconnect();
            }
          }, {
            key: "destroy",
            value: function destroy() {
              _get(_getPrototypeOf(ma.prototype), "destroy", this).call(this), this._mutationObserver.disconnect();
            }
          }, {
            key: "_onMutations",
            value: function _onMutations(e) {
              if (0 === e.length) return;
              var t = this.domConverter,
                  n = new Map(),
                  i = new Set();

              var _iterator93 = _createForOfIteratorHelper(e),
                  _step93;

              try {
                for (_iterator93.s(); !(_step93 = _iterator93.n()).done;) {
                  var _n71 = _step93.value;

                  if ("childList" === _n71.type) {
                    var _e62 = t.mapDomToView(_n71.target);

                    if (_e62 && (_e62.is("uiElement") || _e62.is("rawElement"))) continue;
                    _e62 && !this._isBogusBrMutation(_n71) && i.add(_e62);
                  }
                }
              } catch (err) {
                _iterator93.e(err);
              } finally {
                _iterator93.f();
              }

              var _iterator94 = _createForOfIteratorHelper(e),
                  _step94;

              try {
                for (_iterator94.s(); !(_step94 = _iterator94.n()).done;) {
                  var _o25 = _step94.value;

                  var _e63 = t.mapDomToView(_o25.target);

                  if ((!_e63 || !_e63.is("uiElement") && !_e63.is("rawElement")) && "characterData" === _o25.type) {
                    var _e64 = t.findCorrespondingViewText(_o25.target);

                    _e64 && !i.has(_e64.parent) ? n.set(_e64, {
                      type: "text",
                      oldText: _e64.data,
                      newText: is(_o25.target),
                      node: _e64
                    }) : !_e64 && ts(_o25.target) && i.add(t.mapDomToView(_o25.target.parentNode));
                  }
                }
              } catch (err) {
                _iterator94.e(err);
              } finally {
                _iterator94.f();
              }

              var o = [];

              var _iterator95 = _createForOfIteratorHelper(n.values()),
                  _step95;

              try {
                for (_iterator95.s(); !(_step95 = _iterator95.n()).done;) {
                  var _e65 = _step95.value;
                  this.renderer.markToSync("text", _e65.node), o.push(_e65);
                }
              } catch (err) {
                _iterator95.e(err);
              } finally {
                _iterator95.f();
              }

              var _iterator96 = _createForOfIteratorHelper(i),
                  _step96;

              try {
                for (_iterator96.s(); !(_step96 = _iterator96.n()).done;) {
                  var _e66 = _step96.value;

                  var _n72 = t.mapViewToDom(_e66),
                      _i51 = Array.from(_e66.getChildren()),
                      _r16 = Array.from(t.domChildrenToView(_n72, {
                    withChildren: !1
                  }));

                  ga(_i51, _r16, a) || (this.renderer.markToSync("children", _e66), o.push({
                    type: "children",
                    oldChildren: _i51,
                    newChildren: _r16,
                    node: _e66
                  }));
                }
              } catch (err) {
                _iterator96.e(err);
              } finally {
                _iterator96.f();
              }

              var r = e[0].target.ownerDocument.getSelection();
              var s = null;

              if (r && r.anchorNode) {
                var _e61 = t.domPositionToView(r.anchorNode, r.anchorOffset),
                    _n70 = t.domPositionToView(r.focusNode, r.focusOffset);

                _e61 && _n70 && (s = new cr(_e61)).setFocus(_n70);
              }

              function a(e, t) {
                if (!Array.isArray(e)) return e === t || !(!e.is("$text") || !t.is("$text")) && e.data === t.data;
              }

              o.length && (this.document.fire("mutations", o, s), this.view.forceRender());
            }
          }, {
            key: "_isBogusBrMutation",
            value: function _isBogusBrMutation(e) {
              var t = null;
              return null === e.nextSibling && 0 === e.removedNodes.length && 1 == e.addedNodes.length && (t = this.domConverter.domToView(e.addedNodes[0], {
                withChildren: !1
              })), t && t.is("element", "br");
            }
          }]);

          return ma;
        }(Is);

        var fa = /*#__PURE__*/function () {
          function fa(e, t, n) {
            _classCallCheck(this, fa);

            this.view = e, this.document = e.document, this.domEvent = t, this.domTarget = t.target, $e(this, n);
          }

          _createClass(fa, [{
            key: "target",
            get: function get() {
              return this.view.domConverter.mapDomToView(this.domTarget);
            }
          }, {
            key: "preventDefault",
            value: function preventDefault() {
              this.domEvent.preventDefault();
            }
          }, {
            key: "stopPropagation",
            value: function stopPropagation() {
              this.domEvent.stopPropagation();
            }
          }]);

          return fa;
        }();

        var pa = /*#__PURE__*/function (_Is2) {
          _inherits(pa, _Is2);

          var _super13 = _createSuper(pa);

          function pa(e) {
            var _this31;

            _classCallCheck(this, pa);

            _this31 = _super13.call(this, e), _this31.useCapture = !1;
            return _this31;
          }

          _createClass(pa, [{
            key: "observe",
            value: function observe(e) {
              var _this32 = this;

              ("string" == typeof this.domEventType ? [this.domEventType] : this.domEventType).forEach(function (t) {
                _this32.listenTo(e, t, function (e, t) {
                  _this32.isEnabled && !_this32.checkShouldIgnoreEventFromTarget(t.target) && _this32.onDomEvent(t);
                }, {
                  useCapture: _this32.useCapture
                });
              });
            }
          }, {
            key: "fire",
            value: function fire(e, t, n) {
              this.isEnabled && this.document.fire(e, new fa(this.view, t, n));
            }
          }]);

          return pa;
        }(Is);

        var ka = /*#__PURE__*/function (_pa) {
          _inherits(ka, _pa);

          var _super14 = _createSuper(ka);

          function ka(e) {
            var _this33;

            _classCallCheck(this, ka);

            _this33 = _super14.call(this, e), _this33.domEventType = ["keydown", "keyup"];
            return _this33;
          }

          _createClass(ka, [{
            key: "onDomEvent",
            value: function onDomEvent(e) {
              this.fire(e.type, e, {
                keyCode: e.keyCode,
                altKey: e.altKey,
                ctrlKey: e.ctrlKey,
                shiftKey: e.shiftKey,
                metaKey: e.metaKey,

                get keystroke() {
                  return Sr(this);
                }

              });
            }
          }]);

          return ka;
        }(pa);

        var ba = function ba() {
          return w.a.Date.now();
        },
            wa = /\s/;

        var _a = function _a(e) {
          for (var t = e.length; t-- && wa.test(e.charAt(t));) {
            ;
          }

          return t;
        },
            va = /^\s+/;

        var xa = function xa(e) {
          return e ? e.slice(0, _a(e) + 1).replace(va, "") : e;
        },
            ya = NaN,
            Ca = /^[-+]0x[0-9a-f]+$/i,
            Ta = /^0b[01]+$/i,
            Aa = /^0o[0-7]+$/i,
            Ea = parseInt;

        var Ia = function Ia(e) {
          if ("number" == typeof e) return e;
          if (co(e)) return ya;

          if (b(e)) {
            var t = "function" == typeof e.valueOf ? e.valueOf() : e;
            e = b(t) ? t + "" : t;
          }

          if ("string" != typeof e) return 0 === e ? e : +e;
          e = xa(e);
          var n = Ta.test(e);
          return n || Aa.test(e) ? Ea(e.slice(2), n ? 2 : 8) : Ca.test(e) ? ya : +e;
        },
            Sa = "Expected a function",
            Ma = Math.max,
            Pa = Math.min;

        var Ra = function Ra(e, t, n) {
          var i,
              o,
              r,
              s,
              a,
              c,
              l = 0,
              d = !1,
              u = !1,
              h = !0;
          if ("function" != typeof e) throw new TypeError(Sa);

          function g(t) {
            var n = i,
                r = o;
            return i = o = void 0, l = t, s = e.apply(r, n);
          }

          function m(e) {
            var n = e - c;
            return void 0 === c || n >= t || n < 0 || u && e - l >= r;
          }

          function f() {
            var e = ba();
            if (m(e)) return p(e);
            a = setTimeout(f, function (e) {
              var n = t - (e - c);
              return u ? Pa(n, r - (e - l)) : n;
            }(e));
          }

          function p(e) {
            return a = void 0, h && i ? g(e) : (i = o = void 0, s);
          }

          function k() {
            var e = ba(),
                n = m(e);

            if (i = arguments, o = this, c = e, n) {
              if (void 0 === a) return function (e) {
                return l = e, a = setTimeout(f, t), d ? g(e) : s;
              }(c);
              if (u) return clearTimeout(a), a = setTimeout(f, t), g(c);
            }

            return void 0 === a && (a = setTimeout(f, t)), s;
          }

          return t = Ia(t) || 0, b(n) && (d = !!n.leading, r = (u = "maxWait" in n) ? Ma(Ia(n.maxWait) || 0, t) : r, h = "trailing" in n ? !!n.trailing : h), k.cancel = function () {
            void 0 !== a && clearTimeout(a), l = 0, i = c = o = a = void 0;
          }, k.flush = function () {
            return void 0 === a ? s : p(ba());
          }, k;
        };

        var Na = /*#__PURE__*/function (_Is3) {
          _inherits(Na, _Is3);

          var _super15 = _createSuper(Na);

          function Na(e) {
            var _this34;

            _classCallCheck(this, Na);

            _this34 = _super15.call(this, e), _this34._fireSelectionChangeDoneDebounced = Ra(function (e) {
              return _this34.document.fire("selectionChangeDone", e);
            }, 200);
            return _this34;
          }

          _createClass(Na, [{
            key: "observe",
            value: function observe() {
              var _this35 = this;

              var e = this.document;
              e.on("arrowKey", function (t, n) {
                e.selection.isFake && _this35.isEnabled && n.preventDefault();
              }, {
                context: "$capture"
              }), e.on("arrowKey", function (t, n) {
                e.selection.isFake && _this35.isEnabled && _this35._handleSelectionMove(n.keyCode);
              }, {
                priority: "lowest"
              });
            }
          }, {
            key: "destroy",
            value: function destroy() {
              _get(_getPrototypeOf(Na.prototype), "destroy", this).call(this), this._fireSelectionChangeDoneDebounced.cancel();
            }
          }, {
            key: "_handleSelectionMove",
            value: function _handleSelectionMove(e) {
              var t = this.document.selection,
                  n = new cr(t.getRanges(), {
                backward: t.isBackward,
                fake: !1
              });
              e != Er.arrowleft && e != Er.arrowup || n.setTo(n.getFirstPosition()), e != Er.arrowright && e != Er.arrowdown || n.setTo(n.getLastPosition());
              var i = {
                oldSelection: t,
                newSelection: n,
                domSelection: null
              };
              this.document.fire("selectionChange", i), this._fireSelectionChangeDoneDebounced(i);
            }
          }]);

          return Na;
        }(Is);

        var Oa = /*#__PURE__*/function (_Is4) {
          _inherits(Oa, _Is4);

          var _super16 = _createSuper(Oa);

          function Oa(e) {
            var _this36;

            _classCallCheck(this, Oa);

            _this36 = _super16.call(this, e), _this36.mutationObserver = e.getObserver(ma), _this36.selection = _this36.document.selection, _this36.domConverter = e.domConverter, _this36._documents = new WeakSet(), _this36._fireSelectionChangeDoneDebounced = Ra(function (e) {
              return _this36.document.fire("selectionChangeDone", e);
            }, 200), _this36._clearInfiniteLoopInterval = setInterval(function () {
              return _this36._clearInfiniteLoop();
            }, 1e3), _this36._documentIsSelectingInactivityTimeoutDebounced = Ra(function () {
              return _this36.document.isSelecting = !1;
            }, 5e3), _this36._loopbackCounter = 0;
            return _this36;
          }

          _createClass(Oa, [{
            key: "observe",
            value: function observe(e) {
              var _this37 = this;

              var t = e.ownerDocument,
                  n = function n() {
                _this37.document.isSelecting = !1, _this37._documentIsSelectingInactivityTimeoutDebounced.cancel();
              };

              this.listenTo(e, "selectstart", function () {
                _this37.document.isSelecting = !0, _this37._documentIsSelectingInactivityTimeoutDebounced();
              }, {
                priority: "highest"
              }), this.listenTo(e, "keydown", n, {
                priority: "highest"
              }), this.listenTo(e, "keyup", n, {
                priority: "highest"
              }), this._documents.has(t) || (this.listenTo(t, "mouseup", n, {
                priority: "highest"
              }), this.listenTo(t, "selectionchange", function (e, n) {
                _this37._handleSelectionChange(n, t), _this37._documentIsSelectingInactivityTimeoutDebounced();
              }), this._documents.add(t));
            }
          }, {
            key: "destroy",
            value: function destroy() {
              _get(_getPrototypeOf(Oa.prototype), "destroy", this).call(this), clearInterval(this._clearInfiniteLoopInterval), this._fireSelectionChangeDoneDebounced.cancel(), this._documentIsSelectingInactivityTimeoutDebounced.cancel();
            }
          }, {
            key: "_handleSelectionChange",
            value: function _handleSelectionChange(e, t) {
              if (!this.isEnabled) return;
              var n = t.defaultView.getSelection();
              if (this.checkShouldIgnoreEventFromTarget(n.anchorNode)) return;
              this.mutationObserver.flush();
              var i = this.domConverter.domSelectionToView(n);

              if (0 != i.rangeCount) {
                if (this.view.hasDomSelection = !0, !(this.selection.isEqual(i) && this.domConverter.isDomSelectionCorrect(n) || ++this._loopbackCounter > 60)) if (this.selection.isSimilar(i)) this.view.forceRender();else {
                  var _e67 = {
                    oldSelection: this.selection,
                    newSelection: i,
                    domSelection: n
                  };
                  this.document.fire("selectionChange", _e67), this._fireSelectionChangeDoneDebounced(_e67);
                }
              } else this.view.hasDomSelection = !1;
            }
          }, {
            key: "_clearInfiniteLoop",
            value: function _clearInfiniteLoop() {
              this._loopbackCounter = 0;
            }
          }]);

          return Oa;
        }(Is);

        var Da = /*#__PURE__*/function (_pa2) {
          _inherits(Da, _pa2);

          var _super17 = _createSuper(Da);

          function Da(e) {
            var _this38;

            _classCallCheck(this, Da);

            _this38 = _super17.call(this, e), _this38.domEventType = ["focus", "blur"], _this38.useCapture = !0;
            var t = _this38.document;
            t.on("focus", function () {
              t.isFocused = !0, _this38._renderTimeoutId = setTimeout(function () {
                return e.change(function () {});
              }, 50);
            }), t.on("blur", function (n, i) {
              var o = t.selection.editableElement;
              null !== o && o !== i.target || (t.isFocused = !1, e.change(function () {}));
            });
            return _this38;
          }

          _createClass(Da, [{
            key: "onDomEvent",
            value: function onDomEvent(e) {
              this.fire(e.type, e);
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this._renderTimeoutId && clearTimeout(this._renderTimeoutId), _get(_getPrototypeOf(Da.prototype), "destroy", this).call(this);
            }
          }]);

          return Da;
        }(pa);

        var La = /*#__PURE__*/function (_pa3) {
          _inherits(La, _pa3);

          var _super18 = _createSuper(La);

          function La(e) {
            var _this39;

            _classCallCheck(this, La);

            _this39 = _super18.call(this, e), _this39.domEventType = ["compositionstart", "compositionupdate", "compositionend"];
            var t = _this39.document;
            t.on("compositionstart", function () {
              t.isComposing = !0;
            }), t.on("compositionend", function () {
              t.isComposing = !1;
            });
            return _this39;
          }

          _createClass(La, [{
            key: "onDomEvent",
            value: function onDomEvent(e) {
              this.fire(e.type, e);
            }
          }]);

          return La;
        }(pa);

        var za = /*#__PURE__*/function (_pa4) {
          _inherits(za, _pa4);

          var _super19 = _createSuper(za);

          function za(e) {
            var _this40;

            _classCallCheck(this, za);

            _this40 = _super19.call(this, e), _this40.domEventType = ["beforeinput"];
            return _this40;
          }

          _createClass(za, [{
            key: "onDomEvent",
            value: function onDomEvent(e) {
              this.fire(e.type, e);
            }
          }]);

          return za;
        }(pa);

        var Va = /*#__PURE__*/function () {
          function Va() {
            _classCallCheck(this, Va);

            this._replacedElements = [];
          }

          _createClass(Va, [{
            key: "replace",
            value: function replace(e, t) {
              this._replacedElements.push({
                element: e,
                newElement: t
              }), e.style.display = "none", t && e.parentNode.insertBefore(t, e.nextSibling);
            }
          }, {
            key: "restore",
            value: function restore() {
              this._replacedElements.forEach(function (_ref14) {
                var e = _ref14.element,
                    t = _ref14.newElement;
                e.style.display = "", t && t.remove();
              }), this._replacedElements = [];
            }
          }]);

          return Va;
        }();

        var Ba = "[object String]";

        var Fa = function Fa(e) {
          return "string" == typeof e || !Me(e) && ye(e) && P(e) == Ba;
        };

        function ja(e) {
          return "[object Range]" == Object.prototype.toString.apply(e);
        }

        function Ha(e) {
          var t = e.ownerDocument.defaultView.getComputedStyle(e);
          return {
            top: parseInt(t.borderTopWidth, 10),
            right: parseInt(t.borderRightWidth, 10),
            bottom: parseInt(t.borderBottomWidth, 10),
            left: parseInt(t.borderLeftWidth, 10)
          };
        }

        var Ua = ["top", "right", "bottom", "left", "width", "height"];

        var Wa = /*#__PURE__*/function () {
          function Wa(e) {
            _classCallCheck(this, Wa);

            var t = ja(e);
            if (Object.defineProperty(this, "_source", {
              value: e._source || e,
              writable: !0,
              enumerable: !1
            }), zi(e) || t) {
              if (t) {
                var _t73 = Wa.getDomRangeRects(e);

                qa(this, Wa.getBoundingRect(_t73));
              } else qa(this, e.getBoundingClientRect());
            } else if (Cs(e)) {
              var _t74 = e.innerWidth,
                  _n73 = e.innerHeight;
              qa(this, {
                top: 0,
                right: _t74,
                bottom: _n73,
                left: 0,
                width: _t74,
                height: _n73
              });
            } else qa(this, e);
          }

          _createClass(Wa, [{
            key: "clone",
            value: function clone() {
              return new Wa(this);
            }
          }, {
            key: "moveTo",
            value: function moveTo(e, t) {
              return this.top = t, this.right = e + this.width, this.bottom = t + this.height, this.left = e, this;
            }
          }, {
            key: "moveBy",
            value: function moveBy(e, t) {
              return this.top += t, this.right += e, this.left += e, this.bottom += t, this;
            }
          }, {
            key: "getIntersection",
            value: function getIntersection(e) {
              var t = {
                top: Math.max(this.top, e.top),
                right: Math.min(this.right, e.right),
                bottom: Math.min(this.bottom, e.bottom),
                left: Math.max(this.left, e.left)
              };
              return t.width = t.right - t.left, t.height = t.bottom - t.top, t.width < 0 || t.height < 0 ? null : new Wa(t);
            }
          }, {
            key: "getIntersectionArea",
            value: function getIntersectionArea(e) {
              var t = this.getIntersection(e);
              return t ? t.getArea() : 0;
            }
          }, {
            key: "getArea",
            value: function getArea() {
              return this.width * this.height;
            }
          }, {
            key: "getVisible",
            value: function getVisible() {
              var e = this._source;
              var t = this.clone();

              if (!$a(e)) {
                var _n74 = e.parentNode || e.commonAncestorContainer;

                for (; _n74 && !$a(_n74);) {
                  var _e68 = new Wa(_n74),
                      _i52 = t.getIntersection(_e68);

                  if (!_i52) return null;
                  _i52.getArea() < t.getArea() && (t = _i52), _n74 = _n74.parentNode;
                }
              }

              return t;
            }
          }, {
            key: "isEqual",
            value: function isEqual(e) {
              var _iterator97 = _createForOfIteratorHelper(Ua),
                  _step97;

              try {
                for (_iterator97.s(); !(_step97 = _iterator97.n()).done;) {
                  var _t75 = _step97.value;
                  if (this[_t75] !== e[_t75]) return !1;
                }
              } catch (err) {
                _iterator97.e(err);
              } finally {
                _iterator97.f();
              }

              return !0;
            }
          }, {
            key: "contains",
            value: function contains(e) {
              var t = this.getIntersection(e);
              return !(!t || !t.isEqual(e));
            }
          }, {
            key: "excludeScrollbarsAndBorders",
            value: function excludeScrollbarsAndBorders() {
              var e = this._source;
              var t, n, i;
              if (Cs(e)) t = e.innerWidth - e.document.documentElement.clientWidth, n = e.innerHeight - e.document.documentElement.clientHeight, i = e.getComputedStyle(e.document.documentElement).direction;else {
                var _o26 = Ha(this._source);

                t = e.offsetWidth - e.clientWidth - _o26.left - _o26.right, n = e.offsetHeight - e.clientHeight - _o26.top - _o26.bottom, i = e.ownerDocument.defaultView.getComputedStyle(e).direction, this.left += _o26.left, this.top += _o26.top, this.right -= _o26.right, this.bottom -= _o26.bottom, this.width = this.right - this.left, this.height = this.bottom - this.top;
              }
              return this.width -= t, "ltr" === i ? this.right -= t : this.left += t, this.height -= n, this.bottom -= n, this;
            }
          }], [{
            key: "getDomRangeRects",
            value: function getDomRangeRects(e) {
              var t = [],
                  n = Array.from(e.getClientRects());

              if (n.length) {
                var _iterator98 = _createForOfIteratorHelper(n),
                    _step98;

                try {
                  for (_iterator98.s(); !(_step98 = _iterator98.n()).done;) {
                    var _e69 = _step98.value;
                    t.push(new Wa(_e69));
                  }
                } catch (err) {
                  _iterator98.e(err);
                } finally {
                  _iterator98.f();
                }
              } else {
                var _n75 = e.startContainer;
                Kr(_n75) && (_n75 = _n75.parentNode);

                var _i53 = new Wa(_n75.getBoundingClientRect());

                _i53.right = _i53.left, _i53.width = 0, t.push(_i53);
              }

              return t;
            }
          }, {
            key: "getBoundingRect",
            value: function getBoundingRect(e) {
              var t = {
                left: Number.POSITIVE_INFINITY,
                top: Number.POSITIVE_INFINITY,
                right: Number.NEGATIVE_INFINITY,
                bottom: Number.NEGATIVE_INFINITY
              };
              var n = 0;

              var _iterator99 = _createForOfIteratorHelper(e),
                  _step99;

              try {
                for (_iterator99.s(); !(_step99 = _iterator99.n()).done;) {
                  var _i54 = _step99.value;
                  n++, t.left = Math.min(t.left, _i54.left), t.top = Math.min(t.top, _i54.top), t.right = Math.max(t.right, _i54.right), t.bottom = Math.max(t.bottom, _i54.bottom);
                }
              } catch (err) {
                _iterator99.e(err);
              } finally {
                _iterator99.f();
              }

              return 0 == n ? null : (t.width = t.right - t.left, t.height = t.bottom - t.top, new Wa(t));
            }
          }]);

          return Wa;
        }();

        function qa(e, t) {
          var _iterator100 = _createForOfIteratorHelper(Ua),
              _step100;

          try {
            for (_iterator100.s(); !(_step100 = _iterator100.n()).done;) {
              var _n76 = _step100.value;
              e[_n76] = t[_n76];
            }
          } catch (err) {
            _iterator100.e(err);
          } finally {
            _iterator100.f();
          }
        }

        function $a(e) {
          return !!zi(e) && e === e.ownerDocument.body;
        }

        var Ga = 100;

        var Ya = /*#__PURE__*/function () {
          function Ya(e, t) {
            _classCallCheck(this, Ya);

            Ya._observerInstance || Ya._createObserver(), this._element = e, this._callback = t, Ya._addElementCallback(e, t), Ya._observerInstance.observe(e);
          }

          _createClass(Ya, [{
            key: "destroy",
            value: function destroy() {
              Ya._deleteElementCallback(this._element, this._callback);
            }
          }], [{
            key: "_addElementCallback",
            value: function _addElementCallback(e, t) {
              Ya._elementCallbacks || (Ya._elementCallbacks = new Map());

              var n = Ya._elementCallbacks.get(e);

              n || (n = new Set(), Ya._elementCallbacks.set(e, n)), n.add(t);
            }
          }, {
            key: "_deleteElementCallback",
            value: function _deleteElementCallback(e, t) {
              var n = Ya._getElementCallbacks(e);

              n && (n["delete"](t), n.size || (Ya._elementCallbacks["delete"](e), Ya._observerInstance.unobserve(e))), Ya._elementCallbacks && !Ya._elementCallbacks.size && (Ya._observerInstance = null, Ya._elementCallbacks = null);
            }
          }, {
            key: "_getElementCallbacks",
            value: function _getElementCallbacks(e) {
              return Ya._elementCallbacks ? Ya._elementCallbacks.get(e) : null;
            }
          }, {
            key: "_createObserver",
            value: function _createObserver() {
              var e;
              e = "function" == typeof fs.window.ResizeObserver ? fs.window.ResizeObserver : Ka, Ya._observerInstance = new e(function (e) {
                var _iterator101 = _createForOfIteratorHelper(e),
                    _step101;

                try {
                  for (_iterator101.s(); !(_step101 = _iterator101.n()).done;) {
                    var _t76 = _step101.value;

                    var _e70 = Ya._getElementCallbacks(_t76.target);

                    if (_e70) {
                      var _iterator102 = _createForOfIteratorHelper(_e70),
                          _step102;

                      try {
                        for (_iterator102.s(); !(_step102 = _iterator102.n()).done;) {
                          var _n77 = _step102.value;

                          _n77(_t76);
                        }
                      } catch (err) {
                        _iterator102.e(err);
                      } finally {
                        _iterator102.f();
                      }
                    }
                  }
                } catch (err) {
                  _iterator101.e(err);
                } finally {
                  _iterator101.f();
                }
              });
            }
          }]);

          return Ya;
        }();

        Ya._observerInstance = null, Ya._elementCallbacks = null;

        var Ka = /*#__PURE__*/function () {
          function Ka(e) {
            _classCallCheck(this, Ka);

            this._callback = e, this._elements = new Set(), this._previousRects = new Map(), this._periodicCheckTimeout = null;
          }

          _createClass(Ka, [{
            key: "observe",
            value: function observe(e) {
              this._elements.add(e), this._checkElementRectsAndExecuteCallback(), 1 === this._elements.size && this._startPeriodicCheck();
            }
          }, {
            key: "unobserve",
            value: function unobserve(e) {
              this._elements["delete"](e), this._previousRects["delete"](e), this._elements.size || this._stopPeriodicCheck();
            }
          }, {
            key: "_startPeriodicCheck",
            value: function _startPeriodicCheck() {
              var _this41 = this;

              var e = function e() {
                _this41._checkElementRectsAndExecuteCallback(), _this41._periodicCheckTimeout = setTimeout(e, Ga);
              };

              this.listenTo(fs.window, "resize", function () {
                _this41._checkElementRectsAndExecuteCallback();
              }), this._periodicCheckTimeout = setTimeout(e, Ga);
            }
          }, {
            key: "_stopPeriodicCheck",
            value: function _stopPeriodicCheck() {
              clearTimeout(this._periodicCheckTimeout), this.stopListening(), this._previousRects.clear();
            }
          }, {
            key: "_checkElementRectsAndExecuteCallback",
            value: function _checkElementRectsAndExecuteCallback() {
              var e = [];

              var _iterator103 = _createForOfIteratorHelper(this._elements),
                  _step103;

              try {
                for (_iterator103.s(); !(_step103 = _iterator103.n()).done;) {
                  var _t77 = _step103.value;
                  this._hasRectChanged(_t77) && e.push({
                    target: _t77,
                    contentRect: this._previousRects.get(_t77)
                  });
                }
              } catch (err) {
                _iterator103.e(err);
              } finally {
                _iterator103.f();
              }

              e.length && this._callback(e);
            }
          }, {
            key: "_hasRectChanged",
            value: function _hasRectChanged(e) {
              if (!e.ownerDocument.body.contains(e)) return !1;

              var t = new Wa(e),
                  n = this._previousRects.get(e),
                  i = !n || !n.isEqual(t);

              return this._previousRects.set(e, t), i;
            }
          }]);

          return Ka;
        }();

        function Qa(e) {
          return function (t) {
            return t + e;
          };
        }

        function Ja(e) {
          var t = e.next();
          return t.done ? null : t.value;
        }

        rt(Ka, Ts);

        var Xa = /*#__PURE__*/function () {
          function Xa() {
            _classCallCheck(this, Xa);

            this.set("isFocused", !1), this.set("focusedElement", null), this._elements = new Set(), this._nextEventLoopTimeout = null;
          }

          _createClass(Xa, [{
            key: "add",
            value: function add(e) {
              var _this42 = this;

              if (this._elements.has(e)) throw new c.a("focustracker-add-element-already-exist", this);
              this.listenTo(e, "focus", function () {
                return _this42._focus(e);
              }, {
                useCapture: !0
              }), this.listenTo(e, "blur", function () {
                return _this42._blur();
              }, {
                useCapture: !0
              }), this._elements.add(e);
            }
          }, {
            key: "remove",
            value: function remove(e) {
              e === this.focusedElement && this._blur(e), this._elements.has(e) && (this.stopListening(e), this._elements["delete"](e));
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this.stopListening();
            }
          }, {
            key: "_focus",
            value: function _focus(e) {
              clearTimeout(this._nextEventLoopTimeout), this.focusedElement = e, this.isFocused = !0;
            }
          }, {
            key: "_blur",
            value: function _blur() {
              var _this43 = this;

              clearTimeout(this._nextEventLoopTimeout), this._nextEventLoopTimeout = setTimeout(function () {
                _this43.focusedElement = null, _this43.isFocused = !1;
              }, 0);
            }
          }]);

          return Xa;
        }();

        rt(Xa, Ts), rt(Xa, Ze);

        var Za = /*#__PURE__*/function () {
          function Za() {
            _classCallCheck(this, Za);

            this._listener = Object.create(Ts);
          }

          _createClass(Za, [{
            key: "listenTo",
            value: function listenTo(e) {
              var _this44 = this;

              this._listener.listenTo(e, "keydown", function (e, t) {
                _this44._listener.fire("_keydown:" + Sr(t), t);
              });
            }
          }, {
            key: "set",
            value: function set(e, t) {
              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
              var i = Mr(e),
                  o = n.priority;

              this._listener.listenTo(this._listener, "_keydown:" + i, function (e, n) {
                t(n, function () {
                  n.preventDefault(), n.stopPropagation(), e.stop();
                }), e["return"] = !0;
              }, {
                priority: o
              });
            }
          }, {
            key: "press",
            value: function press(e) {
              return !!this._listener.fire("_keydown:" + Sr(e), e);
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this._listener.stopListening();
            }
          }]);

          return Za;
        }();

        var ec = /*#__PURE__*/function (_Is5) {
          _inherits(ec, _Is5);

          var _super20 = _createSuper(ec);

          function ec(e) {
            var _this45;

            _classCallCheck(this, ec);

            _this45 = _super20.call(this, e), _this45.document.on("keydown", function (e, t) {
              if (_this45.isEnabled && function (e) {
                return e == Er.arrowright || e == Er.arrowleft || e == Er.arrowup || e == Er.arrowdown;
              }(t.keyCode)) {
                var _n78 = new dr(_this45.document, "arrowKey", _this45.document.selection.getFirstRange());

                _this45.document.fire(_n78, t), _n78.stop.called && e.stop();
              }
            });
            return _this45;
          }

          _createClass(ec, [{
            key: "observe",
            value: function observe() {}
          }]);

          return ec;
        }(Is);

        function tc(_ref15) {
          var e = _ref15.target,
              _ref15$viewportOffset = _ref15.viewportOffset,
              t = _ref15$viewportOffset === void 0 ? 0 : _ref15$viewportOffset;
          var n = cc(e);
          var i = n,
              o = null;

          for (; i;) {
            var _r17 = void 0;

            ic(_r17 = lc(i == n ? e : o), function () {
              return dc(e, i);
            });

            var _s10 = dc(e, i);

            if (nc(i, _s10, t), i.parent != i) {
              if (o = i.frameElement, i = i.parent, !o) return;
            } else i = null;
          }
        }

        function nc(e, t, n) {
          var i = t.clone().moveBy(0, n),
              o = t.clone().moveBy(0, -n),
              r = new Wa(e).excludeScrollbarsAndBorders();

          if (![o, i].every(function (e) {
            return r.contains(e);
          })) {
            var _s11 = e.scrollX,
                _a8 = e.scrollY;
            rc(o, r) ? _a8 -= r.top - t.top + n : oc(i, r) && (_a8 += t.bottom - r.bottom + n), sc(t, r) ? _s11 -= r.left - t.left + n : ac(t, r) && (_s11 += t.right - r.right + n), e.scrollTo(_s11, _a8);
          }
        }

        function ic(e, t) {
          var n = cc(e);
          var i, o;

          for (; e != n.document.body;) {
            o = t(), (i = new Wa(e).excludeScrollbarsAndBorders()).contains(o) || (rc(o, i) ? e.scrollTop -= i.top - o.top : oc(o, i) && (e.scrollTop += o.bottom - i.bottom), sc(o, i) ? e.scrollLeft -= i.left - o.left : ac(o, i) && (e.scrollLeft += o.right - i.right)), e = e.parentNode;
          }
        }

        function oc(e, t) {
          return e.bottom > t.bottom;
        }

        function rc(e, t) {
          return e.top < t.top;
        }

        function sc(e, t) {
          return e.left < t.left;
        }

        function ac(e, t) {
          return e.right > t.right;
        }

        function cc(e) {
          return ja(e) ? e.startContainer.ownerDocument.defaultView : e.ownerDocument.defaultView;
        }

        function lc(e) {
          if (ja(e)) {
            var _t78 = e.commonAncestorContainer;
            return Kr(_t78) && (_t78 = _t78.parentNode), _t78;
          }

          return e.parentNode;
        }

        function dc(e, t) {
          var n = cc(e),
              i = new Wa(e);
          if (n === t) return i;
          {
            var _e71 = n;

            for (; _e71 != t;) {
              var _t79 = _e71.frameElement,
                  _n79 = new Wa(_t79).excludeScrollbarsAndBorders();

              i.moveBy(_n79.left, _n79.top), _e71 = _e71.parent;
            }
          }
          return i;
        }

        Object.assign({}, {
          scrollViewportToShowTarget: tc,
          scrollAncestorsToShowTarget: function scrollAncestorsToShowTarget(e) {
            ic(lc(e), function () {
              return new Wa(e);
            });
          }
        });

        var uc = /*#__PURE__*/function () {
          function uc(e) {
            var _this46 = this;

            _classCallCheck(this, uc);

            this.document = new pr(e), this.domConverter = new vs(this.document), this.domRoots = new Map(), this.set("isRenderingInProgress", !1), this.set("hasDomSelection", !1), this._renderer = new hs(this.domConverter, this.document.selection), this._renderer.bind("isFocused", "isSelecting").to(this.document), this._initialDomRootAttributes = new WeakMap(), this._observers = new Map(), this._ongoingChange = !1, this._postFixersInProgress = !1, this._renderingDisabled = !1, this._hasChangedSinceTheLastRendering = !1, this._writer = new Br(this.document), this.addObserver(ma), this.addObserver(Oa), this.addObserver(Da), this.addObserver(ka), this.addObserver(Na), this.addObserver(La), this.addObserver(ec), Cr.isAndroid && this.addObserver(za), function (e) {
              e.document.on("arrowKey", os, {
                priority: "low"
              });
            }(this), Or(this), this.on("render", function () {
              _this46._render(), _this46.document.fire("layoutChanged"), _this46._hasChangedSinceTheLastRendering = !1;
            }), this.listenTo(this.document.selection, "change", function () {
              _this46._hasChangedSinceTheLastRendering = !0;
            }), this.listenTo(this.document, "change:isFocused", function () {
              _this46._hasChangedSinceTheLastRendering = !0;
            });
          }

          _createClass(uc, [{
            key: "attachDomRoot",
            value: function attachDomRoot(e) {
              var _this47 = this;

              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "main";
              var n = this.document.getRoot(t);
              n._name = e.tagName.toLowerCase();
              var i = {};

              for (var _i55 = 0, _Array$from = Array.from(e.attributes); _i55 < _Array$from.length; _i55++) {
                var _Array$from$_i = _Array$from[_i55],
                    _t80 = _Array$from$_i.name,
                    _o27 = _Array$from$_i.value;
                i[_t80] = _o27, "class" === _t80 ? this._writer.addClass(_o27.split(" "), n) : this._writer.setAttribute(_t80, _o27, n);
              }

              this._initialDomRootAttributes.set(e, i);

              var o = function o() {
                _this47._writer.setAttribute("contenteditable", !n.isReadOnly, n), n.isReadOnly ? _this47._writer.addClass("ck-read-only", n) : _this47._writer.removeClass("ck-read-only", n);
              };

              o(), this.domRoots.set(t, e), this.domConverter.bindElements(e, n), this._renderer.markToSync("children", n), this._renderer.markToSync("attributes", n), this._renderer.domDocuments.add(e.ownerDocument), n.on("change:children", function (e, t) {
                return _this47._renderer.markToSync("children", t);
              }), n.on("change:attributes", function (e, t) {
                return _this47._renderer.markToSync("attributes", t);
              }), n.on("change:text", function (e, t) {
                return _this47._renderer.markToSync("text", t);
              }), n.on("change:isReadOnly", function () {
                return _this47.change(o);
              }), n.on("change", function () {
                _this47._hasChangedSinceTheLastRendering = !0;
              });

              var _iterator104 = _createForOfIteratorHelper(this._observers.values()),
                  _step104;

              try {
                for (_iterator104.s(); !(_step104 = _iterator104.n()).done;) {
                  var _n80 = _step104.value;

                  _n80.observe(e, t);
                }
              } catch (err) {
                _iterator104.e(err);
              } finally {
                _iterator104.f();
              }
            }
          }, {
            key: "detachDomRoot",
            value: function detachDomRoot(e) {
              var t = this.domRoots.get(e);
              Array.from(t.attributes).forEach(function (_ref16) {
                var e = _ref16.name;
                return t.removeAttribute(e);
              });

              var n = this._initialDomRootAttributes.get(t);

              for (var _e72 in n) {
                t.setAttribute(_e72, n[_e72]);
              }

              this.domRoots["delete"](e), this.domConverter.unbindDomElement(t);
            }
          }, {
            key: "getDomRoot",
            value: function getDomRoot() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "main";
              return this.domRoots.get(e);
            }
          }, {
            key: "addObserver",
            value: function addObserver(e) {
              var t = this._observers.get(e);

              if (t) return t;
              t = new e(this), this._observers.set(e, t);

              var _iterator105 = _createForOfIteratorHelper(this.domRoots),
                  _step105;

              try {
                for (_iterator105.s(); !(_step105 = _iterator105.n()).done;) {
                  var _step105$value = _slicedToArray(_step105.value, 2),
                      _e73 = _step105$value[0],
                      _n81 = _step105$value[1];

                  t.observe(_n81, _e73);
                }
              } catch (err) {
                _iterator105.e(err);
              } finally {
                _iterator105.f();
              }

              return t.enable(), t;
            }
          }, {
            key: "getObserver",
            value: function getObserver(e) {
              return this._observers.get(e);
            }
          }, {
            key: "disableObservers",
            value: function disableObservers() {
              var _iterator106 = _createForOfIteratorHelper(this._observers.values()),
                  _step106;

              try {
                for (_iterator106.s(); !(_step106 = _iterator106.n()).done;) {
                  var _e74 = _step106.value;

                  _e74.disable();
                }
              } catch (err) {
                _iterator106.e(err);
              } finally {
                _iterator106.f();
              }
            }
          }, {
            key: "enableObservers",
            value: function enableObservers() {
              var _iterator107 = _createForOfIteratorHelper(this._observers.values()),
                  _step107;

              try {
                for (_iterator107.s(); !(_step107 = _iterator107.n()).done;) {
                  var _e75 = _step107.value;

                  _e75.enable();
                }
              } catch (err) {
                _iterator107.e(err);
              } finally {
                _iterator107.f();
              }
            }
          }, {
            key: "scrollToTheSelection",
            value: function scrollToTheSelection() {
              var e = this.document.selection.getFirstRange();
              e && tc({
                target: this.domConverter.viewRangeToDom(e),
                viewportOffset: 20
              });
            }
          }, {
            key: "focus",
            value: function focus() {
              if (!this.document.isFocused) {
                var _e76 = this.document.selection.editableElement;
                _e76 && (this.domConverter.focus(_e76), this.forceRender());
              }
            }
          }, {
            key: "change",
            value: function change(e) {
              if (this.isRenderingInProgress || this._postFixersInProgress) throw new c.a("cannot-change-view-tree", this);

              try {
                if (this._ongoingChange) return e(this._writer);
                this._ongoingChange = !0;

                var _t81 = e(this._writer);

                return this._ongoingChange = !1, !this._renderingDisabled && this._hasChangedSinceTheLastRendering && (this._postFixersInProgress = !0, this.document._callPostFixers(this._writer), this._postFixersInProgress = !1, this.fire("render")), _t81;
              } catch (e) {
                c.a.rethrowUnexpectedError(e, this);
              }
            }
          }, {
            key: "forceRender",
            value: function forceRender() {
              this._hasChangedSinceTheLastRendering = !0, this.change(function () {});
            }
          }, {
            key: "destroy",
            value: function destroy() {
              var _iterator108 = _createForOfIteratorHelper(this._observers.values()),
                  _step108;

              try {
                for (_iterator108.s(); !(_step108 = _iterator108.n()).done;) {
                  var _e77 = _step108.value;

                  _e77.destroy();
                }
              } catch (err) {
                _iterator108.e(err);
              } finally {
                _iterator108.f();
              }

              this.document.destroy(), this.stopListening();
            }
          }, {
            key: "createPositionAt",
            value: function createPositionAt(e, t) {
              return or._createAt(e, t);
            }
          }, {
            key: "createPositionAfter",
            value: function createPositionAfter(e) {
              return or._createAfter(e);
            }
          }, {
            key: "createPositionBefore",
            value: function createPositionBefore(e) {
              return or._createBefore(e);
            }
          }, {
            key: "createRange",
            value: function createRange(e, t) {
              return new rr(e, t);
            }
          }, {
            key: "createRangeOn",
            value: function createRangeOn(e) {
              return rr._createOn(e);
            }
          }, {
            key: "createRangeIn",
            value: function createRangeIn(e) {
              return rr._createIn(e);
            }
          }, {
            key: "createSelection",
            value: function createSelection(e, t, n) {
              return new cr(e, t, n);
            }
          }, {
            key: "_disableRendering",
            value: function _disableRendering(e) {
              this._renderingDisabled = e, 0 == e && this.change(function () {});
            }
          }, {
            key: "_render",
            value: function _render() {
              this.isRenderingInProgress = !0, this.disableObservers(), this._renderer.render(), this.enableObservers(), this.isRenderingInProgress = !1;
            }
          }]);

          return uc;
        }();

        rt(uc, Ze);

        var hc = /*#__PURE__*/function () {
          function hc(e) {
            _classCallCheck(this, hc);

            this.parent = null, this._attrs = io(e);
          }

          _createClass(hc, [{
            key: "index",
            get: function get() {
              var e;
              if (!this.parent) return null;
              if (null === (e = this.parent.getChildIndex(this))) throw new c.a("model-node-not-found-in-parent", this);
              return e;
            }
          }, {
            key: "startOffset",
            get: function get() {
              var e;
              if (!this.parent) return null;
              if (null === (e = this.parent.getChildStartOffset(this))) throw new c.a("model-node-not-found-in-parent", this);
              return e;
            }
          }, {
            key: "offsetSize",
            get: function get() {
              return 1;
            }
          }, {
            key: "endOffset",
            get: function get() {
              return this.parent ? this.startOffset + this.offsetSize : null;
            }
          }, {
            key: "nextSibling",
            get: function get() {
              var e = this.index;
              return null !== e && this.parent.getChild(e + 1) || null;
            }
          }, {
            key: "previousSibling",
            get: function get() {
              var e = this.index;
              return null !== e && this.parent.getChild(e - 1) || null;
            }
          }, {
            key: "root",
            get: function get() {
              var e = this;

              for (; e.parent;) {
                e = e.parent;
              }

              return e;
            }
          }, {
            key: "isAttached",
            value: function isAttached() {
              return this.root.is("rootElement");
            }
          }, {
            key: "getPath",
            value: function getPath() {
              var e = [];
              var t = this;

              for (; t.parent;) {
                e.unshift(t.startOffset), t = t.parent;
              }

              return e;
            }
          }, {
            key: "getAncestors",
            value: function getAncestors() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {
                includeSelf: !1,
                parentFirst: !1
              };
              var t = [];
              var n = e.includeSelf ? this : this.parent;

              for (; n;) {
                t[e.parentFirst ? "push" : "unshift"](n), n = n.parent;
              }

              return t;
            }
          }, {
            key: "getCommonAncestor",
            value: function getCommonAncestor(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
              var n = this.getAncestors(t),
                  i = e.getAncestors(t);
              var o = 0;

              for (; n[o] == i[o] && n[o];) {
                o++;
              }

              return 0 === o ? null : n[o - 1];
            }
          }, {
            key: "isBefore",
            value: function isBefore(e) {
              if (this == e) return !1;
              if (this.root !== e.root) return !1;
              var t = this.getPath(),
                  n = e.getPath(),
                  i = Ji(t, n);

              switch (i) {
                case "prefix":
                  return !0;

                case "extension":
                  return !1;

                default:
                  return t[i] < n[i];
              }
            }
          }, {
            key: "isAfter",
            value: function isAfter(e) {
              return this != e && this.root === e.root && !this.isBefore(e);
            }
          }, {
            key: "hasAttribute",
            value: function hasAttribute(e) {
              return this._attrs.has(e);
            }
          }, {
            key: "getAttribute",
            value: function getAttribute(e) {
              return this._attrs.get(e);
            }
          }, {
            key: "getAttributes",
            value: function getAttributes() {
              return this._attrs.entries();
            }
          }, {
            key: "getAttributeKeys",
            value: function getAttributeKeys() {
              return this._attrs.keys();
            }
          }, {
            key: "toJSON",
            value: function toJSON() {
              var e = {};
              return this._attrs.size && (e.attributes = Array.from(this._attrs).reduce(function (e, t) {
                return e[t[0]] = t[1], e;
              }, {})), e;
            }
          }, {
            key: "is",
            value: function is(e) {
              return "node" === e || "model:node" === e;
            }
          }, {
            key: "_clone",
            value: function _clone() {
              return new hc(this._attrs);
            }
          }, {
            key: "_remove",
            value: function _remove() {
              this.parent._removeChildren(this.index);
            }
          }, {
            key: "_setAttribute",
            value: function _setAttribute(e, t) {
              this._attrs.set(e, t);
            }
          }, {
            key: "_setAttributesTo",
            value: function _setAttributesTo(e) {
              this._attrs = io(e);
            }
          }, {
            key: "_removeAttribute",
            value: function _removeAttribute(e) {
              return this._attrs["delete"](e);
            }
          }, {
            key: "_clearAttributes",
            value: function _clearAttributes() {
              this._attrs.clear();
            }
          }]);

          return hc;
        }();

        var gc = /*#__PURE__*/function (_hc) {
          _inherits(gc, _hc);

          var _super21 = _createSuper(gc);

          function gc(e, t) {
            var _this48;

            _classCallCheck(this, gc);

            _this48 = _super21.call(this, t), _this48._data = e || "";
            return _this48;
          }

          _createClass(gc, [{
            key: "offsetSize",
            get: function get() {
              return this.data.length;
            }
          }, {
            key: "data",
            get: function get() {
              return this._data;
            }
          }, {
            key: "is",
            value: function is(e) {
              return "$text" === e || "model:$text" === e || "text" === e || "model:text" === e || "node" === e || "model:node" === e;
            }
          }, {
            key: "toJSON",
            value: function toJSON() {
              var e = _get(_getPrototypeOf(gc.prototype), "toJSON", this).call(this);

              return e.data = this.data, e;
            }
          }, {
            key: "_clone",
            value: function _clone() {
              return new gc(this.data, this.getAttributes());
            }
          }], [{
            key: "fromJSON",
            value: function fromJSON(e) {
              return new gc(e.data, e.attributes);
            }
          }]);

          return gc;
        }(hc);

        var mc = /*#__PURE__*/function () {
          function mc(e, t, n) {
            _classCallCheck(this, mc);

            if (this.textNode = e, t < 0 || t > e.offsetSize) throw new c.a("model-textproxy-wrong-offsetintext", this);
            if (n < 0 || t + n > e.offsetSize) throw new c.a("model-textproxy-wrong-length", this);
            this.data = e.data.substring(t, t + n), this.offsetInText = t;
          }

          _createClass(mc, [{
            key: "startOffset",
            get: function get() {
              return null !== this.textNode.startOffset ? this.textNode.startOffset + this.offsetInText : null;
            }
          }, {
            key: "offsetSize",
            get: function get() {
              return this.data.length;
            }
          }, {
            key: "endOffset",
            get: function get() {
              return null !== this.startOffset ? this.startOffset + this.offsetSize : null;
            }
          }, {
            key: "isPartial",
            get: function get() {
              return this.offsetSize !== this.textNode.offsetSize;
            }
          }, {
            key: "parent",
            get: function get() {
              return this.textNode.parent;
            }
          }, {
            key: "root",
            get: function get() {
              return this.textNode.root;
            }
          }, {
            key: "is",
            value: function is(e) {
              return "$textProxy" === e || "model:$textProxy" === e || "textProxy" === e || "model:textProxy" === e;
            }
          }, {
            key: "getPath",
            value: function getPath() {
              var e = this.textNode.getPath();
              return e.length > 0 && (e[e.length - 1] += this.offsetInText), e;
            }
          }, {
            key: "getAncestors",
            value: function getAncestors() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {
                includeSelf: !1,
                parentFirst: !1
              };
              var t = [];
              var n = e.includeSelf ? this : this.parent;

              for (; n;) {
                t[e.parentFirst ? "push" : "unshift"](n), n = n.parent;
              }

              return t;
            }
          }, {
            key: "hasAttribute",
            value: function hasAttribute(e) {
              return this.textNode.hasAttribute(e);
            }
          }, {
            key: "getAttribute",
            value: function getAttribute(e) {
              return this.textNode.getAttribute(e);
            }
          }, {
            key: "getAttributes",
            value: function getAttributes() {
              return this.textNode.getAttributes();
            }
          }, {
            key: "getAttributeKeys",
            value: function getAttributeKeys() {
              return this.textNode.getAttributeKeys();
            }
          }]);

          return mc;
        }();

        var fc = /*#__PURE__*/function (_Symbol$iterator6) {
          function fc(e) {
            _classCallCheck(this, fc);

            this._nodes = [], e && this._insertNodes(0, e);
          }

          _createClass(fc, [{
            key: _Symbol$iterator6,
            value: function value() {
              return this._nodes[Symbol.iterator]();
            }
          }, {
            key: "length",
            get: function get() {
              return this._nodes.length;
            }
          }, {
            key: "maxOffset",
            get: function get() {
              return this._nodes.reduce(function (e, t) {
                return e + t.offsetSize;
              }, 0);
            }
          }, {
            key: "getNode",
            value: function getNode(e) {
              return this._nodes[e] || null;
            }
          }, {
            key: "getNodeIndex",
            value: function getNodeIndex(e) {
              var t = this._nodes.indexOf(e);

              return -1 == t ? null : t;
            }
          }, {
            key: "getNodeStartOffset",
            value: function getNodeStartOffset(e) {
              var t = this.getNodeIndex(e);
              return null === t ? null : this._nodes.slice(0, t).reduce(function (e, t) {
                return e + t.offsetSize;
              }, 0);
            }
          }, {
            key: "indexToOffset",
            value: function indexToOffset(e) {
              if (e == this._nodes.length) return this.maxOffset;
              var t = this._nodes[e];
              if (!t) throw new c.a("model-nodelist-index-out-of-bounds", this);
              return this.getNodeStartOffset(t);
            }
          }, {
            key: "offsetToIndex",
            value: function offsetToIndex(e) {
              var t = 0;

              var _iterator109 = _createForOfIteratorHelper(this._nodes),
                  _step109;

              try {
                for (_iterator109.s(); !(_step109 = _iterator109.n()).done;) {
                  var _n82 = _step109.value;
                  if (e >= t && e < t + _n82.offsetSize) return this.getNodeIndex(_n82);
                  t += _n82.offsetSize;
                }
              } catch (err) {
                _iterator109.e(err);
              } finally {
                _iterator109.f();
              }

              if (t != e) throw new c.a("model-nodelist-offset-out-of-bounds", this, {
                offset: e,
                nodeList: this
              });
              return this.length;
            }
          }, {
            key: "_insertNodes",
            value: function _insertNodes(e, t) {
              var _this$_nodes;

              var _iterator110 = _createForOfIteratorHelper(t),
                  _step110;

              try {
                for (_iterator110.s(); !(_step110 = _iterator110.n()).done;) {
                  var _e78 = _step110.value;
                  if (!(_e78 instanceof hc)) throw new c.a("model-nodelist-insertnodes-not-node", this);
                }
              } catch (err) {
                _iterator110.e(err);
              } finally {
                _iterator110.f();
              }

              (_this$_nodes = this._nodes).splice.apply(_this$_nodes, [e, 0].concat(_toConsumableArray(t)));
            }
          }, {
            key: "_removeNodes",
            value: function _removeNodes(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;
              return this._nodes.splice(e, t);
            }
          }, {
            key: "toJSON",
            value: function toJSON() {
              return this._nodes.map(function (e) {
                return e.toJSON();
              });
            }
          }]);

          return fc;
        }(Symbol.iterator);

        var pc = /*#__PURE__*/function (_hc2) {
          _inherits(pc, _hc2);

          var _super22 = _createSuper(pc);

          function pc(e, t, n) {
            var _this49;

            _classCallCheck(this, pc);

            _this49 = _super22.call(this, t), _this49.name = e, _this49._children = new fc(), n && _this49._insertChild(0, n);
            return _this49;
          }

          _createClass(pc, [{
            key: "childCount",
            get: function get() {
              return this._children.length;
            }
          }, {
            key: "maxOffset",
            get: function get() {
              return this._children.maxOffset;
            }
          }, {
            key: "isEmpty",
            get: function get() {
              return 0 === this.childCount;
            }
          }, {
            key: "is",
            value: function is(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              return t ? t === this.name && ("element" === e || "model:element" === e) : "element" === e || "model:element" === e || "node" === e || "model:node" === e;
            }
          }, {
            key: "getChild",
            value: function getChild(e) {
              return this._children.getNode(e);
            }
          }, {
            key: "getChildren",
            value: function getChildren() {
              return this._children[Symbol.iterator]();
            }
          }, {
            key: "getChildIndex",
            value: function getChildIndex(e) {
              return this._children.getNodeIndex(e);
            }
          }, {
            key: "getChildStartOffset",
            value: function getChildStartOffset(e) {
              return this._children.getNodeStartOffset(e);
            }
          }, {
            key: "offsetToIndex",
            value: function offsetToIndex(e) {
              return this._children.offsetToIndex(e);
            }
          }, {
            key: "getNodeByPath",
            value: function getNodeByPath(e) {
              var t = this;

              var _iterator111 = _createForOfIteratorHelper(e),
                  _step111;

              try {
                for (_iterator111.s(); !(_step111 = _iterator111.n()).done;) {
                  var _n83 = _step111.value;
                  t = t.getChild(t.offsetToIndex(_n83));
                }
              } catch (err) {
                _iterator111.e(err);
              } finally {
                _iterator111.f();
              }

              return t;
            }
          }, {
            key: "findAncestor",
            value: function findAncestor(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
                includeSelf: !1
              };
              var n = t.includeSelf ? this : this.parent;

              for (; n;) {
                if (n.name === e) return n;
                n = n.parent;
              }

              return null;
            }
          }, {
            key: "toJSON",
            value: function toJSON() {
              var e = _get(_getPrototypeOf(pc.prototype), "toJSON", this).call(this);

              if (e.name = this.name, this._children.length > 0) {
                e.children = [];

                var _iterator112 = _createForOfIteratorHelper(this._children),
                    _step112;

                try {
                  for (_iterator112.s(); !(_step112 = _iterator112.n()).done;) {
                    var _t82 = _step112.value;
                    e.children.push(_t82.toJSON());
                  }
                } catch (err) {
                  _iterator112.e(err);
                } finally {
                  _iterator112.f();
                }
              }

              return e;
            }
          }, {
            key: "_clone",
            value: function _clone() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;
              var t = e ? Array.from(this._children).map(function (e) {
                return e._clone(!0);
              }) : null;
              return new pc(this.name, this.getAttributes(), t);
            }
          }, {
            key: "_appendChild",
            value: function _appendChild(e) {
              this._insertChild(this.childCount, e);
            }
          }, {
            key: "_insertChild",
            value: function _insertChild(e, t) {
              var n = function (e) {
                if ("string" == typeof e) return [new gc(e)];
                ji(e) || (e = [e]);
                return Array.from(e).map(function (e) {
                  return "string" == typeof e ? new gc(e) : e instanceof mc ? new gc(e.data, e.getAttributes()) : e;
                });
              }(t);

              var _iterator113 = _createForOfIteratorHelper(n),
                  _step113;

              try {
                for (_iterator113.s(); !(_step113 = _iterator113.n()).done;) {
                  var _e79 = _step113.value;
                  null !== _e79.parent && _e79._remove(), _e79.parent = this;
                }
              } catch (err) {
                _iterator113.e(err);
              } finally {
                _iterator113.f();
              }

              this._children._insertNodes(e, n);
            }
          }, {
            key: "_removeChildren",
            value: function _removeChildren(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;

              var n = this._children._removeNodes(e, t);

              var _iterator114 = _createForOfIteratorHelper(n),
                  _step114;

              try {
                for (_iterator114.s(); !(_step114 = _iterator114.n()).done;) {
                  var _e80 = _step114.value;
                  _e80.parent = null;
                }
              } catch (err) {
                _iterator114.e(err);
              } finally {
                _iterator114.f();
              }

              return n;
            }
          }], [{
            key: "fromJSON",
            value: function fromJSON(e) {
              var t = null;

              if (e.children) {
                t = [];

                var _iterator115 = _createForOfIteratorHelper(e.children),
                    _step115;

                try {
                  for (_iterator115.s(); !(_step115 = _iterator115.n()).done;) {
                    var _n84 = _step115.value;
                    _n84.name ? t.push(pc.fromJSON(_n84)) : t.push(gc.fromJSON(_n84));
                  }
                } catch (err) {
                  _iterator115.e(err);
                } finally {
                  _iterator115.f();
                }
              }

              return new pc(e.name, e.attributes, t);
            }
          }]);

          return pc;
        }(hc);

        var kc = /*#__PURE__*/function (_Symbol$iterator7) {
          function kc() {
            var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

            _classCallCheck(this, kc);

            if (!e.boundaries && !e.startPosition) throw new c.a("model-tree-walker-no-start-position", null);
            var t = e.direction || "forward";
            if ("forward" != t && "backward" != t) throw new c.a("model-tree-walker-unknown-direction", e, {
              direction: t
            });
            this.direction = t, this.boundaries = e.boundaries || null, e.startPosition ? this.position = e.startPosition.clone() : this.position = wc._createAt(this.boundaries["backward" == this.direction ? "end" : "start"]), this.position.stickiness = "toNone", this.singleCharacters = !!e.singleCharacters, this.shallow = !!e.shallow, this.ignoreElementEnd = !!e.ignoreElementEnd, this._boundaryStartParent = this.boundaries ? this.boundaries.start.parent : null, this._boundaryEndParent = this.boundaries ? this.boundaries.end.parent : null, this._visitedParent = this.position.parent;
          }

          _createClass(kc, [{
            key: _Symbol$iterator7,
            value: function value() {
              return this;
            }
          }, {
            key: "skip",
            value: function skip(e) {
              var t, n, i, o;

              do {
                var _this$next2;

                i = this.position, o = this._visitedParent, (_this$next2 = this.next(), t = _this$next2.done, n = _this$next2.value, _this$next2);
              } while (!t && e(n));

              t || (this.position = i, this._visitedParent = o);
            }
          }, {
            key: "next",
            value: function next() {
              return "forward" == this.direction ? this._next() : this._previous();
            }
          }, {
            key: "_next",
            value: function _next() {
              var e = this.position,
                  t = this.position.clone(),
                  n = this._visitedParent;
              if (null === n.parent && t.offset === n.maxOffset) return {
                done: !0
              };
              if (n === this._boundaryEndParent && t.offset == this.boundaries.end.offset) return {
                done: !0
              };

              var i = t.parent,
                  o = _c(t, i),
                  r = o || vc(t, i, o);

              if (r instanceof pc) return this.shallow ? t.offset++ : (t.path.push(0), this._visitedParent = r), this.position = t, bc("elementStart", r, e, t, 1);

              if (r instanceof gc) {
                var _i56;

                if (this.singleCharacters) _i56 = 1;else {
                  var _e81 = r.endOffset;
                  this._boundaryEndParent == n && this.boundaries.end.offset < _e81 && (_e81 = this.boundaries.end.offset), _i56 = _e81 - t.offset;
                }

                var _o28 = t.offset - r.startOffset,
                    _s12 = new mc(r, _o28, _i56);

                return t.offset += _i56, this.position = t, bc("text", _s12, e, t, _i56);
              }

              return t.path.pop(), t.offset++, this.position = t, this._visitedParent = n.parent, this.ignoreElementEnd ? this._next() : bc("elementEnd", n, e, t);
            }
          }, {
            key: "_previous",
            value: function _previous() {
              var e = this.position,
                  t = this.position.clone(),
                  n = this._visitedParent;
              if (null === n.parent && 0 === t.offset) return {
                done: !0
              };
              if (n == this._boundaryStartParent && t.offset == this.boundaries.start.offset) return {
                done: !0
              };

              var i = t.parent,
                  o = _c(t, i),
                  r = o || xc(t, i, o);

              if (r instanceof pc) return t.offset--, this.shallow ? (this.position = t, bc("elementStart", r, e, t, 1)) : (t.path.push(r.maxOffset), this.position = t, this._visitedParent = r, this.ignoreElementEnd ? this._previous() : bc("elementEnd", r, e, t));

              if (r instanceof gc) {
                var _i57;

                if (this.singleCharacters) _i57 = 1;else {
                  var _e82 = r.startOffset;
                  this._boundaryStartParent == n && this.boundaries.start.offset > _e82 && (_e82 = this.boundaries.start.offset), _i57 = t.offset - _e82;
                }

                var _o29 = t.offset - r.startOffset,
                    _s13 = new mc(r, _o29 - _i57, _i57);

                return t.offset -= _i57, this.position = t, bc("text", _s13, e, t, _i57);
              }

              return t.path.pop(), this.position = t, this._visitedParent = n.parent, bc("elementStart", n, e, t, 1);
            }
          }]);

          return kc;
        }(Symbol.iterator);

        function bc(e, t, n, i, o) {
          return {
            done: !1,
            value: {
              type: e,
              item: t,
              previousPosition: n,
              nextPosition: i,
              length: o
            }
          };
        }

        var wc = /*#__PURE__*/function () {
          function wc(e, t) {
            var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "toNone";

            _classCallCheck(this, wc);

            if (!e.is("element") && !e.is("documentFragment")) throw new c.a("model-position-root-invalid", e);
            if (!(t instanceof Array) || 0 === t.length) throw new c.a("model-position-path-incorrect-format", e, {
              path: t
            });
            e.is("rootElement") ? t = t.slice() : (t = [].concat(_toConsumableArray(e.getPath()), _toConsumableArray(t)), e = e.root), this.root = e, this.path = t, this.stickiness = n;
          }

          _createClass(wc, [{
            key: "offset",
            get: function get() {
              return this.path[this.path.length - 1];
            },
            set: function set(e) {
              this.path[this.path.length - 1] = e;
            }
          }, {
            key: "parent",
            get: function get() {
              var e = this.root;

              for (var _t83 = 0; _t83 < this.path.length - 1; _t83++) {
                if (!(e = e.getChild(e.offsetToIndex(this.path[_t83])))) throw new c.a("model-position-path-incorrect", this, {
                  position: this
                });
              }

              if (e.is("$text")) throw new c.a("model-position-path-incorrect", this, {
                position: this
              });
              return e;
            }
          }, {
            key: "index",
            get: function get() {
              return this.parent.offsetToIndex(this.offset);
            }
          }, {
            key: "textNode",
            get: function get() {
              return _c(this, this.parent);
            }
          }, {
            key: "nodeAfter",
            get: function get() {
              var e = this.parent;
              return vc(this, e, _c(this, e));
            }
          }, {
            key: "nodeBefore",
            get: function get() {
              var e = this.parent;
              return xc(this, e, _c(this, e));
            }
          }, {
            key: "isAtStart",
            get: function get() {
              return 0 === this.offset;
            }
          }, {
            key: "isAtEnd",
            get: function get() {
              return this.offset == this.parent.maxOffset;
            }
          }, {
            key: "compareWith",
            value: function compareWith(e) {
              if (this.root != e.root) return "different";
              var t = Ji(this.path, e.path);

              switch (t) {
                case "same":
                  return "same";

                case "prefix":
                  return "before";

                case "extension":
                  return "after";

                default:
                  return this.path[t] < e.path[t] ? "before" : "after";
              }
            }
          }, {
            key: "getLastMatchingPosition",
            value: function getLastMatchingPosition(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
              t.startPosition = this;
              var n = new kc(t);
              return n.skip(e), n.position;
            }
          }, {
            key: "getParentPath",
            value: function getParentPath() {
              return this.path.slice(0, -1);
            }
          }, {
            key: "getAncestors",
            value: function getAncestors() {
              var e = this.parent;
              return e.is("documentFragment") ? [e] : e.getAncestors({
                includeSelf: !0
              });
            }
          }, {
            key: "findAncestor",
            value: function findAncestor(e) {
              var t = this.parent;
              return t.is("element") ? t.findAncestor(e, {
                includeSelf: !0
              }) : null;
            }
          }, {
            key: "getCommonPath",
            value: function getCommonPath(e) {
              if (this.root != e.root) return [];
              var t = Ji(this.path, e.path),
                  n = "string" == typeof t ? Math.min(this.path.length, e.path.length) : t;
              return this.path.slice(0, n);
            }
          }, {
            key: "getCommonAncestor",
            value: function getCommonAncestor(e) {
              var t = this.getAncestors(),
                  n = e.getAncestors();
              var i = 0;

              for (; t[i] == n[i] && t[i];) {
                i++;
              }

              return 0 === i ? null : t[i - 1];
            }
          }, {
            key: "getShiftedBy",
            value: function getShiftedBy(e) {
              var t = this.clone(),
                  n = t.offset + e;
              return t.offset = n < 0 ? 0 : n, t;
            }
          }, {
            key: "isAfter",
            value: function isAfter(e) {
              return "after" == this.compareWith(e);
            }
          }, {
            key: "isBefore",
            value: function isBefore(e) {
              return "before" == this.compareWith(e);
            }
          }, {
            key: "isEqual",
            value: function isEqual(e) {
              return "same" == this.compareWith(e);
            }
          }, {
            key: "isTouching",
            value: function isTouching(e) {
              var t = null,
                  n = null;

              switch (this.compareWith(e)) {
                case "same":
                  return !0;

                case "before":
                  t = wc._createAt(this), n = wc._createAt(e);
                  break;

                case "after":
                  t = wc._createAt(e), n = wc._createAt(this);
                  break;

                default:
                  return !1;
              }

              var i = t.parent;

              for (; t.path.length + n.path.length;) {
                if (t.isEqual(n)) return !0;

                if (t.path.length > n.path.length) {
                  if (t.offset !== i.maxOffset) return !1;
                  t.path = t.path.slice(0, -1), i = i.parent, t.offset++;
                } else {
                  if (0 !== n.offset) return !1;
                  n.path = n.path.slice(0, -1);
                }
              }
            }
          }, {
            key: "is",
            value: function is(e) {
              return "position" === e || "model:position" === e;
            }
          }, {
            key: "hasSameParentAs",
            value: function hasSameParentAs(e) {
              if (this.root !== e.root) return !1;
              return "same" == Ji(this.getParentPath(), e.getParentPath());
            }
          }, {
            key: "getTransformedByOperation",
            value: function getTransformedByOperation(e) {
              var t;

              switch (e.type) {
                case "insert":
                  t = this._getTransformedByInsertOperation(e);
                  break;

                case "move":
                case "remove":
                case "reinsert":
                  t = this._getTransformedByMoveOperation(e);
                  break;

                case "split":
                  t = this._getTransformedBySplitOperation(e);
                  break;

                case "merge":
                  t = this._getTransformedByMergeOperation(e);
                  break;

                default:
                  t = wc._createAt(this);
              }

              return t;
            }
          }, {
            key: "_getTransformedByInsertOperation",
            value: function _getTransformedByInsertOperation(e) {
              return this._getTransformedByInsertion(e.position, e.howMany);
            }
          }, {
            key: "_getTransformedByMoveOperation",
            value: function _getTransformedByMoveOperation(e) {
              return this._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany);
            }
          }, {
            key: "_getTransformedBySplitOperation",
            value: function _getTransformedBySplitOperation(e) {
              var t = e.movedRange;
              return t.containsPosition(this) || t.start.isEqual(this) && "toNext" == this.stickiness ? this._getCombined(e.splitPosition, e.moveTargetPosition) : e.graveyardPosition ? this._getTransformedByMove(e.graveyardPosition, e.insertionPosition, 1) : this._getTransformedByInsertion(e.insertionPosition, 1);
            }
          }, {
            key: "_getTransformedByMergeOperation",
            value: function _getTransformedByMergeOperation(e) {
              var t = e.movedRange;
              var n;
              return t.containsPosition(this) || t.start.isEqual(this) ? (n = this._getCombined(e.sourcePosition, e.targetPosition), e.sourcePosition.isBefore(e.targetPosition) && (n = n._getTransformedByDeletion(e.deletionPosition, 1))) : n = this.isEqual(e.deletionPosition) ? wc._createAt(e.deletionPosition) : this._getTransformedByMove(e.deletionPosition, e.graveyardPosition, 1), n;
            }
          }, {
            key: "_getTransformedByDeletion",
            value: function _getTransformedByDeletion(e, t) {
              var n = wc._createAt(this);

              if (this.root != e.root) return n;

              if ("same" == Ji(e.getParentPath(), this.getParentPath())) {
                if (e.offset < this.offset) {
                  if (e.offset + t > this.offset) return null;
                  n.offset -= t;
                }
              } else if ("prefix" == Ji(e.getParentPath(), this.getParentPath())) {
                var _i58 = e.path.length - 1;

                if (e.offset <= this.path[_i58]) {
                  if (e.offset + t > this.path[_i58]) return null;
                  n.path[_i58] -= t;
                }
              }

              return n;
            }
          }, {
            key: "_getTransformedByInsertion",
            value: function _getTransformedByInsertion(e, t) {
              var n = wc._createAt(this);

              if (this.root != e.root) return n;
              if ("same" == Ji(e.getParentPath(), this.getParentPath())) (e.offset < this.offset || e.offset == this.offset && "toPrevious" != this.stickiness) && (n.offset += t);else if ("prefix" == Ji(e.getParentPath(), this.getParentPath())) {
                var _i59 = e.path.length - 1;

                e.offset <= this.path[_i59] && (n.path[_i59] += t);
              }
              return n;
            }
          }, {
            key: "_getTransformedByMove",
            value: function _getTransformedByMove(e, t, n) {
              if (t = t._getTransformedByDeletion(e, n), e.isEqual(t)) return wc._createAt(this);

              var i = this._getTransformedByDeletion(e, n);

              return null === i || e.isEqual(this) && "toNext" == this.stickiness || e.getShiftedBy(n).isEqual(this) && "toPrevious" == this.stickiness ? this._getCombined(e, t) : i._getTransformedByInsertion(t, n);
            }
          }, {
            key: "_getCombined",
            value: function _getCombined(e, t) {
              var n = e.path.length - 1,
                  i = wc._createAt(t);

              return i.stickiness = this.stickiness, i.offset = i.offset + this.path[n] - e.offset, i.path = [].concat(_toConsumableArray(i.path), _toConsumableArray(this.path.slice(n + 1))), i;
            }
          }, {
            key: "toJSON",
            value: function toJSON() {
              return {
                root: this.root.toJSON(),
                path: Array.from(this.path),
                stickiness: this.stickiness
              };
            }
          }, {
            key: "clone",
            value: function clone() {
              return new this.constructor(this.root, this.path, this.stickiness);
            }
          }], [{
            key: "_createAt",
            value: function _createAt(e, t) {
              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "toNone";
              if (e instanceof wc) return new wc(e.root, e.path, e.stickiness);
              {
                var _i60 = e;
                if ("end" == t) t = _i60.maxOffset;else {
                  if ("before" == t) return this._createBefore(_i60, n);
                  if ("after" == t) return this._createAfter(_i60, n);
                  if (0 !== t && !t) throw new c.a("model-createpositionat-offset-required", [this, e]);
                }
                if (!_i60.is("element") && !_i60.is("documentFragment")) throw new c.a("model-position-parent-incorrect", [this, e]);

                var _o30 = _i60.getPath();

                return _o30.push(t), new this(_i60.root, _o30, n);
              }
            }
          }, {
            key: "_createAfter",
            value: function _createAfter(e, t) {
              if (!e.parent) throw new c.a("model-position-after-root", [this, e], {
                root: e
              });
              return this._createAt(e.parent, e.endOffset, t);
            }
          }, {
            key: "_createBefore",
            value: function _createBefore(e, t) {
              if (!e.parent) throw new c.a("model-position-before-root", e, {
                root: e
              });
              return this._createAt(e.parent, e.startOffset, t);
            }
          }, {
            key: "fromJSON",
            value: function fromJSON(e, t) {
              if ("$graveyard" === e.root) {
                var _n85 = new wc(t.graveyard, e.path);

                return _n85.stickiness = e.stickiness, _n85;
              }

              if (!t.getRoot(e.root)) throw new c.a("model-position-fromjson-no-root", t, {
                rootName: e.root
              });
              return new wc(t.getRoot(e.root), e.path, e.stickiness);
            }
          }]);

          return wc;
        }();

        function _c(e, t) {
          var n = t.getChild(t.offsetToIndex(e.offset));
          return n && n.is("$text") && n.startOffset < e.offset ? n : null;
        }

        function vc(e, t, n) {
          return null !== n ? null : t.getChild(t.offsetToIndex(e.offset));
        }

        function xc(e, t, n) {
          return null !== n ? null : t.getChild(t.offsetToIndex(e.offset) - 1);
        }

        var yc = /*#__PURE__*/function (_Symbol$iterator8) {
          function yc(e) {
            var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

            _classCallCheck(this, yc);

            this.start = wc._createAt(e), this.end = t ? wc._createAt(t) : wc._createAt(e), this.start.stickiness = this.isCollapsed ? "toNone" : "toNext", this.end.stickiness = this.isCollapsed ? "toNone" : "toPrevious";
          }

          _createClass(yc, [{
            key: _Symbol$iterator8,
            value: /*#__PURE__*/regeneratorRuntime.mark(function value() {
              return regeneratorRuntime.wrap(function value$(_context13) {
                while (1) {
                  switch (_context13.prev = _context13.next) {
                    case 0:
                      return _context13.delegateYield(new kc({
                        boundaries: this,
                        ignoreElementEnd: !0
                      }), "t0", 1);

                    case 1:
                    case "end":
                      return _context13.stop();
                  }
                }
              }, value, this);
            })
          }, {
            key: "isCollapsed",
            get: function get() {
              return this.start.isEqual(this.end);
            }
          }, {
            key: "isFlat",
            get: function get() {
              return "same" == Ji(this.start.getParentPath(), this.end.getParentPath());
            }
          }, {
            key: "root",
            get: function get() {
              return this.start.root;
            }
          }, {
            key: "containsPosition",
            value: function containsPosition(e) {
              return e.isAfter(this.start) && e.isBefore(this.end);
            }
          }, {
            key: "containsRange",
            value: function containsRange(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;
              e.isCollapsed && (t = !1);
              var n = this.containsPosition(e.start) || t && this.start.isEqual(e.start),
                  i = this.containsPosition(e.end) || t && this.end.isEqual(e.end);
              return n && i;
            }
          }, {
            key: "containsItem",
            value: function containsItem(e) {
              var t = wc._createBefore(e);

              return this.containsPosition(t) || this.start.isEqual(t);
            }
          }, {
            key: "is",
            value: function is(e) {
              return "range" === e || "model:range" === e;
            }
          }, {
            key: "isEqual",
            value: function isEqual(e) {
              return this.start.isEqual(e.start) && this.end.isEqual(e.end);
            }
          }, {
            key: "isIntersecting",
            value: function isIntersecting(e) {
              return this.start.isBefore(e.end) && this.end.isAfter(e.start);
            }
          }, {
            key: "getDifference",
            value: function getDifference(e) {
              var t = [];
              return this.isIntersecting(e) ? (this.containsPosition(e.start) && t.push(new yc(this.start, e.start)), this.containsPosition(e.end) && t.push(new yc(e.end, this.end))) : t.push(new yc(this.start, this.end)), t;
            }
          }, {
            key: "getIntersection",
            value: function getIntersection(e) {
              if (this.isIntersecting(e)) {
                var _t84 = this.start,
                    _n86 = this.end;
                return this.containsPosition(e.start) && (_t84 = e.start), this.containsPosition(e.end) && (_n86 = e.end), new yc(_t84, _n86);
              }

              return null;
            }
          }, {
            key: "getJoined",
            value: function getJoined(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;
              var n = this.isIntersecting(e);
              if (n || (n = this.start.isBefore(e.start) ? t ? this.end.isTouching(e.start) : this.end.isEqual(e.start) : t ? e.end.isTouching(this.start) : e.end.isEqual(this.start)), !n) return null;
              var i = this.start,
                  o = this.end;
              return e.start.isBefore(i) && (i = e.start), e.end.isAfter(o) && (o = e.end), new yc(i, o);
            }
          }, {
            key: "getMinimalFlatRanges",
            value: function getMinimalFlatRanges() {
              var e = [],
                  t = this.start.getCommonPath(this.end).length,
                  n = wc._createAt(this.start);

              var i = n.parent;

              for (; n.path.length > t + 1;) {
                var _t85 = i.maxOffset - n.offset;

                0 !== _t85 && e.push(new yc(n, n.getShiftedBy(_t85))), n.path = n.path.slice(0, -1), n.offset++, i = i.parent;
              }

              for (; n.path.length <= this.end.path.length;) {
                var _t86 = this.end.path[n.path.length - 1],
                    _i61 = _t86 - n.offset;

                0 !== _i61 && e.push(new yc(n, n.getShiftedBy(_i61))), n.offset = _t86, n.path.push(0);
              }

              return e;
            }
          }, {
            key: "getWalker",
            value: function getWalker() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
              return e.boundaries = this, new kc(e);
            }
          }, {
            key: "getItems",
            value: /*#__PURE__*/regeneratorRuntime.mark(function getItems() {
              var e,
                  t,
                  _iterator116,
                  _step116,
                  _e83,
                  _args14 = arguments;

              return regeneratorRuntime.wrap(function getItems$(_context14) {
                while (1) {
                  switch (_context14.prev = _context14.next) {
                    case 0:
                      e = _args14.length > 0 && _args14[0] !== undefined ? _args14[0] : {};
                      e.boundaries = this, e.ignoreElementEnd = !0;
                      t = new kc(e);
                      _iterator116 = _createForOfIteratorHelper(t);
                      _context14.prev = 4;

                      _iterator116.s();

                    case 6:
                      if ((_step116 = _iterator116.n()).done) {
                        _context14.next = 12;
                        break;
                      }

                      _e83 = _step116.value;
                      _context14.next = 10;
                      return _e83.item;

                    case 10:
                      _context14.next = 6;
                      break;

                    case 12:
                      _context14.next = 17;
                      break;

                    case 14:
                      _context14.prev = 14;
                      _context14.t0 = _context14["catch"](4);

                      _iterator116.e(_context14.t0);

                    case 17:
                      _context14.prev = 17;

                      _iterator116.f();

                      return _context14.finish(17);

                    case 20:
                    case "end":
                      return _context14.stop();
                  }
                }
              }, getItems, this, [[4, 14, 17, 20]]);
            })
          }, {
            key: "getPositions",
            value: /*#__PURE__*/regeneratorRuntime.mark(function getPositions() {
              var e,
                  t,
                  _iterator117,
                  _step117,
                  _e84,
                  _args15 = arguments;

              return regeneratorRuntime.wrap(function getPositions$(_context15) {
                while (1) {
                  switch (_context15.prev = _context15.next) {
                    case 0:
                      e = _args15.length > 0 && _args15[0] !== undefined ? _args15[0] : {};
                      e.boundaries = this;
                      t = new kc(e);
                      _context15.next = 5;
                      return t.position;

                    case 5:
                      _iterator117 = _createForOfIteratorHelper(t);
                      _context15.prev = 6;

                      _iterator117.s();

                    case 8:
                      if ((_step117 = _iterator117.n()).done) {
                        _context15.next = 14;
                        break;
                      }

                      _e84 = _step117.value;
                      _context15.next = 12;
                      return _e84.nextPosition;

                    case 12:
                      _context15.next = 8;
                      break;

                    case 14:
                      _context15.next = 19;
                      break;

                    case 16:
                      _context15.prev = 16;
                      _context15.t0 = _context15["catch"](6);

                      _iterator117.e(_context15.t0);

                    case 19:
                      _context15.prev = 19;

                      _iterator117.f();

                      return _context15.finish(19);

                    case 22:
                    case "end":
                      return _context15.stop();
                  }
                }
              }, getPositions, this, [[6, 16, 19, 22]]);
            })
          }, {
            key: "getTransformedByOperation",
            value: function getTransformedByOperation(e) {
              switch (e.type) {
                case "insert":
                  return this._getTransformedByInsertOperation(e);

                case "move":
                case "remove":
                case "reinsert":
                  return this._getTransformedByMoveOperation(e);

                case "split":
                  return [this._getTransformedBySplitOperation(e)];

                case "merge":
                  return [this._getTransformedByMergeOperation(e)];
              }

              return [new yc(this.start, this.end)];
            }
          }, {
            key: "getTransformedByOperations",
            value: function getTransformedByOperations(e) {
              var t = [new yc(this.start, this.end)];

              var _iterator118 = _createForOfIteratorHelper(e),
                  _step118;

              try {
                for (_iterator118.s(); !(_step118 = _iterator118.n()).done;) {
                  var _n88 = _step118.value;

                  for (var _e87 = 0; _e87 < t.length; _e87++) {
                    var _i63 = t[_e87].getTransformedByOperation(_n88);

                    t.splice.apply(t, [_e87, 1].concat(_toConsumableArray(_i63))), _e87 += _i63.length - 1;
                  }
                }
              } catch (err) {
                _iterator118.e(err);
              } finally {
                _iterator118.f();
              }

              for (var _e85 = 0; _e85 < t.length; _e85++) {
                var _n87 = t[_e85];

                for (var _i62 = _e85 + 1; _i62 < t.length; _i62++) {
                  var _e86 = t[_i62];
                  (_n87.containsRange(_e86) || _e86.containsRange(_n87) || _n87.isEqual(_e86)) && t.splice(_i62, 1);
                }
              }

              return t;
            }
          }, {
            key: "getCommonAncestor",
            value: function getCommonAncestor() {
              return this.start.getCommonAncestor(this.end);
            }
          }, {
            key: "getContainedElement",
            value: function getContainedElement() {
              if (this.isCollapsed) return null;
              var e = this.start.nodeAfter,
                  t = this.end.nodeBefore;
              return e && e.is("element") && e === t ? e : null;
            }
          }, {
            key: "toJSON",
            value: function toJSON() {
              return {
                start: this.start.toJSON(),
                end: this.end.toJSON()
              };
            }
          }, {
            key: "clone",
            value: function clone() {
              return new this.constructor(this.start, this.end);
            }
          }, {
            key: "_getTransformedByInsertOperation",
            value: function _getTransformedByInsertOperation(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;
              return this._getTransformedByInsertion(e.position, e.howMany, t);
            }
          }, {
            key: "_getTransformedByMoveOperation",
            value: function _getTransformedByMoveOperation(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;
              var n = e.sourcePosition,
                  i = e.howMany,
                  o = e.targetPosition;
              return this._getTransformedByMove(n, o, i, t);
            }
          }, {
            key: "_getTransformedBySplitOperation",
            value: function _getTransformedBySplitOperation(e) {
              var t = this.start._getTransformedBySplitOperation(e);

              var n = this.end._getTransformedBySplitOperation(e);

              return this.end.isEqual(e.insertionPosition) && (n = this.end.getShiftedBy(1)), t.root != n.root && (n = this.end.getShiftedBy(-1)), new yc(t, n);
            }
          }, {
            key: "_getTransformedByMergeOperation",
            value: function _getTransformedByMergeOperation(e) {
              if (this.start.isEqual(e.targetPosition) && this.end.isEqual(e.deletionPosition)) return new yc(this.start);

              var t = this.start._getTransformedByMergeOperation(e),
                  n = this.end._getTransformedByMergeOperation(e);

              return t.root != n.root && (n = this.end.getShiftedBy(-1)), t.isAfter(n) ? (e.sourcePosition.isBefore(e.targetPosition) ? (t = wc._createAt(n)).offset = 0 : (e.deletionPosition.isEqual(t) || (n = e.deletionPosition), t = e.targetPosition), new yc(t, n)) : new yc(t, n);
            }
          }, {
            key: "_getTransformedByInsertion",
            value: function _getTransformedByInsertion(e, t) {
              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;
              if (n && this.containsPosition(e)) return [new yc(this.start, e), new yc(e.getShiftedBy(t), this.end._getTransformedByInsertion(e, t))];
              {
                var _n89 = new yc(this.start, this.end);

                return _n89.start = _n89.start._getTransformedByInsertion(e, t), _n89.end = _n89.end._getTransformedByInsertion(e, t), [_n89];
              }
            }
          }, {
            key: "_getTransformedByMove",
            value: function _getTransformedByMove(e, t, n) {
              var i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;

              if (this.isCollapsed) {
                var _i64 = this.start._getTransformedByMove(e, t, n);

                return [new yc(_i64)];
              }

              var o = yc._createFromPositionAndShift(e, n),
                  r = t._getTransformedByDeletion(e, n);

              if (this.containsPosition(t) && !i && (o.containsPosition(this.start) || o.containsPosition(this.end))) {
                var _i65 = this.start._getTransformedByMove(e, t, n),
                    _o31 = this.end._getTransformedByMove(e, t, n);

                return [new yc(_i65, _o31)];
              }

              var s;
              var a = this.getDifference(o);
              var c = null;
              var l = this.getIntersection(o);

              if (1 == a.length ? c = new yc(a[0].start._getTransformedByDeletion(e, n), a[0].end._getTransformedByDeletion(e, n)) : 2 == a.length && (c = new yc(this.start, this.end._getTransformedByDeletion(e, n))), s = c ? c._getTransformedByInsertion(r, n, null !== l || i) : [], l) {
                var _e88 = new yc(l.start._getCombined(o.start, r), l.end._getCombined(o.start, r));

                2 == s.length ? s.splice(1, 0, _e88) : s.push(_e88);
              }

              return s;
            }
          }, {
            key: "_getTransformedByDeletion",
            value: function _getTransformedByDeletion(e, t) {
              var n = this.start._getTransformedByDeletion(e, t),
                  i = this.end._getTransformedByDeletion(e, t);

              return null == n && null == i ? null : (null == n && (n = e), null == i && (i = e), new yc(n, i));
            }
          }], [{
            key: "_createFromPositionAndShift",
            value: function _createFromPositionAndShift(e, t) {
              var n = e,
                  i = e.getShiftedBy(t);
              return t > 0 ? new this(n, i) : new this(i, n);
            }
          }, {
            key: "_createIn",
            value: function _createIn(e) {
              return new this(wc._createAt(e, 0), wc._createAt(e, e.maxOffset));
            }
          }, {
            key: "_createOn",
            value: function _createOn(e) {
              return this._createFromPositionAndShift(wc._createBefore(e), e.offsetSize);
            }
          }, {
            key: "_createFromRanges",
            value: function _createFromRanges(e) {
              if (0 === e.length) throw new c.a("range-create-from-ranges-empty-array", null);
              if (1 == e.length) return e[0].clone();
              var t = e[0];
              e.sort(function (e, t) {
                return e.start.isAfter(t.start) ? 1 : -1;
              });
              var n = e.indexOf(t),
                  i = new this(t.start, t.end);
              if (n > 0) for (var _t87 = n - 1; e[_t87].end.isEqual(i.start); _t87++) {
                i.start = wc._createAt(e[_t87].start);
              }

              for (var _t88 = n + 1; _t88 < e.length && e[_t88].start.isEqual(i.end); _t88++) {
                i.end = wc._createAt(e[_t88].end);
              }

              return i;
            }
          }, {
            key: "fromJSON",
            value: function fromJSON(e, t) {
              return new this(wc.fromJSON(e.start, t), wc.fromJSON(e.end, t));
            }
          }]);

          return yc;
        }(Symbol.iterator);

        var Cc = /*#__PURE__*/function () {
          function Cc() {
            var _this50 = this;

            _classCallCheck(this, Cc);

            this._modelToViewMapping = new WeakMap(), this._viewToModelMapping = new WeakMap(), this._viewToModelLengthCallbacks = new Map(), this._markerNameToElements = new Map(), this._elementToMarkerNames = new Map(), this._unboundMarkerNames = new Set(), this.on("modelToViewPosition", function (e, t) {
              if (t.viewPosition) return;

              var n = _this50._modelToViewMapping.get(t.modelPosition.parent);

              t.viewPosition = _this50.findPositionIn(n, t.modelPosition.offset);
            }, {
              priority: "low"
            }), this.on("viewToModelPosition", function (e, t) {
              if (t.modelPosition) return;

              var n = _this50.findMappedViewAncestor(t.viewPosition),
                  i = _this50._viewToModelMapping.get(n),
                  o = _this50._toModelOffset(t.viewPosition.parent, t.viewPosition.offset, n);

              t.modelPosition = wc._createAt(i, o);
            }, {
              priority: "low"
            });
          }

          _createClass(Cc, [{
            key: "bindElements",
            value: function bindElements(e, t) {
              this._modelToViewMapping.set(e, t), this._viewToModelMapping.set(t, e);
            }
          }, {
            key: "unbindViewElement",
            value: function unbindViewElement(e) {
              var t = this.toModelElement(e);

              if (this._viewToModelMapping["delete"](e), this._elementToMarkerNames.has(e)) {
                var _iterator119 = _createForOfIteratorHelper(this._elementToMarkerNames.get(e)),
                    _step119;

                try {
                  for (_iterator119.s(); !(_step119 = _iterator119.n()).done;) {
                    var _t89 = _step119.value;

                    this._unboundMarkerNames.add(_t89);
                  }
                } catch (err) {
                  _iterator119.e(err);
                } finally {
                  _iterator119.f();
                }
              }

              this._modelToViewMapping.get(t) == e && this._modelToViewMapping["delete"](t);
            }
          }, {
            key: "unbindModelElement",
            value: function unbindModelElement(e) {
              var t = this.toViewElement(e);
              this._modelToViewMapping["delete"](e), this._viewToModelMapping.get(t) == e && this._viewToModelMapping["delete"](t);
            }
          }, {
            key: "bindElementToMarker",
            value: function bindElementToMarker(e, t) {
              var n = this._markerNameToElements.get(t) || new Set();
              n.add(e);
              var i = this._elementToMarkerNames.get(e) || new Set();
              i.add(t), this._markerNameToElements.set(t, n), this._elementToMarkerNames.set(e, i);
            }
          }, {
            key: "unbindElementFromMarkerName",
            value: function unbindElementFromMarkerName(e, t) {
              var n = this._markerNameToElements.get(t);

              n && (n["delete"](e), 0 == n.size && this._markerNameToElements["delete"](t));

              var i = this._elementToMarkerNames.get(e);

              i && (i["delete"](t), 0 == i.size && this._elementToMarkerNames["delete"](e));
            }
          }, {
            key: "flushUnboundMarkerNames",
            value: function flushUnboundMarkerNames() {
              var e = Array.from(this._unboundMarkerNames);
              return this._unboundMarkerNames.clear(), e;
            }
          }, {
            key: "clearBindings",
            value: function clearBindings() {
              this._modelToViewMapping = new WeakMap(), this._viewToModelMapping = new WeakMap(), this._markerNameToElements = new Map(), this._elementToMarkerNames = new Map(), this._unboundMarkerNames = new Set();
            }
          }, {
            key: "toModelElement",
            value: function toModelElement(e) {
              return this._viewToModelMapping.get(e);
            }
          }, {
            key: "toViewElement",
            value: function toViewElement(e) {
              return this._modelToViewMapping.get(e);
            }
          }, {
            key: "toModelRange",
            value: function toModelRange(e) {
              return new yc(this.toModelPosition(e.start), this.toModelPosition(e.end));
            }
          }, {
            key: "toViewRange",
            value: function toViewRange(e) {
              return new rr(this.toViewPosition(e.start), this.toViewPosition(e.end));
            }
          }, {
            key: "toModelPosition",
            value: function toModelPosition(e) {
              var t = {
                viewPosition: e,
                mapper: this
              };
              return this.fire("viewToModelPosition", t), t.modelPosition;
            }
          }, {
            key: "toViewPosition",
            value: function toViewPosition(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
                isPhantom: !1
              };
              var n = {
                modelPosition: e,
                mapper: this,
                isPhantom: t.isPhantom
              };
              return this.fire("modelToViewPosition", n), n.viewPosition;
            }
          }, {
            key: "markerNameToElements",
            value: function markerNameToElements(e) {
              var t = this._markerNameToElements.get(e);

              if (!t) return null;
              var n = new Set();

              var _iterator120 = _createForOfIteratorHelper(t),
                  _step120;

              try {
                for (_iterator120.s(); !(_step120 = _iterator120.n()).done;) {
                  var _e89 = _step120.value;

                  if (_e89.is("attributeElement")) {
                    var _iterator121 = _createForOfIteratorHelper(_e89.getElementsWithSameId()),
                        _step121;

                    try {
                      for (_iterator121.s(); !(_step121 = _iterator121.n()).done;) {
                        var _t90 = _step121.value;
                        n.add(_t90);
                      }
                    } catch (err) {
                      _iterator121.e(err);
                    } finally {
                      _iterator121.f();
                    }
                  } else n.add(_e89);
                }
              } catch (err) {
                _iterator120.e(err);
              } finally {
                _iterator120.f();
              }

              return n;
            }
          }, {
            key: "registerViewToModelLength",
            value: function registerViewToModelLength(e, t) {
              this._viewToModelLengthCallbacks.set(e, t);
            }
          }, {
            key: "findMappedViewAncestor",
            value: function findMappedViewAncestor(e) {
              var t = e.parent;

              for (; !this._viewToModelMapping.has(t);) {
                t = t.parent;
              }

              return t;
            }
          }, {
            key: "_toModelOffset",
            value: function _toModelOffset(e, t, n) {
              if (n != e) {
                return this._toModelOffset(e.parent, e.index, n) + this._toModelOffset(e, t, e);
              }

              if (e.is("$text")) return t;
              var i = 0;

              for (var _n90 = 0; _n90 < t; _n90++) {
                i += this.getModelLength(e.getChild(_n90));
              }

              return i;
            }
          }, {
            key: "getModelLength",
            value: function getModelLength(e) {
              if (this._viewToModelLengthCallbacks.get(e.name)) {
                return this._viewToModelLengthCallbacks.get(e.name)(e);
              }

              if (this._viewToModelMapping.has(e)) return 1;
              if (e.is("$text")) return e.data.length;
              if (e.is("uiElement")) return 0;
              {
                var _t91 = 0;

                var _iterator122 = _createForOfIteratorHelper(e.getChildren()),
                    _step122;

                try {
                  for (_iterator122.s(); !(_step122 = _iterator122.n()).done;) {
                    var _n91 = _step122.value;
                    _t91 += this.getModelLength(_n91);
                  }
                } catch (err) {
                  _iterator122.e(err);
                } finally {
                  _iterator122.f();
                }

                return _t91;
              }
            }
          }, {
            key: "findPositionIn",
            value: function findPositionIn(e, t) {
              var n,
                  i = 0,
                  o = 0,
                  r = 0;
              if (e.is("$text")) return new or(e, t);

              for (; o < t;) {
                n = e.getChild(r), o += i = this.getModelLength(n), r++;
              }

              return o == t ? this._moveViewPositionToTextNode(new or(e, r)) : this.findPositionIn(n, t - (o - i));
            }
          }, {
            key: "_moveViewPositionToTextNode",
            value: function _moveViewPositionToTextNode(e) {
              var t = e.nodeBefore,
                  n = e.nodeAfter;
              return t instanceof to ? new or(t, t.data.length) : n instanceof to ? new or(n, 0) : e;
            }
          }]);

          return Cc;
        }();

        rt(Cc, u);

        var Tc = /*#__PURE__*/function () {
          function Tc() {
            _classCallCheck(this, Tc);

            this._consumable = new Map(), this._textProxyRegistry = new Map();
          }

          _createClass(Tc, [{
            key: "add",
            value: function add(e, t) {
              t = Ac(t), e instanceof mc && (e = this._getSymbolForTextProxy(e)), this._consumable.has(e) || this._consumable.set(e, new Map()), this._consumable.get(e).set(t, !0);
            }
          }, {
            key: "consume",
            value: function consume(e, t) {
              return t = Ac(t), e instanceof mc && (e = this._getSymbolForTextProxy(e)), !!this.test(e, t) && (this._consumable.get(e).set(t, !1), !0);
            }
          }, {
            key: "test",
            value: function test(e, t) {
              t = Ac(t), e instanceof mc && (e = this._getSymbolForTextProxy(e));

              var n = this._consumable.get(e);

              if (void 0 === n) return null;
              var i = n.get(t);
              return void 0 === i ? null : i;
            }
          }, {
            key: "revert",
            value: function revert(e, t) {
              t = Ac(t), e instanceof mc && (e = this._getSymbolForTextProxy(e));
              var n = this.test(e, t);
              return !1 === n ? (this._consumable.get(e).set(t, !0), !0) : !0 !== n && null;
            }
          }, {
            key: "_getSymbolForTextProxy",
            value: function _getSymbolForTextProxy(e) {
              var t = null;

              var n = this._textProxyRegistry.get(e.startOffset);

              if (n) {
                var _i66 = n.get(e.endOffset);

                _i66 && (t = _i66.get(e.parent));
              }

              return t || (t = this._addSymbolForTextProxy(e.startOffset, e.endOffset, e.parent)), t;
            }
          }, {
            key: "_addSymbolForTextProxy",
            value: function _addSymbolForTextProxy(e, t, n) {
              var i = Symbol("textProxySymbol");
              var o, r;
              return (o = this._textProxyRegistry.get(e)) || (o = new Map(), this._textProxyRegistry.set(e, o)), (r = o.get(t)) || (r = new Map(), o.set(t, r)), r.set(n, i), i;
            }
          }]);

          return Tc;
        }();

        function Ac(e) {
          var t = e.split(":");
          return "addMarker" == t[0] || "removeMarker" == t[0] ? e : t.length > 1 ? t[0] + ":" + t[1] : t[0];
        }

        var Ec = /*#__PURE__*/function () {
          function Ec(e) {
            _classCallCheck(this, Ec);

            this.conversionApi = Object.assign({
              dispatcher: this
            }, e), this._reconversionEventsMapping = new Map();
          }

          _createClass(Ec, [{
            key: "convertChanges",
            value: function convertChanges(e, t, n) {
              var _iterator123 = _createForOfIteratorHelper(e.getMarkersToRemove()),
                  _step123;

              try {
                for (_iterator123.s(); !(_step123 = _iterator123.n()).done;) {
                  var _t92 = _step123.value;
                  this.convertMarkerRemove(_t92.name, _t92.range, n);
                }
              } catch (err) {
                _iterator123.e(err);
              } finally {
                _iterator123.f();
              }

              var i = this._mapChangesWithAutomaticReconversion(e);

              var _iterator124 = _createForOfIteratorHelper(i),
                  _step124;

              try {
                for (_iterator124.s(); !(_step124 = _iterator124.n()).done;) {
                  var _e90 = _step124.value;
                  "insert" === _e90.type ? this.convertInsert(yc._createFromPositionAndShift(_e90.position, _e90.length), n) : "remove" === _e90.type ? this.convertRemove(_e90.position, _e90.length, _e90.name, n) : "reconvert" === _e90.type ? this.reconvertElement(_e90.element, n) : this.convertAttribute(_e90.range, _e90.attributeKey, _e90.attributeOldValue, _e90.attributeNewValue, n);
                }
              } catch (err) {
                _iterator124.e(err);
              } finally {
                _iterator124.f();
              }

              var _iterator125 = _createForOfIteratorHelper(this.conversionApi.mapper.flushUnboundMarkerNames()),
                  _step125;

              try {
                for (_iterator125.s(); !(_step125 = _iterator125.n()).done;) {
                  var _e91 = _step125.value;

                  var _i67 = t.get(_e91).getRange();

                  this.convertMarkerRemove(_e91, _i67, n), this.convertMarkerAdd(_e91, _i67, n);
                }
              } catch (err) {
                _iterator125.e(err);
              } finally {
                _iterator125.f();
              }

              var _iterator126 = _createForOfIteratorHelper(e.getMarkersToAdd()),
                  _step126;

              try {
                for (_iterator126.s(); !(_step126 = _iterator126.n()).done;) {
                  var _t93 = _step126.value;
                  this.convertMarkerAdd(_t93.name, _t93.range, n);
                }
              } catch (err) {
                _iterator126.e(err);
              } finally {
                _iterator126.f();
              }
            }
          }, {
            key: "convertInsert",
            value: function convertInsert(e, t) {
              this.conversionApi.writer = t, this.conversionApi.consumable = this._createInsertConsumable(e);

              var _iterator127 = _createForOfIteratorHelper(Array.from(e).map(Sc)),
                  _step127;

              try {
                for (_iterator127.s(); !(_step127 = _iterator127.n()).done;) {
                  var _t94 = _step127.value;

                  this._convertInsertWithAttributes(_t94);
                }
              } catch (err) {
                _iterator127.e(err);
              } finally {
                _iterator127.f();
              }

              this._clearConversionApi();
            }
          }, {
            key: "convertRemove",
            value: function convertRemove(e, t, n, i) {
              this.conversionApi.writer = i, this.fire("remove:" + n, {
                position: e,
                length: t
              }, this.conversionApi), this._clearConversionApi();
            }
          }, {
            key: "convertAttribute",
            value: function convertAttribute(e, t, n, i, o) {
              this.conversionApi.writer = o, this.conversionApi.consumable = this._createConsumableForRange(e, "attribute:".concat(t));

              var _iterator128 = _createForOfIteratorHelper(e),
                  _step128;

              try {
                for (_iterator128.s(); !(_step128 = _iterator128.n()).done;) {
                  var _o32 = _step128.value;
                  var _e92 = {
                    item: _o32.item,
                    range: yc._createFromPositionAndShift(_o32.previousPosition, _o32.length),
                    attributeKey: t,
                    attributeOldValue: n,
                    attributeNewValue: i
                  };

                  this._testAndFire("attribute:".concat(t), _e92);
                }
              } catch (err) {
                _iterator128.e(err);
              } finally {
                _iterator128.f();
              }

              this._clearConversionApi();
            }
          }, {
            key: "reconvertElement",
            value: function reconvertElement(e, t) {
              var n = yc._createOn(e);

              this.conversionApi.writer = t, this.conversionApi.consumable = this._createInsertConsumable(n);
              var i = this.conversionApi.mapper,
                  o = i.toViewElement(e);
              t.remove(o), this._convertInsertWithAttributes({
                item: e,
                range: n
              });
              var r = i.toViewElement(e);

              var _iterator129 = _createForOfIteratorHelper(yc._createIn(e)),
                  _step129;

              try {
                for (_iterator129.s(); !(_step129 = _iterator129.n()).done;) {
                  var _n92 = _step129.value;

                  var _e93 = _n92.item,
                      _o33 = Mc(_e93, i);

                  _o33 ? _o33.root !== r.root && t.move(t.createRangeOn(_o33), i.toViewPosition(wc._createBefore(_e93))) : this._convertInsertWithAttributes(Sc(_n92));
                }
              } catch (err) {
                _iterator129.e(err);
              } finally {
                _iterator129.f();
              }

              i.unbindViewElement(o), this._clearConversionApi();
            }
          }, {
            key: "convertSelection",
            value: function convertSelection(e, t, n) {
              var i = Array.from(t.getMarkersAtPosition(e.getFirstPosition()));

              if (this.conversionApi.writer = n, this.conversionApi.consumable = this._createSelectionConsumable(e, i), this.fire("selection", {
                selection: e
              }, this.conversionApi), e.isCollapsed) {
                var _iterator130 = _createForOfIteratorHelper(i),
                    _step130;

                try {
                  for (_iterator130.s(); !(_step130 = _iterator130.n()).done;) {
                    var _t95 = _step130.value;

                    var _n93 = _t95.getRange();

                    if (!Ic(e.getFirstPosition(), _t95, this.conversionApi.mapper)) continue;
                    var _i68 = {
                      item: e,
                      markerName: _t95.name,
                      markerRange: _n93
                    };
                    this.conversionApi.consumable.test(e, "addMarker:" + _t95.name) && this.fire("addMarker:" + _t95.name, _i68, this.conversionApi);
                  }
                } catch (err) {
                  _iterator130.e(err);
                } finally {
                  _iterator130.f();
                }

                var _iterator131 = _createForOfIteratorHelper(e.getAttributeKeys()),
                    _step131;

                try {
                  for (_iterator131.s(); !(_step131 = _iterator131.n()).done;) {
                    var _t96 = _step131.value;
                    var _n94 = {
                      item: e,
                      range: e.getFirstRange(),
                      attributeKey: _t96,
                      attributeOldValue: null,
                      attributeNewValue: e.getAttribute(_t96)
                    };
                    this.conversionApi.consumable.test(e, "attribute:" + _n94.attributeKey) && this.fire("attribute:" + _n94.attributeKey + ":$text", _n94, this.conversionApi);
                  }
                } catch (err) {
                  _iterator131.e(err);
                } finally {
                  _iterator131.f();
                }

                this._clearConversionApi();
              } else this._clearConversionApi();
            }
          }, {
            key: "convertMarkerAdd",
            value: function convertMarkerAdd(e, t, n) {
              if ("$graveyard" == t.root.rootName) return;
              this.conversionApi.writer = n;
              var i = "addMarker:" + e,
                  o = new Tc();

              if (o.add(t, i), this.conversionApi.consumable = o, this.fire(i, {
                markerName: e,
                markerRange: t
              }, this.conversionApi), o.test(t, i)) {
                this.conversionApi.consumable = this._createConsumableForRange(t, i);

                var _iterator132 = _createForOfIteratorHelper(t.getItems()),
                    _step132;

                try {
                  for (_iterator132.s(); !(_step132 = _iterator132.n()).done;) {
                    var _n95 = _step132.value;
                    if (!this.conversionApi.consumable.test(_n95, i)) continue;
                    var _o34 = {
                      item: _n95,
                      range: yc._createOn(_n95),
                      markerName: e,
                      markerRange: t
                    };
                    this.fire(i, _o34, this.conversionApi);
                  }
                } catch (err) {
                  _iterator132.e(err);
                } finally {
                  _iterator132.f();
                }

                this._clearConversionApi();
              } else this._clearConversionApi();
            }
          }, {
            key: "convertMarkerRemove",
            value: function convertMarkerRemove(e, t, n) {
              "$graveyard" != t.root.rootName && (this.conversionApi.writer = n, this.fire("removeMarker:" + e, {
                markerName: e,
                markerRange: t
              }, this.conversionApi), this._clearConversionApi());
            }
          }, {
            key: "_mapReconversionTriggerEvent",
            value: function _mapReconversionTriggerEvent(e, t) {
              this._reconversionEventsMapping.set(t, e);
            }
          }, {
            key: "_createInsertConsumable",
            value: function _createInsertConsumable(e) {
              var t = new Tc();

              var _iterator133 = _createForOfIteratorHelper(e),
                  _step133;

              try {
                for (_iterator133.s(); !(_step133 = _iterator133.n()).done;) {
                  var _n96 = _step133.value;
                  var _e94 = _n96.item;
                  t.add(_e94, "insert");

                  var _iterator134 = _createForOfIteratorHelper(_e94.getAttributeKeys()),
                      _step134;

                  try {
                    for (_iterator134.s(); !(_step134 = _iterator134.n()).done;) {
                      var _n97 = _step134.value;
                      t.add(_e94, "attribute:" + _n97);
                    }
                  } catch (err) {
                    _iterator134.e(err);
                  } finally {
                    _iterator134.f();
                  }
                }
              } catch (err) {
                _iterator133.e(err);
              } finally {
                _iterator133.f();
              }

              return t;
            }
          }, {
            key: "_createConsumableForRange",
            value: function _createConsumableForRange(e, t) {
              var n = new Tc();

              var _iterator135 = _createForOfIteratorHelper(e.getItems()),
                  _step135;

              try {
                for (_iterator135.s(); !(_step135 = _iterator135.n()).done;) {
                  var _i69 = _step135.value;
                  n.add(_i69, t);
                }
              } catch (err) {
                _iterator135.e(err);
              } finally {
                _iterator135.f();
              }

              return n;
            }
          }, {
            key: "_createSelectionConsumable",
            value: function _createSelectionConsumable(e, t) {
              var n = new Tc();
              n.add(e, "selection");

              var _iterator136 = _createForOfIteratorHelper(t),
                  _step136;

              try {
                for (_iterator136.s(); !(_step136 = _iterator136.n()).done;) {
                  var _i70 = _step136.value;
                  n.add(e, "addMarker:" + _i70.name);
                }
              } catch (err) {
                _iterator136.e(err);
              } finally {
                _iterator136.f();
              }

              var _iterator137 = _createForOfIteratorHelper(e.getAttributeKeys()),
                  _step137;

              try {
                for (_iterator137.s(); !(_step137 = _iterator137.n()).done;) {
                  var _t97 = _step137.value;
                  n.add(e, "attribute:" + _t97);
                }
              } catch (err) {
                _iterator137.e(err);
              } finally {
                _iterator137.f();
              }

              return n;
            }
          }, {
            key: "_testAndFire",
            value: function _testAndFire(e, t) {
              this.conversionApi.consumable.test(t.item, e) && this.fire(function (e, t) {
                var n = t.item.name || "$text";
                return "".concat(e, ":").concat(n);
              }(e, t), t, this.conversionApi);
            }
          }, {
            key: "_clearConversionApi",
            value: function _clearConversionApi() {
              delete this.conversionApi.writer, delete this.conversionApi.consumable;
            }
          }, {
            key: "_convertInsertWithAttributes",
            value: function _convertInsertWithAttributes(e) {
              this._testAndFire("insert", e);

              var _iterator138 = _createForOfIteratorHelper(e.item.getAttributeKeys()),
                  _step138;

              try {
                for (_iterator138.s(); !(_step138 = _iterator138.n()).done;) {
                  var _t98 = _step138.value;
                  e.attributeKey = _t98, e.attributeOldValue = null, e.attributeNewValue = e.item.getAttribute(_t98), this._testAndFire("attribute:".concat(_t98), e);
                }
              } catch (err) {
                _iterator138.e(err);
              } finally {
                _iterator138.f();
              }
            }
          }, {
            key: "_mapChangesWithAutomaticReconversion",
            value: function _mapChangesWithAutomaticReconversion(e) {
              var t = new Set(),
                  n = [];

              var _iterator139 = _createForOfIteratorHelper(e.getChanges()),
                  _step139;

              try {
                for (_iterator139.s(); !(_step139 = _iterator139.n()).done;) {
                  var _i71 = _step139.value;

                  var _e95 = _i71.position || _i71.range.start,
                      _o35 = _e95.parent;

                  if (_c(_e95, _o35)) {
                    n.push(_i71);
                    continue;
                  }

                  var _r18 = "attribute" === _i71.type ? vc(_e95, _o35, null) : _o35;

                  if (_r18.is("$text")) {
                    n.push(_i71);
                    continue;
                  }

                  var _s14 = void 0;

                  if (_s14 = "attribute" === _i71.type ? "attribute:".concat(_i71.attributeKey, ":").concat(_r18.name) : "".concat(_i71.type, ":").concat(_i71.name), this._isReconvertTriggerEvent(_s14, _r18.name)) {
                    if (t.has(_r18)) continue;
                    t.add(_r18), n.push({
                      type: "reconvert",
                      element: _r18
                    });
                  } else n.push(_i71);
                }
              } catch (err) {
                _iterator139.e(err);
              } finally {
                _iterator139.f();
              }

              return n;
            }
          }, {
            key: "_isReconvertTriggerEvent",
            value: function _isReconvertTriggerEvent(e, t) {
              return this._reconversionEventsMapping.get(e) === t;
            }
          }]);

          return Ec;
        }();

        function Ic(e, t, n) {
          var i = t.getRange(),
              o = Array.from(e.getAncestors());
          return o.shift(), o.reverse(), !o.some(function (e) {
            if (i.containsItem(e)) {
              return !!n.toViewElement(e).getCustomProperty("addHighlight");
            }
          });
        }

        function Sc(e) {
          return {
            item: e.item,
            range: yc._createFromPositionAndShift(e.previousPosition, e.length)
          };
        }

        function Mc(e, t) {
          if (e.is("textProxy")) {
            var _n98 = t.toViewPosition(wc._createBefore(e)).parent;
            return _n98.is("$text") ? _n98 : null;
          }

          return t.toViewElement(e);
        }

        rt(Ec, u);

        var Pc = /*#__PURE__*/function () {
          function Pc(e, t, n) {
            _classCallCheck(this, Pc);

            this._lastRangeBackward = !1, this._ranges = [], this._attrs = new Map(), e && this.setTo(e, t, n);
          }

          _createClass(Pc, [{
            key: "anchor",
            get: function get() {
              if (this._ranges.length > 0) {
                var _e96 = this._ranges[this._ranges.length - 1];
                return this._lastRangeBackward ? _e96.end : _e96.start;
              }

              return null;
            }
          }, {
            key: "focus",
            get: function get() {
              if (this._ranges.length > 0) {
                var _e97 = this._ranges[this._ranges.length - 1];
                return this._lastRangeBackward ? _e97.start : _e97.end;
              }

              return null;
            }
          }, {
            key: "isCollapsed",
            get: function get() {
              return 1 === this._ranges.length && this._ranges[0].isCollapsed;
            }
          }, {
            key: "rangeCount",
            get: function get() {
              return this._ranges.length;
            }
          }, {
            key: "isBackward",
            get: function get() {
              return !this.isCollapsed && this._lastRangeBackward;
            }
          }, {
            key: "isEqual",
            value: function isEqual(e) {
              if (this.rangeCount != e.rangeCount) return !1;
              if (0 === this.rangeCount) return !0;
              if (!this.anchor.isEqual(e.anchor) || !this.focus.isEqual(e.focus)) return !1;

              var _iterator140 = _createForOfIteratorHelper(this._ranges),
                  _step140;

              try {
                for (_iterator140.s(); !(_step140 = _iterator140.n()).done;) {
                  var _t99 = _step140.value;

                  var _n99 = !1;

                  var _iterator141 = _createForOfIteratorHelper(e._ranges),
                      _step141;

                  try {
                    for (_iterator141.s(); !(_step141 = _iterator141.n()).done;) {
                      var _i72 = _step141.value;

                      if (_t99.isEqual(_i72)) {
                        _n99 = !0;
                        break;
                      }
                    }
                  } catch (err) {
                    _iterator141.e(err);
                  } finally {
                    _iterator141.f();
                  }

                  if (!_n99) return !1;
                }
              } catch (err) {
                _iterator140.e(err);
              } finally {
                _iterator140.f();
              }

              return !0;
            }
          }, {
            key: "getRanges",
            value: /*#__PURE__*/regeneratorRuntime.mark(function getRanges() {
              var _iterator142, _step142, _e98;

              return regeneratorRuntime.wrap(function getRanges$(_context16) {
                while (1) {
                  switch (_context16.prev = _context16.next) {
                    case 0:
                      _iterator142 = _createForOfIteratorHelper(this._ranges);
                      _context16.prev = 1;

                      _iterator142.s();

                    case 3:
                      if ((_step142 = _iterator142.n()).done) {
                        _context16.next = 9;
                        break;
                      }

                      _e98 = _step142.value;
                      _context16.next = 7;
                      return new yc(_e98.start, _e98.end);

                    case 7:
                      _context16.next = 3;
                      break;

                    case 9:
                      _context16.next = 14;
                      break;

                    case 11:
                      _context16.prev = 11;
                      _context16.t0 = _context16["catch"](1);

                      _iterator142.e(_context16.t0);

                    case 14:
                      _context16.prev = 14;

                      _iterator142.f();

                      return _context16.finish(14);

                    case 17:
                    case "end":
                      return _context16.stop();
                  }
                }
              }, getRanges, this, [[1, 11, 14, 17]]);
            })
          }, {
            key: "getFirstRange",
            value: function getFirstRange() {
              var e = null;

              var _iterator143 = _createForOfIteratorHelper(this._ranges),
                  _step143;

              try {
                for (_iterator143.s(); !(_step143 = _iterator143.n()).done;) {
                  var _t100 = _step143.value;
                  e && !_t100.start.isBefore(e.start) || (e = _t100);
                }
              } catch (err) {
                _iterator143.e(err);
              } finally {
                _iterator143.f();
              }

              return e ? new yc(e.start, e.end) : null;
            }
          }, {
            key: "getLastRange",
            value: function getLastRange() {
              var e = null;

              var _iterator144 = _createForOfIteratorHelper(this._ranges),
                  _step144;

              try {
                for (_iterator144.s(); !(_step144 = _iterator144.n()).done;) {
                  var _t101 = _step144.value;
                  e && !_t101.end.isAfter(e.end) || (e = _t101);
                }
              } catch (err) {
                _iterator144.e(err);
              } finally {
                _iterator144.f();
              }

              return e ? new yc(e.start, e.end) : null;
            }
          }, {
            key: "getFirstPosition",
            value: function getFirstPosition() {
              var e = this.getFirstRange();
              return e ? e.start.clone() : null;
            }
          }, {
            key: "getLastPosition",
            value: function getLastPosition() {
              var e = this.getLastRange();
              return e ? e.end.clone() : null;
            }
          }, {
            key: "setTo",
            value: function setTo(e, t, n) {
              if (null === e) this._setRanges([]);else if (e instanceof Pc) this._setRanges(e.getRanges(), e.isBackward);else if (e && "function" == typeof e.getRanges) this._setRanges(e.getRanges(), e.isBackward);else if (e instanceof yc) this._setRanges([e], !!t && !!t.backward);else if (e instanceof wc) this._setRanges([new yc(e)]);else if (e instanceof hc) {
                var _i73 = !!n && !!n.backward;

                var _o36;

                if ("in" == t) _o36 = yc._createIn(e);else if ("on" == t) _o36 = yc._createOn(e);else {
                  if (void 0 === t) throw new c.a("model-selection-setto-required-second-parameter", [this, e]);
                  _o36 = new yc(wc._createAt(e, t));
                }

                this._setRanges([_o36], _i73);
              } else {
                if (!ji(e)) throw new c.a("model-selection-setto-not-selectable", [this, e]);

                this._setRanges(e, t && !!t.backward);
              }
            }
          }, {
            key: "_setRanges",
            value: function _setRanges(e) {
              var _this51 = this;

              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;
              var n = (e = Array.from(e)).some(function (t) {
                if (!(t instanceof yc)) throw new c.a("model-selection-set-ranges-not-range", [_this51, e]);
                return _this51._ranges.every(function (e) {
                  return !e.isEqual(t);
                });
              });

              if (e.length !== this._ranges.length || n) {
                this._removeAllRanges();

                var _iterator145 = _createForOfIteratorHelper(e),
                    _step145;

                try {
                  for (_iterator145.s(); !(_step145 = _iterator145.n()).done;) {
                    var _t102 = _step145.value;

                    this._pushRange(_t102);
                  }
                } catch (err) {
                  _iterator145.e(err);
                } finally {
                  _iterator145.f();
                }

                this._lastRangeBackward = !!t, this.fire("change:range", {
                  directChange: !0
                });
              }
            }
          }, {
            key: "setFocus",
            value: function setFocus(e, t) {
              if (null === this.anchor) throw new c.a("model-selection-setfocus-no-ranges", [this, e]);

              var n = wc._createAt(e, t);

              if ("same" == n.compareWith(this.focus)) return;
              var i = this.anchor;
              this._ranges.length && this._popRange(), "before" == n.compareWith(i) ? (this._pushRange(new yc(n, i)), this._lastRangeBackward = !0) : (this._pushRange(new yc(i, n)), this._lastRangeBackward = !1), this.fire("change:range", {
                directChange: !0
              });
            }
          }, {
            key: "getAttribute",
            value: function getAttribute(e) {
              return this._attrs.get(e);
            }
          }, {
            key: "getAttributes",
            value: function getAttributes() {
              return this._attrs.entries();
            }
          }, {
            key: "getAttributeKeys",
            value: function getAttributeKeys() {
              return this._attrs.keys();
            }
          }, {
            key: "hasAttribute",
            value: function hasAttribute(e) {
              return this._attrs.has(e);
            }
          }, {
            key: "removeAttribute",
            value: function removeAttribute(e) {
              this.hasAttribute(e) && (this._attrs["delete"](e), this.fire("change:attribute", {
                attributeKeys: [e],
                directChange: !0
              }));
            }
          }, {
            key: "setAttribute",
            value: function setAttribute(e, t) {
              this.getAttribute(e) !== t && (this._attrs.set(e, t), this.fire("change:attribute", {
                attributeKeys: [e],
                directChange: !0
              }));
            }
          }, {
            key: "getSelectedElement",
            value: function getSelectedElement() {
              return 1 !== this.rangeCount ? null : this.getFirstRange().getContainedElement();
            }
          }, {
            key: "is",
            value: function is(e) {
              return "selection" === e || "model:selection" === e;
            }
          }, {
            key: "getSelectedBlocks",
            value: /*#__PURE__*/regeneratorRuntime.mark(function getSelectedBlocks() {
              var e, _iterator146, _step146, _t103, _n100, _iterator147, _step147, _n101, _i75, _i74;

              return regeneratorRuntime.wrap(function getSelectedBlocks$(_context17) {
                while (1) {
                  switch (_context17.prev = _context17.next) {
                    case 0:
                      e = new WeakSet();
                      _iterator146 = _createForOfIteratorHelper(this.getRanges());
                      _context17.prev = 2;

                      _iterator146.s();

                    case 4:
                      if ((_step146 = _iterator146.n()).done) {
                        _context17.next = 38;
                        break;
                      }

                      _t103 = _step146.value;
                      _n100 = Oc(_t103.start, e);
                      _context17.t0 = _n100 && Dc(_n100, _t103);

                      if (!_context17.t0) {
                        _context17.next = 11;
                        break;
                      }

                      _context17.next = 11;
                      return _n100;

                    case 11:
                      _iterator147 = _createForOfIteratorHelper(_t103.getWalker());
                      _context17.prev = 12;

                      _iterator147.s();

                    case 14:
                      if ((_step147 = _iterator147.n()).done) {
                        _context17.next = 23;
                        break;
                      }

                      _n101 = _step147.value;
                      _i75 = _n101.item;
                      _context17.t1 = "elementEnd" == _n101.type && Nc(_i75, e, _t103);

                      if (!_context17.t1) {
                        _context17.next = 21;
                        break;
                      }

                      _context17.next = 21;
                      return _i75;

                    case 21:
                      _context17.next = 14;
                      break;

                    case 23:
                      _context17.next = 28;
                      break;

                    case 25:
                      _context17.prev = 25;
                      _context17.t2 = _context17["catch"](12);

                      _iterator147.e(_context17.t2);

                    case 28:
                      _context17.prev = 28;

                      _iterator147.f();

                      return _context17.finish(28);

                    case 31:
                      _i74 = Oc(_t103.end, e);
                      _context17.t3 = _i74 && !_t103.end.isTouching(wc._createAt(_i74, 0)) && Dc(_i74, _t103);

                      if (!_context17.t3) {
                        _context17.next = 36;
                        break;
                      }

                      _context17.next = 36;
                      return _i74;

                    case 36:
                      _context17.next = 4;
                      break;

                    case 38:
                      _context17.next = 43;
                      break;

                    case 40:
                      _context17.prev = 40;
                      _context17.t4 = _context17["catch"](2);

                      _iterator146.e(_context17.t4);

                    case 43:
                      _context17.prev = 43;

                      _iterator146.f();

                      return _context17.finish(43);

                    case 46:
                    case "end":
                      return _context17.stop();
                  }
                }
              }, getSelectedBlocks, this, [[2, 40, 43, 46], [12, 25, 28, 31]]);
            })
          }, {
            key: "containsEntireContent",
            value: function containsEntireContent() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.anchor.root;

              var t = wc._createAt(e, 0),
                  n = wc._createAt(e, "end");

              return t.isTouching(this.getFirstPosition()) && n.isTouching(this.getLastPosition());
            }
          }, {
            key: "_pushRange",
            value: function _pushRange(e) {
              this._checkRange(e), this._ranges.push(new yc(e.start, e.end));
            }
          }, {
            key: "_checkRange",
            value: function _checkRange(e) {
              for (var _t104 = 0; _t104 < this._ranges.length; _t104++) {
                if (e.isIntersecting(this._ranges[_t104])) throw new c.a("model-selection-range-intersects", [this, e], {
                  addedRange: e,
                  intersectingRange: this._ranges[_t104]
                });
              }
            }
          }, {
            key: "_removeAllRanges",
            value: function _removeAllRanges() {
              for (; this._ranges.length > 0;) {
                this._popRange();
              }
            }
          }, {
            key: "_popRange",
            value: function _popRange() {
              this._ranges.pop();
            }
          }]);

          return Pc;
        }();

        function Rc(e, t) {
          return !t.has(e) && (t.add(e), e.root.document.model.schema.isBlock(e) && e.parent);
        }

        function Nc(e, t, n) {
          return Rc(e, t) && Dc(e, n);
        }

        function Oc(e, t) {
          var n = e.parent.root.document.model.schema,
              i = e.parent.getAncestors({
            parentFirst: !0,
            includeSelf: !0
          });
          var o = !1;
          var r = i.find(function (e) {
            return !o && !(o = n.isLimit(e)) && Rc(e, t);
          });
          return i.forEach(function (e) {
            return t.add(e);
          }), r;
        }

        function Dc(e, t) {
          var n = function (e) {
            var t = e.root.document.model.schema;
            var n = e.parent;

            for (; n;) {
              if (t.isBlock(n)) return n;
              n = n.parent;
            }
          }(e);

          return !n || !t.containsRange(yc._createOn(n), !0);
        }

        rt(Pc, u);

        var Lc = /*#__PURE__*/function (_yc) {
          _inherits(Lc, _yc);

          var _super23 = _createSuper(Lc);

          function Lc(e, t) {
            var _this52;

            _classCallCheck(this, Lc);

            _this52 = _super23.call(this, e, t), function () {
              var _this53 = this;

              this.listenTo(this.root.document.model, "applyOperation", function (e, t) {
                var n = t[0];
                n.isDocumentOperation && function (e) {
                  var t = this.getTransformedByOperation(e),
                      n = yc._createFromRanges(t),
                      i = !n.isEqual(this),
                      o = function (e, t) {
                    switch (t.type) {
                      case "insert":
                        return e.containsPosition(t.position);

                      case "move":
                      case "remove":
                      case "reinsert":
                      case "merge":
                        return e.containsPosition(t.sourcePosition) || e.start.isEqual(t.sourcePosition) || e.containsPosition(t.targetPosition);

                      case "split":
                        return e.containsPosition(t.splitPosition) || e.containsPosition(t.insertionPosition);
                    }

                    return !1;
                  }(this, e);

                  var r = null;

                  if (i) {
                    "$graveyard" == n.root.rootName && (r = "remove" == e.type ? e.sourcePosition : e.deletionPosition);

                    var _t105 = this.toRange();

                    this.start = n.start, this.end = n.end, this.fire("change:range", _t105, {
                      deletionPosition: r
                    });
                  } else o && this.fire("change:content", this.toRange(), {
                    deletionPosition: r
                  });
                }.call(_this53, n);
              }, {
                priority: "low"
              });
            }.call(_assertThisInitialized(_this52));
            return _this52;
          }

          _createClass(Lc, [{
            key: "detach",
            value: function detach() {
              this.stopListening();
            }
          }, {
            key: "is",
            value: function is(e) {
              return "liveRange" === e || "model:liveRange" === e || "range" == e || "model:range" === e;
            }
          }, {
            key: "toRange",
            value: function toRange() {
              return new yc(this.start, this.end);
            }
          }], [{
            key: "fromRange",
            value: function fromRange(e) {
              return new Lc(e.start, e.end);
            }
          }]);

          return Lc;
        }(yc);

        rt(Lc, u);
        var zc = "selection:";

        var Vc = /*#__PURE__*/function () {
          function Vc(e) {
            _classCallCheck(this, Vc);

            this._selection = new Bc(e), this._selection.delegate("change:range").to(this), this._selection.delegate("change:attribute").to(this), this._selection.delegate("change:marker").to(this);
          }

          _createClass(Vc, [{
            key: "isCollapsed",
            get: function get() {
              return this._selection.isCollapsed;
            }
          }, {
            key: "anchor",
            get: function get() {
              return this._selection.anchor;
            }
          }, {
            key: "focus",
            get: function get() {
              return this._selection.focus;
            }
          }, {
            key: "rangeCount",
            get: function get() {
              return this._selection.rangeCount;
            }
          }, {
            key: "hasOwnRange",
            get: function get() {
              return this._selection.hasOwnRange;
            }
          }, {
            key: "isBackward",
            get: function get() {
              return this._selection.isBackward;
            }
          }, {
            key: "isGravityOverridden",
            get: function get() {
              return this._selection.isGravityOverridden;
            }
          }, {
            key: "markers",
            get: function get() {
              return this._selection.markers;
            }
          }, {
            key: "_ranges",
            get: function get() {
              return this._selection._ranges;
            }
          }, {
            key: "getRanges",
            value: function getRanges() {
              return this._selection.getRanges();
            }
          }, {
            key: "getFirstPosition",
            value: function getFirstPosition() {
              return this._selection.getFirstPosition();
            }
          }, {
            key: "getLastPosition",
            value: function getLastPosition() {
              return this._selection.getLastPosition();
            }
          }, {
            key: "getFirstRange",
            value: function getFirstRange() {
              return this._selection.getFirstRange();
            }
          }, {
            key: "getLastRange",
            value: function getLastRange() {
              return this._selection.getLastRange();
            }
          }, {
            key: "getSelectedBlocks",
            value: function getSelectedBlocks() {
              return this._selection.getSelectedBlocks();
            }
          }, {
            key: "getSelectedElement",
            value: function getSelectedElement() {
              return this._selection.getSelectedElement();
            }
          }, {
            key: "containsEntireContent",
            value: function containsEntireContent(e) {
              return this._selection.containsEntireContent(e);
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this._selection.destroy();
            }
          }, {
            key: "getAttributeKeys",
            value: function getAttributeKeys() {
              return this._selection.getAttributeKeys();
            }
          }, {
            key: "getAttributes",
            value: function getAttributes() {
              return this._selection.getAttributes();
            }
          }, {
            key: "getAttribute",
            value: function getAttribute(e) {
              return this._selection.getAttribute(e);
            }
          }, {
            key: "hasAttribute",
            value: function hasAttribute(e) {
              return this._selection.hasAttribute(e);
            }
          }, {
            key: "refresh",
            value: function refresh() {
              this._selection._updateMarkers(), this._selection._updateAttributes(!1);
            }
          }, {
            key: "observeMarkers",
            value: function observeMarkers(e) {
              this._selection.observeMarkers(e);
            }
          }, {
            key: "is",
            value: function is(e) {
              return "selection" === e || "model:selection" == e || "documentSelection" == e || "model:documentSelection" == e;
            }
          }, {
            key: "_setFocus",
            value: function _setFocus(e, t) {
              this._selection.setFocus(e, t);
            }
          }, {
            key: "_setTo",
            value: function _setTo(e, t, n) {
              this._selection.setTo(e, t, n);
            }
          }, {
            key: "_setAttribute",
            value: function _setAttribute(e, t) {
              this._selection.setAttribute(e, t);
            }
          }, {
            key: "_removeAttribute",
            value: function _removeAttribute(e) {
              this._selection.removeAttribute(e);
            }
          }, {
            key: "_getStoredAttributes",
            value: function _getStoredAttributes() {
              return this._selection._getStoredAttributes();
            }
          }, {
            key: "_overrideGravity",
            value: function _overrideGravity() {
              return this._selection.overrideGravity();
            }
          }, {
            key: "_restoreGravity",
            value: function _restoreGravity(e) {
              this._selection.restoreGravity(e);
            }
          }], [{
            key: "_getStoreAttributeKey",
            value: function _getStoreAttributeKey(e) {
              return zc + e;
            }
          }, {
            key: "_isStoreAttributeKey",
            value: function _isStoreAttributeKey(e) {
              return e.startsWith(zc);
            }
          }]);

          return Vc;
        }();

        rt(Vc, u);

        var Bc = /*#__PURE__*/function (_Pc) {
          _inherits(Bc, _Pc);

          var _super24 = _createSuper(Bc);

          function Bc(e) {
            var _this54;

            _classCallCheck(this, Bc);

            _this54 = _super24.call(this), _this54.markers = new Hi({
              idProperty: "name"
            }), _this54._model = e.model, _this54._document = e, _this54._attributePriority = new Map(), _this54._selectionRestorePosition = null, _this54._hasChangedRange = !1, _this54._overriddenGravityRegister = new Set(), _this54._observedMarkers = new Set(), _this54.listenTo(_this54._model, "applyOperation", function (e, t) {
              var n = t[0];
              n.isDocumentOperation && "marker" != n.type && "rename" != n.type && "noop" != n.type && (0 == _this54._ranges.length && _this54._selectionRestorePosition && _this54._fixGraveyardSelection(_this54._selectionRestorePosition), _this54._selectionRestorePosition = null, _this54._hasChangedRange && (_this54._hasChangedRange = !1, _this54.fire("change:range", {
                directChange: !1
              })));
            }, {
              priority: "lowest"
            }), _this54.on("change:range", function () {
              var _iterator148 = _createForOfIteratorHelper(_this54.getRanges()),
                  _step148;

              try {
                for (_iterator148.s(); !(_step148 = _iterator148.n()).done;) {
                  var _e99 = _step148.value;
                  if (!_this54._document._validateSelectionRange(_e99)) throw new c.a("document-selection-wrong-position", _assertThisInitialized(_this54), {
                    range: _e99
                  });
                }
              } catch (err) {
                _iterator148.e(err);
              } finally {
                _iterator148.f();
              }
            }), _this54.listenTo(_this54._model.markers, "update", function (e, t, n, i) {
              _this54._updateMarker(t, i);
            }), _this54.listenTo(_this54._document, "change", function (e, t) {
              !function (e, t) {
                var n = e.document.differ;

                var _iterator149 = _createForOfIteratorHelper(n.getChanges()),
                    _step149;

                try {
                  var _loop2 = function _loop2() {
                    var i = _step149.value;
                    if ("insert" != i.type) return "continue";
                    var n = i.position.parent,
                        o = i.length === n.maxOffset;
                    o && e.enqueueChange(t, function (e) {
                      var t = Array.from(n.getAttributeKeys()).filter(function (e) {
                        return e.startsWith(zc);
                      });

                      var _iterator150 = _createForOfIteratorHelper(t),
                          _step150;

                      try {
                        for (_iterator150.s(); !(_step150 = _iterator150.n()).done;) {
                          var _i76 = _step150.value;
                          e.removeAttribute(_i76, n);
                        }
                      } catch (err) {
                        _iterator150.e(err);
                      } finally {
                        _iterator150.f();
                      }
                    });
                  };

                  for (_iterator149.s(); !(_step149 = _iterator149.n()).done;) {
                    var _ret = _loop2();

                    if (_ret === "continue") continue;
                  }
                } catch (err) {
                  _iterator149.e(err);
                } finally {
                  _iterator149.f();
                }
              }(_this54._model, t);
            });
            return _this54;
          }

          _createClass(Bc, [{
            key: "isCollapsed",
            get: function get() {
              return 0 === this._ranges.length ? this._document._getDefaultRange().isCollapsed : _get(_getPrototypeOf(Bc.prototype), "isCollapsed", this);
            }
          }, {
            key: "anchor",
            get: function get() {
              return _get(_getPrototypeOf(Bc.prototype), "anchor", this) || this._document._getDefaultRange().start;
            }
          }, {
            key: "focus",
            get: function get() {
              return _get(_getPrototypeOf(Bc.prototype), "focus", this) || this._document._getDefaultRange().end;
            }
          }, {
            key: "rangeCount",
            get: function get() {
              return this._ranges.length ? this._ranges.length : 1;
            }
          }, {
            key: "hasOwnRange",
            get: function get() {
              return this._ranges.length > 0;
            }
          }, {
            key: "isGravityOverridden",
            get: function get() {
              return !!this._overriddenGravityRegister.size;
            }
          }, {
            key: "destroy",
            value: function destroy() {
              for (var _e100 = 0; _e100 < this._ranges.length; _e100++) {
                this._ranges[_e100].detach();
              }

              this.stopListening();
            }
          }, {
            key: "getRanges",
            value: /*#__PURE__*/regeneratorRuntime.mark(function getRanges() {
              return regeneratorRuntime.wrap(function getRanges$(_context18) {
                while (1) {
                  switch (_context18.prev = _context18.next) {
                    case 0:
                      if (!this._ranges.length) {
                        _context18.next = 4;
                        break;
                      }

                      return _context18.delegateYield(_get(_getPrototypeOf(Bc.prototype), "getRanges", this).call(this), "t0", 2);

                    case 2:
                      _context18.next = 6;
                      break;

                    case 4:
                      _context18.next = 6;
                      return this._document._getDefaultRange();

                    case 6:
                    case "end":
                      return _context18.stop();
                  }
                }
              }, getRanges, this);
            })
          }, {
            key: "getFirstRange",
            value: function getFirstRange() {
              return _get(_getPrototypeOf(Bc.prototype), "getFirstRange", this).call(this) || this._document._getDefaultRange();
            }
          }, {
            key: "getLastRange",
            value: function getLastRange() {
              return _get(_getPrototypeOf(Bc.prototype), "getLastRange", this).call(this) || this._document._getDefaultRange();
            }
          }, {
            key: "setTo",
            value: function setTo(e, t, n) {
              _get(_getPrototypeOf(Bc.prototype), "setTo", this).call(this, e, t, n), this._updateAttributes(!0), this._updateMarkers();
            }
          }, {
            key: "setFocus",
            value: function setFocus(e, t) {
              _get(_getPrototypeOf(Bc.prototype), "setFocus", this).call(this, e, t), this._updateAttributes(!0), this._updateMarkers();
            }
          }, {
            key: "setAttribute",
            value: function setAttribute(e, t) {
              if (this._setAttribute(e, t)) {
                var _t106 = [e];
                this.fire("change:attribute", {
                  attributeKeys: _t106,
                  directChange: !0
                });
              }
            }
          }, {
            key: "removeAttribute",
            value: function removeAttribute(e) {
              if (this._removeAttribute(e)) {
                var _t107 = [e];
                this.fire("change:attribute", {
                  attributeKeys: _t107,
                  directChange: !0
                });
              }
            }
          }, {
            key: "overrideGravity",
            value: function overrideGravity() {
              var e = s();
              return this._overriddenGravityRegister.add(e), 1 === this._overriddenGravityRegister.size && this._updateAttributes(!0), e;
            }
          }, {
            key: "restoreGravity",
            value: function restoreGravity(e) {
              if (!this._overriddenGravityRegister.has(e)) throw new c.a("document-selection-gravity-wrong-restore", this, {
                uid: e
              });
              this._overriddenGravityRegister["delete"](e), this.isGravityOverridden || this._updateAttributes(!0);
            }
          }, {
            key: "observeMarkers",
            value: function observeMarkers(e) {
              this._observedMarkers.add(e), this._updateMarkers();
            }
          }, {
            key: "_popRange",
            value: function _popRange() {
              this._ranges.pop().detach();
            }
          }, {
            key: "_pushRange",
            value: function _pushRange(e) {
              var t = this._prepareRange(e);

              t && this._ranges.push(t);
            }
          }, {
            key: "_prepareRange",
            value: function _prepareRange(e) {
              var _this55 = this;

              if (this._checkRange(e), e.root == this._document.graveyard) return;
              var t = Lc.fromRange(e);
              return t.on("change:range", function (e, n, i) {
                if (_this55._hasChangedRange = !0, t.root == _this55._document.graveyard) {
                  _this55._selectionRestorePosition = i.deletionPosition;

                  var _e101 = _this55._ranges.indexOf(t);

                  _this55._ranges.splice(_e101, 1), t.detach();
                }
              }), t;
            }
          }, {
            key: "_updateMarkers",
            value: function _updateMarkers() {
              if (!this._observedMarkers.size) return;
              var e = [];
              var t = !1;

              var _iterator151 = _createForOfIteratorHelper(this._model.markers),
                  _step151;

              try {
                for (_iterator151.s(); !(_step151 = _iterator151.n()).done;) {
                  var _t108 = _step151.value;

                  var _n104 = _t108.name.split(":", 1)[0];

                  if (!this._observedMarkers.has(_n104)) continue;

                  var _i79 = _t108.getRange();

                  var _iterator152 = _createForOfIteratorHelper(this.getRanges()),
                      _step152;

                  try {
                    for (_iterator152.s(); !(_step152 = _iterator152.n()).done;) {
                      var _n105 = _step152.value;
                      _i79.containsRange(_n105, !_n105.isCollapsed) && e.push(_t108);
                    }
                  } catch (err) {
                    _iterator152.e(err);
                  } finally {
                    _iterator152.f();
                  }
                }
              } catch (err) {
                _iterator151.e(err);
              } finally {
                _iterator151.f();
              }

              var n = Array.from(this.markers);

              for (var _i77 = 0, _e102 = e; _i77 < _e102.length; _i77++) {
                var _n102 = _e102[_i77];
                this.markers.has(_n102) || (this.markers.add(_n102), t = !0);
              }

              for (var _i78 = 0, _Array$from2 = Array.from(this.markers); _i78 < _Array$from2.length; _i78++) {
                var _n103 = _Array$from2[_i78];
                e.includes(_n103) || (this.markers.remove(_n103), t = !0);
              }

              t && this.fire("change:marker", {
                oldMarkers: n,
                directChange: !1
              });
            }
          }, {
            key: "_updateMarker",
            value: function _updateMarker(e, t) {
              var n = e.name.split(":", 1)[0];
              if (!this._observedMarkers.has(n)) return;
              var i = !1;
              var o = Array.from(this.markers),
                  r = this.markers.has(e);

              if (t) {
                var _n106 = !1;

                var _iterator153 = _createForOfIteratorHelper(this.getRanges()),
                    _step153;

                try {
                  for (_iterator153.s(); !(_step153 = _iterator153.n()).done;) {
                    var _e103 = _step153.value;

                    if (t.containsRange(_e103, !_e103.isCollapsed)) {
                      _n106 = !0;
                      break;
                    }
                  }
                } catch (err) {
                  _iterator153.e(err);
                } finally {
                  _iterator153.f();
                }

                _n106 && !r ? (this.markers.add(e), i = !0) : !_n106 && r && (this.markers.remove(e), i = !0);
              } else r && (this.markers.remove(e), i = !0);

              i && this.fire("change:marker", {
                oldMarkers: o,
                directChange: !1
              });
            }
          }, {
            key: "_updateAttributes",
            value: function _updateAttributes(e) {
              var t = io(this._getSurroundingAttributes()),
                  n = io(this.getAttributes());
              if (e) this._attributePriority = new Map(), this._attrs = new Map();else {
                var _iterator154 = _createForOfIteratorHelper(this._attributePriority),
                    _step154;

                try {
                  for (_iterator154.s(); !(_step154 = _iterator154.n()).done;) {
                    var _step154$value = _slicedToArray(_step154.value, 2),
                        _e104 = _step154$value[0],
                        _t109 = _step154$value[1];

                    "low" == _t109 && (this._attrs["delete"](_e104), this._attributePriority["delete"](_e104));
                  }
                } catch (err) {
                  _iterator154.e(err);
                } finally {
                  _iterator154.f();
                }
              }

              this._setAttributesTo(t);

              var i = [];

              var _iterator155 = _createForOfIteratorHelper(this.getAttributes()),
                  _step155;

              try {
                for (_iterator155.s(); !(_step155 = _iterator155.n()).done;) {
                  var _step155$value = _slicedToArray(_step155.value, 2),
                      _e105 = _step155$value[0],
                      _t110 = _step155$value[1];

                  n.has(_e105) && n.get(_e105) === _t110 || i.push(_e105);
                }
              } catch (err) {
                _iterator155.e(err);
              } finally {
                _iterator155.f();
              }

              var _iterator156 = _createForOfIteratorHelper(n),
                  _step156;

              try {
                for (_iterator156.s(); !(_step156 = _iterator156.n()).done;) {
                  var _step156$value = _slicedToArray(_step156.value, 1),
                      _e106 = _step156$value[0];

                  this.hasAttribute(_e106) || i.push(_e106);
                }
              } catch (err) {
                _iterator156.e(err);
              } finally {
                _iterator156.f();
              }

              i.length > 0 && this.fire("change:attribute", {
                attributeKeys: i,
                directChange: !1
              });
            }
          }, {
            key: "_setAttribute",
            value: function _setAttribute(e, t) {
              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;
              var i = n ? "normal" : "low";
              return ("low" != i || "normal" != this._attributePriority.get(e)) && _get(_getPrototypeOf(Bc.prototype), "getAttribute", this).call(this, e) !== t && (this._attrs.set(e, t), this._attributePriority.set(e, i), !0);
            }
          }, {
            key: "_removeAttribute",
            value: function _removeAttribute(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;
              var n = t ? "normal" : "low";
              return ("low" != n || "normal" != this._attributePriority.get(e)) && (this._attributePriority.set(e, n), !!_get(_getPrototypeOf(Bc.prototype), "hasAttribute", this).call(this, e) && (this._attrs["delete"](e), !0));
            }
          }, {
            key: "_setAttributesTo",
            value: function _setAttributesTo(e) {
              var t = new Set();

              var _iterator157 = _createForOfIteratorHelper(this.getAttributes()),
                  _step157;

              try {
                for (_iterator157.s(); !(_step157 = _iterator157.n()).done;) {
                  var _step157$value = _slicedToArray(_step157.value, 2),
                      _t111 = _step157$value[0],
                      _n107 = _step157$value[1];

                  e.get(_t111) !== _n107 && this._removeAttribute(_t111, !1);
                }
              } catch (err) {
                _iterator157.e(err);
              } finally {
                _iterator157.f();
              }

              var _iterator158 = _createForOfIteratorHelper(e),
                  _step158;

              try {
                for (_iterator158.s(); !(_step158 = _iterator158.n()).done;) {
                  var _step158$value = _slicedToArray(_step158.value, 2),
                      _n108 = _step158$value[0],
                      _i80 = _step158$value[1];

                  this._setAttribute(_n108, _i80, !1) && t.add(_n108);
                }
              } catch (err) {
                _iterator158.e(err);
              } finally {
                _iterator158.f();
              }

              return t;
            }
          }, {
            key: "_getStoredAttributes",
            value: /*#__PURE__*/regeneratorRuntime.mark(function _getStoredAttributes() {
              var e, _iterator159, _step159, _t112;

              return regeneratorRuntime.wrap(function _getStoredAttributes$(_context19) {
                while (1) {
                  switch (_context19.prev = _context19.next) {
                    case 0:
                      e = this.getFirstPosition().parent;

                      if (!(this.isCollapsed && e.isEmpty)) {
                        _context19.next = 20;
                        break;
                      }

                      _iterator159 = _createForOfIteratorHelper(e.getAttributeKeys());
                      _context19.prev = 3;

                      _iterator159.s();

                    case 5:
                      if ((_step159 = _iterator159.n()).done) {
                        _context19.next = 12;
                        break;
                      }

                      _t112 = _step159.value;

                      if (!_t112.startsWith(zc)) {
                        _context19.next = 10;
                        break;
                      }

                      _context19.next = 10;
                      return [_t112.substr(zc.length), e.getAttribute(_t112)];

                    case 10:
                      _context19.next = 5;
                      break;

                    case 12:
                      _context19.next = 17;
                      break;

                    case 14:
                      _context19.prev = 14;
                      _context19.t0 = _context19["catch"](3);

                      _iterator159.e(_context19.t0);

                    case 17:
                      _context19.prev = 17;

                      _iterator159.f();

                      return _context19.finish(17);

                    case 20:
                    case "end":
                      return _context19.stop();
                  }
                }
              }, _getStoredAttributes, this, [[3, 14, 17, 20]]);
            })
          }, {
            key: "_getSurroundingAttributes",
            value: function _getSurroundingAttributes() {
              var e = this.getFirstPosition(),
                  t = this._model.schema;
              var n = null;

              if (this.isCollapsed) {
                var _i81 = e.textNode ? e.textNode : e.nodeBefore,
                    _o37 = e.textNode ? e.textNode : e.nodeAfter;

                if (this.isGravityOverridden || (n = Fc(_i81)), n || (n = Fc(_o37)), !this.isGravityOverridden && !n) {
                  var _e107 = _i81;

                  for (; _e107 && !t.isInline(_e107) && !n;) {
                    n = Fc(_e107 = _e107.previousSibling);
                  }
                }

                if (!n) {
                  var _e108 = _o37;

                  for (; _e108 && !t.isInline(_e108) && !n;) {
                    n = Fc(_e108 = _e108.nextSibling);
                  }
                }

                n || (n = this._getStoredAttributes());
              } else {
                var _e109 = this.getFirstRange();

                var _iterator160 = _createForOfIteratorHelper(_e109),
                    _step160;

                try {
                  for (_iterator160.s(); !(_step160 = _iterator160.n()).done;) {
                    var _i82 = _step160.value;
                    if (_i82.item.is("element") && t.isObject(_i82.item)) break;

                    if ("text" == _i82.type) {
                      n = _i82.item.getAttributes();
                      break;
                    }
                  }
                } catch (err) {
                  _iterator160.e(err);
                } finally {
                  _iterator160.f();
                }
              }

              return n;
            }
          }, {
            key: "_fixGraveyardSelection",
            value: function _fixGraveyardSelection(e) {
              var t = this._model.schema.getNearestSelectionRange(e);

              t && this._pushRange(t);
            }
          }]);

          return Bc;
        }(Pc);

        function Fc(e) {
          return e instanceof mc || e instanceof gc ? e.getAttributes() : null;
        }

        var jc = /*#__PURE__*/function () {
          function jc(e) {
            _classCallCheck(this, jc);

            this._dispatchers = e;
          }

          _createClass(jc, [{
            key: "add",
            value: function add(e) {
              var _iterator161 = _createForOfIteratorHelper(this._dispatchers),
                  _step161;

              try {
                for (_iterator161.s(); !(_step161 = _iterator161.n()).done;) {
                  var _t113 = _step161.value;
                  e(_t113);
                }
              } catch (err) {
                _iterator161.e(err);
              } finally {
                _iterator161.f();
              }

              return this;
            }
          }]);

          return jc;
        }();

        var Hc = 1,
            Uc = 4;

        var Wc = function Wc(e) {
          return Ni(e, Hc | Uc);
        };

        var qc = /*#__PURE__*/function (_jc) {
          _inherits(qc, _jc);

          var _super25 = _createSuper(qc);

          function qc() {
            _classCallCheck(this, qc);

            return _super25.apply(this, arguments);
          }

          _createClass(qc, [{
            key: "elementToElement",
            value: function elementToElement(e) {
              return this.add(function (e) {
                return (e = Wc(e)).view = Yc(e.view, "container"), function (t) {
                  if (t.on("insert:" + e.model, function (e) {
                    return function (t, n, i) {
                      var o = e(n.item, i);
                      if (!o) return;
                      if (!i.consumable.consume(n.item, "insert")) return;
                      var r = i.mapper.toViewPosition(n.range.start);
                      i.mapper.bindElements(n.item, o), i.writer.insert(r, o);
                    };
                  }(e.view), {
                    priority: e.converterPriority || "normal"
                  }), e.triggerBy) {
                    if (e.triggerBy.attributes) {
                      var _iterator162 = _createForOfIteratorHelper(e.triggerBy.attributes),
                          _step162;

                      try {
                        for (_iterator162.s(); !(_step162 = _iterator162.n()).done;) {
                          var _n109 = _step162.value;

                          t._mapReconversionTriggerEvent(e.model, "attribute:".concat(_n109, ":").concat(e.model));
                        }
                      } catch (err) {
                        _iterator162.e(err);
                      } finally {
                        _iterator162.f();
                      }
                    }

                    if (e.triggerBy.children) {
                      var _iterator163 = _createForOfIteratorHelper(e.triggerBy.children),
                          _step163;

                      try {
                        for (_iterator163.s(); !(_step163 = _iterator163.n()).done;) {
                          var _n110 = _step163.value;
                          t._mapReconversionTriggerEvent(e.model, "insert:".concat(_n110)), t._mapReconversionTriggerEvent(e.model, "remove:".concat(_n110));
                        }
                      } catch (err) {
                        _iterator163.e(err);
                      } finally {
                        _iterator163.f();
                      }
                    }
                  }
                };
              }(e));
            }
          }, {
            key: "attributeToElement",
            value: function attributeToElement(e) {
              return this.add(function (e) {
                var t = "attribute:" + ((e = Wc(e)).model.key ? e.model.key : e.model);
                e.model.name && (t += ":" + e.model.name);

                if (e.model.values) {
                  var _iterator164 = _createForOfIteratorHelper(e.model.values),
                      _step164;

                  try {
                    for (_iterator164.s(); !(_step164 = _iterator164.n()).done;) {
                      var _t114 = _step164.value;
                      e.view[_t114] = Yc(e.view[_t114], "attribute");
                    }
                  } catch (err) {
                    _iterator164.e(err);
                  } finally {
                    _iterator164.f();
                  }
                } else e.view = Yc(e.view, "attribute");

                var n = Kc(e);
                return function (i) {
                  i.on(t, function (e) {
                    return function (t, n, i) {
                      var o = e(n.attributeOldValue, i),
                          r = e(n.attributeNewValue, i);
                      if (!o && !r) return;
                      if (!i.consumable.consume(n.item, t.name)) return;
                      var s = i.writer,
                          a = s.document.selection;
                      if (n.item instanceof Pc || n.item instanceof Vc) s.wrap(a.getFirstRange(), r);else {
                        var _e110 = i.mapper.toViewRange(n.range);

                        null !== n.attributeOldValue && o && (_e110 = s.unwrap(_e110, o)), null !== n.attributeNewValue && r && s.wrap(_e110, r);
                      }
                    };
                  }(n), {
                    priority: e.converterPriority || "normal"
                  });
                };
              }(e));
            }
          }, {
            key: "attributeToAttribute",
            value: function attributeToAttribute(e) {
              return this.add(function (e) {
                var t = "attribute:" + ((e = Wc(e)).model.key ? e.model.key : e.model);
                e.model.name && (t += ":" + e.model.name);

                if (e.model.values) {
                  var _iterator165 = _createForOfIteratorHelper(e.model.values),
                      _step165;

                  try {
                    for (_iterator165.s(); !(_step165 = _iterator165.n()).done;) {
                      var _t115 = _step165.value;
                      e.view[_t115] = Qc(e.view[_t115]);
                    }
                  } catch (err) {
                    _iterator165.e(err);
                  } finally {
                    _iterator165.f();
                  }
                } else e.view = Qc(e.view);

                var n = Kc(e);
                return function (i) {
                  i.on(t, function (e) {
                    return function (t, n, i) {
                      var o = e(n.attributeOldValue, i),
                          r = e(n.attributeNewValue, i);
                      if (!o && !r) return;
                      if (!i.consumable.consume(n.item, t.name)) return;
                      var s = i.mapper.toViewElement(n.item),
                          a = i.writer;
                      if (!s) throw new c.a("conversion-attribute-to-attribute-on-text", [n, i]);
                      if (null !== n.attributeOldValue && o) if ("class" == o.key) {
                        var _e111 = Wi(o.value);

                        var _iterator166 = _createForOfIteratorHelper(_e111),
                            _step166;

                        try {
                          for (_iterator166.s(); !(_step166 = _iterator166.n()).done;) {
                            var _t116 = _step166.value;
                            a.removeClass(_t116, s);
                          }
                        } catch (err) {
                          _iterator166.e(err);
                        } finally {
                          _iterator166.f();
                        }
                      } else if ("style" == o.key) {
                        var _e112 = Object.keys(o.value);

                        for (var _i83 = 0, _e113 = _e112; _i83 < _e113.length; _i83++) {
                          var _t117 = _e113[_i83];
                          a.removeStyle(_t117, s);
                        }
                      } else a.removeAttribute(o.key, s);
                      if (null !== n.attributeNewValue && r) if ("class" == r.key) {
                        var _e114 = Wi(r.value);

                        var _iterator167 = _createForOfIteratorHelper(_e114),
                            _step167;

                        try {
                          for (_iterator167.s(); !(_step167 = _iterator167.n()).done;) {
                            var _t118 = _step167.value;
                            a.addClass(_t118, s);
                          }
                        } catch (err) {
                          _iterator167.e(err);
                        } finally {
                          _iterator167.f();
                        }
                      } else if ("style" == r.key) {
                        var _e115 = Object.keys(r.value);

                        for (var _i84 = 0, _e116 = _e115; _i84 < _e116.length; _i84++) {
                          var _t119 = _e116[_i84];
                          a.setStyle(_t119, r.value[_t119], s);
                        }
                      } else a.setAttribute(r.key, r.value, s);
                    };
                  }(n), {
                    priority: e.converterPriority || "normal"
                  });
                };
              }(e));
            }
          }, {
            key: "markerToElement",
            value: function markerToElement(e) {
              return this.add(function (e) {
                return (e = Wc(e)).view = Yc(e.view, "ui"), function (t) {
                  t.on("addMarker:" + e.model, function (e) {
                    return function (t, n, i) {
                      n.isOpening = !0;
                      var o = e(n, i);
                      n.isOpening = !1;
                      var r = e(n, i);
                      if (!o || !r) return;
                      var s = n.markerRange;
                      if (s.isCollapsed && !i.consumable.consume(s, t.name)) return;

                      var _iterator168 = _createForOfIteratorHelper(s),
                          _step168;

                      try {
                        for (_iterator168.s(); !(_step168 = _iterator168.n()).done;) {
                          var _e117 = _step168.value;
                          if (!i.consumable.consume(_e117.item, t.name)) return;
                        }
                      } catch (err) {
                        _iterator168.e(err);
                      } finally {
                        _iterator168.f();
                      }

                      var a = i.mapper,
                          c = i.writer;
                      c.insert(a.toViewPosition(s.start), o), i.mapper.bindElementToMarker(o, n.markerName), s.isCollapsed || (c.insert(a.toViewPosition(s.end), r), i.mapper.bindElementToMarker(r, n.markerName)), t.stop();
                    };
                  }(e.view), {
                    priority: e.converterPriority || "normal"
                  }), t.on("removeMarker:" + e.model, (e.view, function (e, t, n) {
                    var i = n.mapper.markerNameToElements(t.markerName);

                    if (i) {
                      var _iterator169 = _createForOfIteratorHelper(i),
                          _step169;

                      try {
                        for (_iterator169.s(); !(_step169 = _iterator169.n()).done;) {
                          var _e118 = _step169.value;
                          n.mapper.unbindElementFromMarkerName(_e118, t.markerName), n.writer.clear(n.writer.createRangeOn(_e118), _e118);
                        }
                      } catch (err) {
                        _iterator169.e(err);
                      } finally {
                        _iterator169.f();
                      }

                      n.writer.clearClonedElementsGroup(t.markerName), e.stop();
                    }
                  }), {
                    priority: e.converterPriority || "normal"
                  });
                };
              }(e));
            }
          }, {
            key: "markerToHighlight",
            value: function markerToHighlight(e) {
              return this.add(function (e) {
                return function (t) {
                  t.on("addMarker:" + e.model, function (e) {
                    return function (t, n, i) {
                      if (!n.item) return;
                      if (!(n.item instanceof Pc || n.item instanceof Vc || n.item.is("$textProxy"))) return;
                      var o = Jc(e, n, i);
                      if (!o) return;
                      if (!i.consumable.consume(n.item, t.name)) return;
                      var r = i.writer,
                          s = $c(r, o),
                          a = r.document.selection;
                      if (n.item instanceof Pc || n.item instanceof Vc) r.wrap(a.getFirstRange(), s, a);else {
                        var _e119 = i.mapper.toViewRange(n.range),
                            _t120 = r.wrap(_e119, s);

                        var _iterator170 = _createForOfIteratorHelper(_t120.getItems()),
                            _step170;

                        try {
                          for (_iterator170.s(); !(_step170 = _iterator170.n()).done;) {
                            var _e120 = _step170.value;

                            if (_e120.is("attributeElement") && _e120.isSimilar(s)) {
                              i.mapper.bindElementToMarker(_e120, n.markerName);
                              break;
                            }
                          }
                        } catch (err) {
                          _iterator170.e(err);
                        } finally {
                          _iterator170.f();
                        }
                      }
                    };
                  }(e.view), {
                    priority: e.converterPriority || "normal"
                  }), t.on("addMarker:" + e.model, function (e) {
                    return function (t, n, i) {
                      if (!n.item) return;
                      if (!(n.item instanceof pc)) return;
                      var o = Jc(e, n, i);
                      if (!o) return;
                      if (!i.consumable.test(n.item, t.name)) return;
                      var r = i.mapper.toViewElement(n.item);

                      if (r && r.getCustomProperty("addHighlight")) {
                        i.consumable.consume(n.item, t.name);

                        var _iterator171 = _createForOfIteratorHelper(yc._createIn(n.item)),
                            _step171;

                        try {
                          for (_iterator171.s(); !(_step171 = _iterator171.n()).done;) {
                            var _e121 = _step171.value;
                            i.consumable.consume(_e121.item, t.name);
                          }
                        } catch (err) {
                          _iterator171.e(err);
                        } finally {
                          _iterator171.f();
                        }

                        r.getCustomProperty("addHighlight")(r, o, i.writer), i.mapper.bindElementToMarker(r, n.markerName);
                      }
                    };
                  }(e.view), {
                    priority: e.converterPriority || "normal"
                  }), t.on("removeMarker:" + e.model, function (e) {
                    return function (t, n, i) {
                      if (n.markerRange.isCollapsed) return;
                      var o = Jc(e, n, i);
                      if (!o) return;
                      var r = $c(i.writer, o),
                          s = i.mapper.markerNameToElements(n.markerName);

                      if (s) {
                        var _iterator172 = _createForOfIteratorHelper(s),
                            _step172;

                        try {
                          for (_iterator172.s(); !(_step172 = _iterator172.n()).done;) {
                            var _e122 = _step172.value;
                            i.mapper.unbindElementFromMarkerName(_e122, n.markerName), _e122.is("attributeElement") ? i.writer.unwrap(i.writer.createRangeOn(_e122), r) : _e122.getCustomProperty("removeHighlight")(_e122, o.id, i.writer);
                          }
                        } catch (err) {
                          _iterator172.e(err);
                        } finally {
                          _iterator172.f();
                        }

                        i.writer.clearClonedElementsGroup(n.markerName), t.stop();
                      }
                    };
                  }(e.view), {
                    priority: e.converterPriority || "normal"
                  });
                };
              }(e));
            }
          }, {
            key: "markerToData",
            value: function markerToData(e) {
              return this.add(function (e) {
                var t = (e = Wc(e)).model;
                e.view || (e.view = function (n) {
                  return {
                    group: t,
                    name: n.substr(e.model.length + 1)
                  };
                });
                return function (n) {
                  n.on("addMarker:" + t, function (e) {
                    return function (t, n, i) {
                      var o = e(n.markerName, i);
                      if (!o) return;
                      var r = n.markerRange;
                      i.consumable.consume(r, t.name) && (Gc(r, !1, i, n, o), Gc(r, !0, i, n, o), t.stop());
                    };
                  }(e.view), {
                    priority: e.converterPriority || "normal"
                  }), n.on("removeMarker:" + t, function (e) {
                    return function (t, n, i) {
                      var o = e(n.markerName, i);
                      if (!o) return;
                      var r = i.mapper.markerNameToElements(n.markerName);

                      if (r) {
                        var _iterator173 = _createForOfIteratorHelper(r),
                            _step173;

                        try {
                          for (_iterator173.s(); !(_step173 = _iterator173.n()).done;) {
                            var _e123 = _step173.value;
                            i.mapper.unbindElementFromMarkerName(_e123, n.markerName), _e123.is("containerElement") ? (s("data-".concat(o.group, "-start-before"), _e123), s("data-".concat(o.group, "-start-after"), _e123), s("data-".concat(o.group, "-end-before"), _e123), s("data-".concat(o.group, "-end-after"), _e123)) : i.writer.clear(i.writer.createRangeOn(_e123), _e123);
                          }
                        } catch (err) {
                          _iterator173.e(err);
                        } finally {
                          _iterator173.f();
                        }

                        i.writer.clearClonedElementsGroup(n.markerName), t.stop();
                      }

                      function s(e, t) {
                        if (t.hasAttribute(e)) {
                          var _n111 = new Set(t.getAttribute(e).split(","));

                          _n111["delete"](o.name), 0 == _n111.size ? i.writer.removeAttribute(e, t) : i.writer.setAttribute(e, Array.from(_n111).join(","), t);
                        }
                      }
                    };
                  }(e.view), {
                    priority: e.converterPriority || "normal"
                  });
                };
              }(e));
            }
          }]);

          return qc;
        }(jc);

        function $c(e, t) {
          var n = e.createAttributeElement("span", t.attributes);
          return t.classes && n._addClass(t.classes), "number" == typeof t.priority && (n._priority = t.priority), n._id = t.id, n;
        }

        function Gc(e, t, n, i, o) {
          var r = t ? e.start : e.end,
              s = r.nodeAfter && r.nodeAfter.is("element") ? r.nodeAfter : null,
              a = r.nodeBefore && r.nodeBefore.is("element") ? r.nodeBefore : null;

          if (s || a) {
            var _e124, _r19;

            t && s || !t && !a ? (_e124 = s, _r19 = !0) : (_e124 = a, _r19 = !1);

            var _c2 = n.mapper.toViewElement(_e124);

            if (_c2) return void function (e, t, n, i, o, r) {
              var s = "data-".concat(r.group, "-").concat(t ? "start" : "end", "-").concat(n ? "before" : "after"),
                  a = e.hasAttribute(s) ? e.getAttribute(s).split(",") : [];
              a.unshift(r.name), i.writer.setAttribute(s, a.join(","), e), i.mapper.bindElementToMarker(e, o.markerName);
            }(_c2, t, _r19, n, i, o);
          }

          !function (e, t, n, i, o) {
            var r = "".concat(o.group, "-").concat(t ? "start" : "end"),
                s = o.name ? {
              name: o.name
            } : null,
                a = n.writer.createUIElement(r, s);
            n.writer.insert(e, a), n.mapper.bindElementToMarker(a, i.markerName);
          }(n.mapper.toViewPosition(r), t, n, i, o);
        }

        function Yc(e, t) {
          return "function" == typeof e ? e : function (n, i) {
            return function (e, t, n) {
              "string" == typeof e && (e = {
                name: e
              });
              var i;
              var o = t.writer,
                  r = Object.assign({}, e.attributes);
              if ("container" == n) i = o.createContainerElement(e.name, r);else if ("attribute" == n) {
                var _t121 = {
                  priority: e.priority || br.DEFAULT_PRIORITY
                };
                i = o.createAttributeElement(e.name, r, _t121);
              } else i = o.createUIElement(e.name, r);

              if (e.styles) {
                var _t122 = Object.keys(e.styles);

                for (var _i85 = 0, _t123 = _t122; _i85 < _t123.length; _i85++) {
                  var _n112 = _t123[_i85];
                  o.setStyle(_n112, e.styles[_n112], i);
                }
              }

              if (e.classes) {
                var _t124 = e.classes;
                if ("string" == typeof _t124) o.addClass(_t124, i);else {
                  var _iterator174 = _createForOfIteratorHelper(_t124),
                      _step174;

                  try {
                    for (_iterator174.s(); !(_step174 = _iterator174.n()).done;) {
                      var _e125 = _step174.value;
                      o.addClass(_e125, i);
                    }
                  } catch (err) {
                    _iterator174.e(err);
                  } finally {
                    _iterator174.f();
                  }
                }
              }

              return i;
            }(e, i, t);
          };
        }

        function Kc(e) {
          return e.model.values ? function (t, n) {
            var i = e.view[t];
            return i ? i(t, n) : null;
          } : e.view;
        }

        function Qc(e) {
          return "string" == typeof e ? function (t) {
            return {
              key: e,
              value: t
            };
          } : "object" == typeof e ? e.value ? function () {
            return e;
          } : function (t) {
            return {
              key: e.key,
              value: t
            };
          } : e;
        }

        function Jc(e, t, n) {
          var i = "function" == typeof e ? e(t, n) : e;
          return i ? (i.priority || (i.priority = 10), i.id || (i.id = t.markerName), i) : null;
        }

        function Xc(e) {
          var _e$model = e.model,
              t = _e$model.schema,
              n = _e$model.document;

          var _iterator175 = _createForOfIteratorHelper(n.getRootNames()),
              _step175;

          try {
            for (_iterator175.s(); !(_step175 = _iterator175.n()).done;) {
              var _i86 = _step175.value;

              var _o38 = n.getRoot(_i86);

              if (_o38.isEmpty && !t.checkChild(_o38, "$text") && t.checkChild(_o38, "paragraph")) return e.insertElement("paragraph", _o38), !0;
            }
          } catch (err) {
            _iterator175.e(err);
          } finally {
            _iterator175.f();
          }

          return !1;
        }

        function Zc(e, t, n) {
          var i = n.createContext(e);
          return !!n.checkChild(i, "paragraph") && !!n.checkChild(i.push("paragraph"), t);
        }

        function el(e, t) {
          var n = t.createElement("paragraph");
          return t.insert(n, e), t.createPositionAt(n, 0);
        }

        var tl = /*#__PURE__*/function (_jc2) {
          _inherits(tl, _jc2);

          var _super26 = _createSuper(tl);

          function tl() {
            _classCallCheck(this, tl);

            return _super26.apply(this, arguments);
          }

          _createClass(tl, [{
            key: "elementToElement",
            value: function elementToElement(e) {
              return this.add(nl(e));
            }
          }, {
            key: "elementToAttribute",
            value: function elementToAttribute(e) {
              return this.add(function (e) {
                rl(e = Wc(e));
                var t = sl(e, !1),
                    n = il(e.view),
                    i = n ? "element:" + n : "element";
                return function (n) {
                  n.on(i, t, {
                    priority: e.converterPriority || "low"
                  });
                };
              }(e));
            }
          }, {
            key: "attributeToAttribute",
            value: function attributeToAttribute(e) {
              return this.add(function (e) {
                var t = null;
                ("string" == typeof (e = Wc(e)).view || e.view.key) && (t = function (e) {
                  "string" == typeof e.view && (e.view = {
                    key: e.view
                  });
                  var t = e.view.key;
                  var n;

                  if ("class" == t || "style" == t) {
                    var _i87 = "class" == t ? "classes" : "styles";

                    n = _defineProperty({}, _i87, e.view.value);
                  } else {
                    var _i88 = void 0 === e.view.value ? /[\s\S]*/ : e.view.value;

                    n = {
                      attributes: _defineProperty({}, t, _i88)
                    };
                  }

                  e.view.name && (n.name = e.view.name);
                  return e.view = n, t;
                }(e));
                rl(e, t);
                var n = sl(e, !0);
                return function (t) {
                  t.on("element", n, {
                    priority: e.converterPriority || "low"
                  });
                };
              }(e));
            }
          }, {
            key: "elementToMarker",
            value: function elementToMarker(e) {
              return this.add(function (e) {
                return function (e) {
                  var t = e.model;

                  e.model = function (e, n) {
                    var i = "string" == typeof t ? t : t(e, n);
                    return n.writer.createElement("$marker", {
                      "data-name": i
                    });
                  };
                }(e = Wc(e)), nl(e);
              }(e));
            }
          }, {
            key: "dataToMarker",
            value: function dataToMarker(e) {
              return this.add(function (e) {
                (e = Wc(e)).model || (e.model = function (t) {
                  return t ? e.view + ":" + t : e.view;
                });
                var t = ol(al(e, "start")),
                    n = ol(al(e, "end"));
                return function (i) {
                  i.on("element:" + e.view + "-start", t, {
                    priority: e.converterPriority || "normal"
                  }), i.on("element:" + e.view + "-end", n, {
                    priority: e.converterPriority || "normal"
                  });
                  var o = a.get("low"),
                      r = a.get("highest"),
                      s = a.get(e.converterPriority) / r;
                  i.on("element", function (e) {
                    return function (t, n, i) {
                      var o = "data-".concat(e.view);

                      function r(t, o) {
                        var _iterator176 = _createForOfIteratorHelper(o),
                            _step176;

                        try {
                          for (_iterator176.s(); !(_step176 = _iterator176.n()).done;) {
                            var _r20 = _step176.value;

                            var _o39 = e.model(_r20, i),
                                _s15 = i.writer.createElement("$marker", {
                              "data-name": _o39
                            });

                            i.writer.insert(_s15, t), n.modelCursor.isEqual(t) ? n.modelCursor = n.modelCursor.getShiftedBy(1) : n.modelCursor = n.modelCursor._getTransformedByInsertion(t, 1), n.modelRange = n.modelRange._getTransformedByInsertion(t, 1)[0];
                          }
                        } catch (err) {
                          _iterator176.e(err);
                        } finally {
                          _iterator176.f();
                        }
                      }

                      (i.consumable.test(n.viewItem, {
                        attributes: o + "-end-after"
                      }) || i.consumable.test(n.viewItem, {
                        attributes: o + "-start-after"
                      }) || i.consumable.test(n.viewItem, {
                        attributes: o + "-end-before"
                      }) || i.consumable.test(n.viewItem, {
                        attributes: o + "-start-before"
                      })) && (n.modelRange || Object.assign(n, i.convertChildren(n.viewItem, n.modelCursor)), i.consumable.consume(n.viewItem, {
                        attributes: o + "-end-after"
                      }) && r(n.modelRange.end, n.viewItem.getAttribute(o + "-end-after").split(",")), i.consumable.consume(n.viewItem, {
                        attributes: o + "-start-after"
                      }) && r(n.modelRange.end, n.viewItem.getAttribute(o + "-start-after").split(",")), i.consumable.consume(n.viewItem, {
                        attributes: o + "-end-before"
                      }) && r(n.modelRange.start, n.viewItem.getAttribute(o + "-end-before").split(",")), i.consumable.consume(n.viewItem, {
                        attributes: o + "-start-before"
                      }) && r(n.modelRange.start, n.viewItem.getAttribute(o + "-start-before").split(",")));
                    };
                  }(e), {
                    priority: o + s
                  });
                };
              }(e));
            }
          }]);

          return tl;
        }(jc);

        function nl(e) {
          var t = ol(e = Wc(e)),
              n = il(e.view),
              i = n ? "element:" + n : "element";
          return function (n) {
            n.on(i, t, {
              priority: e.converterPriority || "normal"
            });
          };
        }

        function il(e) {
          return "string" == typeof e ? e : "object" == typeof e && "string" == typeof e.name ? e.name : null;
        }

        function ol(e) {
          var t = new oo(e.view);
          return function (n, i, o) {
            var r = t.match(i.viewItem);
            if (!r) return;
            var s = r.match;
            if (s.name = !0, !o.consumable.test(i.viewItem, s)) return;

            var a = function (e, t, n) {
              return e instanceof Function ? e(t, n) : n.writer.createElement(e);
            }(e.model, i.viewItem, o);

            a && o.safeInsert(a, i.modelCursor) && (o.consumable.consume(i.viewItem, s), o.convertChildren(i.viewItem, a), o.updateConversionResult(a, i));
          };
        }

        function rl(e) {
          var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

          var n = null === t || function (e) {
            return e.getAttribute(t);
          },
              i = "object" != typeof e.model ? e.model : e.model.key,
              o = "object" != typeof e.model || void 0 === e.model.value ? n : e.model.value;

          e.model = {
            key: i,
            value: o
          };
        }

        function sl(e, t) {
          var n = new oo(e.view);
          return function (i, o, r) {
            var s = n.match(o.viewItem);
            if (!s) return;
            if (!function (e, t) {
              var n = "function" == typeof e ? e(t) : e;
              if ("object" == typeof n && !il(n)) return !1;
              return !n.classes && !n.attributes && !n.styles;
            }(e.view, o.viewItem) ? delete s.match.name : s.match.name = !0, !r.consumable.test(o.viewItem, s.match)) return;
            var a = e.model.key,
                c = "function" == typeof e.model.value ? e.model.value(o.viewItem, r) : e.model.value;
            null !== c && (o.modelRange || Object.assign(o, r.convertChildren(o.viewItem, o.modelCursor)), function (e, t, n, i) {
              var o = !1;

              for (var _i89 = 0, _Array$from3 = Array.from(e.getItems({
                shallow: n
              })); _i89 < _Array$from3.length; _i89++) {
                var _r21 = _Array$from3[_i89];
                i.schema.checkAttribute(_r21, t.key) && (o = !0, _r21.hasAttribute(t.key) || i.writer.setAttribute(t.key, t.value, _r21));
              }

              return o;
            }(o.modelRange, {
              key: a,
              value: c
            }, t, r) && r.consumable.consume(o.viewItem, s.match));
          };
        }

        function al(e, t) {
          var n = {};
          return n.view = e.view + "-" + t, n.model = function (t, n) {
            var i = t.getAttribute("name"),
                o = e.model(i, n);
            return n.writer.createElement("$marker", {
              "data-name": o
            });
          }, n;
        }

        var cl = /*#__PURE__*/function () {
          function cl(e, t) {
            var _this56 = this;

            _classCallCheck(this, cl);

            this.model = e, this.view = new uc(t), this.mapper = new Cc(), this.downcastDispatcher = new Ec({
              mapper: this.mapper,
              schema: e.schema
            });
            var n = this.model.document,
                i = n.selection,
                o = this.model.markers;
            this.listenTo(this.model, "_beforeChanges", function () {
              _this56.view._disableRendering(!0);
            }, {
              priority: "highest"
            }), this.listenTo(this.model, "_afterChanges", function () {
              _this56.view._disableRendering(!1);
            }, {
              priority: "lowest"
            }), this.listenTo(n, "change", function () {
              _this56.view.change(function (e) {
                _this56.downcastDispatcher.convertChanges(n.differ, o, e), _this56.downcastDispatcher.convertSelection(i, o, e);
              });
            }, {
              priority: "low"
            }), this.listenTo(this.view.document, "selectionChange", function (e, t) {
              return function (n, i) {
                var o = i.newSelection,
                    r = [];

                var _iterator177 = _createForOfIteratorHelper(o.getRanges()),
                    _step177;

                try {
                  for (_iterator177.s(); !(_step177 = _iterator177.n()).done;) {
                    var _e126 = _step177.value;
                    r.push(t.toModelRange(_e126));
                  }
                } catch (err) {
                  _iterator177.e(err);
                } finally {
                  _iterator177.f();
                }

                var s = e.createSelection(r, {
                  backward: o.isBackward
                });
                s.isEqual(e.document.selection) || e.change(function (e) {
                  e.setSelection(s);
                });
              };
            }(this.model, this.mapper)), this.downcastDispatcher.on("insert:$text", function (e, t, n) {
              if (!n.consumable.consume(t.item, "insert")) return;
              var i = n.writer,
                  o = n.mapper.toViewPosition(t.range.start),
                  r = i.createText(t.item.data);
              i.insert(o, r);
            }, {
              priority: "lowest"
            }), this.downcastDispatcher.on("remove", function (e, t, n) {
              var i = n.mapper.toViewPosition(t.position),
                  o = t.position.getShiftedBy(t.length),
                  r = n.mapper.toViewPosition(o, {
                isPhantom: !0
              }),
                  s = n.writer.createRange(i, r),
                  a = n.writer.remove(s.getTrimmed());

              var _iterator178 = _createForOfIteratorHelper(n.writer.createRangeIn(a).getItems()),
                  _step178;

              try {
                for (_iterator178.s(); !(_step178 = _iterator178.n()).done;) {
                  var _e127 = _step178.value;
                  n.mapper.unbindViewElement(_e127);
                }
              } catch (err) {
                _iterator178.e(err);
              } finally {
                _iterator178.f();
              }
            }, {
              priority: "low"
            }), this.downcastDispatcher.on("selection", function (e, t, n) {
              var i = n.writer,
                  o = i.document.selection;

              var _iterator179 = _createForOfIteratorHelper(o.getRanges()),
                  _step179;

              try {
                for (_iterator179.s(); !(_step179 = _iterator179.n()).done;) {
                  var _e128 = _step179.value;
                  _e128.isCollapsed && _e128.end.parent.isAttached() && n.writer.mergeAttributes(_e128.start);
                }
              } catch (err) {
                _iterator179.e(err);
              } finally {
                _iterator179.f();
              }

              i.setSelection(null);
            }, {
              priority: "high"
            }), this.downcastDispatcher.on("selection", function (e, t, n) {
              var i = t.selection;
              if (i.isCollapsed) return;
              if (!n.consumable.consume(i, "selection")) return;
              var o = [];

              var _iterator180 = _createForOfIteratorHelper(i.getRanges()),
                  _step180;

              try {
                for (_iterator180.s(); !(_step180 = _iterator180.n()).done;) {
                  var _e129 = _step180.value;

                  var _t125 = n.mapper.toViewRange(_e129);

                  o.push(_t125);
                }
              } catch (err) {
                _iterator180.e(err);
              } finally {
                _iterator180.f();
              }

              n.writer.setSelection(o, {
                backward: i.isBackward
              });
            }, {
              priority: "low"
            }), this.downcastDispatcher.on("selection", function (e, t, n) {
              var i = t.selection;
              if (!i.isCollapsed) return;
              if (!n.consumable.consume(i, "selection")) return;
              var o = n.writer,
                  r = i.getFirstPosition(),
                  s = n.mapper.toViewPosition(r),
                  a = o.breakAttributes(s);
              o.setSelection(a);
            }, {
              priority: "low"
            }), this.view.document.roots.bindTo(this.model.document.roots).using(function (e) {
              if ("$graveyard" == e.rootName) return null;
              var t = new nr(_this56.view.document, e.name);
              return t.rootName = e.rootName, _this56.mapper.bindElements(e, t), t;
            });
          }

          _createClass(cl, [{
            key: "destroy",
            value: function destroy() {
              this.view.destroy(), this.stopListening();
            }
          }]);

          return cl;
        }();

        rt(cl, Ze);

        var ll = /*#__PURE__*/function (_Symbol$iterator9) {
          function ll() {
            _classCallCheck(this, ll);

            this._commands = new Map();
          }

          _createClass(ll, [{
            key: "add",
            value: function add(e, t) {
              this._commands.set(e, t);
            }
          }, {
            key: "get",
            value: function get(e) {
              return this._commands.get(e);
            }
          }, {
            key: "execute",
            value: function execute(e) {
              var n = this.get(e);
              if (!n) throw new c.a("commandcollection-command-not-found", this, {
                commandName: e
              });

              for (var _len18 = arguments.length, t = new Array(_len18 > 1 ? _len18 - 1 : 0), _key18 = 1; _key18 < _len18; _key18++) {
                t[_key18 - 1] = arguments[_key18];
              }

              return n.execute.apply(n, t);
            }
          }, {
            key: "names",
            value: /*#__PURE__*/regeneratorRuntime.mark(function names() {
              return regeneratorRuntime.wrap(function names$(_context20) {
                while (1) {
                  switch (_context20.prev = _context20.next) {
                    case 0:
                      return _context20.delegateYield(this._commands.keys(), "t0", 1);

                    case 1:
                    case "end":
                      return _context20.stop();
                  }
                }
              }, names, this);
            })
          }, {
            key: "commands",
            value: /*#__PURE__*/regeneratorRuntime.mark(function commands() {
              return regeneratorRuntime.wrap(function commands$(_context21) {
                while (1) {
                  switch (_context21.prev = _context21.next) {
                    case 0:
                      return _context21.delegateYield(this._commands.values(), "t0", 1);

                    case 1:
                    case "end":
                      return _context21.stop();
                  }
                }
              }, commands, this);
            })
          }, {
            key: _Symbol$iterator9,
            value: function value() {
              return this._commands[Symbol.iterator]();
            }
          }, {
            key: "destroy",
            value: function destroy() {
              var _iterator181 = _createForOfIteratorHelper(this.commands()),
                  _step181;

              try {
                for (_iterator181.s(); !(_step181 = _iterator181.n()).done;) {
                  var _e130 = _step181.value;

                  _e130.destroy();
                }
              } catch (err) {
                _iterator181.e(err);
              } finally {
                _iterator181.f();
              }
            }
          }]);

          return ll;
        }(Symbol.iterator);

        var dl = /*#__PURE__*/function () {
          function dl() {
            _classCallCheck(this, dl);

            this._consumables = new Map();
          }

          _createClass(dl, [{
            key: "add",
            value: function add(e, t) {
              var n;
              e.is("$text") || e.is("documentFragment") ? this._consumables.set(e, !0) : (this._consumables.has(e) ? n = this._consumables.get(e) : (n = new ul(e), this._consumables.set(e, n)), n.add(t));
            }
          }, {
            key: "test",
            value: function test(e, t) {
              var n = this._consumables.get(e);

              return void 0 === n ? null : e.is("$text") || e.is("documentFragment") ? n : n.test(t);
            }
          }, {
            key: "consume",
            value: function consume(e, t) {
              return !!this.test(e, t) && (e.is("$text") || e.is("documentFragment") ? this._consumables.set(e, !1) : this._consumables.get(e).consume(t), !0);
            }
          }, {
            key: "revert",
            value: function revert(e, t) {
              var n = this._consumables.get(e);

              void 0 !== n && (e.is("$text") || e.is("documentFragment") ? this._consumables.set(e, !0) : n.revert(t));
            }
          }], [{
            key: "consumablesFromElement",
            value: function consumablesFromElement(e) {
              var t = {
                element: e,
                name: !0,
                attributes: [],
                classes: [],
                styles: []
              },
                  n = e.getAttributeKeys();

              var _iterator182 = _createForOfIteratorHelper(n),
                  _step182;

              try {
                for (_iterator182.s(); !(_step182 = _iterator182.n()).done;) {
                  var _e131 = _step182.value;
                  "style" != _e131 && "class" != _e131 && t.attributes.push(_e131);
                }
              } catch (err) {
                _iterator182.e(err);
              } finally {
                _iterator182.f();
              }

              var i = e.getClassNames();

              var _iterator183 = _createForOfIteratorHelper(i),
                  _step183;

              try {
                for (_iterator183.s(); !(_step183 = _iterator183.n()).done;) {
                  var _e132 = _step183.value;
                  t.classes.push(_e132);
                }
              } catch (err) {
                _iterator183.e(err);
              } finally {
                _iterator183.f();
              }

              var o = e.getStyleNames();

              var _iterator184 = _createForOfIteratorHelper(o),
                  _step184;

              try {
                for (_iterator184.s(); !(_step184 = _iterator184.n()).done;) {
                  var _e133 = _step184.value;
                  t.styles.push(_e133);
                }
              } catch (err) {
                _iterator184.e(err);
              } finally {
                _iterator184.f();
              }

              return t;
            }
          }, {
            key: "createFrom",
            value: function createFrom(e, t) {
              if (t || (t = new dl(e)), e.is("$text")) return t.add(e), t;
              e.is("element") && t.add(e, dl.consumablesFromElement(e)), e.is("documentFragment") && t.add(e);

              var _iterator185 = _createForOfIteratorHelper(e.getChildren()),
                  _step185;

              try {
                for (_iterator185.s(); !(_step185 = _iterator185.n()).done;) {
                  var _n114 = _step185.value;
                  t = dl.createFrom(_n114, t);
                }
              } catch (err) {
                _iterator185.e(err);
              } finally {
                _iterator185.f();
              }

              return t;
            }
          }]);

          return dl;
        }();

        var ul = /*#__PURE__*/function () {
          function ul(e) {
            _classCallCheck(this, ul);

            this.element = e, this._canConsumeName = null, this._consumables = {
              attributes: new Map(),
              styles: new Map(),
              classes: new Map()
            };
          }

          _createClass(ul, [{
            key: "add",
            value: function add(e) {
              e.name && (this._canConsumeName = !0);

              for (var _t126 in this._consumables) {
                _t126 in e && this._add(_t126, e[_t126]);
              }
            }
          }, {
            key: "test",
            value: function test(e) {
              if (e.name && !this._canConsumeName) return this._canConsumeName;

              for (var _t127 in this._consumables) {
                if (_t127 in e) {
                  var _n115 = this._test(_t127, e[_t127]);

                  if (!0 !== _n115) return _n115;
                }
              }

              return !0;
            }
          }, {
            key: "consume",
            value: function consume(e) {
              e.name && (this._canConsumeName = !1);

              for (var _t128 in this._consumables) {
                _t128 in e && this._consume(_t128, e[_t128]);
              }
            }
          }, {
            key: "revert",
            value: function revert(e) {
              e.name && (this._canConsumeName = !0);

              for (var _t129 in this._consumables) {
                _t129 in e && this._revert(_t129, e[_t129]);
              }
            }
          }, {
            key: "_add",
            value: function _add(e, t) {
              var n = Me(t) ? t : [t],
                  i = this._consumables[e];

              var _iterator186 = _createForOfIteratorHelper(n),
                  _step186;

              try {
                for (_iterator186.s(); !(_step186 = _iterator186.n()).done;) {
                  var _t130 = _step186.value;
                  if ("attributes" === e && ("class" === _t130 || "style" === _t130)) throw new c.a("viewconsumable-invalid-attribute", this);

                  if (i.set(_t130, !0), "styles" === e) {
                    var _iterator187 = _createForOfIteratorHelper(this.element.document.stylesProcessor.getRelatedStyles(_t130)),
                        _step187;

                    try {
                      for (_iterator187.s(); !(_step187 = _iterator187.n()).done;) {
                        var _e134 = _step187.value;
                        i.set(_e134, !0);
                      }
                    } catch (err) {
                      _iterator187.e(err);
                    } finally {
                      _iterator187.f();
                    }
                  }
                }
              } catch (err) {
                _iterator186.e(err);
              } finally {
                _iterator186.f();
              }
            }
          }, {
            key: "_test",
            value: function _test(e, t) {
              var n = Me(t) ? t : [t],
                  i = this._consumables[e];

              var _iterator188 = _createForOfIteratorHelper(n),
                  _step188;

              try {
                for (_iterator188.s(); !(_step188 = _iterator188.n()).done;) {
                  var _t131 = _step188.value;

                  if ("attributes" !== e || "class" !== _t131 && "style" !== _t131) {
                    var _e135 = i.get(_t131);

                    if (void 0 === _e135) return null;
                    if (!_e135) return !1;
                  } else {
                    var _e136 = "class" == _t131 ? "classes" : "styles",
                        _n116 = this._test(_e136, _toConsumableArray(this._consumables[_e136].keys()));

                    if (!0 !== _n116) return _n116;
                  }
                }
              } catch (err) {
                _iterator188.e(err);
              } finally {
                _iterator188.f();
              }

              return !0;
            }
          }, {
            key: "_consume",
            value: function _consume(e, t) {
              var n = Me(t) ? t : [t],
                  i = this._consumables[e];

              var _iterator189 = _createForOfIteratorHelper(n),
                  _step189;

              try {
                for (_iterator189.s(); !(_step189 = _iterator189.n()).done;) {
                  var _t132 = _step189.value;

                  if ("attributes" !== e || "class" !== _t132 && "style" !== _t132) {
                    if (i.set(_t132, !1), "styles" == e) {
                      var _iterator190 = _createForOfIteratorHelper(this.element.document.stylesProcessor.getRelatedStyles(_t132)),
                          _step190;

                      try {
                        for (_iterator190.s(); !(_step190 = _iterator190.n()).done;) {
                          var _e137 = _step190.value;
                          i.set(_e137, !1);
                        }
                      } catch (err) {
                        _iterator190.e(err);
                      } finally {
                        _iterator190.f();
                      }
                    }
                  } else {
                    var _e138 = "class" == _t132 ? "classes" : "styles";

                    this._consume(_e138, _toConsumableArray(this._consumables[_e138].keys()));
                  }
                }
              } catch (err) {
                _iterator189.e(err);
              } finally {
                _iterator189.f();
              }
            }
          }, {
            key: "_revert",
            value: function _revert(e, t) {
              var n = Me(t) ? t : [t],
                  i = this._consumables[e];

              var _iterator191 = _createForOfIteratorHelper(n),
                  _step191;

              try {
                for (_iterator191.s(); !(_step191 = _iterator191.n()).done;) {
                  var _t133 = _step191.value;

                  if ("attributes" !== e || "class" !== _t133 && "style" !== _t133) {
                    !1 === i.get(_t133) && i.set(_t133, !0);
                  } else {
                    var _e139 = "class" == _t133 ? "classes" : "styles";

                    this._revert(_e139, _toConsumableArray(this._consumables[_e139].keys()));
                  }
                }
              } catch (err) {
                _iterator191.e(err);
              } finally {
                _iterator191.f();
              }
            }
          }]);

          return ul;
        }();

        var hl = /*#__PURE__*/function () {
          function hl() {
            var _this57 = this;

            _classCallCheck(this, hl);

            this._sourceDefinitions = {}, this._attributeProperties = {}, this.decorate("checkChild"), this.decorate("checkAttribute"), this.on("checkAttribute", function (e, t) {
              t[0] = new gl(t[0]);
            }, {
              priority: "highest"
            }), this.on("checkChild", function (e, t) {
              t[0] = new gl(t[0]), t[1] = _this57.getDefinition(t[1]);
            }, {
              priority: "highest"
            });
          }

          _createClass(hl, [{
            key: "register",
            value: function register(e, t) {
              if (this._sourceDefinitions[e]) throw new c.a("schema-cannot-register-item-twice", this, {
                itemName: e
              });
              this._sourceDefinitions[e] = [Object.assign({}, t)], this._clearCache();
            }
          }, {
            key: "extend",
            value: function extend(e, t) {
              if (!this._sourceDefinitions[e]) throw new c.a("schema-cannot-extend-missing-item", this, {
                itemName: e
              });
              this._sourceDefinitions[e].push(Object.assign({}, t)), this._clearCache();
            }
          }, {
            key: "getDefinitions",
            value: function getDefinitions() {
              return this._compiledDefinitions || this._compile(), this._compiledDefinitions;
            }
          }, {
            key: "getDefinition",
            value: function getDefinition(e) {
              var t;
              return t = "string" == typeof e ? e : e.is && (e.is("$text") || e.is("$textProxy")) ? "$text" : e.name, this.getDefinitions()[t];
            }
          }, {
            key: "isRegistered",
            value: function isRegistered(e) {
              return !!this.getDefinition(e);
            }
          }, {
            key: "isBlock",
            value: function isBlock(e) {
              var t = this.getDefinition(e);
              return !(!t || !t.isBlock);
            }
          }, {
            key: "isLimit",
            value: function isLimit(e) {
              var t = this.getDefinition(e);
              return !!t && !(!t.isLimit && !t.isObject);
            }
          }, {
            key: "isObject",
            value: function isObject(e) {
              var t = this.getDefinition(e);
              return !!t && !!(t.isObject || t.isLimit && t.isSelectable && t.isContent);
            }
          }, {
            key: "isInline",
            value: function isInline(e) {
              var t = this.getDefinition(e);
              return !(!t || !t.isInline);
            }
          }, {
            key: "isSelectable",
            value: function isSelectable(e) {
              var t = this.getDefinition(e);
              return !!t && !(!t.isSelectable && !t.isObject);
            }
          }, {
            key: "isContent",
            value: function isContent(e) {
              var t = this.getDefinition(e);
              return !!t && !(!t.isContent && !t.isObject);
            }
          }, {
            key: "checkChild",
            value: function checkChild(e, t) {
              return !!t && this._checkContextMatch(t, e);
            }
          }, {
            key: "checkAttribute",
            value: function checkAttribute(e, t) {
              var n = this.getDefinition(e.last);
              return !!n && n.allowAttributes.includes(t);
            }
          }, {
            key: "checkMerge",
            value: function checkMerge(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

              if (e instanceof wc) {
                var _t134 = e.nodeBefore,
                    _n117 = e.nodeAfter;
                if (!(_t134 instanceof pc)) throw new c.a("schema-check-merge-no-element-before", this);
                if (!(_n117 instanceof pc)) throw new c.a("schema-check-merge-no-element-after", this);
                return this.checkMerge(_t134, _n117);
              }

              var _iterator192 = _createForOfIteratorHelper(t.getChildren()),
                  _step192;

              try {
                for (_iterator192.s(); !(_step192 = _iterator192.n()).done;) {
                  var _n118 = _step192.value;
                  if (!this.checkChild(e, _n118)) return !1;
                }
              } catch (err) {
                _iterator192.e(err);
              } finally {
                _iterator192.f();
              }

              return !0;
            }
          }, {
            key: "addChildCheck",
            value: function addChildCheck(e) {
              this.on("checkChild", function (t, _ref17) {
                var _ref18 = _slicedToArray(_ref17, 2),
                    n = _ref18[0],
                    i = _ref18[1];

                if (!i) return;
                var o = e(n, i);
                "boolean" == typeof o && (t.stop(), t["return"] = o);
              }, {
                priority: "high"
              });
            }
          }, {
            key: "addAttributeCheck",
            value: function addAttributeCheck(e) {
              this.on("checkAttribute", function (t, _ref19) {
                var _ref20 = _slicedToArray(_ref19, 2),
                    n = _ref20[0],
                    i = _ref20[1];

                var o = e(n, i);
                "boolean" == typeof o && (t.stop(), t["return"] = o);
              }, {
                priority: "high"
              });
            }
          }, {
            key: "setAttributeProperties",
            value: function setAttributeProperties(e, t) {
              this._attributeProperties[e] = Object.assign(this.getAttributeProperties(e), t);
            }
          }, {
            key: "getAttributeProperties",
            value: function getAttributeProperties(e) {
              return this._attributeProperties[e] || {};
            }
          }, {
            key: "getLimitElement",
            value: function getLimitElement(e) {
              var t;
              if (e instanceof wc) t = e.parent;else {
                t = (e instanceof yc ? [e] : Array.from(e.getRanges())).reduce(function (e, t) {
                  var n = t.getCommonAncestor();
                  return e ? e.getCommonAncestor(n, {
                    includeSelf: !0
                  }) : n;
                }, null);
              }

              for (; !this.isLimit(t) && t.parent;) {
                t = t.parent;
              }

              return t;
            }
          }, {
            key: "checkAttributeInSelection",
            value: function checkAttributeInSelection(e, t) {
              if (e.isCollapsed) {
                var _n119 = [].concat(_toConsumableArray(e.getFirstPosition().getAncestors()), [new gc("", e.getAttributes())]);

                return this.checkAttribute(_n119, t);
              }

              {
                var _n120 = e.getRanges();

                var _iterator193 = _createForOfIteratorHelper(_n120),
                    _step193;

                try {
                  for (_iterator193.s(); !(_step193 = _iterator193.n()).done;) {
                    var _e140 = _step193.value;

                    var _iterator194 = _createForOfIteratorHelper(_e140),
                        _step194;

                    try {
                      for (_iterator194.s(); !(_step194 = _iterator194.n()).done;) {
                        var _n121 = _step194.value;
                        if (this.checkAttribute(_n121.item, t)) return !0;
                      }
                    } catch (err) {
                      _iterator194.e(err);
                    } finally {
                      _iterator194.f();
                    }
                  }
                } catch (err) {
                  _iterator193.e(err);
                } finally {
                  _iterator193.f();
                }
              }
              return !1;
            }
          }, {
            key: "getValidRanges",
            value: /*#__PURE__*/regeneratorRuntime.mark(function getValidRanges(e, t) {
              var _iterator196, _step196, _n122;

              return regeneratorRuntime.wrap(function getValidRanges$(_context23) {
                while (1) {
                  switch (_context23.prev = _context23.next) {
                    case 0:
                      e = /*#__PURE__*/regeneratorRuntime.mark(function _callee(e) {
                        var _iterator195, _step195, _t135;

                        return regeneratorRuntime.wrap(function _callee$(_context22) {
                          while (1) {
                            switch (_context22.prev = _context22.next) {
                              case 0:
                                _iterator195 = _createForOfIteratorHelper(e);
                                _context22.prev = 1;

                                _iterator195.s();

                              case 3:
                                if ((_step195 = _iterator195.n()).done) {
                                  _context22.next = 8;
                                  break;
                                }

                                _t135 = _step195.value;
                                return _context22.delegateYield(_t135.getMinimalFlatRanges(), "t0", 6);

                              case 6:
                                _context22.next = 3;
                                break;

                              case 8:
                                _context22.next = 13;
                                break;

                              case 10:
                                _context22.prev = 10;
                                _context22.t1 = _context22["catch"](1);

                                _iterator195.e(_context22.t1);

                              case 13:
                                _context22.prev = 13;

                                _iterator195.f();

                                return _context22.finish(13);

                              case 16:
                              case "end":
                                return _context22.stop();
                            }
                          }
                        }, _callee, null, [[1, 10, 13, 16]]);
                      })(e);
                      _iterator196 = _createForOfIteratorHelper(e);
                      _context23.prev = 2;

                      _iterator196.s();

                    case 4:
                      if ((_step196 = _iterator196.n()).done) {
                        _context23.next = 9;
                        break;
                      }

                      _n122 = _step196.value;
                      return _context23.delegateYield(this._getValidRangesForRange(_n122, t), "t0", 7);

                    case 7:
                      _context23.next = 4;
                      break;

                    case 9:
                      _context23.next = 14;
                      break;

                    case 11:
                      _context23.prev = 11;
                      _context23.t1 = _context23["catch"](2);

                      _iterator196.e(_context23.t1);

                    case 14:
                      _context23.prev = 14;

                      _iterator196.f();

                      return _context23.finish(14);

                    case 17:
                    case "end":
                      return _context23.stop();
                  }
                }
              }, getValidRanges, this, [[2, 11, 14, 17]]);
            })
          }, {
            key: "getNearestSelectionRange",
            value: function getNearestSelectionRange(e) {
              var _this58 = this;

              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "both";
              if (this.checkChild(e, "$text")) return new yc(e);
              var n, i;
              var o = e.getAncestors().reverse().find(function (e) {
                return _this58.isLimit(e);
              }) || e.root;
              "both" != t && "backward" != t || (n = new kc({
                boundaries: yc._createIn(o),
                startPosition: e,
                direction: "backward"
              })), "both" != t && "forward" != t || (i = new kc({
                boundaries: yc._createIn(o),
                startPosition: e
              }));

              var _iterator197 = _createForOfIteratorHelper( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(e, t) {
                var n, _t136, _e141;

                return regeneratorRuntime.wrap(function _callee2$(_context24) {
                  while (1) {
                    switch (_context24.prev = _context24.next) {
                      case 0:
                        n = !1;

                      case 1:
                        if (n) {
                          _context24.next = 18;
                          break;
                        }

                        if (!(n = !0, e)) {
                          _context24.next = 9;
                          break;
                        }

                        _t136 = e.next();
                        _context24.t0 = _t136.done;

                        if (_context24.t0) {
                          _context24.next = 9;
                          break;
                        }

                        n = !1;
                        _context24.next = 9;
                        return {
                          walker: e,
                          value: _t136.value
                        };

                      case 9:
                        if (!t) {
                          _context24.next = 16;
                          break;
                        }

                        _e141 = t.next();
                        _context24.t1 = _e141.done;

                        if (_context24.t1) {
                          _context24.next = 16;
                          break;
                        }

                        n = !1;
                        _context24.next = 16;
                        return {
                          walker: t,
                          value: _e141.value
                        };

                      case 16:
                        _context24.next = 1;
                        break;

                      case 18:
                      case "end":
                        return _context24.stop();
                    }
                  }
                }, _callee2);
              })(n, i)),
                  _step197;

              try {
                for (_iterator197.s(); !(_step197 = _iterator197.n()).done;) {
                  var _e142 = _step197.value;

                  var _t137 = _e142.walker == n ? "elementEnd" : "elementStart",
                      _i90 = _e142.value;

                  if (_i90.type == _t137 && this.isObject(_i90.item)) return yc._createOn(_i90.item);
                  if (this.checkChild(_i90.nextPosition, "$text")) return new yc(_i90.nextPosition);
                }
              } catch (err) {
                _iterator197.e(err);
              } finally {
                _iterator197.f();
              }

              return null;
            }
          }, {
            key: "findAllowedParent",
            value: function findAllowedParent(e, t) {
              var n = e.parent;

              for (; n;) {
                if (this.checkChild(n, t)) return n;
                if (this.isLimit(n)) return null;
                n = n.parent;
              }

              return null;
            }
          }, {
            key: "removeDisallowedAttributes",
            value: function removeDisallowedAttributes(e, t) {
              var _iterator198 = _createForOfIteratorHelper(e),
                  _step198;

              try {
                for (_iterator198.s(); !(_step198 = _iterator198.n()).done;) {
                  var _n123 = _step198.value;
                  if (_n123.is("$text")) Al(this, _n123, t);else {
                    var _e143 = yc._createIn(_n123).getPositions();

                    var _iterator199 = _createForOfIteratorHelper(_e143),
                        _step199;

                    try {
                      for (_iterator199.s(); !(_step199 = _iterator199.n()).done;) {
                        var _n124 = _step199.value;
                        Al(this, _n124.nodeBefore || _n124.parent, t);
                      }
                    } catch (err) {
                      _iterator199.e(err);
                    } finally {
                      _iterator199.f();
                    }
                  }
                }
              } catch (err) {
                _iterator198.e(err);
              } finally {
                _iterator198.f();
              }
            }
          }, {
            key: "createContext",
            value: function createContext(e) {
              return new gl(e);
            }
          }, {
            key: "_clearCache",
            value: function _clearCache() {
              this._compiledDefinitions = null;
            }
          }, {
            key: "_compile",
            value: function _compile() {
              var e = {},
                  t = this._sourceDefinitions,
                  n = Object.keys(t);

              for (var _i91 = 0, _n125 = n; _i91 < _n125.length; _i91++) {
                var _i92 = _n125[_i91];
                e[_i92] = ml(t[_i92], _i92);
              }

              for (var _i93 = 0, _n126 = n; _i93 < _n126.length; _i93++) {
                var _t138 = _n126[_i93];
                fl(e, _t138);
              }

              for (var _i94 = 0, _n127 = n; _i94 < _n127.length; _i94++) {
                var _t139 = _n127[_i94];
                pl(e, _t139);
              }

              for (var _i95 = 0, _n128 = n; _i95 < _n128.length; _i95++) {
                var _t140 = _n128[_i95];
                kl(e, _t140);
              }

              for (var _i96 = 0, _n129 = n; _i96 < _n129.length; _i96++) {
                var _t141 = _n129[_i96];
                bl(e, _t141), wl(e, _t141);
              }

              for (var _i97 = 0, _n130 = n; _i97 < _n130.length; _i97++) {
                var _t142 = _n130[_i97];
                _l(e, _t142), vl(e, _t142), xl(e, _t142);
              }

              this._compiledDefinitions = e;
            }
          }, {
            key: "_checkContextMatch",
            value: function _checkContextMatch(e, t) {
              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : t.length - 1;
              var i = t.getItem(n);

              if (e.allowIn.includes(i.name)) {
                if (0 == n) return !0;
                {
                  var _e144 = this.getDefinition(i);

                  return this._checkContextMatch(_e144, t, n - 1);
                }
              }

              return !1;
            }
          }, {
            key: "_getValidRangesForRange",
            value: /*#__PURE__*/regeneratorRuntime.mark(function _getValidRangesForRange(e, t) {
              var n, i, _iterator200, _step200, _o40;

              return regeneratorRuntime.wrap(function _getValidRangesForRange$(_context25) {
                while (1) {
                  switch (_context25.prev = _context25.next) {
                    case 0:
                      n = e.start, i = e.start;
                      _iterator200 = _createForOfIteratorHelper(e.getItems({
                        shallow: !0
                      }));
                      _context25.prev = 2;

                      _iterator200.s();

                    case 4:
                      if ((_step200 = _iterator200.n()).done) {
                        _context25.next = 19;
                        break;
                      }

                      _o40 = _step200.value;
                      _context25.t0 = _o40.is("element");

                      if (!_context25.t0) {
                        _context25.next = 9;
                        break;
                      }

                      return _context25.delegateYield(this._getValidRangesForRange(yc._createIn(_o40), t), "t1", 9);

                    case 9:
                      _context25.t2 = this.checkAttribute(_o40, t);

                      if (_context25.t2) {
                        _context25.next = 16;
                        break;
                      }

                      _context25.t3 = n.isEqual(i);

                      if (_context25.t3) {
                        _context25.next = 15;
                        break;
                      }

                      _context25.next = 15;
                      return new yc(n, i);

                    case 15:
                      n = wc._createAfter(_o40);

                    case 16:
                      i = wc._createAfter(_o40);

                    case 17:
                      _context25.next = 4;
                      break;

                    case 19:
                      _context25.next = 24;
                      break;

                    case 21:
                      _context25.prev = 21;
                      _context25.t4 = _context25["catch"](2);

                      _iterator200.e(_context25.t4);

                    case 24:
                      _context25.prev = 24;

                      _iterator200.f();

                      return _context25.finish(24);

                    case 27:
                      _context25.t5 = n.isEqual(i);

                      if (_context25.t5) {
                        _context25.next = 31;
                        break;
                      }

                      _context25.next = 31;
                      return new yc(n, i);

                    case 31:
                    case "end":
                      return _context25.stop();
                  }
                }
              }, _getValidRangesForRange, this, [[2, 21, 24, 27]]);
            })
          }]);

          return hl;
        }();

        rt(hl, Ze);

        var gl = /*#__PURE__*/function (_Symbol$iterator10) {
          function gl(e) {
            _classCallCheck(this, gl);

            if (e instanceof gl) return e;
            "string" == typeof e ? e = [e] : Array.isArray(e) || (e = e.getAncestors({
              includeSelf: !0
            })), this._items = e.map(Tl);
          }

          _createClass(gl, [{
            key: "length",
            get: function get() {
              return this._items.length;
            }
          }, {
            key: "last",
            get: function get() {
              return this._items[this._items.length - 1];
            }
          }, {
            key: _Symbol$iterator10,
            value: function value() {
              return this._items[Symbol.iterator]();
            }
          }, {
            key: "push",
            value: function push(e) {
              var t = new gl([e]);
              return t._items = [].concat(_toConsumableArray(this._items), _toConsumableArray(t._items)), t;
            }
          }, {
            key: "getItem",
            value: function getItem(e) {
              return this._items[e];
            }
          }, {
            key: "getNames",
            value: /*#__PURE__*/regeneratorRuntime.mark(function getNames() {
              return regeneratorRuntime.wrap(function getNames$(_context26) {
                while (1) {
                  switch (_context26.prev = _context26.next) {
                    case 0:
                      return _context26.delegateYield(this._items.map(function (e) {
                        return e.name;
                      }), "t0", 1);

                    case 1:
                    case "end":
                      return _context26.stop();
                  }
                }
              }, getNames, this);
            })
          }, {
            key: "endsWith",
            value: function endsWith(e) {
              return Array.from(this.getNames()).join(" ").endsWith(e);
            }
          }, {
            key: "startsWith",
            value: function startsWith(e) {
              return Array.from(this.getNames()).join(" ").startsWith(e);
            }
          }]);

          return gl;
        }(Symbol.iterator);

        function ml(e, t) {
          var n = {
            name: t,
            allowIn: [],
            allowContentOf: [],
            allowWhere: [],
            allowAttributes: [],
            allowAttributesOf: [],
            allowChildren: [],
            inheritTypesFrom: []
          };
          return function (e, t) {
            var _iterator201 = _createForOfIteratorHelper(e),
                _step201;

            try {
              for (_iterator201.s(); !(_step201 = _iterator201.n()).done;) {
                var _n131 = _step201.value;

                var _e145 = Object.keys(_n131).filter(function (e) {
                  return e.startsWith("is");
                });

                var _iterator202 = _createForOfIteratorHelper(_e145),
                    _step202;

                try {
                  for (_iterator202.s(); !(_step202 = _iterator202.n()).done;) {
                    var _i98 = _step202.value;
                    t[_i98] = _n131[_i98];
                  }
                } catch (err) {
                  _iterator202.e(err);
                } finally {
                  _iterator202.f();
                }
              }
            } catch (err) {
              _iterator201.e(err);
            } finally {
              _iterator201.f();
            }
          }(e, n), yl(e, n, "allowIn"), yl(e, n, "allowContentOf"), yl(e, n, "allowWhere"), yl(e, n, "allowAttributes"), yl(e, n, "allowAttributesOf"), yl(e, n, "allowChildren"), yl(e, n, "inheritTypesFrom"), function (e, t) {
            var _iterator203 = _createForOfIteratorHelper(e),
                _step203;

            try {
              for (_iterator203.s(); !(_step203 = _iterator203.n()).done;) {
                var _n132 = _step203.value;
                var _e146 = _n132.inheritAllFrom;
                _e146 && (t.allowContentOf.push(_e146), t.allowWhere.push(_e146), t.allowAttributesOf.push(_e146), t.inheritTypesFrom.push(_e146));
              }
            } catch (err) {
              _iterator203.e(err);
            } finally {
              _iterator203.f();
            }
          }(e, n), n;
        }

        function fl(e, t) {
          var n = e[t];

          var _iterator204 = _createForOfIteratorHelper(n.allowChildren),
              _step204;

          try {
            for (_iterator204.s(); !(_step204 = _iterator204.n()).done;) {
              var _i99 = _step204.value;
              var _n133 = e[_i99];
              _n133 && _n133.allowIn.push(t);
            }
          } catch (err) {
            _iterator204.e(err);
          } finally {
            _iterator204.f();
          }

          n.allowChildren.length = 0;
        }

        function pl(e, t) {
          var _iterator205 = _createForOfIteratorHelper(e[t].allowContentOf),
              _step205;

          try {
            for (_iterator205.s(); !(_step205 = _iterator205.n()).done;) {
              var _n134 = _step205.value;

              if (e[_n134]) {
                Cl(e, _n134).forEach(function (e) {
                  e.allowIn.push(t);
                });
              }
            }
          } catch (err) {
            _iterator205.e(err);
          } finally {
            _iterator205.f();
          }

          delete e[t].allowContentOf;
        }

        function kl(e, t) {
          var _iterator206 = _createForOfIteratorHelper(e[t].allowWhere),
              _step206;

          try {
            for (_iterator206.s(); !(_step206 = _iterator206.n()).done;) {
              var _n135 = _step206.value;
              var _i100 = e[_n135];

              if (_i100) {
                var _e$t$allowIn;

                var _n136 = _i100.allowIn;

                (_e$t$allowIn = e[t].allowIn).push.apply(_e$t$allowIn, _toConsumableArray(_n136));
              }
            }
          } catch (err) {
            _iterator206.e(err);
          } finally {
            _iterator206.f();
          }

          delete e[t].allowWhere;
        }

        function bl(e, t) {
          var _iterator207 = _createForOfIteratorHelper(e[t].allowAttributesOf),
              _step207;

          try {
            for (_iterator207.s(); !(_step207 = _iterator207.n()).done;) {
              var _n137 = _step207.value;
              var _i101 = e[_n137];

              if (_i101) {
                var _e$t$allowAttributes;

                var _n138 = _i101.allowAttributes;

                (_e$t$allowAttributes = e[t].allowAttributes).push.apply(_e$t$allowAttributes, _toConsumableArray(_n138));
              }
            }
          } catch (err) {
            _iterator207.e(err);
          } finally {
            _iterator207.f();
          }

          delete e[t].allowAttributesOf;
        }

        function wl(e, t) {
          var n = e[t];

          var _iterator208 = _createForOfIteratorHelper(n.inheritTypesFrom),
              _step208;

          try {
            for (_iterator208.s(); !(_step208 = _iterator208.n()).done;) {
              var _t143 = _step208.value;
              var _i102 = e[_t143];

              if (_i102) {
                var _e147 = Object.keys(_i102).filter(function (e) {
                  return e.startsWith("is");
                });

                var _iterator209 = _createForOfIteratorHelper(_e147),
                    _step209;

                try {
                  for (_iterator209.s(); !(_step209 = _iterator209.n()).done;) {
                    var _t144 = _step209.value;
                    _t144 in n || (n[_t144] = _i102[_t144]);
                  }
                } catch (err) {
                  _iterator209.e(err);
                } finally {
                  _iterator209.f();
                }
              }
            }
          } catch (err) {
            _iterator208.e(err);
          } finally {
            _iterator208.f();
          }

          delete n.inheritTypesFrom;
        }

        function _l(e, t) {
          var n = e[t],
              i = n.allowIn.filter(function (t) {
            return e[t];
          });
          n.allowIn = Array.from(new Set(i));
        }

        function vl(e, t) {
          var n = e[t];

          var _iterator210 = _createForOfIteratorHelper(n.allowIn),
              _step210;

          try {
            for (_iterator210.s(); !(_step210 = _iterator210.n()).done;) {
              var _i103 = _step210.value;

              e[_i103].allowChildren.push(t);
            }
          } catch (err) {
            _iterator210.e(err);
          } finally {
            _iterator210.f();
          }
        }

        function xl(e, t) {
          var n = e[t];
          n.allowAttributes = Array.from(new Set(n.allowAttributes));
        }

        function yl(e, t, n) {
          var _iterator211 = _createForOfIteratorHelper(e),
              _step211;

          try {
            for (_iterator211.s(); !(_step211 = _iterator211.n()).done;) {
              var _t$n;

              var _i104 = _step211.value;
              "string" == typeof _i104[n] ? t[n].push(_i104[n]) : Array.isArray(_i104[n]) && (_t$n = t[n]).push.apply(_t$n, _toConsumableArray(_i104[n]));
            }
          } catch (err) {
            _iterator211.e(err);
          } finally {
            _iterator211.f();
          }
        }

        function Cl(e, t) {
          var n = e[t];
          return function (e) {
            return Object.keys(e).map(function (t) {
              return e[t];
            });
          }(e).filter(function (e) {
            return e.allowIn.includes(n.name);
          });
        }

        function Tl(e) {
          return "string" == typeof e || e.is("documentFragment") ? {
            name: "string" == typeof e ? e : "$documentFragment",
            getAttributeKeys: /*#__PURE__*/regeneratorRuntime.mark(function getAttributeKeys() {
              return regeneratorRuntime.wrap(function getAttributeKeys$(_context27) {
                while (1) {
                  switch (_context27.prev = _context27.next) {
                    case 0:
                    case "end":
                      return _context27.stop();
                  }
                }
              }, getAttributeKeys);
            }),
            getAttribute: function getAttribute() {}
          } : {
            name: e.is("element") ? e.name : "$text",
            getAttributeKeys: /*#__PURE__*/regeneratorRuntime.mark(function getAttributeKeys() {
              return regeneratorRuntime.wrap(function getAttributeKeys$(_context28) {
                while (1) {
                  switch (_context28.prev = _context28.next) {
                    case 0:
                      return _context28.delegateYield(e.getAttributeKeys(), "t0", 1);

                    case 1:
                    case "end":
                      return _context28.stop();
                  }
                }
              }, getAttributeKeys);
            }),
            getAttribute: function getAttribute(t) {
              return e.getAttribute(t);
            }
          };
        }

        function Al(e, t, n) {
          var _iterator212 = _createForOfIteratorHelper(t.getAttributeKeys()),
              _step212;

          try {
            for (_iterator212.s(); !(_step212 = _iterator212.n()).done;) {
              var _i105 = _step212.value;
              e.checkAttribute(t, _i105) || n.removeAttribute(_i105, t);
            }
          } catch (err) {
            _iterator212.e(err);
          } finally {
            _iterator212.f();
          }
        }

        var El = /*#__PURE__*/function () {
          function El() {
            var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

            _classCallCheck(this, El);

            this._splitParts = new Map(), this._cursorParents = new Map(), this._modelCursor = null, this.conversionApi = Object.assign({}, e), this.conversionApi.convertItem = this._convertItem.bind(this), this.conversionApi.convertChildren = this._convertChildren.bind(this), this.conversionApi.safeInsert = this._safeInsert.bind(this), this.conversionApi.updateConversionResult = this._updateConversionResult.bind(this), this.conversionApi.splitToAllowedParent = this._splitToAllowedParent.bind(this), this.conversionApi.getSplitParts = this._getSplitParts.bind(this);
          }

          _createClass(El, [{
            key: "convert",
            value: function convert(e, t) {
              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : ["$root"];
              this.fire("viewCleanup", e), this._modelCursor = function (e, t) {
                var n;

                var _iterator213 = _createForOfIteratorHelper(new gl(e)),
                    _step213;

                try {
                  for (_iterator213.s(); !(_step213 = _iterator213.n()).done;) {
                    var _i106 = _step213.value;
                    var _e148 = {};

                    var _iterator214 = _createForOfIteratorHelper(_i106.getAttributeKeys()),
                        _step214;

                    try {
                      for (_iterator214.s(); !(_step214 = _iterator214.n()).done;) {
                        var _t145 = _step214.value;
                        _e148[_t145] = _i106.getAttribute(_t145);
                      }
                    } catch (err) {
                      _iterator214.e(err);
                    } finally {
                      _iterator214.f();
                    }

                    var _o41 = t.createElement(_i106.name, _e148);

                    n && t.append(_o41, n), n = wc._createAt(_o41, 0);
                  }
                } catch (err) {
                  _iterator213.e(err);
                } finally {
                  _iterator213.f();
                }

                return n;
              }(n, t), this.conversionApi.writer = t, this.conversionApi.consumable = dl.createFrom(e), this.conversionApi.store = {};

              var _this$_convertItem = this._convertItem(e, this._modelCursor),
                  i = _this$_convertItem.modelRange,
                  o = t.createDocumentFragment();

              if (i) {
                this._removeEmptyElements();

                for (var _i107 = 0, _Array$from4 = Array.from(this._modelCursor.parent.getChildren()); _i107 < _Array$from4.length; _i107++) {
                  var _e149 = _Array$from4[_i107];
                  t.append(_e149, o);
                }

                o.markers = function (e, t) {
                  var n = new Set(),
                      i = new Map(),
                      o = yc._createIn(e).getItems();

                  var _iterator215 = _createForOfIteratorHelper(o),
                      _step215;

                  try {
                    for (_iterator215.s(); !(_step215 = _iterator215.n()).done;) {
                      var _e150 = _step215.value;
                      "$marker" == _e150.name && n.add(_e150);
                    }
                  } catch (err) {
                    _iterator215.e(err);
                  } finally {
                    _iterator215.f();
                  }

                  var _iterator216 = _createForOfIteratorHelper(n),
                      _step216;

                  try {
                    for (_iterator216.s(); !(_step216 = _iterator216.n()).done;) {
                      var _e151 = _step216.value;

                      var _n139 = _e151.getAttribute("data-name"),
                          _o42 = t.createPositionBefore(_e151);

                      i.has(_n139) ? i.get(_n139).end = _o42.clone() : i.set(_n139, new yc(_o42.clone())), t.remove(_e151);
                    }
                  } catch (err) {
                    _iterator216.e(err);
                  } finally {
                    _iterator216.f();
                  }

                  return i;
                }(o, t);
              }

              return this._modelCursor = null, this._splitParts.clear(), this._cursorParents.clear(), this.conversionApi.writer = null, this.conversionApi.store = null, o;
            }
          }, {
            key: "_convertItem",
            value: function _convertItem(e, t) {
              var n = Object.assign({
                viewItem: e,
                modelCursor: t,
                modelRange: null
              });
              if (e.is("element") ? this.fire("element:" + e.name, n, this.conversionApi) : e.is("$text") ? this.fire("text", n, this.conversionApi) : this.fire("documentFragment", n, this.conversionApi), n.modelRange && !(n.modelRange instanceof yc)) throw new c.a("view-conversion-dispatcher-incorrect-result", this);
              return {
                modelRange: n.modelRange,
                modelCursor: n.modelCursor
              };
            }
          }, {
            key: "_convertChildren",
            value: function _convertChildren(e, t) {
              var n = t.is("position") ? t : wc._createAt(t, 0);
              var i = new yc(n);

              for (var _i108 = 0, _Array$from5 = Array.from(e.getChildren()); _i108 < _Array$from5.length; _i108++) {
                var _t146 = _Array$from5[_i108];

                var _e152 = this._convertItem(_t146, n);

                _e152.modelRange instanceof yc && (i.end = _e152.modelRange.end, n = _e152.modelCursor);
              }

              return {
                modelRange: i,
                modelCursor: n
              };
            }
          }, {
            key: "_safeInsert",
            value: function _safeInsert(e, t) {
              var n = this._splitToAllowedParent(e, t);

              return !!n && (this.conversionApi.writer.insert(e, n.position), !0);
            }
          }, {
            key: "_updateConversionResult",
            value: function _updateConversionResult(e, t) {
              var n = this._getSplitParts(e),
                  i = this.conversionApi.writer;

              t.modelRange || (t.modelRange = i.createRange(i.createPositionBefore(e), i.createPositionAfter(n[n.length - 1])));

              var o = this._cursorParents.get(e);

              t.modelCursor = o ? i.createPositionAt(o, 0) : t.modelRange.end;
            }
          }, {
            key: "_splitToAllowedParent",
            value: function _splitToAllowedParent(e, t) {
              var _this$conversionApi = this.conversionApi,
                  n = _this$conversionApi.schema,
                  i = _this$conversionApi.writer;
              var o = n.findAllowedParent(t, e);

              if (o) {
                if (o === t.parent) return {
                  position: t
                };
                this._modelCursor.parent.getAncestors().includes(o) && (o = null);
              }

              if (!o) return Zc(t, e, n) ? {
                position: el(t, i)
              } : null;
              var r = this.conversionApi.writer.split(t, o),
                  s = [];

              var _iterator217 = _createForOfIteratorHelper(r.range.getWalker()),
                  _step217;

              try {
                for (_iterator217.s(); !(_step217 = _iterator217.n()).done;) {
                  var _e153 = _step217.value;
                  if ("elementEnd" == _e153.type) s.push(_e153.item);else {
                    var _t147 = s.pop(),
                        _n140 = _e153.item;

                    this._registerSplitPair(_t147, _n140);
                  }
                }
              } catch (err) {
                _iterator217.e(err);
              } finally {
                _iterator217.f();
              }

              var a = r.range.end.parent;
              return this._cursorParents.set(e, a), {
                position: r.position,
                cursorParent: a
              };
            }
          }, {
            key: "_registerSplitPair",
            value: function _registerSplitPair(e, t) {
              this._splitParts.has(e) || this._splitParts.set(e, [e]);

              var n = this._splitParts.get(e);

              this._splitParts.set(t, n), n.push(t);
            }
          }, {
            key: "_getSplitParts",
            value: function _getSplitParts(e) {
              var t;
              return t = this._splitParts.has(e) ? this._splitParts.get(e) : [e];
            }
          }, {
            key: "_removeEmptyElements",
            value: function _removeEmptyElements() {
              var e = !1;

              var _iterator218 = _createForOfIteratorHelper(this._splitParts.keys()),
                  _step218;

              try {
                for (_iterator218.s(); !(_step218 = _iterator218.n()).done;) {
                  var _t148 = _step218.value;
                  _t148.isEmpty && (this.conversionApi.writer.remove(_t148), this._splitParts["delete"](_t148), e = !0);
                }
              } catch (err) {
                _iterator218.e(err);
              } finally {
                _iterator218.f();
              }

              e && this._removeEmptyElements();
            }
          }]);

          return El;
        }();

        rt(El, u);

        var Il = /*#__PURE__*/function () {
          function Il() {
            _classCallCheck(this, Il);
          }

          _createClass(Il, [{
            key: "getHtml",
            value: function getHtml(e) {
              var t = document.implementation.createHTMLDocument("").createElement("div");
              return t.appendChild(e), t.innerHTML;
            }
          }]);

          return Il;
        }();

        var Sl = /*#__PURE__*/function () {
          function Sl(e) {
            _classCallCheck(this, Sl);

            this.domParser = new DOMParser(), this.domConverter = new vs(e, {
              renderingMode: "data"
            }), this.htmlWriter = new Il();
          }

          _createClass(Sl, [{
            key: "toData",
            value: function toData(e) {
              var t = this.domConverter.viewToDom(e, document);
              return this.htmlWriter.getHtml(t);
            }
          }, {
            key: "toView",
            value: function toView(e) {
              var t = this._toDom(e);

              return this.domConverter.domToView(t);
            }
          }, {
            key: "registerRawContentMatcher",
            value: function registerRawContentMatcher(e) {
              this.domConverter.registerRawContentMatcher(e);
            }
          }, {
            key: "useFillerType",
            value: function useFillerType(e) {
              this.domConverter.blockFillerMode = "marked" == e ? "markedNbsp" : "nbsp";
            }
          }, {
            key: "_toDom",
            value: function _toDom(e) {
              var t = this.domParser.parseFromString(e, "text/html"),
                  n = t.createDocumentFragment();
              var i = t.firstChild;

              for (; !i.isSameNode(t.documentElement);) {
                var _e154 = i;
                i = i.nextSibling, _e154.nodeType == Node.COMMENT_NODE && n.appendChild(_e154);
              }

              var o = t.body.childNodes;

              for (; o.length > 0;) {
                n.appendChild(o[0]);
              }

              return n;
            }
          }]);

          return Sl;
        }();

        var Ml = /*#__PURE__*/function () {
          function Ml(e, t) {
            var _this59 = this;

            _classCallCheck(this, Ml);

            this.model = e, this.mapper = new Cc(), this.downcastDispatcher = new Ec({
              mapper: this.mapper,
              schema: e.schema
            }), this.downcastDispatcher.on("insert:$text", function (e, t, n) {
              if (!n.consumable.consume(t.item, "insert")) return;
              var i = n.writer,
                  o = n.mapper.toViewPosition(t.range.start),
                  r = i.createText(t.item.data);
              i.insert(o, r);
            }, {
              priority: "lowest"
            }), this.upcastDispatcher = new El({
              schema: e.schema
            }), this.viewDocument = new pr(t), this.stylesProcessor = t, this.htmlProcessor = new Sl(this.viewDocument), this.processor = this.htmlProcessor, this._viewWriter = new Br(this.viewDocument), this.upcastDispatcher.on("text", function (e, t, _ref21) {
              var n = _ref21.schema,
                  i = _ref21.consumable,
                  o = _ref21.writer;
              var r = t.modelCursor;
              if (!i.test(t.viewItem)) return;

              if (!n.checkChild(r, "$text")) {
                if (!Zc(r, "$text", n)) return;
                r = el(r, o);
              }

              i.consume(t.viewItem);
              var s = o.createText(t.viewItem.data);
              o.insert(s, r), t.modelRange = o.createRange(r, r.getShiftedBy(s.offsetSize)), t.modelCursor = t.modelRange.end;
            }, {
              priority: "lowest"
            }), this.upcastDispatcher.on("element", function (e, t, n) {
              if (!t.modelRange && n.consumable.consume(t.viewItem, {
                name: !0
              })) {
                var _n$convertChildren = n.convertChildren(t.viewItem, t.modelCursor),
                    _e155 = _n$convertChildren.modelRange,
                    _i109 = _n$convertChildren.modelCursor;

                t.modelRange = _e155, t.modelCursor = _i109;
              }
            }, {
              priority: "lowest"
            }), this.upcastDispatcher.on("documentFragment", function (e, t, n) {
              if (!t.modelRange && n.consumable.consume(t.viewItem, {
                name: !0
              })) {
                var _n$convertChildren2 = n.convertChildren(t.viewItem, t.modelCursor),
                    _e156 = _n$convertChildren2.modelRange,
                    _i110 = _n$convertChildren2.modelCursor;

                t.modelRange = _e156, t.modelCursor = _i110;
              }
            }, {
              priority: "lowest"
            }), this.decorate("init"), this.decorate("set"), this.decorate("get"), this.on("init", function () {
              _this59.fire("ready");
            }, {
              priority: "lowest"
            }), this.on("ready", function () {
              _this59.model.enqueueChange("transparent", Xc);
            }, {
              priority: "lowest"
            });
          }

          _createClass(Ml, [{
            key: "get",
            value: function get() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
              var _e$rootName = e.rootName,
                  t = _e$rootName === void 0 ? "main" : _e$rootName,
                  _e$trim = e.trim,
                  n = _e$trim === void 0 ? "empty" : _e$trim;
              if (!this._checkIfRootsExists([t])) throw new c.a("datacontroller-get-non-existent-root", this);
              var i = this.model.document.getRoot(t);
              return "empty" !== n || this.model.hasContent(i, {
                ignoreWhitespaces: !0
              }) ? this.stringify(i, e) : "";
            }
          }, {
            key: "stringify",
            value: function stringify(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
              var n = this.toView(e, t);
              return this.processor.toData(n);
            }
          }, {
            key: "toView",
            value: function toView(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
              var n = this.viewDocument,
                  i = this._viewWriter;
              this.mapper.clearBindings();

              var o = yc._createIn(e),
                  r = new Vr(n);

              this.mapper.bindElements(e, r), this.downcastDispatcher.conversionApi.options = t, this.downcastDispatcher.convertInsert(o, i);
              var s = e.is("documentFragment") ? Array.from(e.markers) : function (e) {
                var t = [],
                    n = e.root.document;
                if (!n) return [];

                var i = yc._createIn(e);

                var _iterator219 = _createForOfIteratorHelper(n.model.markers),
                    _step219;

                try {
                  for (_iterator219.s(); !(_step219 = _iterator219.n()).done;) {
                    var _e157 = _step219.value;

                    var _n141 = _e157.getRange(),
                        _o43 = _n141.isCollapsed,
                        _r22 = _n141.start.isEqual(i.start) || _n141.end.isEqual(i.end);

                    if (_o43 && _r22) t.push([_e157.name, _n141]);else {
                      var _o44 = i.getIntersection(_n141);

                      _o44 && t.push([_e157.name, _o44]);
                    }
                  }
                } catch (err) {
                  _iterator219.e(err);
                } finally {
                  _iterator219.f();
                }

                return t.sort(function (_ref22, _ref23) {
                  var _ref24 = _slicedToArray(_ref22, 2),
                      e = _ref24[0],
                      t = _ref24[1];

                  var _ref25 = _slicedToArray(_ref23, 2),
                      n = _ref25[0],
                      i = _ref25[1];

                  if ("after" !== t.end.compareWith(i.start)) return 1;
                  if ("before" !== t.start.compareWith(i.end)) return -1;

                  switch (t.start.compareWith(i.start)) {
                    case "before":
                      return 1;

                    case "after":
                      return -1;

                    default:
                      switch (t.end.compareWith(i.end)) {
                        case "before":
                          return 1;

                        case "after":
                          return -1;

                        default:
                          return n.localeCompare(e);
                      }

                  }
                });
              }(e);

              var _iterator220 = _createForOfIteratorHelper(s),
                  _step220;

              try {
                for (_iterator220.s(); !(_step220 = _iterator220.n()).done;) {
                  var _step220$value = _slicedToArray(_step220.value, 2),
                      _e158 = _step220$value[0],
                      _t149 = _step220$value[1];

                  this.downcastDispatcher.convertMarkerAdd(_e158, _t149, i);
                }
              } catch (err) {
                _iterator220.e(err);
              } finally {
                _iterator220.f();
              }

              return delete this.downcastDispatcher.conversionApi.options, r;
            }
          }, {
            key: "init",
            value: function init(e) {
              var _this60 = this;

              if (this.model.document.version) throw new c.a("datacontroller-init-document-not-empty", this);
              var t = {};
              if ("string" == typeof e ? t.main = e : t = e, !this._checkIfRootsExists(Object.keys(t))) throw new c.a("datacontroller-init-non-existent-root", this);
              return this.model.enqueueChange("transparent", function (e) {
                for (var _i111 = 0, _Object$keys2 = Object.keys(t); _i111 < _Object$keys2.length; _i111++) {
                  var _n142 = _Object$keys2[_i111];

                  var _i112 = _this60.model.document.getRoot(_n142);

                  e.insert(_this60.parse(t[_n142], _i112), _i112, 0);
                }
              }), Promise.resolve();
            }
          }, {
            key: "set",
            value: function set(e) {
              var _this61 = this;

              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
              var n = {};
              if ("string" == typeof e ? n.main = e : n = e, !this._checkIfRootsExists(Object.keys(n))) throw new c.a("datacontroller-set-non-existent-root", this);
              var i = t.batchType || "default";
              this.model.enqueueChange(i, function (e) {
                e.setSelection(null), e.removeSelectionAttribute(_this61.model.document.selection.getAttributeKeys());

                for (var _i113 = 0, _Object$keys3 = Object.keys(n); _i113 < _Object$keys3.length; _i113++) {
                  var _t150 = _Object$keys3[_i113];

                  var _i114 = _this61.model.document.getRoot(_t150);

                  e.remove(e.createRangeIn(_i114)), e.insert(_this61.parse(n[_t150], _i114), _i114, 0);
                }
              });
            }
          }, {
            key: "parse",
            value: function parse(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "$root";
              var n = this.processor.toView(e);
              return this.toModel(n, t);
            }
          }, {
            key: "toModel",
            value: function toModel(e) {
              var _this62 = this;

              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "$root";
              return this.model.change(function (n) {
                return _this62.upcastDispatcher.convert(e, n, t);
              });
            }
          }, {
            key: "addStyleProcessorRules",
            value: function addStyleProcessorRules(e) {
              e(this.stylesProcessor);
            }
          }, {
            key: "registerRawContentMatcher",
            value: function registerRawContentMatcher(e) {
              this.processor && this.processor !== this.htmlProcessor && this.processor.registerRawContentMatcher(e), this.htmlProcessor.registerRawContentMatcher(e);
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this.stopListening();
            }
          }, {
            key: "_checkIfRootsExists",
            value: function _checkIfRootsExists(e) {
              var _iterator221 = _createForOfIteratorHelper(e),
                  _step221;

              try {
                for (_iterator221.s(); !(_step221 = _iterator221.n()).done;) {
                  var _t151 = _step221.value;
                  if (!this.model.document.getRootNames().includes(_t151)) return !1;
                }
              } catch (err) {
                _iterator221.e(err);
              } finally {
                _iterator221.f();
              }

              return !0;
            }
          }]);

          return Ml;
        }();

        rt(Ml, Ze);

        var Pl = /*#__PURE__*/function () {
          function Pl(e, t) {
            _classCallCheck(this, Pl);

            this._helpers = new Map(), this._downcast = Wi(e), this._createConversionHelpers({
              name: "downcast",
              dispatchers: this._downcast,
              isDowncast: !0
            }), this._upcast = Wi(t), this._createConversionHelpers({
              name: "upcast",
              dispatchers: this._upcast,
              isDowncast: !1
            });
          }

          _createClass(Pl, [{
            key: "addAlias",
            value: function addAlias(e, t) {
              var n = this._downcast.includes(t);

              if (!this._upcast.includes(t) && !n) throw new c.a("conversion-add-alias-dispatcher-not-registered", this);

              this._createConversionHelpers({
                name: e,
                dispatchers: [t],
                isDowncast: n
              });
            }
          }, {
            key: "for",
            value: function _for(e) {
              if (!this._helpers.has(e)) throw new c.a("conversion-for-unknown-group", this);
              return this._helpers.get(e);
            }
          }, {
            key: "elementToElement",
            value: function elementToElement(e) {
              this["for"]("downcast").elementToElement(e);

              var _iterator222 = _createForOfIteratorHelper(Rl(e)),
                  _step222;

              try {
                for (_iterator222.s(); !(_step222 = _iterator222.n()).done;) {
                  var _step222$value = _step222.value,
                      _t152 = _step222$value.model,
                      _n143 = _step222$value.view;
                  this["for"]("upcast").elementToElement({
                    model: _t152,
                    view: _n143,
                    converterPriority: e.converterPriority
                  });
                }
              } catch (err) {
                _iterator222.e(err);
              } finally {
                _iterator222.f();
              }
            }
          }, {
            key: "attributeToElement",
            value: function attributeToElement(e) {
              this["for"]("downcast").attributeToElement(e);

              var _iterator223 = _createForOfIteratorHelper(Rl(e)),
                  _step223;

              try {
                for (_iterator223.s(); !(_step223 = _iterator223.n()).done;) {
                  var _step223$value = _step223.value,
                      _t153 = _step223$value.model,
                      _n144 = _step223$value.view;
                  this["for"]("upcast").elementToAttribute({
                    view: _n144,
                    model: _t153,
                    converterPriority: e.converterPriority
                  });
                }
              } catch (err) {
                _iterator223.e(err);
              } finally {
                _iterator223.f();
              }
            }
          }, {
            key: "attributeToAttribute",
            value: function attributeToAttribute(e) {
              this["for"]("downcast").attributeToAttribute(e);

              var _iterator224 = _createForOfIteratorHelper(Rl(e)),
                  _step224;

              try {
                for (_iterator224.s(); !(_step224 = _iterator224.n()).done;) {
                  var _step224$value = _step224.value,
                      _t154 = _step224$value.model,
                      _n145 = _step224$value.view;
                  this["for"]("upcast").attributeToAttribute({
                    view: _n145,
                    model: _t154
                  });
                }
              } catch (err) {
                _iterator224.e(err);
              } finally {
                _iterator224.f();
              }
            }
          }, {
            key: "_createConversionHelpers",
            value: function _createConversionHelpers(_ref26) {
              var e = _ref26.name,
                  t = _ref26.dispatchers,
                  n = _ref26.isDowncast;
              if (this._helpers.has(e)) throw new c.a("conversion-group-exists", this);
              var i = n ? new qc(t) : new tl(t);

              this._helpers.set(e, i);
            }
          }]);

          return Pl;
        }();

        function Rl(e) {
          var _iterator225, _step225, _t155;

          return regeneratorRuntime.wrap(function Rl$(_context29) {
            while (1) {
              switch (_context29.prev = _context29.next) {
                case 0:
                  if (!e.model.values) {
                    _context29.next = 19;
                    break;
                  }

                  _iterator225 = _createForOfIteratorHelper(e.model.values);
                  _context29.prev = 2;

                  _iterator225.s();

                case 4:
                  if ((_step225 = _iterator225.n()).done) {
                    _context29.next = 9;
                    break;
                  }

                  _t155 = _step225.value;
                  return _context29.delegateYield(Nl({
                    key: e.model.key,
                    value: _t155
                  }, e.view[_t155], e.upcastAlso ? e.upcastAlso[_t155] : void 0), "t0", 7);

                case 7:
                  _context29.next = 4;
                  break;

                case 9:
                  _context29.next = 14;
                  break;

                case 11:
                  _context29.prev = 11;
                  _context29.t1 = _context29["catch"](2);

                  _iterator225.e(_context29.t1);

                case 14:
                  _context29.prev = 14;

                  _iterator225.f();

                  return _context29.finish(14);

                case 17:
                  _context29.next = 20;
                  break;

                case 19:
                  return _context29.delegateYield(Nl(e.model, e.view, e.upcastAlso), "t2", 20);

                case 20:
                case "end":
                  return _context29.stop();
              }
            }
          }, _marked, null, [[2, 11, 14, 17]]);
        }

        function Nl(e, t, n) {
          var _iterator226, _step226, _t156;

          return regeneratorRuntime.wrap(function Nl$(_context30) {
            while (1) {
              switch (_context30.prev = _context30.next) {
                case 0:
                  _context30.next = 2;
                  return {
                    model: e,
                    view: t
                  };

                case 2:
                  if (!n) {
                    _context30.next = 20;
                    break;
                  }

                  _iterator226 = _createForOfIteratorHelper(Wi(n));
                  _context30.prev = 4;

                  _iterator226.s();

                case 6:
                  if ((_step226 = _iterator226.n()).done) {
                    _context30.next = 12;
                    break;
                  }

                  _t156 = _step226.value;
                  _context30.next = 10;
                  return {
                    model: e,
                    view: _t156
                  };

                case 10:
                  _context30.next = 6;
                  break;

                case 12:
                  _context30.next = 17;
                  break;

                case 14:
                  _context30.prev = 14;
                  _context30.t0 = _context30["catch"](4);

                  _iterator226.e(_context30.t0);

                case 17:
                  _context30.prev = 17;

                  _iterator226.f();

                  return _context30.finish(17);

                case 20:
                case "end":
                  return _context30.stop();
              }
            }
          }, _marked2, null, [[4, 14, 17, 20]]);
        }

        var Ol = /*#__PURE__*/function () {
          function Ol() {
            var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "default";

            _classCallCheck(this, Ol);

            this.operations = [], this.type = e;
          }

          _createClass(Ol, [{
            key: "baseVersion",
            get: function get() {
              var _iterator227 = _createForOfIteratorHelper(this.operations),
                  _step227;

              try {
                for (_iterator227.s(); !(_step227 = _iterator227.n()).done;) {
                  var _e159 = _step227.value;
                  if (null !== _e159.baseVersion) return _e159.baseVersion;
                }
              } catch (err) {
                _iterator227.e(err);
              } finally {
                _iterator227.f();
              }

              return null;
            }
          }, {
            key: "addOperation",
            value: function addOperation(e) {
              return e.batch = this, this.operations.push(e), e;
            }
          }]);

          return Ol;
        }();

        var Dl = /*#__PURE__*/function () {
          function Dl(e) {
            _classCallCheck(this, Dl);

            this.baseVersion = e, this.isDocumentOperation = null !== this.baseVersion, this.batch = null;
          }

          _createClass(Dl, [{
            key: "_validate",
            value: function _validate() {}
          }, {
            key: "toJSON",
            value: function toJSON() {
              var e = Object.assign({}, this);
              return e.__className = this.constructor.className, delete e.batch, delete e.isDocumentOperation, e;
            }
          }], [{
            key: "className",
            get: function get() {
              return "Operation";
            }
          }, {
            key: "fromJSON",
            value: function fromJSON(e) {
              return new this(e.baseVersion);
            }
          }]);

          return Dl;
        }();

        var Ll = /*#__PURE__*/function (_Symbol$iterator11) {
          function Ll(e) {
            _classCallCheck(this, Ll);

            this.markers = new Map(), this._children = new fc(), e && this._insertChild(0, e);
          }

          _createClass(Ll, [{
            key: _Symbol$iterator11,
            value: function value() {
              return this.getChildren();
            }
          }, {
            key: "childCount",
            get: function get() {
              return this._children.length;
            }
          }, {
            key: "maxOffset",
            get: function get() {
              return this._children.maxOffset;
            }
          }, {
            key: "isEmpty",
            get: function get() {
              return 0 === this.childCount;
            }
          }, {
            key: "root",
            get: function get() {
              return this;
            }
          }, {
            key: "parent",
            get: function get() {
              return null;
            }
          }, {
            key: "is",
            value: function is(e) {
              return "documentFragment" === e || "model:documentFragment" === e;
            }
          }, {
            key: "getChild",
            value: function getChild(e) {
              return this._children.getNode(e);
            }
          }, {
            key: "getChildren",
            value: function getChildren() {
              return this._children[Symbol.iterator]();
            }
          }, {
            key: "getChildIndex",
            value: function getChildIndex(e) {
              return this._children.getNodeIndex(e);
            }
          }, {
            key: "getChildStartOffset",
            value: function getChildStartOffset(e) {
              return this._children.getNodeStartOffset(e);
            }
          }, {
            key: "getPath",
            value: function getPath() {
              return [];
            }
          }, {
            key: "getNodeByPath",
            value: function getNodeByPath(e) {
              var t = this;

              var _iterator228 = _createForOfIteratorHelper(e),
                  _step228;

              try {
                for (_iterator228.s(); !(_step228 = _iterator228.n()).done;) {
                  var _n146 = _step228.value;
                  t = t.getChild(t.offsetToIndex(_n146));
                }
              } catch (err) {
                _iterator228.e(err);
              } finally {
                _iterator228.f();
              }

              return t;
            }
          }, {
            key: "offsetToIndex",
            value: function offsetToIndex(e) {
              return this._children.offsetToIndex(e);
            }
          }, {
            key: "toJSON",
            value: function toJSON() {
              var e = [];

              var _iterator229 = _createForOfIteratorHelper(this._children),
                  _step229;

              try {
                for (_iterator229.s(); !(_step229 = _iterator229.n()).done;) {
                  var _t157 = _step229.value;
                  e.push(_t157.toJSON());
                }
              } catch (err) {
                _iterator229.e(err);
              } finally {
                _iterator229.f();
              }

              return e;
            }
          }, {
            key: "_appendChild",
            value: function _appendChild(e) {
              this._insertChild(this.childCount, e);
            }
          }, {
            key: "_insertChild",
            value: function _insertChild(e, t) {
              var n = function (e) {
                if ("string" == typeof e) return [new gc(e)];
                ji(e) || (e = [e]);
                return Array.from(e).map(function (e) {
                  return "string" == typeof e ? new gc(e) : e instanceof mc ? new gc(e.data, e.getAttributes()) : e;
                });
              }(t);

              var _iterator230 = _createForOfIteratorHelper(n),
                  _step230;

              try {
                for (_iterator230.s(); !(_step230 = _iterator230.n()).done;) {
                  var _e160 = _step230.value;
                  null !== _e160.parent && _e160._remove(), _e160.parent = this;
                }
              } catch (err) {
                _iterator230.e(err);
              } finally {
                _iterator230.f();
              }

              this._children._insertNodes(e, n);
            }
          }, {
            key: "_removeChildren",
            value: function _removeChildren(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;

              var n = this._children._removeNodes(e, t);

              var _iterator231 = _createForOfIteratorHelper(n),
                  _step231;

              try {
                for (_iterator231.s(); !(_step231 = _iterator231.n()).done;) {
                  var _e161 = _step231.value;
                  _e161.parent = null;
                }
              } catch (err) {
                _iterator231.e(err);
              } finally {
                _iterator231.f();
              }

              return n;
            }
          }], [{
            key: "fromJSON",
            value: function fromJSON(e) {
              var t = [];

              var _iterator232 = _createForOfIteratorHelper(e),
                  _step232;

              try {
                for (_iterator232.s(); !(_step232 = _iterator232.n()).done;) {
                  var _n147 = _step232.value;
                  _n147.name ? t.push(pc.fromJSON(_n147)) : t.push(gc.fromJSON(_n147));
                }
              } catch (err) {
                _iterator232.e(err);
              } finally {
                _iterator232.f();
              }

              return new Ll(t);
            }
          }]);

          return Ll;
        }(Symbol.iterator);

        function zl(e, t) {
          var n = (t = Fl(t)).reduce(function (e, t) {
            return e + t.offsetSize;
          }, 0),
              i = e.parent;
          Hl(e);
          var o = e.index;
          return i._insertChild(o, t), jl(i, o + t.length), jl(i, o), new yc(e, e.getShiftedBy(n));
        }

        function Vl(e) {
          if (!e.isFlat) throw new c.a("operation-utils-remove-range-not-flat", this);
          var t = e.start.parent;
          Hl(e.start), Hl(e.end);

          var n = t._removeChildren(e.start.index, e.end.index - e.start.index);

          return jl(t, e.start.index), n;
        }

        function Bl(e, t) {
          if (!e.isFlat) throw new c.a("operation-utils-move-range-not-flat", this);
          var n = Vl(e);
          return zl(t = t._getTransformedByDeletion(e.start, e.end.offset - e.start.offset), n);
        }

        function Fl(e) {
          var t = [];
          e instanceof Array || (e = [e]);

          for (var _n148 = 0; _n148 < e.length; _n148++) {
            if ("string" == typeof e[_n148]) t.push(new gc(e[_n148]));else if (e[_n148] instanceof mc) t.push(new gc(e[_n148].data, e[_n148].getAttributes()));else if (e[_n148] instanceof Ll || e[_n148] instanceof fc) {
              var _iterator233 = _createForOfIteratorHelper(e[_n148]),
                  _step233;

              try {
                for (_iterator233.s(); !(_step233 = _iterator233.n()).done;) {
                  var _i115 = _step233.value;
                  t.push(_i115);
                }
              } catch (err) {
                _iterator233.e(err);
              } finally {
                _iterator233.f();
              }
            } else e[_n148] instanceof hc && t.push(e[_n148]);
          }

          for (var _e162 = 1; _e162 < t.length; _e162++) {
            var _n149 = t[_e162],
                _i116 = t[_e162 - 1];
            _n149 instanceof gc && _i116 instanceof gc && Ul(_n149, _i116) && (t.splice(_e162 - 1, 2, new gc(_i116.data + _n149.data, _i116.getAttributes())), _e162--);
          }

          return t;
        }

        function jl(e, t) {
          var n = e.getChild(t - 1),
              i = e.getChild(t);

          if (n && i && n.is("$text") && i.is("$text") && Ul(n, i)) {
            var _o45 = new gc(n.data + i.data, n.getAttributes());

            e._removeChildren(t - 1, 2), e._insertChild(t - 1, _o45);
          }
        }

        function Hl(e) {
          var t = e.textNode,
              n = e.parent;

          if (t) {
            var _i117 = e.offset - t.startOffset,
                _o46 = t.index;

            n._removeChildren(_o46, 1);

            var _r23 = new gc(t.data.substr(0, _i117), t.getAttributes()),
                _s16 = new gc(t.data.substr(_i117), t.getAttributes());

            n._insertChild(_o46, [_r23, _s16]);
          }
        }

        function Ul(e, t) {
          var n = e.getAttributes(),
              i = t.getAttributes();

          var _iterator234 = _createForOfIteratorHelper(n),
              _step234;

          try {
            for (_iterator234.s(); !(_step234 = _iterator234.n()).done;) {
              var _e163 = _step234.value;
              if (_e163[1] !== t.getAttribute(_e163[0])) return !1;
              i.next();
            }
          } catch (err) {
            _iterator234.e(err);
          } finally {
            _iterator234.f();
          }

          return i.next().done;
        }

        var Wl = function Wl(e, t) {
          return ha(e, t);
        };

        var ql = /*#__PURE__*/function (_Dl) {
          _inherits(ql, _Dl);

          var _super27 = _createSuper(ql);

          function ql(e, t, n, i, o) {
            var _this63;

            _classCallCheck(this, ql);

            _this63 = _super27.call(this, o), _this63.range = e.clone(), _this63.key = t, _this63.oldValue = void 0 === n ? null : n, _this63.newValue = void 0 === i ? null : i;
            return _this63;
          }

          _createClass(ql, [{
            key: "type",
            get: function get() {
              return null === this.oldValue ? "addAttribute" : null === this.newValue ? "removeAttribute" : "changeAttribute";
            }
          }, {
            key: "clone",
            value: function clone() {
              return new ql(this.range, this.key, this.oldValue, this.newValue, this.baseVersion);
            }
          }, {
            key: "getReversed",
            value: function getReversed() {
              return new ql(this.range, this.key, this.newValue, this.oldValue, this.baseVersion + 1);
            }
          }, {
            key: "toJSON",
            value: function toJSON() {
              var e = _get(_getPrototypeOf(ql.prototype), "toJSON", this).call(this);

              return e.range = this.range.toJSON(), e;
            }
          }, {
            key: "_validate",
            value: function _validate() {
              if (!this.range.isFlat) throw new c.a("attribute-operation-range-not-flat", this);

              var _iterator235 = _createForOfIteratorHelper(this.range.getItems({
                shallow: !0
              })),
                  _step235;

              try {
                for (_iterator235.s(); !(_step235 = _iterator235.n()).done;) {
                  var _e164 = _step235.value;
                  if (null !== this.oldValue && !Wl(_e164.getAttribute(this.key), this.oldValue)) throw new c.a("attribute-operation-wrong-old-value", this, {
                    item: _e164,
                    key: this.key,
                    value: this.oldValue
                  });
                  if (null === this.oldValue && null !== this.newValue && _e164.hasAttribute(this.key)) throw new c.a("attribute-operation-attribute-exists", this, {
                    node: _e164,
                    key: this.key
                  });
                }
              } catch (err) {
                _iterator235.e(err);
              } finally {
                _iterator235.f();
              }
            }
          }, {
            key: "_execute",
            value: function _execute() {
              Wl(this.oldValue, this.newValue) || function (e, t, n) {
                Hl(e.start), Hl(e.end);

                var _iterator236 = _createForOfIteratorHelper(e.getItems({
                  shallow: !0
                })),
                    _step236;

                try {
                  for (_iterator236.s(); !(_step236 = _iterator236.n()).done;) {
                    var _i118 = _step236.value;

                    var _e165 = _i118.is("$textProxy") ? _i118.textNode : _i118;

                    null !== n ? _e165._setAttribute(t, n) : _e165._removeAttribute(t), jl(_e165.parent, _e165.index);
                  }
                } catch (err) {
                  _iterator236.e(err);
                } finally {
                  _iterator236.f();
                }

                jl(e.end.parent, e.end.index);
              }(this.range, this.key, this.newValue);
            }
          }], [{
            key: "className",
            get: function get() {
              return "AttributeOperation";
            }
          }, {
            key: "fromJSON",
            value: function fromJSON(e, t) {
              return new ql(yc.fromJSON(e.range, t), e.key, e.oldValue, e.newValue, e.baseVersion);
            }
          }]);

          return ql;
        }(Dl);

        var $l = /*#__PURE__*/function (_Dl2) {
          _inherits($l, _Dl2);

          var _super28 = _createSuper($l);

          function $l(e, t) {
            var _this64;

            _classCallCheck(this, $l);

            _this64 = _super28.call(this, null), _this64.sourcePosition = e.clone(), _this64.howMany = t;
            return _this64;
          }

          _createClass($l, [{
            key: "type",
            get: function get() {
              return "detach";
            }
          }, {
            key: "toJSON",
            value: function toJSON() {
              var e = _get(_getPrototypeOf($l.prototype), "toJSON", this).call(this);

              return e.sourcePosition = this.sourcePosition.toJSON(), e;
            }
          }, {
            key: "_validate",
            value: function _validate() {
              if (this.sourcePosition.root.document) throw new c.a("detach-operation-on-document-node", this);
            }
          }, {
            key: "_execute",
            value: function _execute() {
              Vl(yc._createFromPositionAndShift(this.sourcePosition, this.howMany));
            }
          }], [{
            key: "className",
            get: function get() {
              return "DetachOperation";
            }
          }]);

          return $l;
        }(Dl);

        var Gl = /*#__PURE__*/function (_Dl3) {
          _inherits(Gl, _Dl3);

          var _super29 = _createSuper(Gl);

          function Gl(e, t, n, i) {
            var _this65;

            _classCallCheck(this, Gl);

            _this65 = _super29.call(this, i), _this65.sourcePosition = e.clone(), _this65.sourcePosition.stickiness = "toNext", _this65.howMany = t, _this65.targetPosition = n.clone(), _this65.targetPosition.stickiness = "toNone";
            return _this65;
          }

          _createClass(Gl, [{
            key: "type",
            get: function get() {
              return "$graveyard" == this.targetPosition.root.rootName ? "remove" : "$graveyard" == this.sourcePosition.root.rootName ? "reinsert" : "move";
            }
          }, {
            key: "clone",
            value: function clone() {
              return new this.constructor(this.sourcePosition, this.howMany, this.targetPosition, this.baseVersion);
            }
          }, {
            key: "getMovedRangeStart",
            value: function getMovedRangeStart() {
              return this.targetPosition._getTransformedByDeletion(this.sourcePosition, this.howMany);
            }
          }, {
            key: "getReversed",
            value: function getReversed() {
              var e = this.sourcePosition._getTransformedByInsertion(this.targetPosition, this.howMany);

              return new this.constructor(this.getMovedRangeStart(), this.howMany, e, this.baseVersion + 1);
            }
          }, {
            key: "_validate",
            value: function _validate() {
              var e = this.sourcePosition.parent,
                  t = this.targetPosition.parent,
                  n = this.sourcePosition.offset,
                  i = this.targetPosition.offset;
              if (n + this.howMany > e.maxOffset) throw new c.a("move-operation-nodes-do-not-exist", this);
              if (e === t && n < i && i < n + this.howMany) throw new c.a("move-operation-range-into-itself", this);

              if (this.sourcePosition.root == this.targetPosition.root && "prefix" == Ji(this.sourcePosition.getParentPath(), this.targetPosition.getParentPath())) {
                var _e166 = this.sourcePosition.path.length - 1;

                if (this.targetPosition.path[_e166] >= n && this.targetPosition.path[_e166] < n + this.howMany) throw new c.a("move-operation-node-into-itself", this);
              }
            }
          }, {
            key: "_execute",
            value: function _execute() {
              Bl(yc._createFromPositionAndShift(this.sourcePosition, this.howMany), this.targetPosition);
            }
          }, {
            key: "toJSON",
            value: function toJSON() {
              var e = _get(_getPrototypeOf(Gl.prototype), "toJSON", this).call(this);

              return e.sourcePosition = this.sourcePosition.toJSON(), e.targetPosition = this.targetPosition.toJSON(), e;
            }
          }], [{
            key: "className",
            get: function get() {
              return "MoveOperation";
            }
          }, {
            key: "fromJSON",
            value: function fromJSON(e, t) {
              var n = wc.fromJSON(e.sourcePosition, t),
                  i = wc.fromJSON(e.targetPosition, t);
              return new this(n, e.howMany, i, e.baseVersion);
            }
          }]);

          return Gl;
        }(Dl);

        var Yl = /*#__PURE__*/function (_Dl4) {
          _inherits(Yl, _Dl4);

          var _super30 = _createSuper(Yl);

          function Yl(e, t, n) {
            var _this66;

            _classCallCheck(this, Yl);

            _this66 = _super30.call(this, n), _this66.position = e.clone(), _this66.position.stickiness = "toNone", _this66.nodes = new fc(Fl(t)), _this66.shouldReceiveAttributes = !1;
            return _this66;
          }

          _createClass(Yl, [{
            key: "type",
            get: function get() {
              return "insert";
            }
          }, {
            key: "howMany",
            get: function get() {
              return this.nodes.maxOffset;
            }
          }, {
            key: "clone",
            value: function clone() {
              var e = new fc(_toConsumableArray(this.nodes).map(function (e) {
                return e._clone(!0);
              })),
                  t = new Yl(this.position, e, this.baseVersion);
              return t.shouldReceiveAttributes = this.shouldReceiveAttributes, t;
            }
          }, {
            key: "getReversed",
            value: function getReversed() {
              var e = this.position.root.document.graveyard,
                  t = new wc(e, [0]);
              return new Gl(this.position, this.nodes.maxOffset, t, this.baseVersion + 1);
            }
          }, {
            key: "_validate",
            value: function _validate() {
              var e = this.position.parent;
              if (!e || e.maxOffset < this.position.offset) throw new c.a("insert-operation-position-invalid", this);
            }
          }, {
            key: "_execute",
            value: function _execute() {
              var e = this.nodes;
              this.nodes = new fc(_toConsumableArray(e).map(function (e) {
                return e._clone(!0);
              })), zl(this.position, e);
            }
          }, {
            key: "toJSON",
            value: function toJSON() {
              var e = _get(_getPrototypeOf(Yl.prototype), "toJSON", this).call(this);

              return e.position = this.position.toJSON(), e.nodes = this.nodes.toJSON(), e;
            }
          }], [{
            key: "className",
            get: function get() {
              return "InsertOperation";
            }
          }, {
            key: "fromJSON",
            value: function fromJSON(e, t) {
              var n = [];

              var _iterator237 = _createForOfIteratorHelper(e.nodes),
                  _step237;

              try {
                for (_iterator237.s(); !(_step237 = _iterator237.n()).done;) {
                  var _t158 = _step237.value;
                  _t158.name ? n.push(pc.fromJSON(_t158)) : n.push(gc.fromJSON(_t158));
                }
              } catch (err) {
                _iterator237.e(err);
              } finally {
                _iterator237.f();
              }

              var i = new Yl(wc.fromJSON(e.position, t), n, e.baseVersion);
              return i.shouldReceiveAttributes = e.shouldReceiveAttributes, i;
            }
          }]);

          return Yl;
        }(Dl);

        var Kl = /*#__PURE__*/function (_Dl5) {
          _inherits(Kl, _Dl5);

          var _super31 = _createSuper(Kl);

          function Kl(e, t, n, i, o, r) {
            var _this67;

            _classCallCheck(this, Kl);

            _this67 = _super31.call(this, r), _this67.name = e, _this67.oldRange = t ? t.clone() : null, _this67.newRange = n ? n.clone() : null, _this67.affectsData = o, _this67._markers = i;
            return _this67;
          }

          _createClass(Kl, [{
            key: "type",
            get: function get() {
              return "marker";
            }
          }, {
            key: "clone",
            value: function clone() {
              return new Kl(this.name, this.oldRange, this.newRange, this._markers, this.affectsData, this.baseVersion);
            }
          }, {
            key: "getReversed",
            value: function getReversed() {
              return new Kl(this.name, this.newRange, this.oldRange, this._markers, this.affectsData, this.baseVersion + 1);
            }
          }, {
            key: "_execute",
            value: function _execute() {
              var e = this.newRange ? "_set" : "_remove";

              this._markers[e](this.name, this.newRange, !0, this.affectsData);
            }
          }, {
            key: "toJSON",
            value: function toJSON() {
              var e = _get(_getPrototypeOf(Kl.prototype), "toJSON", this).call(this);

              return this.oldRange && (e.oldRange = this.oldRange.toJSON()), this.newRange && (e.newRange = this.newRange.toJSON()), delete e._markers, e;
            }
          }], [{
            key: "className",
            get: function get() {
              return "MarkerOperation";
            }
          }, {
            key: "fromJSON",
            value: function fromJSON(e, t) {
              return new Kl(e.name, e.oldRange ? yc.fromJSON(e.oldRange, t) : null, e.newRange ? yc.fromJSON(e.newRange, t) : null, t.model.markers, e.affectsData, e.baseVersion);
            }
          }]);

          return Kl;
        }(Dl);

        var Ql = /*#__PURE__*/function (_Dl6) {
          _inherits(Ql, _Dl6);

          var _super32 = _createSuper(Ql);

          function Ql(e, t, n, i) {
            var _this68;

            _classCallCheck(this, Ql);

            _this68 = _super32.call(this, i), _this68.position = e, _this68.position.stickiness = "toNext", _this68.oldName = t, _this68.newName = n;
            return _this68;
          }

          _createClass(Ql, [{
            key: "type",
            get: function get() {
              return "rename";
            }
          }, {
            key: "clone",
            value: function clone() {
              return new Ql(this.position.clone(), this.oldName, this.newName, this.baseVersion);
            }
          }, {
            key: "getReversed",
            value: function getReversed() {
              return new Ql(this.position.clone(), this.newName, this.oldName, this.baseVersion + 1);
            }
          }, {
            key: "_validate",
            value: function _validate() {
              var e = this.position.nodeAfter;
              if (!(e instanceof pc)) throw new c.a("rename-operation-wrong-position", this);
              if (e.name !== this.oldName) throw new c.a("rename-operation-wrong-name", this);
            }
          }, {
            key: "_execute",
            value: function _execute() {
              this.position.nodeAfter.name = this.newName;
            }
          }, {
            key: "toJSON",
            value: function toJSON() {
              var e = _get(_getPrototypeOf(Ql.prototype), "toJSON", this).call(this);

              return e.position = this.position.toJSON(), e;
            }
          }], [{
            key: "className",
            get: function get() {
              return "RenameOperation";
            }
          }, {
            key: "fromJSON",
            value: function fromJSON(e, t) {
              return new Ql(wc.fromJSON(e.position, t), e.oldName, e.newName, e.baseVersion);
            }
          }]);

          return Ql;
        }(Dl);

        var Jl = /*#__PURE__*/function (_Dl7) {
          _inherits(Jl, _Dl7);

          var _super33 = _createSuper(Jl);

          function Jl(e, t, n, i, o) {
            var _this69;

            _classCallCheck(this, Jl);

            _this69 = _super33.call(this, o), _this69.root = e, _this69.key = t, _this69.oldValue = n, _this69.newValue = i;
            return _this69;
          }

          _createClass(Jl, [{
            key: "type",
            get: function get() {
              return null === this.oldValue ? "addRootAttribute" : null === this.newValue ? "removeRootAttribute" : "changeRootAttribute";
            }
          }, {
            key: "clone",
            value: function clone() {
              return new Jl(this.root, this.key, this.oldValue, this.newValue, this.baseVersion);
            }
          }, {
            key: "getReversed",
            value: function getReversed() {
              return new Jl(this.root, this.key, this.newValue, this.oldValue, this.baseVersion + 1);
            }
          }, {
            key: "_validate",
            value: function _validate() {
              if (this.root != this.root.root || this.root.is("documentFragment")) throw new c.a("rootattribute-operation-not-a-root", this, {
                root: this.root,
                key: this.key
              });
              if (null !== this.oldValue && this.root.getAttribute(this.key) !== this.oldValue) throw new c.a("rootattribute-operation-wrong-old-value", this, {
                root: this.root,
                key: this.key
              });
              if (null === this.oldValue && null !== this.newValue && this.root.hasAttribute(this.key)) throw new c.a("rootattribute-operation-attribute-exists", this, {
                root: this.root,
                key: this.key
              });
            }
          }, {
            key: "_execute",
            value: function _execute() {
              null !== this.newValue ? this.root._setAttribute(this.key, this.newValue) : this.root._removeAttribute(this.key);
            }
          }, {
            key: "toJSON",
            value: function toJSON() {
              var e = _get(_getPrototypeOf(Jl.prototype), "toJSON", this).call(this);

              return e.root = this.root.toJSON(), e;
            }
          }], [{
            key: "className",
            get: function get() {
              return "RootAttributeOperation";
            }
          }, {
            key: "fromJSON",
            value: function fromJSON(e, t) {
              if (!t.getRoot(e.root)) throw new c.a("rootattribute-operation-fromjson-no-root", this, {
                rootName: e.root
              });
              return new Jl(t.getRoot(e.root), e.key, e.oldValue, e.newValue, e.baseVersion);
            }
          }]);

          return Jl;
        }(Dl);

        var Xl = /*#__PURE__*/function (_Dl8) {
          _inherits(Xl, _Dl8);

          var _super34 = _createSuper(Xl);

          function Xl(e, t, n, i, o) {
            var _this70;

            _classCallCheck(this, Xl);

            _this70 = _super34.call(this, o), _this70.sourcePosition = e.clone(), _this70.sourcePosition.stickiness = "toPrevious", _this70.howMany = t, _this70.targetPosition = n.clone(), _this70.targetPosition.stickiness = "toNext", _this70.graveyardPosition = i.clone();
            return _this70;
          }

          _createClass(Xl, [{
            key: "type",
            get: function get() {
              return "merge";
            }
          }, {
            key: "deletionPosition",
            get: function get() {
              return new wc(this.sourcePosition.root, this.sourcePosition.path.slice(0, -1));
            }
          }, {
            key: "movedRange",
            get: function get() {
              var e = this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);
              return new yc(this.sourcePosition, e);
            }
          }, {
            key: "clone",
            value: function clone() {
              return new this.constructor(this.sourcePosition, this.howMany, this.targetPosition, this.graveyardPosition, this.baseVersion);
            }
          }, {
            key: "getReversed",
            value: function getReversed() {
              var e = this.targetPosition._getTransformedByMergeOperation(this),
                  t = this.sourcePosition.path.slice(0, -1),
                  n = new wc(this.sourcePosition.root, t)._getTransformedByMergeOperation(this);

              return new Zl(e, this.howMany, n, this.graveyardPosition, this.baseVersion + 1);
            }
          }, {
            key: "_validate",
            value: function _validate() {
              var e = this.sourcePosition.parent,
                  t = this.targetPosition.parent;
              if (!e.parent) throw new c.a("merge-operation-source-position-invalid", this);
              if (!t.parent) throw new c.a("merge-operation-target-position-invalid", this);
              if (this.howMany != e.maxOffset) throw new c.a("merge-operation-how-many-invalid", this);
            }
          }, {
            key: "_execute",
            value: function _execute() {
              var e = this.sourcePosition.parent;
              Bl(yc._createIn(e), this.targetPosition), Bl(yc._createOn(e), this.graveyardPosition);
            }
          }, {
            key: "toJSON",
            value: function toJSON() {
              var e = _get(_getPrototypeOf(Xl.prototype), "toJSON", this).call(this);

              return e.sourcePosition = e.sourcePosition.toJSON(), e.targetPosition = e.targetPosition.toJSON(), e.graveyardPosition = e.graveyardPosition.toJSON(), e;
            }
          }], [{
            key: "className",
            get: function get() {
              return "MergeOperation";
            }
          }, {
            key: "fromJSON",
            value: function fromJSON(e, t) {
              var n = wc.fromJSON(e.sourcePosition, t),
                  i = wc.fromJSON(e.targetPosition, t),
                  o = wc.fromJSON(e.graveyardPosition, t);
              return new this(n, e.howMany, i, o, e.baseVersion);
            }
          }]);

          return Xl;
        }(Dl);

        var Zl = /*#__PURE__*/function (_Dl9) {
          _inherits(Zl, _Dl9);

          var _super35 = _createSuper(Zl);

          function Zl(e, t, n, i, o) {
            var _this71;

            _classCallCheck(this, Zl);

            _this71 = _super35.call(this, o), _this71.splitPosition = e.clone(), _this71.splitPosition.stickiness = "toNext", _this71.howMany = t, _this71.insertionPosition = n, _this71.graveyardPosition = i ? i.clone() : null, _this71.graveyardPosition && (_this71.graveyardPosition.stickiness = "toNext");
            return _this71;
          }

          _createClass(Zl, [{
            key: "type",
            get: function get() {
              return "split";
            }
          }, {
            key: "moveTargetPosition",
            get: function get() {
              var e = this.insertionPosition.path.slice();
              return e.push(0), new wc(this.insertionPosition.root, e);
            }
          }, {
            key: "movedRange",
            get: function get() {
              var e = this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);
              return new yc(this.splitPosition, e);
            }
          }, {
            key: "clone",
            value: function clone() {
              return new this.constructor(this.splitPosition, this.howMany, this.insertionPosition, this.graveyardPosition, this.baseVersion);
            }
          }, {
            key: "getReversed",
            value: function getReversed() {
              var e = this.splitPosition.root.document.graveyard,
                  t = new wc(e, [0]);
              return new Xl(this.moveTargetPosition, this.howMany, this.splitPosition, t, this.baseVersion + 1);
            }
          }, {
            key: "_validate",
            value: function _validate() {
              var e = this.splitPosition.parent,
                  t = this.splitPosition.offset;
              if (!e || e.maxOffset < t) throw new c.a("split-operation-position-invalid", this);
              if (!e.parent) throw new c.a("split-operation-split-in-root", this);
              if (this.howMany != e.maxOffset - this.splitPosition.offset) throw new c.a("split-operation-how-many-invalid", this);
              if (this.graveyardPosition && !this.graveyardPosition.nodeAfter) throw new c.a("split-operation-graveyard-position-invalid", this);
            }
          }, {
            key: "_execute",
            value: function _execute() {
              var e = this.splitPosition.parent;
              if (this.graveyardPosition) Bl(yc._createFromPositionAndShift(this.graveyardPosition, 1), this.insertionPosition);else {
                var _t159 = e._clone();

                zl(this.insertionPosition, _t159);
              }
              Bl(new yc(wc._createAt(e, this.splitPosition.offset), wc._createAt(e, e.maxOffset)), this.moveTargetPosition);
            }
          }, {
            key: "toJSON",
            value: function toJSON() {
              var e = _get(_getPrototypeOf(Zl.prototype), "toJSON", this).call(this);

              return e.splitPosition = this.splitPosition.toJSON(), e.insertionPosition = this.insertionPosition.toJSON(), this.graveyardPosition && (e.graveyardPosition = this.graveyardPosition.toJSON()), e;
            }
          }], [{
            key: "className",
            get: function get() {
              return "SplitOperation";
            }
          }, {
            key: "getInsertionPosition",
            value: function getInsertionPosition(e) {
              var t = e.path.slice(0, -1);
              return t[t.length - 1]++, new wc(e.root, t, "toPrevious");
            }
          }, {
            key: "fromJSON",
            value: function fromJSON(e, t) {
              var n = wc.fromJSON(e.splitPosition, t),
                  i = wc.fromJSON(e.insertionPosition, t),
                  o = e.graveyardPosition ? wc.fromJSON(e.graveyardPosition, t) : null;
              return new this(n, e.howMany, i, o, e.baseVersion);
            }
          }]);

          return Zl;
        }(Dl);

        var ed = /*#__PURE__*/function (_pc) {
          _inherits(ed, _pc);

          var _super36 = _createSuper(ed);

          function ed(e, t) {
            var _this72;

            var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "main";

            _classCallCheck(this, ed);

            _this72 = _super36.call(this, t), _this72._document = e, _this72.rootName = n;
            return _this72;
          }

          _createClass(ed, [{
            key: "document",
            get: function get() {
              return this._document;
            }
          }, {
            key: "is",
            value: function is(e, t) {
              return t ? t === this.name && ("rootElement" === e || "model:rootElement" === e || "element" === e || "model:element" === e) : "rootElement" === e || "model:rootElement" === e || "element" === e || "model:element" === e || "node" === e || "model:node" === e;
            }
          }, {
            key: "toJSON",
            value: function toJSON() {
              return this.rootName;
            }
          }]);

          return ed;
        }(pc);

        var td = /*#__PURE__*/function () {
          function td(e, t) {
            _classCallCheck(this, td);

            this.model = e, this.batch = t;
          }

          _createClass(td, [{
            key: "createText",
            value: function createText(e, t) {
              return new gc(e, t);
            }
          }, {
            key: "createElement",
            value: function createElement(e, t) {
              return new pc(e, t);
            }
          }, {
            key: "createDocumentFragment",
            value: function createDocumentFragment() {
              return new Ll();
            }
          }, {
            key: "cloneElement",
            value: function cloneElement(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;
              return e._clone(t);
            }
          }, {
            key: "insert",
            value: function insert(e, t) {
              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
              if (this._assertWriterUsedCorrectly(), e instanceof gc && "" == e.data) return;

              var i = wc._createAt(t, n);

              if (e.parent) {
                if (sd(e.root, i.root)) return void this.move(yc._createOn(e), i);
                if (e.root.document) throw new c.a("model-writer-insert-forbidden-move", this);
                this.remove(e);
              }

              var o = i.root.document ? i.root.document.version : null,
                  r = new Yl(i, e, o);

              if (e instanceof gc && (r.shouldReceiveAttributes = !0), this.batch.addOperation(r), this.model.applyOperation(r), e instanceof Ll) {
                var _iterator238 = _createForOfIteratorHelper(e.markers),
                    _step238;

                try {
                  for (_iterator238.s(); !(_step238 = _iterator238.n()).done;) {
                    var _step238$value = _slicedToArray(_step238.value, 2),
                        _t160 = _step238$value[0],
                        _n150 = _step238$value[1];

                    var _e167 = wc._createAt(_n150.root, 0),
                        _o47 = {
                      range: new yc(_n150.start._getCombined(_e167, i), _n150.end._getCombined(_e167, i)),
                      usingOperation: !0,
                      affectsData: !0
                    };

                    this.model.markers.has(_t160) ? this.updateMarker(_t160, _o47) : this.addMarker(_t160, _o47);
                  }
                } catch (err) {
                  _iterator238.e(err);
                } finally {
                  _iterator238.f();
                }
              }
            }
          }, {
            key: "insertText",
            value: function insertText(e, t, n, i) {
              t instanceof Ll || t instanceof pc || t instanceof wc ? this.insert(this.createText(e), t, n) : this.insert(this.createText(e, t), n, i);
            }
          }, {
            key: "insertElement",
            value: function insertElement(e, t, n, i) {
              t instanceof Ll || t instanceof pc || t instanceof wc ? this.insert(this.createElement(e), t, n) : this.insert(this.createElement(e, t), n, i);
            }
          }, {
            key: "append",
            value: function append(e, t) {
              this.insert(e, t, "end");
            }
          }, {
            key: "appendText",
            value: function appendText(e, t, n) {
              t instanceof Ll || t instanceof pc ? this.insert(this.createText(e), t, "end") : this.insert(this.createText(e, t), n, "end");
            }
          }, {
            key: "appendElement",
            value: function appendElement(e, t, n) {
              t instanceof Ll || t instanceof pc ? this.insert(this.createElement(e), t, "end") : this.insert(this.createElement(e, t), n, "end");
            }
          }, {
            key: "setAttribute",
            value: function setAttribute(e, t, n) {
              if (this._assertWriterUsedCorrectly(), n instanceof yc) {
                var _i119 = n.getMinimalFlatRanges();

                var _iterator239 = _createForOfIteratorHelper(_i119),
                    _step239;

                try {
                  for (_iterator239.s(); !(_step239 = _iterator239.n()).done;) {
                    var _n151 = _step239.value;
                    nd(this, e, t, _n151);
                  }
                } catch (err) {
                  _iterator239.e(err);
                } finally {
                  _iterator239.f();
                }
              } else id(this, e, t, n);
            }
          }, {
            key: "setAttributes",
            value: function setAttributes(e, t) {
              var _iterator240 = _createForOfIteratorHelper(io(e)),
                  _step240;

              try {
                for (_iterator240.s(); !(_step240 = _iterator240.n()).done;) {
                  var _step240$value = _slicedToArray(_step240.value, 2),
                      _n152 = _step240$value[0],
                      _i120 = _step240$value[1];

                  this.setAttribute(_n152, _i120, t);
                }
              } catch (err) {
                _iterator240.e(err);
              } finally {
                _iterator240.f();
              }
            }
          }, {
            key: "removeAttribute",
            value: function removeAttribute(e, t) {
              if (this._assertWriterUsedCorrectly(), t instanceof yc) {
                var _n153 = t.getMinimalFlatRanges();

                var _iterator241 = _createForOfIteratorHelper(_n153),
                    _step241;

                try {
                  for (_iterator241.s(); !(_step241 = _iterator241.n()).done;) {
                    var _t161 = _step241.value;
                    nd(this, e, null, _t161);
                  }
                } catch (err) {
                  _iterator241.e(err);
                } finally {
                  _iterator241.f();
                }
              } else id(this, e, null, t);
            }
          }, {
            key: "clearAttributes",
            value: function clearAttributes(e) {
              var _this73 = this;

              this._assertWriterUsedCorrectly();

              var t = function t(e) {
                var _iterator242 = _createForOfIteratorHelper(e.getAttributeKeys()),
                    _step242;

                try {
                  for (_iterator242.s(); !(_step242 = _iterator242.n()).done;) {
                    var _t162 = _step242.value;

                    _this73.removeAttribute(_t162, e);
                  }
                } catch (err) {
                  _iterator242.e(err);
                } finally {
                  _iterator242.f();
                }
              };

              if (e instanceof yc) {
                var _iterator243 = _createForOfIteratorHelper(e.getItems()),
                    _step243;

                try {
                  for (_iterator243.s(); !(_step243 = _iterator243.n()).done;) {
                    var _n154 = _step243.value;
                    t(_n154);
                  }
                } catch (err) {
                  _iterator243.e(err);
                } finally {
                  _iterator243.f();
                }
              } else t(e);
            }
          }, {
            key: "move",
            value: function move(e, t, n) {
              if (this._assertWriterUsedCorrectly(), !(e instanceof yc)) throw new c.a("writer-move-invalid-range", this);
              if (!e.isFlat) throw new c.a("writer-move-range-not-flat", this);

              var i = wc._createAt(t, n);

              if (i.isEqual(e.start)) return;
              if (this._addOperationForAffectedMarkers("move", e), !sd(e.root, i.root)) throw new c.a("writer-move-different-document", this);
              var o = e.root.document ? e.root.document.version : null,
                  r = new Gl(e.start, e.end.offset - e.start.offset, i, o);
              this.batch.addOperation(r), this.model.applyOperation(r);
            }
          }, {
            key: "remove",
            value: function remove(e) {
              this._assertWriterUsedCorrectly();

              var t = (e instanceof yc ? e : yc._createOn(e)).getMinimalFlatRanges().reverse();

              var _iterator244 = _createForOfIteratorHelper(t),
                  _step244;

              try {
                for (_iterator244.s(); !(_step244 = _iterator244.n()).done;) {
                  var _e168 = _step244.value;
                  this._addOperationForAffectedMarkers("move", _e168), rd(_e168.start, _e168.end.offset - _e168.start.offset, this.batch, this.model);
                }
              } catch (err) {
                _iterator244.e(err);
              } finally {
                _iterator244.f();
              }
            }
          }, {
            key: "merge",
            value: function merge(e) {
              this._assertWriterUsedCorrectly();

              var t = e.nodeBefore,
                  n = e.nodeAfter;
              if (this._addOperationForAffectedMarkers("merge", e), !(t instanceof pc)) throw new c.a("writer-merge-no-element-before", this);
              if (!(n instanceof pc)) throw new c.a("writer-merge-no-element-after", this);
              e.root.document ? this._merge(e) : this._mergeDetached(e);
            }
          }, {
            key: "createPositionFromPath",
            value: function createPositionFromPath(e, t, n) {
              return this.model.createPositionFromPath(e, t, n);
            }
          }, {
            key: "createPositionAt",
            value: function createPositionAt(e, t) {
              return this.model.createPositionAt(e, t);
            }
          }, {
            key: "createPositionAfter",
            value: function createPositionAfter(e) {
              return this.model.createPositionAfter(e);
            }
          }, {
            key: "createPositionBefore",
            value: function createPositionBefore(e) {
              return this.model.createPositionBefore(e);
            }
          }, {
            key: "createRange",
            value: function createRange(e, t) {
              return this.model.createRange(e, t);
            }
          }, {
            key: "createRangeIn",
            value: function createRangeIn(e) {
              return this.model.createRangeIn(e);
            }
          }, {
            key: "createRangeOn",
            value: function createRangeOn(e) {
              return this.model.createRangeOn(e);
            }
          }, {
            key: "createSelection",
            value: function createSelection(e, t, n) {
              return this.model.createSelection(e, t, n);
            }
          }, {
            key: "_mergeDetached",
            value: function _mergeDetached(e) {
              var t = e.nodeBefore,
                  n = e.nodeAfter;
              this.move(yc._createIn(n), wc._createAt(t, "end")), this.remove(n);
            }
          }, {
            key: "_merge",
            value: function _merge(e) {
              var t = wc._createAt(e.nodeBefore, "end"),
                  n = wc._createAt(e.nodeAfter, 0),
                  i = e.root.document.graveyard,
                  o = new wc(i, [0]),
                  r = e.root.document.version,
                  s = new Xl(n, e.nodeAfter.maxOffset, t, o, r);

              this.batch.addOperation(s), this.model.applyOperation(s);
            }
          }, {
            key: "rename",
            value: function rename(e, t) {
              if (this._assertWriterUsedCorrectly(), !(e instanceof pc)) throw new c.a("writer-rename-not-element-instance", this);
              var n = e.root.document ? e.root.document.version : null,
                  i = new Ql(wc._createBefore(e), e.name, t, n);
              this.batch.addOperation(i), this.model.applyOperation(i);
            }
          }, {
            key: "split",
            value: function split(e, t) {
              this._assertWriterUsedCorrectly();

              var n,
                  i,
                  o = e.parent;
              if (!o.parent) throw new c.a("writer-split-element-no-parent", this);
              if (t || (t = o.parent), !e.parent.getAncestors({
                includeSelf: !0
              }).includes(t)) throw new c.a("writer-split-invalid-limit-element", this);

              do {
                var _t163 = o.root.document ? o.root.document.version : null,
                    _r24 = o.maxOffset - e.offset,
                    _s17 = Zl.getInsertionPosition(e),
                    _a9 = new Zl(e, _r24, _s17, null, _t163);

                this.batch.addOperation(_a9), this.model.applyOperation(_a9), n || i || (n = o, i = e.parent.nextSibling), o = (e = this.createPositionAfter(e.parent)).parent;
              } while (o !== t);

              return {
                position: e,
                range: new yc(wc._createAt(n, "end"), wc._createAt(i, 0))
              };
            }
          }, {
            key: "wrap",
            value: function wrap(e, t) {
              if (this._assertWriterUsedCorrectly(), !e.isFlat) throw new c.a("writer-wrap-range-not-flat", this);
              var n = t instanceof pc ? t : new pc(t);
              if (n.childCount > 0) throw new c.a("writer-wrap-element-not-empty", this);
              if (null !== n.parent) throw new c.a("writer-wrap-element-attached", this);
              this.insert(n, e.start);
              var i = new yc(e.start.getShiftedBy(1), e.end.getShiftedBy(1));
              this.move(i, wc._createAt(n, 0));
            }
          }, {
            key: "unwrap",
            value: function unwrap(e) {
              if (this._assertWriterUsedCorrectly(), null === e.parent) throw new c.a("writer-unwrap-element-no-parent", this);
              this.move(yc._createIn(e), this.createPositionAfter(e)), this.remove(e);
            }
          }, {
            key: "addMarker",
            value: function addMarker(e, t) {
              if (this._assertWriterUsedCorrectly(), !t || "boolean" != typeof t.usingOperation) throw new c.a("writer-addmarker-no-usingoperation", this);
              var n = t.usingOperation,
                  i = t.range,
                  o = void 0 !== t.affectsData && t.affectsData;
              if (this.model.markers.has(e)) throw new c.a("writer-addmarker-marker-exists", this);
              if (!i) throw new c.a("writer-addmarker-no-range", this);
              return n ? (od(this, e, null, i, o), this.model.markers.get(e)) : this.model.markers._set(e, i, n, o);
            }
          }, {
            key: "updateMarker",
            value: function updateMarker(e, t) {
              this._assertWriterUsedCorrectly();

              var n = "string" == typeof e ? e : e.name,
                  i = this.model.markers.get(n);
              if (!i) throw new c.a("writer-updatemarker-marker-not-exists", this);
              if (!t) return void this.model.markers._refresh(i);
              var o = "boolean" == typeof t.usingOperation,
                  r = "boolean" == typeof t.affectsData,
                  s = r ? t.affectsData : i.affectsData;
              if (!o && !t.range && !r) throw new c.a("writer-updatemarker-wrong-options", this);
              var a = i.getRange(),
                  l = t.range ? t.range : a;
              o && t.usingOperation !== i.managedUsingOperations ? t.usingOperation ? od(this, n, null, l, s) : (od(this, n, a, null, s), this.model.markers._set(n, l, void 0, s)) : i.managedUsingOperations ? od(this, n, a, l, s) : this.model.markers._set(n, l, void 0, s);
            }
          }, {
            key: "removeMarker",
            value: function removeMarker(e) {
              this._assertWriterUsedCorrectly();

              var t = "string" == typeof e ? e : e.name;
              if (!this.model.markers.has(t)) throw new c.a("writer-removemarker-no-marker", this);
              var n = this.model.markers.get(t);
              n.managedUsingOperations ? od(this, t, n.getRange(), null, n.affectsData) : this.model.markers._remove(t);
            }
          }, {
            key: "setSelection",
            value: function setSelection(e, t, n) {
              this._assertWriterUsedCorrectly(), this.model.document.selection._setTo(e, t, n);
            }
          }, {
            key: "setSelectionFocus",
            value: function setSelectionFocus(e, t) {
              this._assertWriterUsedCorrectly(), this.model.document.selection._setFocus(e, t);
            }
          }, {
            key: "setSelectionAttribute",
            value: function setSelectionAttribute(e, t) {
              if (this._assertWriterUsedCorrectly(), "string" == typeof e) this._setSelectionAttribute(e, t);else {
                var _iterator245 = _createForOfIteratorHelper(io(e)),
                    _step245;

                try {
                  for (_iterator245.s(); !(_step245 = _iterator245.n()).done;) {
                    var _step245$value = _slicedToArray(_step245.value, 2),
                        _t164 = _step245$value[0],
                        _n155 = _step245$value[1];

                    this._setSelectionAttribute(_t164, _n155);
                  }
                } catch (err) {
                  _iterator245.e(err);
                } finally {
                  _iterator245.f();
                }
              }
            }
          }, {
            key: "removeSelectionAttribute",
            value: function removeSelectionAttribute(e) {
              if (this._assertWriterUsedCorrectly(), "string" == typeof e) this._removeSelectionAttribute(e);else {
                var _iterator246 = _createForOfIteratorHelper(e),
                    _step246;

                try {
                  for (_iterator246.s(); !(_step246 = _iterator246.n()).done;) {
                    var _t165 = _step246.value;

                    this._removeSelectionAttribute(_t165);
                  }
                } catch (err) {
                  _iterator246.e(err);
                } finally {
                  _iterator246.f();
                }
              }
            }
          }, {
            key: "overrideSelectionGravity",
            value: function overrideSelectionGravity() {
              return this.model.document.selection._overrideGravity();
            }
          }, {
            key: "restoreSelectionGravity",
            value: function restoreSelectionGravity(e) {
              this.model.document.selection._restoreGravity(e);
            }
          }, {
            key: "_setSelectionAttribute",
            value: function _setSelectionAttribute(e, t) {
              var n = this.model.document.selection;

              if (n.isCollapsed && n.anchor.parent.isEmpty) {
                var _i121 = Vc._getStoreAttributeKey(e);

                this.setAttribute(_i121, t, n.anchor.parent);
              }

              n._setAttribute(e, t);
            }
          }, {
            key: "_removeSelectionAttribute",
            value: function _removeSelectionAttribute(e) {
              var t = this.model.document.selection;

              if (t.isCollapsed && t.anchor.parent.isEmpty) {
                var _n156 = Vc._getStoreAttributeKey(e);

                this.removeAttribute(_n156, t.anchor.parent);
              }

              t._removeAttribute(e);
            }
          }, {
            key: "_assertWriterUsedCorrectly",
            value: function _assertWriterUsedCorrectly() {
              if (this.model._currentWriter !== this) throw new c.a("writer-incorrect-use", this);
            }
          }, {
            key: "_addOperationForAffectedMarkers",
            value: function _addOperationForAffectedMarkers(e, t) {
              var _iterator247 = _createForOfIteratorHelper(this.model.markers),
                  _step247;

              try {
                for (_iterator247.s(); !(_step247 = _iterator247.n()).done;) {
                  var _n157 = _step247.value;
                  if (!_n157.managedUsingOperations) continue;

                  var _i122 = _n157.getRange();

                  var _o48 = !1;

                  if ("move" === e) _o48 = t.containsPosition(_i122.start) || t.start.isEqual(_i122.start) || t.containsPosition(_i122.end) || t.end.isEqual(_i122.end);else {
                    var _e169 = t.nodeBefore,
                        _n158 = t.nodeAfter,
                        _r25 = _i122.start.parent == _e169 && _i122.start.isAtEnd,
                        _s18 = _i122.end.parent == _n158 && 0 == _i122.end.offset,
                        _a10 = _i122.end.nodeAfter == _n158,
                        _c3 = _i122.start.nodeAfter == _n158;

                    _o48 = _r25 || _s18 || _a10 || _c3;
                  }
                  _o48 && this.updateMarker(_n157.name, {
                    range: _i122
                  });
                }
              } catch (err) {
                _iterator247.e(err);
              } finally {
                _iterator247.f();
              }
            }
          }]);

          return td;
        }();

        function nd(e, t, n, i) {
          var o = e.model,
              r = o.document;
          var s,
              a,
              c,
              l = i.start;

          var _iterator248 = _createForOfIteratorHelper(i.getWalker({
            shallow: !0
          })),
              _step248;

          try {
            for (_iterator248.s(); !(_step248 = _iterator248.n()).done;) {
              var _e170 = _step248.value;
              c = _e170.item.getAttribute(t), s && a != c && (a != n && d(), l = s), s = _e170.nextPosition, a = c;
            }
          } catch (err) {
            _iterator248.e(err);
          } finally {
            _iterator248.f();
          }

          function d() {
            var i = new yc(l, s),
                c = i.root.document ? r.version : null,
                d = new ql(i, t, a, n, c);
            e.batch.addOperation(d), o.applyOperation(d);
          }

          s instanceof wc && s != l && a != n && d();
        }

        function id(e, t, n, i) {
          var o = e.model,
              r = o.document,
              s = i.getAttribute(t);
          var a, c;

          if (s != n) {
            if (i.root === i) {
              var _e171 = i.document ? r.version : null;

              c = new Jl(i, t, s, n, _e171);
            } else {
              var _o49 = (a = new yc(wc._createBefore(i), e.createPositionAfter(i))).root.document ? r.version : null;

              c = new ql(a, t, s, n, _o49);
            }

            e.batch.addOperation(c), o.applyOperation(c);
          }
        }

        function od(e, t, n, i, o) {
          var r = e.model,
              s = r.document,
              a = new Kl(t, n, i, r.markers, o, s.version);
          e.batch.addOperation(a), r.applyOperation(a);
        }

        function rd(e, t, n, i) {
          var o;

          if (e.root.document) {
            var _n159 = i.document,
                _r26 = new wc(_n159.graveyard, [0]);

            o = new Gl(e, t, _r26, _n159.version);
          } else o = new $l(e, t);

          n.addOperation(o), i.applyOperation(o);
        }

        function sd(e, t) {
          return e === t || e instanceof ed && t instanceof ed;
        }

        var ad = /*#__PURE__*/function () {
          function ad(e) {
            _classCallCheck(this, ad);

            this._markerCollection = e, this._changesInElement = new Map(), this._elementSnapshots = new Map(), this._changedMarkers = new Map(), this._changeCount = 0, this._cachedChanges = null, this._cachedChangesWithGraveyard = null;
          }

          _createClass(ad, [{
            key: "isEmpty",
            get: function get() {
              return 0 == this._changesInElement.size && 0 == this._changedMarkers.size;
            }
          }, {
            key: "refreshItem",
            value: function refreshItem(e) {
              if (this._isInInsertedElement(e.parent)) return;
              this._markRemove(e.parent, e.startOffset, e.offsetSize), this._markInsert(e.parent, e.startOffset, e.offsetSize);

              var t = yc._createOn(e);

              var _iterator249 = _createForOfIteratorHelper(this._markerCollection.getMarkersIntersectingRange(t)),
                  _step249;

              try {
                for (_iterator249.s(); !(_step249 = _iterator249.n()).done;) {
                  var _e172 = _step249.value;

                  var _t166 = _e172.getRange();

                  this.bufferMarkerChange(_e172.name, _t166, _t166, _e172.affectsData);
                }
              } catch (err) {
                _iterator249.e(err);
              } finally {
                _iterator249.f();
              }

              this._cachedChanges = null;
            }
          }, {
            key: "bufferOperation",
            value: function bufferOperation(e) {
              switch (e.type) {
                case "insert":
                  if (this._isInInsertedElement(e.position.parent)) return;

                  this._markInsert(e.position.parent, e.position.offset, e.nodes.maxOffset);

                  break;

                case "addAttribute":
                case "removeAttribute":
                case "changeAttribute":
                  var _iterator250 = _createForOfIteratorHelper(e.range.getItems({
                    shallow: !0
                  })),
                      _step250;

                  try {
                    for (_iterator250.s(); !(_step250 = _iterator250.n()).done;) {
                      var _t167 = _step250.value;
                      this._isInInsertedElement(_t167.parent) || this._markAttribute(_t167);
                    }
                  } catch (err) {
                    _iterator250.e(err);
                  } finally {
                    _iterator250.f();
                  }

                  break;

                case "remove":
                case "move":
                case "reinsert":
                  {
                    if (e.sourcePosition.isEqual(e.targetPosition) || e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition)) return;

                    var _t168 = this._isInInsertedElement(e.sourcePosition.parent),
                        _n160 = this._isInInsertedElement(e.targetPosition.parent);

                    _t168 || this._markRemove(e.sourcePosition.parent, e.sourcePosition.offset, e.howMany), _n160 || this._markInsert(e.targetPosition.parent, e.getMovedRangeStart().offset, e.howMany);
                    break;
                  }

                case "rename":
                  {
                    if (this._isInInsertedElement(e.position.parent)) return;
                    this._markRemove(e.position.parent, e.position.offset, 1), this._markInsert(e.position.parent, e.position.offset, 1);

                    var _t169 = yc._createFromPositionAndShift(e.position, 1);

                    var _iterator251 = _createForOfIteratorHelper(this._markerCollection.getMarkersIntersectingRange(_t169)),
                        _step251;

                    try {
                      for (_iterator251.s(); !(_step251 = _iterator251.n()).done;) {
                        var _e173 = _step251.value;

                        var _t170 = _e173.getRange();

                        this.bufferMarkerChange(_e173.name, _t170, _t170, _e173.affectsData);
                      }
                    } catch (err) {
                      _iterator251.e(err);
                    } finally {
                      _iterator251.f();
                    }

                    break;
                  }

                case "split":
                  {
                    var _t171 = e.splitPosition.parent;
                    this._isInInsertedElement(_t171) || this._markRemove(_t171, e.splitPosition.offset, e.howMany), this._isInInsertedElement(e.insertionPosition.parent) || this._markInsert(e.insertionPosition.parent, e.insertionPosition.offset, 1), e.graveyardPosition && this._markRemove(e.graveyardPosition.parent, e.graveyardPosition.offset, 1);
                    break;
                  }

                case "merge":
                  {
                    var _t172 = e.sourcePosition.parent;
                    this._isInInsertedElement(_t172.parent) || this._markRemove(_t172.parent, _t172.startOffset, 1);
                    var _n161 = e.graveyardPosition.parent;

                    this._markInsert(_n161, e.graveyardPosition.offset, 1);

                    var _i123 = e.targetPosition.parent;
                    this._isInInsertedElement(_i123) || this._markInsert(_i123, e.targetPosition.offset, _t172.maxOffset);
                    break;
                  }
              }

              this._cachedChanges = null;
            }
          }, {
            key: "bufferMarkerChange",
            value: function bufferMarkerChange(e, t, n, i) {
              var o = this._changedMarkers.get(e);

              o ? (o.newRange = n, o.affectsData = i, null == o.oldRange && null == o.newRange && this._changedMarkers["delete"](e)) : this._changedMarkers.set(e, {
                oldRange: t,
                newRange: n,
                affectsData: i
              });
            }
          }, {
            key: "getMarkersToRemove",
            value: function getMarkersToRemove() {
              var e = [];

              var _iterator252 = _createForOfIteratorHelper(this._changedMarkers),
                  _step252;

              try {
                for (_iterator252.s(); !(_step252 = _iterator252.n()).done;) {
                  var _step252$value = _slicedToArray(_step252.value, 2),
                      _t173 = _step252$value[0],
                      _n162 = _step252$value[1];

                  null != _n162.oldRange && e.push({
                    name: _t173,
                    range: _n162.oldRange
                  });
                }
              } catch (err) {
                _iterator252.e(err);
              } finally {
                _iterator252.f();
              }

              return e;
            }
          }, {
            key: "getMarkersToAdd",
            value: function getMarkersToAdd() {
              var e = [];

              var _iterator253 = _createForOfIteratorHelper(this._changedMarkers),
                  _step253;

              try {
                for (_iterator253.s(); !(_step253 = _iterator253.n()).done;) {
                  var _step253$value = _slicedToArray(_step253.value, 2),
                      _t174 = _step253$value[0],
                      _n163 = _step253$value[1];

                  null != _n163.newRange && e.push({
                    name: _t174,
                    range: _n163.newRange
                  });
                }
              } catch (err) {
                _iterator253.e(err);
              } finally {
                _iterator253.f();
              }

              return e;
            }
          }, {
            key: "getChangedMarkers",
            value: function getChangedMarkers() {
              return Array.from(this._changedMarkers).map(function (e) {
                return {
                  name: e[0],
                  data: {
                    oldRange: e[1].oldRange,
                    newRange: e[1].newRange
                  }
                };
              });
            }
          }, {
            key: "hasDataChanges",
            value: function hasDataChanges() {
              var _iterator254 = _createForOfIteratorHelper(this._changedMarkers),
                  _step254;

              try {
                for (_iterator254.s(); !(_step254 = _iterator254.n()).done;) {
                  var _step254$value = _slicedToArray(_step254.value, 2),
                      _e174 = _step254$value[1];

                  if (_e174.affectsData) return !0;
                }
              } catch (err) {
                _iterator254.e(err);
              } finally {
                _iterator254.f();
              }

              return this._changesInElement.size > 0;
            }
          }, {
            key: "getChanges",
            value: function getChanges() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {
                includeChangesInGraveyard: !1
              };
              if (this._cachedChanges) return e.includeChangesInGraveyard ? this._cachedChangesWithGraveyard.slice() : this._cachedChanges.slice();
              var t = [];

              var _iterator255 = _createForOfIteratorHelper(this._changesInElement.keys()),
                  _step255;

              try {
                for (_iterator255.s(); !(_step255 = _iterator255.n()).done;) {
                  var _e176 = _step255.value;

                  var _n165 = this._changesInElement.get(_e176).sort(function (e, t) {
                    return e.offset === t.offset ? e.type != t.type ? "remove" == e.type ? -1 : 1 : 0 : e.offset < t.offset ? -1 : 1;
                  }),
                      _i125 = this._elementSnapshots.get(_e176),
                      _o51 = cd(_e176.getChildren()),
                      _r28 = ld(_i125.length, _n165);

                  var _s20 = 0,
                      _a12 = 0;

                  var _iterator257 = _createForOfIteratorHelper(_r28),
                      _step257;

                  try {
                    for (_iterator257.s(); !(_step257 = _iterator257.n()).done;) {
                      var _n166 = _step257.value;
                      if ("i" === _n166) t.push(this._getInsertDiff(_e176, _s20, _o51[_s20].name)), _s20++;else if ("r" === _n166) t.push(this._getRemoveDiff(_e176, _s20, _i125[_a12].name)), _a12++;else if ("a" === _n166) {
                        var _t176;

                        var _n167 = _o51[_s20].attributes,
                            _r29 = _i125[_a12].attributes;

                        var _c4 = void 0;

                        if ("$text" == _o51[_s20].name) _c4 = new yc(wc._createAt(_e176, _s20), wc._createAt(_e176, _s20 + 1));else {
                          var _t175 = _e176.offsetToIndex(_s20);

                          _c4 = new yc(wc._createAt(_e176, _s20), wc._createAt(_e176.getChild(_t175), 0));
                        }
                        (_t176 = t).push.apply(_t176, _toConsumableArray(this._getAttributesDiff(_c4, _r29, _n167))), _s20++, _a12++;
                      } else _s20++, _a12++;
                    }
                  } catch (err) {
                    _iterator257.e(err);
                  } finally {
                    _iterator257.f();
                  }
                }
              } catch (err) {
                _iterator255.e(err);
              } finally {
                _iterator255.f();
              }

              t.sort(function (e, t) {
                return e.position.root != t.position.root ? e.position.root.rootName < t.position.root.rootName ? -1 : 1 : e.position.isEqual(t.position) ? e.changeCount - t.changeCount : e.position.isBefore(t.position) ? -1 : 1;
              });

              for (var _e175 = 1, _n164 = 0; _e175 < t.length; _e175++) {
                var _i124 = t[_n164],
                    _o50 = t[_e175],
                    _r27 = "remove" == _i124.type && "remove" == _o50.type && "$text" == _i124.name && "$text" == _o50.name && _i124.position.isEqual(_o50.position),
                    _s19 = "insert" == _i124.type && "insert" == _o50.type && "$text" == _i124.name && "$text" == _o50.name && _i124.position.parent == _o50.position.parent && _i124.position.offset + _i124.length == _o50.position.offset,
                    _a11 = "attribute" == _i124.type && "attribute" == _o50.type && _i124.position.parent == _o50.position.parent && _i124.range.isFlat && _o50.range.isFlat && _i124.position.offset + _i124.length == _o50.position.offset && _i124.attributeKey == _o50.attributeKey && _i124.attributeOldValue == _o50.attributeOldValue && _i124.attributeNewValue == _o50.attributeNewValue;

                _r27 || _s19 || _a11 ? (_i124.length++, _a11 && (_i124.range.end = _i124.range.end.getShiftedBy(1)), t[_e175] = null) : _n164 = _e175;
              }

              t = t.filter(function (e) {
                return e;
              });

              var _iterator256 = _createForOfIteratorHelper(t),
                  _step256;

              try {
                for (_iterator256.s(); !(_step256 = _iterator256.n()).done;) {
                  var _e177 = _step256.value;
                  delete _e177.changeCount, "attribute" == _e177.type && (delete _e177.position, delete _e177.length);
                }
              } catch (err) {
                _iterator256.e(err);
              } finally {
                _iterator256.f();
              }

              return this._changeCount = 0, this._cachedChangesWithGraveyard = t.slice(), this._cachedChanges = t.filter(dd), e.includeChangesInGraveyard ? this._cachedChangesWithGraveyard : this._cachedChanges;
            }
          }, {
            key: "reset",
            value: function reset() {
              this._changesInElement.clear(), this._elementSnapshots.clear(), this._changedMarkers.clear(), this._cachedChanges = null;
            }
          }, {
            key: "_markInsert",
            value: function _markInsert(e, t, n) {
              var i = {
                type: "insert",
                offset: t,
                howMany: n,
                count: this._changeCount++
              };

              this._markChange(e, i);
            }
          }, {
            key: "_markRemove",
            value: function _markRemove(e, t, n) {
              var i = {
                type: "remove",
                offset: t,
                howMany: n,
                count: this._changeCount++
              };
              this._markChange(e, i), this._removeAllNestedChanges(e, t, n);
            }
          }, {
            key: "_markAttribute",
            value: function _markAttribute(e) {
              var t = {
                type: "attribute",
                offset: e.startOffset,
                howMany: e.offsetSize,
                count: this._changeCount++
              };

              this._markChange(e.parent, t);
            }
          }, {
            key: "_markChange",
            value: function _markChange(e, t) {
              this._makeSnapshot(e);

              var n = this._getChangesForElement(e);

              this._handleChange(t, n), n.push(t);

              for (var _e178 = 0; _e178 < n.length; _e178++) {
                n[_e178].howMany < 1 && (n.splice(_e178, 1), _e178--);
              }
            }
          }, {
            key: "_getChangesForElement",
            value: function _getChangesForElement(e) {
              var t;
              return this._changesInElement.has(e) ? t = this._changesInElement.get(e) : (t = [], this._changesInElement.set(e, t)), t;
            }
          }, {
            key: "_makeSnapshot",
            value: function _makeSnapshot(e) {
              this._elementSnapshots.has(e) || this._elementSnapshots.set(e, cd(e.getChildren()));
            }
          }, {
            key: "_handleChange",
            value: function _handleChange(e, t) {
              e.nodesToHandle = e.howMany;

              var _iterator258 = _createForOfIteratorHelper(t),
                  _step258;

              try {
                for (_iterator258.s(); !(_step258 = _iterator258.n()).done;) {
                  var _n168 = _step258.value;

                  var _i126 = e.offset + e.howMany,
                      _o52 = _n168.offset + _n168.howMany;

                  if ("insert" == e.type && ("insert" == _n168.type && (e.offset <= _n168.offset ? _n168.offset += e.howMany : e.offset < _o52 && (_n168.howMany += e.nodesToHandle, e.nodesToHandle = 0)), "remove" == _n168.type && e.offset < _n168.offset && (_n168.offset += e.howMany), "attribute" == _n168.type)) if (e.offset <= _n168.offset) _n168.offset += e.howMany;else if (e.offset < _o52) {
                    var _o53 = _n168.howMany;
                    _n168.howMany = e.offset - _n168.offset, t.unshift({
                      type: "attribute",
                      offset: _i126,
                      howMany: _o53 - _n168.howMany,
                      count: this._changeCount++
                    });
                  }

                  if ("remove" == e.type) {
                    if ("insert" == _n168.type) if (_i126 <= _n168.offset) _n168.offset -= e.howMany;else if (_i126 <= _o52) {
                      if (e.offset < _n168.offset) {
                        var _t177 = _i126 - _n168.offset;

                        _n168.offset = e.offset, _n168.howMany -= _t177, e.nodesToHandle -= _t177;
                      } else _n168.howMany -= e.nodesToHandle, e.nodesToHandle = 0;
                    } else if (e.offset <= _n168.offset) e.nodesToHandle -= _n168.howMany, _n168.howMany = 0;else if (e.offset < _o52) {
                      var _t178 = _o52 - e.offset;

                      _n168.howMany -= _t178, e.nodesToHandle -= _t178;
                    }
                    if ("remove" == _n168.type && (_i126 <= _n168.offset ? _n168.offset -= e.howMany : e.offset < _n168.offset && (e.nodesToHandle += _n168.howMany, _n168.howMany = 0)), "attribute" == _n168.type) if (_i126 <= _n168.offset) _n168.offset -= e.howMany;else if (e.offset < _n168.offset) {
                      var _t179 = _i126 - _n168.offset;

                      _n168.offset = e.offset, _n168.howMany -= _t179;
                    } else if (e.offset < _o52) if (_i126 <= _o52) {
                      var _i127 = _n168.howMany;
                      _n168.howMany = e.offset - _n168.offset;

                      var _o54 = _i127 - _n168.howMany - e.nodesToHandle;

                      t.unshift({
                        type: "attribute",
                        offset: e.offset,
                        howMany: _o54,
                        count: this._changeCount++
                      });
                    } else _n168.howMany -= _o52 - e.offset;
                  }

                  if ("attribute" == e.type) {
                    if ("insert" == _n168.type) if (e.offset < _n168.offset && _i126 > _n168.offset) {
                      if (_i126 > _o52) {
                        var _e179 = {
                          type: "attribute",
                          offset: _o52,
                          howMany: _i126 - _o52,
                          count: this._changeCount++
                        };
                        this._handleChange(_e179, t), t.push(_e179);
                      }

                      e.nodesToHandle = _n168.offset - e.offset, e.howMany = e.nodesToHandle;
                    } else e.offset >= _n168.offset && e.offset < _o52 && (_i126 > _o52 ? (e.nodesToHandle = _i126 - _o52, e.offset = _o52) : e.nodesToHandle = 0);

                    if ("remove" == _n168.type && e.offset < _n168.offset && _i126 > _n168.offset) {
                      var _o55 = {
                        type: "attribute",
                        offset: _n168.offset,
                        howMany: _i126 - _n168.offset,
                        count: this._changeCount++
                      };
                      this._handleChange(_o55, t), t.push(_o55), e.nodesToHandle = _n168.offset - e.offset, e.howMany = e.nodesToHandle;
                    }

                    "attribute" == _n168.type && (e.offset >= _n168.offset && _i126 <= _o52 ? (e.nodesToHandle = 0, e.howMany = 0, e.offset = 0) : e.offset <= _n168.offset && _i126 >= _o52 && (_n168.howMany = 0));
                  }
                }
              } catch (err) {
                _iterator258.e(err);
              } finally {
                _iterator258.f();
              }

              e.howMany = e.nodesToHandle, delete e.nodesToHandle;
            }
          }, {
            key: "_getInsertDiff",
            value: function _getInsertDiff(e, t, n) {
              return {
                type: "insert",
                position: wc._createAt(e, t),
                name: n,
                length: 1,
                changeCount: this._changeCount++
              };
            }
          }, {
            key: "_getRemoveDiff",
            value: function _getRemoveDiff(e, t, n) {
              return {
                type: "remove",
                position: wc._createAt(e, t),
                name: n,
                length: 1,
                changeCount: this._changeCount++
              };
            }
          }, {
            key: "_getAttributesDiff",
            value: function _getAttributesDiff(e, t, n) {
              var i = [];
              n = new Map(n);

              var _iterator259 = _createForOfIteratorHelper(t),
                  _step259;

              try {
                for (_iterator259.s(); !(_step259 = _iterator259.n()).done;) {
                  var _step259$value = _slicedToArray(_step259.value, 2),
                      _o56 = _step259$value[0],
                      _r30 = _step259$value[1];

                  var _t180 = n.has(_o56) ? n.get(_o56) : null;

                  _t180 !== _r30 && i.push({
                    type: "attribute",
                    position: e.start,
                    range: e.clone(),
                    length: 1,
                    attributeKey: _o56,
                    attributeOldValue: _r30,
                    attributeNewValue: _t180,
                    changeCount: this._changeCount++
                  }), n["delete"](_o56);
                }
              } catch (err) {
                _iterator259.e(err);
              } finally {
                _iterator259.f();
              }

              var _iterator260 = _createForOfIteratorHelper(n),
                  _step260;

              try {
                for (_iterator260.s(); !(_step260 = _iterator260.n()).done;) {
                  var _step260$value = _slicedToArray(_step260.value, 2),
                      _t181 = _step260$value[0],
                      _o57 = _step260$value[1];

                  i.push({
                    type: "attribute",
                    position: e.start,
                    range: e.clone(),
                    length: 1,
                    attributeKey: _t181,
                    attributeOldValue: null,
                    attributeNewValue: _o57,
                    changeCount: this._changeCount++
                  });
                }
              } catch (err) {
                _iterator260.e(err);
              } finally {
                _iterator260.f();
              }

              return i;
            }
          }, {
            key: "_isInInsertedElement",
            value: function _isInInsertedElement(e) {
              var t = e.parent;
              if (!t) return !1;

              var n = this._changesInElement.get(t),
                  i = e.startOffset;

              if (n) {
                var _iterator261 = _createForOfIteratorHelper(n),
                    _step261;

                try {
                  for (_iterator261.s(); !(_step261 = _iterator261.n()).done;) {
                    var _e180 = _step261.value;
                    if ("insert" == _e180.type && i >= _e180.offset && i < _e180.offset + _e180.howMany) return !0;
                  }
                } catch (err) {
                  _iterator261.e(err);
                } finally {
                  _iterator261.f();
                }
              }

              return this._isInInsertedElement(t);
            }
          }, {
            key: "_removeAllNestedChanges",
            value: function _removeAllNestedChanges(e, t, n) {
              var i = new yc(wc._createAt(e, t), wc._createAt(e, t + n));

              var _iterator262 = _createForOfIteratorHelper(i.getItems({
                shallow: !0
              })),
                  _step262;

              try {
                for (_iterator262.s(); !(_step262 = _iterator262.n()).done;) {
                  var _e181 = _step262.value;
                  _e181.is("element") && (this._elementSnapshots["delete"](_e181), this._changesInElement["delete"](_e181), this._removeAllNestedChanges(_e181, 0, _e181.maxOffset));
                }
              } catch (err) {
                _iterator262.e(err);
              } finally {
                _iterator262.f();
              }
            }
          }]);

          return ad;
        }();

        function cd(e) {
          var t = [];

          var _iterator263 = _createForOfIteratorHelper(e),
              _step263;

          try {
            for (_iterator263.s(); !(_step263 = _iterator263.n()).done;) {
              var _n169 = _step263.value;
              if (_n169.is("$text")) for (var _e182 = 0; _e182 < _n169.data.length; _e182++) {
                t.push({
                  name: "$text",
                  attributes: new Map(_n169.getAttributes())
                });
              } else t.push({
                name: _n169.name,
                attributes: new Map(_n169.getAttributes())
              });
            }
          } catch (err) {
            _iterator263.e(err);
          } finally {
            _iterator263.f();
          }

          return t;
        }

        function ld(e, t) {
          var n = [];
          var i = 0,
              o = 0;

          var _iterator264 = _createForOfIteratorHelper(t),
              _step264;

          try {
            for (_iterator264.s(); !(_step264 = _iterator264.n()).done;) {
              var _e183 = _step264.value;

              if (_e183.offset > i) {
                for (var _t183 = 0; _t183 < _e183.offset - i; _t183++) {
                  n.push("e");
                }

                o += _e183.offset - i;
              }

              if ("insert" == _e183.type) {
                for (var _t184 = 0; _t184 < _e183.howMany; _t184++) {
                  n.push("i");
                }

                i = _e183.offset + _e183.howMany;
              } else if ("remove" == _e183.type) {
                for (var _t185 = 0; _t185 < _e183.howMany; _t185++) {
                  n.push("r");
                }

                i = _e183.offset, o += _e183.howMany;
              } else n.push.apply(n, _toConsumableArray("a".repeat(_e183.howMany).split(""))), i = _e183.offset + _e183.howMany, o += _e183.howMany;
            }
          } catch (err) {
            _iterator264.e(err);
          } finally {
            _iterator264.f();
          }

          if (o < e) for (var _t182 = 0; _t182 < e - o - i; _t182++) {
            n.push("e");
          }
          return n;
        }

        function dd(e) {
          var t = e.position && "$graveyard" == e.position.root.rootName,
              n = e.range && "$graveyard" == e.range.root.rootName;
          return !t && !n;
        }

        var ud = /*#__PURE__*/function () {
          function ud() {
            _classCallCheck(this, ud);

            this._operations = [], this._undoPairs = new Map(), this._undoneOperations = new Set();
          }

          _createClass(ud, [{
            key: "addOperation",
            value: function addOperation(e) {
              this._operations.includes(e) || this._operations.push(e);
            }
          }, {
            key: "getOperations",
            value: function getOperations() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Number.NEGATIVE_INFINITY;
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.POSITIVE_INFINITY;
              var n = [];

              var _iterator265 = _createForOfIteratorHelper(this._operations),
                  _step265;

              try {
                for (_iterator265.s(); !(_step265 = _iterator265.n()).done;) {
                  var _i128 = _step265.value;
                  _i128.baseVersion >= e && _i128.baseVersion < t && n.push(_i128);
                }
              } catch (err) {
                _iterator265.e(err);
              } finally {
                _iterator265.f();
              }

              return n;
            }
          }, {
            key: "getOperation",
            value: function getOperation(e) {
              var _iterator266 = _createForOfIteratorHelper(this._operations),
                  _step266;

              try {
                for (_iterator266.s(); !(_step266 = _iterator266.n()).done;) {
                  var _t186 = _step266.value;
                  if (_t186.baseVersion == e) return _t186;
                }
              } catch (err) {
                _iterator266.e(err);
              } finally {
                _iterator266.f();
              }
            }
          }, {
            key: "setOperationAsUndone",
            value: function setOperationAsUndone(e, t) {
              this._undoPairs.set(t, e), this._undoneOperations.add(e);
            }
          }, {
            key: "isUndoingOperation",
            value: function isUndoingOperation(e) {
              return this._undoPairs.has(e);
            }
          }, {
            key: "isUndoneOperation",
            value: function isUndoneOperation(e) {
              return this._undoneOperations.has(e);
            }
          }, {
            key: "getUndoneOperation",
            value: function getUndoneOperation(e) {
              return this._undoPairs.get(e);
            }
          }]);

          return ud;
        }();

        function hd(e, t) {
          return function (e) {
            return !!e && 1 == e.length && /[\ud800-\udbff]/.test(e);
          }(e.charAt(t - 1)) && function (e) {
            return !!e && 1 == e.length && /[\udc00-\udfff]/.test(e);
          }(e.charAt(t));
        }

        function gd(e, t) {
          return function (e) {
            return !!e && 1 == e.length && /[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(e);
          }(e.charAt(t));
        }

        var md = "$graveyard";

        var fd = /*#__PURE__*/function () {
          function fd(e) {
            var _this74 = this;

            _classCallCheck(this, fd);

            this.model = e, this.version = 0, this.history = new ud(this), this.selection = new Vc(this), this.roots = new Hi({
              idProperty: "rootName"
            }), this.differ = new ad(e.markers), this._postFixers = new Set(), this._hasSelectionChangedFromTheLastChangeBlock = !1, this.createRoot("$root", md), this.listenTo(e, "applyOperation", function (e, t) {
              var n = t[0];
              if (n.isDocumentOperation && n.baseVersion !== _this74.version) throw new c.a("model-document-applyoperation-wrong-version", _this74, {
                operation: n
              });
            }, {
              priority: "highest"
            }), this.listenTo(e, "applyOperation", function (e, t) {
              var n = t[0];
              n.isDocumentOperation && _this74.differ.bufferOperation(n);
            }, {
              priority: "high"
            }), this.listenTo(e, "applyOperation", function (e, t) {
              var n = t[0];
              n.isDocumentOperation && (_this74.version++, _this74.history.addOperation(n));
            }, {
              priority: "low"
            }), this.listenTo(this.selection, "change", function () {
              _this74._hasSelectionChangedFromTheLastChangeBlock = !0;
            }), this.listenTo(e.markers, "update", function (e, t, n, i) {
              _this74.differ.bufferMarkerChange(t.name, n, i, t.affectsData), null === n && t.on("change", function (e, n) {
                _this74.differ.bufferMarkerChange(t.name, n, t.getRange(), t.affectsData);
              });
            });
          }

          _createClass(fd, [{
            key: "graveyard",
            get: function get() {
              return this.getRoot(md);
            }
          }, {
            key: "createRoot",
            value: function createRoot() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "$root";
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "main";
              if (this.roots.get(t)) throw new c.a("model-document-createroot-name-exists", this, {
                name: t
              });
              var n = new ed(this, e, t);
              return this.roots.add(n), n;
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this.selection.destroy(), this.stopListening();
            }
          }, {
            key: "getRoot",
            value: function getRoot() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "main";
              return this.roots.get(e);
            }
          }, {
            key: "getRootNames",
            value: function getRootNames() {
              return Array.from(this.roots, function (e) {
                return e.rootName;
              }).filter(function (e) {
                return e != md;
              });
            }
          }, {
            key: "registerPostFixer",
            value: function registerPostFixer(e) {
              this._postFixers.add(e);
            }
          }, {
            key: "toJSON",
            value: function toJSON() {
              var e = Zi(this);
              return e.selection = "[engine.model.DocumentSelection]", e.model = "[engine.model.Model]", e;
            }
          }, {
            key: "_handleChangeBlock",
            value: function _handleChangeBlock(e) {
              this._hasDocumentChangedFromTheLastChangeBlock() && (this._callPostFixers(e), this.selection.refresh(), this.differ.hasDataChanges() ? this.fire("change:data", e.batch) : this.fire("change", e.batch), this.selection.refresh(), this.differ.reset()), this._hasSelectionChangedFromTheLastChangeBlock = !1;
            }
          }, {
            key: "_hasDocumentChangedFromTheLastChangeBlock",
            value: function _hasDocumentChangedFromTheLastChangeBlock() {
              return !this.differ.isEmpty || this._hasSelectionChangedFromTheLastChangeBlock;
            }
          }, {
            key: "_getDefaultRoot",
            value: function _getDefaultRoot() {
              var _iterator267 = _createForOfIteratorHelper(this.roots),
                  _step267;

              try {
                for (_iterator267.s(); !(_step267 = _iterator267.n()).done;) {
                  var _e184 = _step267.value;
                  if (_e184 !== this.graveyard) return _e184;
                }
              } catch (err) {
                _iterator267.e(err);
              } finally {
                _iterator267.f();
              }

              return this.graveyard;
            }
          }, {
            key: "_getDefaultRange",
            value: function _getDefaultRange() {
              var e = this._getDefaultRoot(),
                  t = this.model,
                  n = t.schema,
                  i = t.createPositionFromPath(e, [0]);

              return n.getNearestSelectionRange(i) || t.createRange(i);
            }
          }, {
            key: "_validateSelectionRange",
            value: function _validateSelectionRange(e) {
              return pd(e.start) && pd(e.end);
            }
          }, {
            key: "_callPostFixers",
            value: function _callPostFixers(e) {
              var t = !1;

              do {
                var _iterator268 = _createForOfIteratorHelper(this._postFixers),
                    _step268;

                try {
                  for (_iterator268.s(); !(_step268 = _iterator268.n()).done;) {
                    var _n170 = _step268.value;
                    if (this.selection.refresh(), t = _n170(e)) break;
                  }
                } catch (err) {
                  _iterator268.e(err);
                } finally {
                  _iterator268.f();
                }
              } while (t);
            }
          }]);

          return fd;
        }();

        function pd(e) {
          var t = e.textNode;

          if (t) {
            var _n171 = t.data,
                _i129 = e.offset - t.startOffset;

            return !hd(_n171, _i129) && !gd(_n171, _i129);
          }

          return !0;
        }

        rt(fd, u);

        var kd = /*#__PURE__*/function (_Symbol$iterator12) {
          function kd() {
            _classCallCheck(this, kd);

            this._markers = new Map();
          }

          _createClass(kd, [{
            key: _Symbol$iterator12,
            value: function value() {
              return this._markers.values();
            }
          }, {
            key: "has",
            value: function has(e) {
              var t = e instanceof bd ? e.name : e;
              return this._markers.has(t);
            }
          }, {
            key: "get",
            value: function get(e) {
              return this._markers.get(e) || null;
            }
          }, {
            key: "_set",
            value: function _set(e, t) {
              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;
              var i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;
              var o = e instanceof bd ? e.name : e;
              if (o.includes(",")) throw new c.a("markercollection-incorrect-marker-name", this);

              var r = this._markers.get(o);

              if (r) {
                var _e185 = r.getRange();

                var _s21 = !1;

                return _e185.isEqual(t) || (r._attachLiveRange(Lc.fromRange(t)), _s21 = !0), n != r.managedUsingOperations && (r._managedUsingOperations = n, _s21 = !0), "boolean" == typeof i && i != r.affectsData && (r._affectsData = i, _s21 = !0), _s21 && this.fire("update:" + o, r, _e185, t), r;
              }

              var s = Lc.fromRange(t),
                  a = new bd(o, s, n, i);
              return this._markers.set(o, a), this.fire("update:" + o, a, null, t), a;
            }
          }, {
            key: "_remove",
            value: function _remove(e) {
              var t = e instanceof bd ? e.name : e,
                  n = this._markers.get(t);

              return !!n && (this._markers["delete"](t), this.fire("update:" + t, n, n.getRange(), null), this._destroyMarker(n), !0);
            }
          }, {
            key: "_refresh",
            value: function _refresh(e) {
              var t = e instanceof bd ? e.name : e,
                  n = this._markers.get(t);

              if (!n) throw new c.a("markercollection-refresh-marker-not-exists", this);
              var i = n.getRange();
              this.fire("update:" + t, n, i, i, n.managedUsingOperations, n.affectsData);
            }
          }, {
            key: "getMarkersAtPosition",
            value: /*#__PURE__*/regeneratorRuntime.mark(function getMarkersAtPosition(e) {
              var _iterator269, _step269, _t187;

              return regeneratorRuntime.wrap(function getMarkersAtPosition$(_context31) {
                while (1) {
                  switch (_context31.prev = _context31.next) {
                    case 0:
                      _iterator269 = _createForOfIteratorHelper(this);
                      _context31.prev = 1;

                      _iterator269.s();

                    case 3:
                      if ((_step269 = _iterator269.n()).done) {
                        _context31.next = 11;
                        break;
                      }

                      _t187 = _step269.value;
                      _context31.t0 = _t187.getRange().containsPosition(e);

                      if (!_context31.t0) {
                        _context31.next = 9;
                        break;
                      }

                      _context31.next = 9;
                      return _t187;

                    case 9:
                      _context31.next = 3;
                      break;

                    case 11:
                      _context31.next = 16;
                      break;

                    case 13:
                      _context31.prev = 13;
                      _context31.t1 = _context31["catch"](1);

                      _iterator269.e(_context31.t1);

                    case 16:
                      _context31.prev = 16;

                      _iterator269.f();

                      return _context31.finish(16);

                    case 19:
                    case "end":
                      return _context31.stop();
                  }
                }
              }, getMarkersAtPosition, this, [[1, 13, 16, 19]]);
            })
          }, {
            key: "getMarkersIntersectingRange",
            value: /*#__PURE__*/regeneratorRuntime.mark(function getMarkersIntersectingRange(e) {
              var _iterator270, _step270, _t188;

              return regeneratorRuntime.wrap(function getMarkersIntersectingRange$(_context32) {
                while (1) {
                  switch (_context32.prev = _context32.next) {
                    case 0:
                      _iterator270 = _createForOfIteratorHelper(this);
                      _context32.prev = 1;

                      _iterator270.s();

                    case 3:
                      if ((_step270 = _iterator270.n()).done) {
                        _context32.next = 11;
                        break;
                      }

                      _t188 = _step270.value;
                      _context32.t0 = null !== _t188.getRange().getIntersection(e);

                      if (!_context32.t0) {
                        _context32.next = 9;
                        break;
                      }

                      _context32.next = 9;
                      return _t188;

                    case 9:
                      _context32.next = 3;
                      break;

                    case 11:
                      _context32.next = 16;
                      break;

                    case 13:
                      _context32.prev = 13;
                      _context32.t1 = _context32["catch"](1);

                      _iterator270.e(_context32.t1);

                    case 16:
                      _context32.prev = 16;

                      _iterator270.f();

                      return _context32.finish(16);

                    case 19:
                    case "end":
                      return _context32.stop();
                  }
                }
              }, getMarkersIntersectingRange, this, [[1, 13, 16, 19]]);
            })
          }, {
            key: "destroy",
            value: function destroy() {
              var _iterator271 = _createForOfIteratorHelper(this._markers.values()),
                  _step271;

              try {
                for (_iterator271.s(); !(_step271 = _iterator271.n()).done;) {
                  var _e186 = _step271.value;

                  this._destroyMarker(_e186);
                }
              } catch (err) {
                _iterator271.e(err);
              } finally {
                _iterator271.f();
              }

              this._markers = null, this.stopListening();
            }
          }, {
            key: "getMarkersGroup",
            value: /*#__PURE__*/regeneratorRuntime.mark(function getMarkersGroup(e) {
              var _iterator272, _step272, _t189;

              return regeneratorRuntime.wrap(function getMarkersGroup$(_context33) {
                while (1) {
                  switch (_context33.prev = _context33.next) {
                    case 0:
                      _iterator272 = _createForOfIteratorHelper(this._markers.values());
                      _context33.prev = 1;

                      _iterator272.s();

                    case 3:
                      if ((_step272 = _iterator272.n()).done) {
                        _context33.next = 11;
                        break;
                      }

                      _t189 = _step272.value;
                      _context33.t0 = _t189.name.startsWith(e + ":");

                      if (!_context33.t0) {
                        _context33.next = 9;
                        break;
                      }

                      _context33.next = 9;
                      return _t189;

                    case 9:
                      _context33.next = 3;
                      break;

                    case 11:
                      _context33.next = 16;
                      break;

                    case 13:
                      _context33.prev = 13;
                      _context33.t1 = _context33["catch"](1);

                      _iterator272.e(_context33.t1);

                    case 16:
                      _context33.prev = 16;

                      _iterator272.f();

                      return _context33.finish(16);

                    case 19:
                    case "end":
                      return _context33.stop();
                  }
                }
              }, getMarkersGroup, this, [[1, 13, 16, 19]]);
            })
          }, {
            key: "_destroyMarker",
            value: function _destroyMarker(e) {
              e.stopListening(), e._detachLiveRange();
            }
          }]);

          return kd;
        }(Symbol.iterator);

        rt(kd, u);

        var bd = /*#__PURE__*/function () {
          function bd(e, t, n, i) {
            _classCallCheck(this, bd);

            this.name = e, this._liveRange = this._attachLiveRange(t), this._managedUsingOperations = n, this._affectsData = i;
          }

          _createClass(bd, [{
            key: "managedUsingOperations",
            get: function get() {
              if (!this._liveRange) throw new c.a("marker-destroyed", this);
              return this._managedUsingOperations;
            }
          }, {
            key: "affectsData",
            get: function get() {
              if (!this._liveRange) throw new c.a("marker-destroyed", this);
              return this._affectsData;
            }
          }, {
            key: "getStart",
            value: function getStart() {
              if (!this._liveRange) throw new c.a("marker-destroyed", this);
              return this._liveRange.start.clone();
            }
          }, {
            key: "getEnd",
            value: function getEnd() {
              if (!this._liveRange) throw new c.a("marker-destroyed", this);
              return this._liveRange.end.clone();
            }
          }, {
            key: "getRange",
            value: function getRange() {
              if (!this._liveRange) throw new c.a("marker-destroyed", this);
              return this._liveRange.toRange();
            }
          }, {
            key: "is",
            value: function is(e) {
              return "marker" === e || "model:marker" === e;
            }
          }, {
            key: "_attachLiveRange",
            value: function _attachLiveRange(e) {
              return this._liveRange && this._detachLiveRange(), e.delegate("change:range").to(this), e.delegate("change:content").to(this), this._liveRange = e, e;
            }
          }, {
            key: "_detachLiveRange",
            value: function _detachLiveRange() {
              this._liveRange.stopDelegating("change:range", this), this._liveRange.stopDelegating("change:content", this), this._liveRange.detach(), this._liveRange = null;
            }
          }]);

          return bd;
        }();

        rt(bd, u);

        var wd = /*#__PURE__*/function (_Dl10) {
          _inherits(wd, _Dl10);

          var _super37 = _createSuper(wd);

          function wd() {
            _classCallCheck(this, wd);

            return _super37.apply(this, arguments);
          }

          _createClass(wd, [{
            key: "type",
            get: function get() {
              return "noop";
            }
          }, {
            key: "clone",
            value: function clone() {
              return new wd(this.baseVersion);
            }
          }, {
            key: "getReversed",
            value: function getReversed() {
              return new wd(this.baseVersion + 1);
            }
          }, {
            key: "_execute",
            value: function _execute() {}
          }], [{
            key: "className",
            get: function get() {
              return "NoOperation";
            }
          }]);

          return wd;
        }(Dl);

        var _d = {};
        _d[ql.className] = ql, _d[Yl.className] = Yl, _d[Kl.className] = Kl, _d[Gl.className] = Gl, _d[wd.className] = wd, _d[Dl.className] = Dl, _d[Ql.className] = Ql, _d[Jl.className] = Jl, _d[Zl.className] = Zl, _d[Xl.className] = Xl;

        var vd = /*#__PURE__*/function () {
          function vd() {
            _classCallCheck(this, vd);
          }

          _createClass(vd, null, [{
            key: "fromJSON",
            value: function fromJSON(e, t) {
              return _d[e.__className].fromJSON(e, t);
            }
          }]);

          return vd;
        }();

        var xd = /*#__PURE__*/function (_wc) {
          _inherits(xd, _wc);

          var _super38 = _createSuper(xd);

          function xd(e, t) {
            var _this75;

            var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "toNone";

            _classCallCheck(this, xd);

            if (_this75 = _super38.call(this, e, t, n), !_this75.root.is("rootElement")) throw new c.a("model-liveposition-root-not-rootelement", e);
            (function () {
              var _this76 = this;

              this.listenTo(this.root.document.model, "applyOperation", function (e, t) {
                var n = t[0];
                n.isDocumentOperation && function (e) {
                  var t = this.getTransformedByOperation(e);

                  if (!this.isEqual(t)) {
                    var _e187 = this.toPosition();

                    this.path = t.path, this.root = t.root, this.fire("change", _e187);
                  }
                }.call(_this76, n);
              }, {
                priority: "low"
              });
            }).call(_assertThisInitialized(_this75));
            return _possibleConstructorReturn(_this75);
          }

          _createClass(xd, [{
            key: "detach",
            value: function detach() {
              this.stopListening();
            }
          }, {
            key: "is",
            value: function is(e) {
              return "livePosition" === e || "model:livePosition" === e || "position" == e || "model:position" === e;
            }
          }, {
            key: "toPosition",
            value: function toPosition() {
              return new wc(this.root, this.path.slice(), this.stickiness);
            }
          }], [{
            key: "fromPosition",
            value: function fromPosition(e, t) {
              return new this(e.root, e.path.slice(), t || e.stickiness);
            }
          }]);

          return xd;
        }(wc);

        rt(xd, u);

        var yd = /*#__PURE__*/function () {
          function yd(e, t, n) {
            _classCallCheck(this, yd);

            this.model = e, this.writer = t, this.position = n, this.canMergeWith = new Set([this.position.parent]), this.schema = e.schema, this._documentFragment = t.createDocumentFragment(), this._documentFragmentPosition = t.createPositionAt(this._documentFragment, 0), this._firstNode = null, this._lastNode = null, this._lastAutoParagraph = null, this._filterAttributesOf = [], this._affectedStart = null, this._affectedEnd = null;
          }

          _createClass(yd, [{
            key: "handleNodes",
            value: function handleNodes(e) {
              for (var _i130 = 0, _Array$from6 = Array.from(e); _i130 < _Array$from6.length; _i130++) {
                var _t190 = _Array$from6[_i130];

                this._handleNode(_t190);
              }

              this._insertPartialFragment(), this._lastAutoParagraph && this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph), this._mergeOnRight(), this.schema.removeDisallowedAttributes(this._filterAttributesOf, this.writer), this._filterAttributesOf = [];
            }
          }, {
            key: "_updateLastNodeFromAutoParagraph",
            value: function _updateLastNodeFromAutoParagraph(e) {
              var t = this.writer.createPositionAfter(this._lastNode),
                  n = this.writer.createPositionAfter(e);

              if (n.isAfter(t)) {
                if (this._lastNode = e, this.position.parent != e || !this.position.isAtEnd) throw new c.a("insertcontent-invalid-insertion-position", this);
                this.position = n, this._setAffectedBoundaries(this.position);
              }
            }
          }, {
            key: "getSelectionRange",
            value: function getSelectionRange() {
              return this.nodeToSelect ? yc._createOn(this.nodeToSelect) : this.model.schema.getNearestSelectionRange(this.position);
            }
          }, {
            key: "getAffectedRange",
            value: function getAffectedRange() {
              return this._affectedStart ? new yc(this._affectedStart, this._affectedEnd) : null;
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this._affectedStart && this._affectedStart.detach(), this._affectedEnd && this._affectedEnd.detach();
            }
          }, {
            key: "_handleNode",
            value: function _handleNode(e) {
              if (this.schema.isObject(e)) return void this._handleObject(e);

              var t = this._checkAndAutoParagraphToAllowedPosition(e);

              t || (t = this._checkAndSplitToAllowedPosition(e)) ? (this._appendToFragment(e), this._firstNode || (this._firstNode = e), this._lastNode = e) : this._handleDisallowedNode(e);
            }
          }, {
            key: "_insertPartialFragment",
            value: function _insertPartialFragment() {
              if (this._documentFragment.isEmpty) return;
              var e = xd.fromPosition(this.position, "toNext");
              this._setAffectedBoundaries(this.position), this._documentFragment.getChild(0) == this._firstNode && (this.writer.insert(this._firstNode, this.position), this._mergeOnLeft(), this.position = e.toPosition()), this._documentFragment.isEmpty || this.writer.insert(this._documentFragment, this.position), this._documentFragmentPosition = this.writer.createPositionAt(this._documentFragment, 0), this.position = e.toPosition(), e.detach();
            }
          }, {
            key: "_handleObject",
            value: function _handleObject(e) {
              this._checkAndSplitToAllowedPosition(e) ? this._appendToFragment(e) : this._tryAutoparagraphing(e);
            }
          }, {
            key: "_handleDisallowedNode",
            value: function _handleDisallowedNode(e) {
              e.is("element") ? this.handleNodes(e.getChildren()) : this._tryAutoparagraphing(e);
            }
          }, {
            key: "_appendToFragment",
            value: function _appendToFragment(e) {
              if (!this.schema.checkChild(this.position, e)) throw new c.a("insertcontent-wrong-position", this, {
                node: e,
                position: this.position
              });
              this.writer.insert(e, this._documentFragmentPosition), this._documentFragmentPosition = this._documentFragmentPosition.getShiftedBy(e.offsetSize), this.schema.isObject(e) && !this.schema.checkChild(this.position, "$text") ? this.nodeToSelect = e : this.nodeToSelect = null, this._filterAttributesOf.push(e);
            }
          }, {
            key: "_setAffectedBoundaries",
            value: function _setAffectedBoundaries(e) {
              this._affectedStart || (this._affectedStart = xd.fromPosition(e, "toPrevious")), this._affectedEnd && !this._affectedEnd.isBefore(e) || (this._affectedEnd && this._affectedEnd.detach(), this._affectedEnd = xd.fromPosition(e, "toNext"));
            }
          }, {
            key: "_mergeOnLeft",
            value: function _mergeOnLeft() {
              var e = this._firstNode;
              if (!(e instanceof pc)) return;
              if (!this._canMergeLeft(e)) return;

              var t = xd._createBefore(e);

              t.stickiness = "toNext";
              var n = xd.fromPosition(this.position, "toNext");
              this._affectedStart.isEqual(t) && (this._affectedStart.detach(), this._affectedStart = xd._createAt(t.nodeBefore, "end", "toPrevious")), this._firstNode === this._lastNode && (this._firstNode = t.nodeBefore, this._lastNode = t.nodeBefore), this.writer.merge(t), t.isEqual(this._affectedEnd) && this._firstNode === this._lastNode && (this._affectedEnd.detach(), this._affectedEnd = xd._createAt(t.nodeBefore, "end", "toNext")), this.position = n.toPosition(), n.detach(), this._filterAttributesOf.push(this.position.parent), t.detach();
            }
          }, {
            key: "_mergeOnRight",
            value: function _mergeOnRight() {
              var e = this._lastNode;
              if (!(e instanceof pc)) return;
              if (!this._canMergeRight(e)) return;

              var t = xd._createAfter(e);

              if (t.stickiness = "toNext", !this.position.isEqual(t)) throw new c.a("insertcontent-invalid-insertion-position", this);
              this.position = wc._createAt(t.nodeBefore, "end");
              var n = xd.fromPosition(this.position, "toPrevious");
              this._affectedEnd.isEqual(t) && (this._affectedEnd.detach(), this._affectedEnd = xd._createAt(t.nodeBefore, "end", "toNext")), this._firstNode === this._lastNode && (this._firstNode = t.nodeBefore, this._lastNode = t.nodeBefore), this.writer.merge(t), t.getShiftedBy(-1).isEqual(this._affectedStart) && this._firstNode === this._lastNode && (this._affectedStart.detach(), this._affectedStart = xd._createAt(t.nodeBefore, 0, "toPrevious")), this.position = n.toPosition(), n.detach(), this._filterAttributesOf.push(this.position.parent), t.detach();
            }
          }, {
            key: "_canMergeLeft",
            value: function _canMergeLeft(e) {
              var t = e.previousSibling;
              return t instanceof pc && this.canMergeWith.has(t) && this.model.schema.checkMerge(t, e);
            }
          }, {
            key: "_canMergeRight",
            value: function _canMergeRight(e) {
              var t = e.nextSibling;
              return t instanceof pc && this.canMergeWith.has(t) && this.model.schema.checkMerge(e, t);
            }
          }, {
            key: "_tryAutoparagraphing",
            value: function _tryAutoparagraphing(e) {
              var t = this.writer.createElement("paragraph");
              this._getAllowedIn(this.position.parent, t) && this.schema.checkChild(t, e) && (t._appendChild(e), this._handleNode(t));
            }
          }, {
            key: "_checkAndAutoParagraphToAllowedPosition",
            value: function _checkAndAutoParagraphToAllowedPosition(e) {
              if (this.schema.checkChild(this.position.parent, e)) return !0;
              if (!this.schema.checkChild(this.position.parent, "paragraph") || !this.schema.checkChild("paragraph", e)) return !1;

              this._insertPartialFragment();

              var t = this.writer.createElement("paragraph");
              return this.writer.insert(t, this.position), this._setAffectedBoundaries(this.position), this._lastAutoParagraph = t, this.position = this.writer.createPositionAt(t, 0), !0;
            }
          }, {
            key: "_checkAndSplitToAllowedPosition",
            value: function _checkAndSplitToAllowedPosition(e) {
              var t = this._getAllowedIn(this.position.parent, e);

              if (!t) return !1;

              for (t != this.position.parent && this._insertPartialFragment(); t != this.position.parent;) {
                if (this.position.isAtStart) {
                  var _e188 = this.position.parent;
                  this.position = this.writer.createPositionBefore(_e188), _e188.isEmpty && _e188.parent === t && this.writer.remove(_e188);
                } else if (this.position.isAtEnd) this.position = this.writer.createPositionAfter(this.position.parent);else {
                  var _e189 = this.writer.createPositionAfter(this.position.parent);

                  this._setAffectedBoundaries(this.position), this.writer.split(this.position), this.position = _e189, this.canMergeWith.add(this.position.nodeAfter);
                }
              }

              return !0;
            }
          }, {
            key: "_getAllowedIn",
            value: function _getAllowedIn(e, t) {
              return this.schema.checkChild(e, t) ? e : this.schema.isLimit(e) ? null : this._getAllowedIn(e.parent, t);
            }
          }]);

          return yd;
        }();

        function Cd(e, t) {
          var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
          if (t.isCollapsed) return;
          var i = t.getFirstRange();
          if ("$graveyard" == i.root.rootName) return;
          var o = e.schema;
          e.change(function (e) {
            if (!n.doNotResetEntireContent && function (e, t) {
              var n = e.getLimitElement(t);
              if (!t.containsEntireContent(n)) return !1;
              var i = t.getFirstRange();
              if (i.start.parent == i.end.parent) return !1;
              return e.checkChild(n, "paragraph");
            }(o, t)) return void function (e, t) {
              var n = e.model.schema.getLimitElement(t);
              e.remove(e.createRangeIn(n)), Ad(e, e.createPositionAt(n, 0), t);
            }(e, t);

            var _ref27 = function (e) {
              var t = e.root.document.model,
                  n = e.start;
              var i = e.end;

              if (t.hasContent(e, {
                ignoreMarkers: !0
              })) {
                var _n172 = function (e) {
                  var t = e.parent,
                      n = t.root.document.model.schema,
                      i = t.getAncestors({
                    parentFirst: !0,
                    includeSelf: !0
                  });

                  var _iterator273 = _createForOfIteratorHelper(i),
                      _step273;

                  try {
                    for (_iterator273.s(); !(_step273 = _iterator273.n()).done;) {
                      var _e190 = _step273.value;
                      if (n.isLimit(_e190)) return null;
                      if (n.isBlock(_e190)) return _e190;
                    }
                  } catch (err) {
                    _iterator273.e(err);
                  } finally {
                    _iterator273.f();
                  }
                }(i);

                if (_n172 && i.isTouching(t.createPositionAt(_n172, 0))) {
                  var _n173 = t.createSelection(e);

                  t.modifySelection(_n173, {
                    direction: "backward"
                  });

                  var _o58 = _n173.getLastPosition(),
                      _r31 = t.createRange(_o58, i);

                  t.hasContent(_r31, {
                    ignoreMarkers: !0
                  }) || (i = _o58);
                }
              }

              return [xd.fromPosition(n, "toPrevious"), xd.fromPosition(i, "toNext")];
            }(i),
                _ref28 = _slicedToArray(_ref27, 2),
                r = _ref28[0],
                s = _ref28[1];

            r.isTouching(s) || e.remove(e.createRange(r, s)), n.leaveUnmerged || (!function (e, t, n) {
              var i = e.model;
              if (!Td(e.model.schema, t, n)) return;

              var _ref29 = function (e, t) {
                var n = e.getAncestors(),
                    i = t.getAncestors();
                var o = 0;

                for (; n[o] && n[o] == i[o];) {
                  o++;
                }

                return [n[o], i[o]];
              }(t, n),
                  _ref30 = _slicedToArray(_ref29, 2),
                  o = _ref30[0],
                  r = _ref30[1];

              if (!o || !r) return;
              !i.hasContent(o, {
                ignoreMarkers: !0
              }) && i.hasContent(r, {
                ignoreMarkers: !0
              }) ? function e(t, n, i, o) {
                var r = n.parent;
                var s = i.parent;
                if (r == o || s == o) return;
                n = t.createPositionAfter(r);
                i = t.createPositionBefore(s);
                i.isEqual(n) || t.insert(r, i);

                for (; n.parent.isEmpty;) {
                  var _e191 = n.parent;
                  n = t.createPositionBefore(_e191), t.remove(_e191);
                }

                i = t.createPositionBefore(s);
                !function (e, t) {
                  var n = t.nodeBefore,
                      i = t.nodeAfter;
                  n.name != i.name && e.rename(n, i.name);
                  e.clearAttributes(n), e.setAttributes(Object.fromEntries(i.getAttributes()), n), e.merge(t);
                }(t, i);
                if (!Td(t.model.schema, n, i)) return;
                e(t, n, i, o);
              }(e, t, n, o.parent) : function e(t, n, i, o) {
                var r = n.parent;
                var s = i.parent;
                if (r == o || s == o) return;
                n = t.createPositionAfter(r);
                i = t.createPositionBefore(s);
                i.isEqual(n) || t.insert(s, n);
                t.merge(n);

                for (; i.parent.isEmpty;) {
                  var _e192 = i.parent;
                  i = t.createPositionBefore(_e192), t.remove(_e192);
                }

                if (!Td(t.model.schema, n, i)) return;
                e(t, n, i, o);
              }(e, t, n, o.parent);
            }(e, r, s), o.removeDisallowedAttributes(r.parent.getChildren(), e)), Ed(e, t, r), !n.doNotAutoparagraph && function (e, t) {
              var n = e.checkChild(t, "$text"),
                  i = e.checkChild(t, "paragraph");
              return !n && i;
            }(o, r) && Ad(e, r, t), r.detach(), s.detach();
          });
        }

        function Td(e, t, n) {
          var i = t.parent,
              o = n.parent;
          return i != o && !e.isLimit(i) && !e.isLimit(o) && function (e, t, n) {
            var i = new yc(e, t);

            var _iterator274 = _createForOfIteratorHelper(i.getWalker()),
                _step274;

            try {
              for (_iterator274.s(); !(_step274 = _iterator274.n()).done;) {
                var _e193 = _step274.value;
                if (n.isLimit(_e193.item)) return !1;
              }
            } catch (err) {
              _iterator274.e(err);
            } finally {
              _iterator274.f();
            }

            return !0;
          }(t, n, e);
        }

        function Ad(e, t, n) {
          var i = e.createElement("paragraph");
          e.insert(i, t), Ed(e, n, e.createPositionAt(i, 0));
        }

        function Ed(e, t, n) {
          t instanceof Vc ? e.setSelection(n) : t.setTo(n);
        }

        var Id = ' ,.?!:;"-()';

        function Sd(e, t) {
          var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
          var i = e.schema,
              o = "backward" != n.direction,
              r = n.unit ? n.unit : "character",
              s = t.focus,
              a = new kc({
            boundaries: function (e, t) {
              var n = e.root,
                  i = wc._createAt(n, t ? "end" : 0);

              return t ? new yc(e, i) : new yc(i, e);
            }(s, o),
            singleCharacters: !0,
            direction: o ? "forward" : "backward"
          }),
              c = {
            walker: a,
            schema: i,
            isForward: o,
            unit: r
          };
          var l;

          var _loop3 = function _loop3() {
            if (l.done) return {
              v: void 0
            };
            var n = Md(c, l.value);
            if (n) return {
              v: void (t instanceof Vc ? e.change(function (e) {
                e.setSelectionFocus(n);
              }) : t.setFocus(n))
            };
          };

          for (; l = a.next();) {
            var _ret2 = _loop3();

            if (typeof _ret2 === "object") return _ret2.v;
          }
        }

        function Md(e, t) {
          var n = e.isForward,
              i = e.walker,
              o = e.unit,
              r = e.schema,
              s = t.type,
              a = t.item,
              c = t.nextPosition;
          if ("text" == s) return "word" === e.unit ? function (e, t) {
            var n = e.position.textNode;

            if (n) {
              var _i131 = e.position.offset - n.startOffset;

              for (; !Pd(n.data, _i131, t) && !Rd(n, _i131, t);) {
                e.next();

                var _o59 = t ? e.position.nodeAfter : e.position.nodeBefore;

                if (_o59 && _o59.is("$text")) {
                  var _i132 = _o59.data.charAt(t ? 0 : _o59.data.length - 1);

                  Id.includes(_i132) || (e.next(), n = e.position.textNode);
                }

                _i131 = e.position.offset - n.startOffset;
              }
            }

            return e.position;
          }(i, n) : function (e, t) {
            var n = e.position.textNode;

            if (n) {
              var _i133 = n.data;

              var _o60 = e.position.offset - n.startOffset;

              for (; hd(_i133, _o60) || "character" == t && gd(_i133, _o60);) {
                e.next(), _o60 = e.position.offset - n.startOffset;
              }
            }

            return e.position;
          }(i, o);

          if (s == (n ? "elementStart" : "elementEnd")) {
            if (r.isSelectable(a)) return wc._createAt(a, n ? "after" : "before");
            if (r.checkChild(c, "$text")) return c;
          } else {
            if (r.isLimit(a)) return void i.skip(function () {
              return !0;
            });
            if (r.checkChild(c, "$text")) return c;
          }
        }

        function Pd(e, t, n) {
          var i = t + (n ? 0 : -1);
          return Id.includes(e.charAt(i));
        }

        function Rd(e, t, n) {
          return t === (n ? e.endOffset : 0);
        }

        function Nd(e, t) {
          var n = [];
          Array.from(e.getItems({
            direction: "backward"
          })).map(function (e) {
            return t.createRangeOn(e);
          }).filter(function (t) {
            return (t.start.isAfter(e.start) || t.start.isEqual(e.start)) && (t.end.isBefore(e.end) || t.end.isEqual(e.end));
          }).forEach(function (e) {
            n.push(e.start.parent), t.remove(e);
          }), n.forEach(function (e) {
            var n = e;

            for (; n.parent && n.isEmpty;) {
              var _e194 = t.createRangeOn(n);

              n = n.parent, t.remove(_e194);
            }
          });
        }

        function Od(e) {
          e.document.registerPostFixer(function (t) {
            return function (e, t) {
              var n = t.document.selection,
                  i = t.schema,
                  o = [];
              var r = !1;

              var _iterator275 = _createForOfIteratorHelper(n.getRanges()),
                  _step275;

              try {
                for (_iterator275.s(); !(_step275 = _iterator275.n()).done;) {
                  var _e196 = _step275.value;

                  var _t191 = Dd(_e196, i);

                  _t191 && !_t191.isEqual(_e196) ? (o.push(_t191), r = !0) : o.push(_e196);
                }
              } catch (err) {
                _iterator275.e(err);
              } finally {
                _iterator275.f();
              }

              r && e.setSelection(function (e) {
                var t = [];
                t.push(e.shift());

                var _iterator276 = _createForOfIteratorHelper(e),
                    _step276;

                try {
                  for (_iterator276.s(); !(_step276 = _iterator276.n()).done;) {
                    var _n174 = _step276.value;

                    var _e195 = t.pop();

                    if (_n174.isEqual(_e195)) t.push(_e195);else if (_n174.isIntersecting(_e195)) {
                      var _i134 = _e195.start.isAfter(_n174.start) ? _n174.start : _e195.start,
                          _o61 = _e195.end.isAfter(_n174.end) ? _e195.end : _n174.end,
                          _r32 = new yc(_i134, _o61);

                      t.push(_r32);
                    } else t.push(_e195), t.push(_n174);
                  }
                } catch (err) {
                  _iterator276.e(err);
                } finally {
                  _iterator276.f();
                }

                return t;
              }(o), {
                backward: n.isBackward
              });
            }(t, e);
          });
        }

        function Dd(e, t) {
          return e.isCollapsed ? function (e, t) {
            var n = e.start,
                i = t.getNearestSelectionRange(n);

            if (!i) {
              var _e197 = n.getAncestors().reverse().find(function (e) {
                return t.isObject(e);
              });

              return _e197 ? yc._createOn(_e197) : null;
            }

            if (!i.isCollapsed) return i;
            var o = i.start;
            if (n.isEqual(o)) return null;
            return new yc(o);
          }(e, t) : function (e, t) {
            var n = e.start,
                i = e.end,
                o = t.checkChild(n, "$text"),
                r = t.checkChild(i, "$text"),
                s = t.getLimitElement(n),
                a = t.getLimitElement(i);

            if (s === a) {
              if (o && r) return null;

              if (function (e, t, n) {
                var i = e.nodeAfter && !n.isLimit(e.nodeAfter) || n.checkChild(e, "$text"),
                    o = t.nodeBefore && !n.isLimit(t.nodeBefore) || n.checkChild(t, "$text");
                return i || o;
              }(n, i, t)) {
                var _e198 = n.nodeAfter && t.isSelectable(n.nodeAfter),
                    _o62 = _e198 ? null : t.getNearestSelectionRange(n, "forward"),
                    _r33 = i.nodeBefore && t.isSelectable(i.nodeBefore),
                    _s22 = _r33 ? null : t.getNearestSelectionRange(i, "backward"),
                    _a13 = _o62 ? _o62.start : n,
                    _c5 = _s22 ? _s22.end : i;

                return new yc(_a13, _c5);
              }
            }

            var c = s && !s.is("rootElement"),
                l = a && !a.is("rootElement");

            if (c || l) {
              var _e199 = n.nodeAfter && i.nodeBefore && n.nodeAfter.parent === i.nodeBefore.parent,
                  _o63 = c && (!_e199 || !zd(n.nodeAfter, t)),
                  _r34 = l && (!_e199 || !zd(i.nodeBefore, t));

              var _d2 = n,
                  _u2 = i;
              return _o63 && (_d2 = wc._createBefore(Ld(s, t))), _r34 && (_u2 = wc._createAfter(Ld(a, t))), new yc(_d2, _u2);
            }

            return null;
          }(e, t);
        }

        function Ld(e, t) {
          var n = e,
              i = n;

          for (; t.isLimit(i) && i.parent;) {
            n = i, i = i.parent;
          }

          return n;
        }

        function zd(e, t) {
          return e && t.isSelectable(e);
        }

        var Vd = /*#__PURE__*/function () {
          function Vd() {
            var _this77 = this;

            _classCallCheck(this, Vd);

            this.markers = new kd(), this.document = new fd(this), this.schema = new hl(), this._pendingChanges = [], this._currentWriter = null, ["insertContent", "deleteContent", "modifySelection", "getSelectedContent", "applyOperation"].forEach(function (e) {
              return _this77.decorate(e);
            }), this.on("applyOperation", function (e, t) {
              t[0]._validate();
            }, {
              priority: "highest"
            }), this.schema.register("$root", {
              isLimit: !0
            }), this.schema.register("$block", {
              allowIn: "$root",
              isBlock: !0
            }), this.schema.register("$text", {
              allowIn: "$block",
              isInline: !0,
              isContent: !0
            }), this.schema.register("$clipboardHolder", {
              allowContentOf: "$root",
              allowChildren: "$text",
              isLimit: !0
            }), this.schema.register("$documentFragment", {
              allowContentOf: "$root",
              allowChildren: "$text",
              isLimit: !0
            }), this.schema.register("$marker"), this.schema.addChildCheck(function (e, t) {
              if ("$marker" === t.name) return !0;
            }), Od(this), this.document.registerPostFixer(Xc);
          }

          _createClass(Vd, [{
            key: "change",
            value: function change(e) {
              try {
                return 0 === this._pendingChanges.length ? (this._pendingChanges.push({
                  batch: new Ol(),
                  callback: e
                }), this._runPendingChanges()[0]) : e(this._currentWriter);
              } catch (e) {
                c.a.rethrowUnexpectedError(e, this);
              }
            }
          }, {
            key: "enqueueChange",
            value: function enqueueChange(e, t) {
              try {
                "string" == typeof e ? e = new Ol(e) : "function" == typeof e && (t = e, e = new Ol()), this._pendingChanges.push({
                  batch: e,
                  callback: t
                }), 1 == this._pendingChanges.length && this._runPendingChanges();
              } catch (e) {
                c.a.rethrowUnexpectedError(e, this);
              }
            }
          }, {
            key: "applyOperation",
            value: function applyOperation(e) {
              e._execute();
            }
          }, {
            key: "insertContent",
            value: function insertContent(e, t, n) {
              return function (e, t, n, i) {
                return e.change(function (o) {
                  var r;
                  (r = n ? n instanceof Pc || n instanceof Vc ? n : o.createSelection(n, i) : e.document.selection).isCollapsed || e.deleteContent(r, {
                    doNotAutoparagraph: !0
                  });
                  var s = new yd(e, o, r.anchor);
                  var a;
                  a = t.is("documentFragment") ? t.getChildren() : [t], s.handleNodes(a);
                  var c = s.getSelectionRange();
                  c && (r instanceof Vc ? o.setSelection(c) : r.setTo(c));
                  var l = s.getAffectedRange() || e.createRange(r.anchor);
                  return s.destroy(), l;
                });
              }(this, e, t, n);
            }
          }, {
            key: "deleteContent",
            value: function deleteContent(e, t) {
              Cd(this, e, t);
            }
          }, {
            key: "modifySelection",
            value: function modifySelection(e, t) {
              Sd(this, e, t);
            }
          }, {
            key: "getSelectedContent",
            value: function getSelectedContent(e) {
              return function (e, t) {
                return e.change(function (e) {
                  var n = e.createDocumentFragment(),
                      i = t.getFirstRange();
                  if (!i || i.isCollapsed) return n;
                  var o = i.start.root,
                      r = i.start.getCommonPath(i.end),
                      s = o.getNodeByPath(r);
                  var a;
                  var c = (a = i.start.parent == i.end.parent ? i : e.createRange(e.createPositionAt(s, i.start.path[r.length]), e.createPositionAt(s, i.end.path[r.length] + 1))).end.offset - a.start.offset;

                  var _iterator277 = _createForOfIteratorHelper(a.getItems({
                    shallow: !0
                  })),
                      _step277;

                  try {
                    for (_iterator277.s(); !(_step277 = _iterator277.n()).done;) {
                      var _t193 = _step277.value;
                      _t193.is("$textProxy") ? e.appendText(_t193.data, _t193.getAttributes(), n) : e.append(e.cloneElement(_t193, !0), n);
                    }
                  } catch (err) {
                    _iterator277.e(err);
                  } finally {
                    _iterator277.f();
                  }

                  if (a != i) {
                    var _t192 = i._getTransformedByMove(a.start, e.createPositionAt(n, 0), c)[0],
                        _o64 = e.createRange(e.createPositionAt(n, 0), _t192.start);

                    Nd(e.createRange(_t192.end, e.createPositionAt(n, "end")), e), Nd(_o64, e);
                  }

                  return n;
                });
              }(this, e);
            }
          }, {
            key: "hasContent",
            value: function hasContent(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
              var n = e instanceof pc ? yc._createIn(e) : e;
              if (n.isCollapsed) return !1;
              var _t$ignoreWhitespaces = t.ignoreWhitespaces,
                  i = _t$ignoreWhitespaces === void 0 ? !1 : _t$ignoreWhitespaces,
                  _t$ignoreMarkers = t.ignoreMarkers,
                  o = _t$ignoreMarkers === void 0 ? !1 : _t$ignoreMarkers;

              if (!o) {
                var _iterator278 = _createForOfIteratorHelper(this.markers.getMarkersIntersectingRange(n)),
                    _step278;

                try {
                  for (_iterator278.s(); !(_step278 = _iterator278.n()).done;) {
                    var _e200 = _step278.value;
                    if (_e200.affectsData) return !0;
                  }
                } catch (err) {
                  _iterator278.e(err);
                } finally {
                  _iterator278.f();
                }
              }

              var _iterator279 = _createForOfIteratorHelper(n.getItems()),
                  _step279;

              try {
                for (_iterator279.s(); !(_step279 = _iterator279.n()).done;) {
                  var _e201 = _step279.value;

                  if (this.schema.isContent(_e201)) {
                    if (!_e201.is("$textProxy")) return !0;
                    if (!i) return !0;
                    if (-1 !== _e201.data.search(/\S/)) return !0;
                  }
                }
              } catch (err) {
                _iterator279.e(err);
              } finally {
                _iterator279.f();
              }

              return !1;
            }
          }, {
            key: "createPositionFromPath",
            value: function createPositionFromPath(e, t, n) {
              return new wc(e, t, n);
            }
          }, {
            key: "createPositionAt",
            value: function createPositionAt(e, t) {
              return wc._createAt(e, t);
            }
          }, {
            key: "createPositionAfter",
            value: function createPositionAfter(e) {
              return wc._createAfter(e);
            }
          }, {
            key: "createPositionBefore",
            value: function createPositionBefore(e) {
              return wc._createBefore(e);
            }
          }, {
            key: "createRange",
            value: function createRange(e, t) {
              return new yc(e, t);
            }
          }, {
            key: "createRangeIn",
            value: function createRangeIn(e) {
              return yc._createIn(e);
            }
          }, {
            key: "createRangeOn",
            value: function createRangeOn(e) {
              return yc._createOn(e);
            }
          }, {
            key: "createSelection",
            value: function createSelection(e, t, n) {
              return new Pc(e, t, n);
            }
          }, {
            key: "createBatch",
            value: function createBatch(e) {
              return new Ol(e);
            }
          }, {
            key: "createOperationFromJSON",
            value: function createOperationFromJSON(e) {
              return vd.fromJSON(e, this.document);
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this.document.destroy(), this.stopListening();
            }
          }, {
            key: "_runPendingChanges",
            value: function _runPendingChanges() {
              var e = [];

              for (this.fire("_beforeChanges"); this._pendingChanges.length;) {
                var _t194 = this._pendingChanges[0].batch;
                this._currentWriter = new td(this, _t194);

                var _n175 = this._pendingChanges[0].callback(this._currentWriter);

                e.push(_n175), this.document._handleChangeBlock(this._currentWriter), this._pendingChanges.shift(), this._currentWriter = null;
              }

              return this.fire("_afterChanges"), e;
            }
          }]);

          return Vd;
        }();

        rt(Vd, Ze);

        var Bd = /*#__PURE__*/function (_Za) {
          _inherits(Bd, _Za);

          var _super39 = _createSuper(Bd);

          function Bd(e) {
            var _this78;

            _classCallCheck(this, Bd);

            _this78 = _super39.call(this), _this78.editor = e;
            return _this78;
          }

          _createClass(Bd, [{
            key: "set",
            value: function set(e, t) {
              var _this79 = this;

              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

              if ("string" == typeof t) {
                var _e202 = t;

                t = function t(_t195, n) {
                  _this79.editor.execute(_e202), n();
                };
              }

              _get(_getPrototypeOf(Bd.prototype), "set", this).call(this, e, t, n);
            }
          }]);

          return Bd;
        }(Za);

        var Fd = /*#__PURE__*/function () {
          function Fd() {
            var _this80 = this;

            var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

            _classCallCheck(this, Fd);

            this._context = e.context || new Ki({
              language: e.language
            }), this._context._addEditor(this, !e.context);
            var t = Array.from(this.constructor.builtinPlugins || []);
            this.config = new Vi(e, this.constructor.defaultConfig), this.config.define("plugins", t), this.config.define(this._context._getEditorConfig()), this.plugins = new Ui(this, t, this._context.plugins), this.locale = this._context.locale, this.t = this.locale.t, this.commands = new ll(), this.set("state", "initializing"), this.once("ready", function () {
              return _this80.state = "ready";
            }, {
              priority: "high"
            }), this.once("destroy", function () {
              return _this80.state = "destroyed";
            }, {
              priority: "high"
            }), this.set("isReadOnly", !1), this.model = new Vd();
            var n = new Go();
            this.data = new Ml(this.model, n), this.editing = new cl(this.model, n), this.editing.view.document.bind("isReadOnly").to(this), this.conversion = new Pl([this.editing.downcastDispatcher, this.data.downcastDispatcher], this.data.upcastDispatcher), this.conversion.addAlias("dataDowncast", this.data.downcastDispatcher), this.conversion.addAlias("editingDowncast", this.editing.downcastDispatcher), this.keystrokes = new Bd(this), this.keystrokes.listenTo(this.editing.view.document);
          }

          _createClass(Fd, [{
            key: "initPlugins",
            value: function initPlugins() {
              var e = this.config,
                  t = e.get("plugins"),
                  n = e.get("removePlugins") || [],
                  i = e.get("extraPlugins") || [],
                  o = e.get("substitutePlugins") || [];
              return this.plugins.init(t.concat(i), n, o);
            }
          }, {
            key: "destroy",
            value: function destroy() {
              var _this81 = this;

              var e = Promise.resolve();
              return "initializing" == this.state && (e = new Promise(function (e) {
                return _this81.once("ready", e);
              })), e.then(function () {
                _this81.fire("destroy"), _this81.stopListening(), _this81.commands.destroy();
              }).then(function () {
                return _this81.plugins.destroy();
              }).then(function () {
                _this81.model.destroy(), _this81.data.destroy(), _this81.editing.destroy(), _this81.keystrokes.destroy();
              }).then(function () {
                return _this81._context._removeEditor(_this81);
              });
            }
          }, {
            key: "execute",
            value: function execute() {
              try {
                var _this$commands;

                return (_this$commands = this.commands).execute.apply(_this$commands, arguments);
              } catch (e) {
                c.a.rethrowUnexpectedError(e, this);
              }
            }
          }, {
            key: "focus",
            value: function focus() {
              this.editing.view.focus();
            }
          }]);

          return Fd;
        }();

        rt(Fd, Ze);

        var jd = /*#__PURE__*/function () {
          function jd(e) {
            _classCallCheck(this, jd);

            this.editor = e, this._components = new Map();
          }

          _createClass(jd, [{
            key: "names",
            value: /*#__PURE__*/regeneratorRuntime.mark(function names() {
              var _iterator280, _step280, _e203;

              return regeneratorRuntime.wrap(function names$(_context34) {
                while (1) {
                  switch (_context34.prev = _context34.next) {
                    case 0:
                      _iterator280 = _createForOfIteratorHelper(this._components.values());
                      _context34.prev = 1;

                      _iterator280.s();

                    case 3:
                      if ((_step280 = _iterator280.n()).done) {
                        _context34.next = 9;
                        break;
                      }

                      _e203 = _step280.value;
                      _context34.next = 7;
                      return _e203.originalName;

                    case 7:
                      _context34.next = 3;
                      break;

                    case 9:
                      _context34.next = 14;
                      break;

                    case 11:
                      _context34.prev = 11;
                      _context34.t0 = _context34["catch"](1);

                      _iterator280.e(_context34.t0);

                    case 14:
                      _context34.prev = 14;

                      _iterator280.f();

                      return _context34.finish(14);

                    case 17:
                    case "end":
                      return _context34.stop();
                  }
                }
              }, names, this, [[1, 11, 14, 17]]);
            })
          }, {
            key: "add",
            value: function add(e, t) {
              this._components.set(Hd(e), {
                callback: t,
                originalName: e
              });
            }
          }, {
            key: "create",
            value: function create(e) {
              if (!this.has(e)) throw new c.a("componentfactory-item-missing", this, {
                name: e
              });
              return this._components.get(Hd(e)).callback(this.editor.locale);
            }
          }, {
            key: "has",
            value: function has(e) {
              return this._components.has(Hd(e));
            }
          }]);

          return jd;
        }();

        function Hd(e) {
          return String(e).toLowerCase();
        }

        var Ud = /*#__PURE__*/function () {
          function Ud(e) {
            var _this82 = this;

            _classCallCheck(this, Ud);

            this.editor = e, this.componentFactory = new jd(e), this.focusTracker = new Xa(), this.set("viewportOffset", this._readViewportOffsetFromConfig()), this._editableElementsMap = new Map(), this.listenTo(e.editing.view.document, "layoutChanged", function () {
              return _this82.update();
            });
          }

          _createClass(Ud, [{
            key: "element",
            get: function get() {
              return null;
            }
          }, {
            key: "update",
            value: function update() {
              this.fire("update");
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this.stopListening(), this.focusTracker.destroy();

              var _iterator281 = _createForOfIteratorHelper(this._editableElementsMap.values()),
                  _step281;

              try {
                for (_iterator281.s(); !(_step281 = _iterator281.n()).done;) {
                  var _e204 = _step281.value;
                  _e204.ckeditorInstance = null;
                }
              } catch (err) {
                _iterator281.e(err);
              } finally {
                _iterator281.f();
              }

              this._editableElementsMap = new Map();
            }
          }, {
            key: "setEditableElement",
            value: function setEditableElement(e, t) {
              this._editableElementsMap.set(e, t), t.ckeditorInstance || (t.ckeditorInstance = this.editor);
            }
          }, {
            key: "getEditableElement",
            value: function getEditableElement() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "main";
              return this._editableElementsMap.get(e);
            }
          }, {
            key: "getEditableElementsNames",
            value: function getEditableElementsNames() {
              return this._editableElementsMap.keys();
            }
          }, {
            key: "_editableElements",
            get: function get() {
              return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.", {
                editorUI: this
              }), this._editableElementsMap;
            }
          }, {
            key: "_readViewportOffsetFromConfig",
            value: function _readViewportOffsetFromConfig() {
              var e = this.editor,
                  t = e.config.get("ui.viewportOffset");
              if (t) return t;
              var n = e.config.get("toolbar.viewportTopOffset");
              return n ? (console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."), {
                top: n
              }) : {
                top: 0
              };
            }
          }]);

          return Ud;
        }();

        rt(Ud, Ze);
        var Wd = {
          setData: function setData(e) {
            this.data.set(e);
          },
          getData: function getData(e) {
            return this.data.get(e);
          }
        };
        var qd = {
          updateSourceElement: function updateSourceElement() {
            if (!this.sourceElement) throw new c.a("editor-missing-sourceelement", this);
            !function (e, t) {
              e instanceof HTMLTextAreaElement && (e.value = t), e.innerHTML = t;
            }(this.sourceElement, this.data.get());
          }
        };

        var $d = /*#__PURE__*/function (_Qi, _Symbol$iterator13) {
          _inherits($d, _Qi);

          var _super40 = _createSuper($d);

          function $d() {
            _classCallCheck(this, $d);

            return _super40.apply(this, arguments);
          }

          _createClass($d, [{
            key: "init",
            value: function init() {
              this.set("hasAny", !1), this._actions = new Hi({
                idProperty: "_id"
              }), this._actions.delegate("add", "remove").to(this);
            }
          }, {
            key: "add",
            value: function add(e) {
              if ("string" != typeof e) throw new c.a("pendingactions-add-invalid-message", this);
              var t = Object.create(Ze);
              return t.set("message", e), this._actions.add(t), this.hasAny = !0, t;
            }
          }, {
            key: "remove",
            value: function remove(e) {
              this._actions.remove(e), this.hasAny = !!this._actions.length;
            }
          }, {
            key: "first",
            get: function get() {
              return this._actions.get(0);
            }
          }, {
            key: _Symbol$iterator13,
            value: function value() {
              return this._actions[Symbol.iterator]();
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "PendingActions";
            }
          }]);

          return $d;
        }(Qi, Symbol.iterator);

        var Gd = n(23),
            Yd = n.n(Gd),
            Kd = n(24),
            Qd = n.n(Kd),
            Jd = n(25),
            Xd = n.n(Jd),
            Zd = n(26),
            eu = n.n(Zd),
            tu = n(27),
            nu = n.n(tu),
            iu = n(28),
            ou = n.n(iu),
            ru = n(29),
            su = n.n(ru),
            au = n(30),
            cu = n.n(au),
            lu = n(31),
            du = n.n(lu),
            uu = n(32),
            hu = n.n(uu),
            gu = n(33),
            mu = n.n(gu),
            fu = n(34),
            pu = n.n(fu),
            ku = n(35),
            bu = n.n(ku),
            wu = n(36),
            _u = n.n(wu),
            vu = n(37),
            xu = n.n(vu),
            yu = n(38),
            Cu = n.n(yu),
            Tu = n(39),
            Au = n.n(Tu),
            Eu = n(40),
            Iu = n.n(Eu),
            Su = n(41),
            Mu = n.n(Su),
            Pu = n(42),
            Ru = n.n(Pu),
            Nu = n(43),
            Ou = n.n(Nu),
            Du = n(44),
            Lu = n.n(Du),
            zu = n(45),
            Vu = n.n(zu),
            Bu = n(46),
            Fu = n.n(Bu),
            ju = n(47),
            Hu = n.n(ju),
            Uu = n(48),
            Wu = n.n(Uu),
            qu = n(10),
            $u = n.n(qu),
            Gu = n(49),
            Yu = n.n(Gu),
            Ku = n(11),
            Qu = n.n(Ku);

        var Ju = {
          cancel: Yd.a,
          caption: Qd.a,
          check: Xd.a,
          cog: eu.a,
          eraser: nu.a,
          lowVision: ou.a,
          image: su.a,
          alignBottom: cu.a,
          alignMiddle: du.a,
          alignTop: hu.a,
          alignLeft: mu.a,
          alignCenter: pu.a,
          alignRight: bu.a,
          alignJustify: _u.a,
          objectLeft: Ru.a,
          objectCenter: Cu.a,
          objectRight: Ou.a,
          objectFullWidth: Iu.a,
          objectInline: Mu.a,
          objectBlockLeft: xu.a,
          objectBlockRight: Au.a,
          objectSizeFull: Lu.a,
          objectSizeLarge: Vu.a,
          objectSizeSmall: Fu.a,
          objectSizeMedium: Hu.a,
          pencil: Wu.a,
          pilcrow: $u.a,
          quote: Yu.a,
          threeVerticalDots: Qu.a
        };

        function Xu(_ref31) {
          var e = _ref31.emitter,
              t = _ref31.activator,
              n = _ref31.callback,
              i = _ref31.contextElements;
          e.listenTo(document, "mousedown", function (e, o) {
            if (!t()) return;
            var r = "function" == typeof o.composedPath ? o.composedPath() : [];

            var _iterator282 = _createForOfIteratorHelper(i),
                _step282;

            try {
              for (_iterator282.s(); !(_step282 = _iterator282.n()).done;) {
                var _e205 = _step282.value;
                if (_e205.contains(o.target) || r.includes(_e205)) return;
              }
            } catch (err) {
              _iterator282.e(err);
            } finally {
              _iterator282.f();
            }

            n();
          });
        }

        function Zu(e) {
          e.set("_isCssTransitionsDisabled", !1), e.disableCssTransitions = function () {
            e._isCssTransitionsDisabled = !0;
          }, e.enableCssTransitions = function () {
            e._isCssTransitionsDisabled = !1;
          }, e.extendTemplate({
            attributes: {
              "class": [e.bindTemplate["if"]("_isCssTransitionsDisabled", "ck-transitions-disabled")]
            }
          });
        }

        function eh(_ref32) {
          var e = _ref32.view;
          e.listenTo(e.element, "submit", function (t, n) {
            n.preventDefault(), e.fire("submit");
          }, {
            useCapture: !0
          });
        }

        var th = /*#__PURE__*/function (_Hi) {
          _inherits(th, _Hi);

          var _super41 = _createSuper(th);

          function th() {
            var _this83;

            var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];

            _classCallCheck(this, th);

            _this83 = _super41.call(this, e, {
              idProperty: "viewUid"
            }), _this83.on("add", function (e, t, n) {
              _this83._renderViewIntoCollectionParent(t, n);
            }), _this83.on("remove", function (e, t) {
              t.element && _this83._parentElement && t.element.remove();
            }), _this83._parentElement = null;
            return _this83;
          }

          _createClass(th, [{
            key: "destroy",
            value: function destroy() {
              this.map(function (e) {
                return e.destroy();
              });
            }
          }, {
            key: "setParent",
            value: function setParent(e) {
              this._parentElement = e;

              var _iterator283 = _createForOfIteratorHelper(this),
                  _step283;

              try {
                for (_iterator283.s(); !(_step283 = _iterator283.n()).done;) {
                  var _e206 = _step283.value;

                  this._renderViewIntoCollectionParent(_e206);
                }
              } catch (err) {
                _iterator283.e(err);
              } finally {
                _iterator283.f();
              }
            }
          }, {
            key: "delegate",
            value: function delegate() {
              var _this84 = this;

              for (var _len19 = arguments.length, e = new Array(_len19), _key19 = 0; _key19 < _len19; _key19++) {
                e[_key19] = arguments[_key19];
              }

              if (!e.length || !function (e) {
                return e.every(function (e) {
                  return "string" == typeof e;
                });
              }(e)) throw new c.a("ui-viewcollection-delegate-wrong-events", this);
              return {
                to: function to(t) {
                  var _iterator284 = _createForOfIteratorHelper(_this84),
                      _step284;

                  try {
                    for (_iterator284.s(); !(_step284 = _iterator284.n()).done;) {
                      var _n178 = _step284.value;

                      var _iterator287 = _createForOfIteratorHelper(e),
                          _step287;

                      try {
                        for (_iterator287.s(); !(_step287 = _iterator287.n()).done;) {
                          var _i135 = _step287.value;

                          _n178.delegate(_i135).to(t);
                        }
                      } catch (err) {
                        _iterator287.e(err);
                      } finally {
                        _iterator287.f();
                      }
                    }
                  } catch (err) {
                    _iterator284.e(err);
                  } finally {
                    _iterator284.f();
                  }

                  _this84.on("add", function (n, i) {
                    var _iterator285 = _createForOfIteratorHelper(e),
                        _step285;

                    try {
                      for (_iterator285.s(); !(_step285 = _iterator285.n()).done;) {
                        var _n176 = _step285.value;
                        i.delegate(_n176).to(t);
                      }
                    } catch (err) {
                      _iterator285.e(err);
                    } finally {
                      _iterator285.f();
                    }
                  }), _this84.on("remove", function (n, i) {
                    var _iterator286 = _createForOfIteratorHelper(e),
                        _step286;

                    try {
                      for (_iterator286.s(); !(_step286 = _iterator286.n()).done;) {
                        var _n177 = _step286.value;
                        i.stopDelegating(_n177, t);
                      }
                    } catch (err) {
                      _iterator286.e(err);
                    } finally {
                      _iterator286.f();
                    }
                  });
                }
              };
            }
          }, {
            key: "_renderViewIntoCollectionParent",
            value: function _renderViewIntoCollectionParent(e, t) {
              e.isRendered || e.render(), e.element && this._parentElement && this._parentElement.insertBefore(e.element, this._parentElement.children[t]);
            }
          }]);

          return th;
        }(Hi);

        n(82);

        var nh = /*#__PURE__*/function () {
          function nh(e) {
            _classCallCheck(this, nh);

            this.element = null, this.isRendered = !1, this.locale = e, this.t = e && e.t, this._viewCollections = new Hi(), this._unboundChildren = this.createCollection(), this._viewCollections.on("add", function (t, n) {
              n.locale = e;
            }), this.decorate("render");
          }

          _createClass(nh, [{
            key: "bindTemplate",
            get: function get() {
              return this._bindTemplate ? this._bindTemplate : this._bindTemplate = oh.bind(this, this);
            }
          }, {
            key: "createCollection",
            value: function createCollection(e) {
              var t = new th(e);
              return this._viewCollections.add(t), t;
            }
          }, {
            key: "registerChild",
            value: function registerChild(e) {
              ji(e) || (e = [e]);

              var _iterator288 = _createForOfIteratorHelper(e),
                  _step288;

              try {
                for (_iterator288.s(); !(_step288 = _iterator288.n()).done;) {
                  var _t196 = _step288.value;

                  this._unboundChildren.add(_t196);
                }
              } catch (err) {
                _iterator288.e(err);
              } finally {
                _iterator288.f();
              }
            }
          }, {
            key: "deregisterChild",
            value: function deregisterChild(e) {
              ji(e) || (e = [e]);

              var _iterator289 = _createForOfIteratorHelper(e),
                  _step289;

              try {
                for (_iterator289.s(); !(_step289 = _iterator289.n()).done;) {
                  var _t197 = _step289.value;

                  this._unboundChildren.remove(_t197);
                }
              } catch (err) {
                _iterator289.e(err);
              } finally {
                _iterator289.f();
              }
            }
          }, {
            key: "setTemplate",
            value: function setTemplate(e) {
              this.template = new oh(e);
            }
          }, {
            key: "extendTemplate",
            value: function extendTemplate(e) {
              oh.extend(this.template, e);
            }
          }, {
            key: "render",
            value: function render() {
              if (this.isRendered) throw new c.a("ui-view-render-already-rendered", this);
              this.template && (this.element = this.template.render(), this.registerChild(this.template.getViews())), this.isRendered = !0;
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this.stopListening(), this._viewCollections.map(function (e) {
                return e.destroy();
              }), this.template && this.template._revertData && this.template.revert(this.element);
            }
          }]);

          return nh;
        }();

        rt(nh, Ts), rt(nh, Ze);
        var ih = "http://www.w3.org/1999/xhtml";

        var oh = /*#__PURE__*/function () {
          function oh(e) {
            _classCallCheck(this, oh);

            Object.assign(this, gh(hh(e))), this._isRendered = !1, this._revertData = null;
          }

          _createClass(oh, [{
            key: "render",
            value: function render() {
              var e = this._renderNode({
                intoFragment: !0
              });

              return this._isRendered = !0, e;
            }
          }, {
            key: "apply",
            value: function apply(e) {
              return this._revertData = {
                children: [],
                bindings: [],
                attributes: {}
              }, this._renderNode({
                node: e,
                isApplying: !0,
                revertData: this._revertData
              }), e;
            }
          }, {
            key: "revert",
            value: function revert(e) {
              if (!this._revertData) throw new c.a("ui-template-revert-not-applied", [this, e]);

              this._revertTemplateFromNode(e, this._revertData);
            }
          }, {
            key: "getViews",
            value: /*#__PURE__*/regeneratorRuntime.mark(function getViews() {
              return regeneratorRuntime.wrap(function getViews$(_context36) {
                while (1) {
                  switch (_context36.prev = _context36.next) {
                    case 0:
                      return _context36.delegateYield( /*#__PURE__*/regeneratorRuntime.mark(function e(t) {
                        var _iterator290, _step290, _n179;

                        return regeneratorRuntime.wrap(function e$(_context35) {
                          while (1) {
                            switch (_context35.prev = _context35.next) {
                              case 0:
                                if (!t.children) {
                                  _context35.next = 24;
                                  break;
                                }

                                _iterator290 = _createForOfIteratorHelper(t.children);
                                _context35.prev = 2;

                                _iterator290.s();

                              case 4:
                                if ((_step290 = _iterator290.n()).done) {
                                  _context35.next = 16;
                                  break;
                                }

                                _n179 = _step290.value;

                                if (!bh(_n179)) {
                                  _context35.next = 11;
                                  break;
                                }

                                _context35.next = 9;
                                return _n179;

                              case 9:
                                _context35.next = 14;
                                break;

                              case 11:
                                _context35.t0 = wh(_n179);

                                if (!_context35.t0) {
                                  _context35.next = 14;
                                  break;
                                }

                                return _context35.delegateYield(e(_n179), "t1", 14);

                              case 14:
                                _context35.next = 4;
                                break;

                              case 16:
                                _context35.next = 21;
                                break;

                              case 18:
                                _context35.prev = 18;
                                _context35.t2 = _context35["catch"](2);

                                _iterator290.e(_context35.t2);

                              case 21:
                                _context35.prev = 21;

                                _iterator290.f();

                                return _context35.finish(21);

                              case 24:
                              case "end":
                                return _context35.stop();
                            }
                          }
                        }, e, null, [[2, 18, 21, 24]]);
                      })(this), "t0", 1);

                    case 1:
                    case "end":
                      return _context36.stop();
                  }
                }
              }, getViews, this);
            })
          }, {
            key: "_renderNode",
            value: function _renderNode(e) {
              var t;
              if (t = e.node ? this.tag && this.text : this.tag ? this.text : !this.text) throw new c.a("ui-template-wrong-syntax", this);
              return this.text ? this._renderText(e) : this._renderElement(e);
            }
          }, {
            key: "_renderElement",
            value: function _renderElement(e) {
              var t = e.node;
              return t || (t = e.node = document.createElementNS(this.ns || ih, this.tag)), this._renderAttributes(e), this._renderElementChildren(e), this._setUpListeners(e), t;
            }
          }, {
            key: "_renderText",
            value: function _renderText(e) {
              var t = e.node;
              return t ? e.revertData.text = t.textContent : t = e.node = document.createTextNode(""), ch(this.text) ? this._bindToObservable({
                schema: this.text,
                updater: function (e) {
                  return {
                    set: function set(t) {
                      e.textContent = t;
                    },
                    remove: function remove() {
                      e.textContent = "";
                    }
                  };
                }(t),
                data: e
              }) : t.textContent = this.text.join(""), t;
            }
          }, {
            key: "_renderAttributes",
            value: function _renderAttributes(e) {
              var t, n, i, o;
              if (!this.attributes) return;
              var r = e.node,
                  s = e.revertData;

              for (t in this.attributes) {
                if (i = r.getAttribute(t), n = this.attributes[t], s && (s.attributes[t] = i), o = b(n[0]) && n[0].ns ? n[0].ns : null, ch(n)) {
                  var _a14 = o ? n[0].value : n;

                  s && vh(t) && _a14.unshift(i), this._bindToObservable({
                    schema: _a14,
                    updater: dh(r, t, o),
                    data: e
                  });
                } else "style" == t && "string" != typeof n[0] ? this._renderStyleAttribute(n[0], e) : (s && i && vh(t) && n.unshift(i), kh(n = n.map(function (e) {
                  return e && e.value || e;
                }).reduce(function (e, t) {
                  return e.concat(t);
                }, []).reduce(fh, "")) || r.setAttributeNS(o, t, n));
              }
            }
          }, {
            key: "_renderStyleAttribute",
            value: function _renderStyleAttribute(e, t) {
              var n = t.node;

              for (var _i136 in e) {
                var _o65 = e[_i136];
                ch(_o65) ? this._bindToObservable({
                  schema: [_o65],
                  updater: uh(n, _i136),
                  data: t
                }) : n.style[_i136] = _o65;
              }
            }
          }, {
            key: "_renderElementChildren",
            value: function _renderElementChildren(e) {
              var t = e.node,
                  n = e.intoFragment ? document.createDocumentFragment() : t,
                  i = e.isApplying;
              var o = 0;

              var _iterator291 = _createForOfIteratorHelper(this.children),
                  _step291;

              try {
                for (_iterator291.s(); !(_step291 = _iterator291.n()).done;) {
                  var _r35 = _step291.value;

                  if (_h(_r35)) {
                    if (!i) {
                      _r35.setParent(t);

                      var _iterator292 = _createForOfIteratorHelper(_r35),
                          _step292;

                      try {
                        for (_iterator292.s(); !(_step292 = _iterator292.n()).done;) {
                          var _e207 = _step292.value;
                          n.appendChild(_e207.element);
                        }
                      } catch (err) {
                        _iterator292.e(err);
                      } finally {
                        _iterator292.f();
                      }
                    }
                  } else if (bh(_r35)) i || (_r35.isRendered || _r35.render(), n.appendChild(_r35.element));else if (us(_r35)) n.appendChild(_r35);else if (i) {
                    var _t198 = {
                      children: [],
                      bindings: [],
                      attributes: {}
                    };
                    e.revertData.children.push(_t198), _r35._renderNode({
                      node: n.childNodes[o++],
                      isApplying: !0,
                      revertData: _t198
                    });
                  } else n.appendChild(_r35.render());
                }
              } catch (err) {
                _iterator291.e(err);
              } finally {
                _iterator291.f();
              }

              e.intoFragment && t.appendChild(n);
            }
          }, {
            key: "_setUpListeners",
            value: function _setUpListeners(e) {
              var _this85 = this;

              if (this.eventListeners) {
                var _loop4 = function _loop4(_t199) {
                  var n = _this85.eventListeners[_t199].map(function (n) {
                    var _t199$split = _t199.split("@"),
                        _t199$split2 = _slicedToArray(_t199$split, 2),
                        i = _t199$split2[0],
                        o = _t199$split2[1];

                    return n.activateDomEventListener(i, o, e);
                  });

                  e.revertData && e.revertData.bindings.push(n);
                };

                for (var _t199 in this.eventListeners) {
                  _loop4(_t199);
                }
              }
            }
          }, {
            key: "_bindToObservable",
            value: function _bindToObservable(_ref33) {
              var e = _ref33.schema,
                  t = _ref33.updater,
                  n = _ref33.data;
              var i = n.revertData;
              lh(e, t, n);
              var o = e.filter(function (e) {
                return !kh(e);
              }).filter(function (e) {
                return e.observable;
              }).map(function (i) {
                return i.activateAttributeListener(e, t, n);
              });
              i && i.bindings.push(o);
            }
          }, {
            key: "_revertTemplateFromNode",
            value: function _revertTemplateFromNode(e, t) {
              var _iterator293 = _createForOfIteratorHelper(t.bindings),
                  _step293;

              try {
                for (_iterator293.s(); !(_step293 = _iterator293.n()).done;) {
                  var _e208 = _step293.value;

                  var _iterator294 = _createForOfIteratorHelper(_e208),
                      _step294;

                  try {
                    for (_iterator294.s(); !(_step294 = _iterator294.n()).done;) {
                      var _t200 = _step294.value;

                      _t200();
                    }
                  } catch (err) {
                    _iterator294.e(err);
                  } finally {
                    _iterator294.f();
                  }
                }
              } catch (err) {
                _iterator293.e(err);
              } finally {
                _iterator293.f();
              }

              if (t.text) e.textContent = t.text;else {
                for (var _n180 in t.attributes) {
                  var _i137 = t.attributes[_n180];
                  null === _i137 ? e.removeAttribute(_n180) : e.setAttribute(_n180, _i137);
                }

                for (var _n181 = 0; _n181 < t.children.length; ++_n181) {
                  this._revertTemplateFromNode(e.childNodes[_n181], t.children[_n181]);
                }
              }
            }
          }], [{
            key: "bind",
            value: function bind(e, t) {
              return {
                to: function to(n, i) {
                  return new sh({
                    eventNameOrFunction: n,
                    attribute: n,
                    observable: e,
                    emitter: t,
                    callback: i
                  });
                },
                "if": function _if(n, i, o) {
                  return new ah({
                    observable: e,
                    emitter: t,
                    attribute: n,
                    valueIfTrue: i,
                    callback: o
                  });
                }
              };
            }
          }, {
            key: "extend",
            value: function extend(e, t) {
              if (e._isRendered) throw new c.a("template-extend-render", [this, e]);
              !function e(t, n) {
                var _t$text;

                n.attributes && (t.attributes || (t.attributes = {}), ph(t.attributes, n.attributes));
                n.eventListeners && (t.eventListeners || (t.eventListeners = {}), ph(t.eventListeners, n.eventListeners));
                n.text && (_t$text = t.text).push.apply(_t$text, _toConsumableArray(n.text));

                if (n.children && n.children.length) {
                  if (t.children.length != n.children.length) throw new c.a("ui-template-extend-children-mismatch", t);
                  var _i138 = 0;

                  var _iterator295 = _createForOfIteratorHelper(n.children),
                      _step295;

                  try {
                    for (_iterator295.s(); !(_step295 = _iterator295.n()).done;) {
                      var _o66 = _step295.value;
                      e(t.children[_i138++], _o66);
                    }
                  } catch (err) {
                    _iterator295.e(err);
                  } finally {
                    _iterator295.f();
                  }
                }
              }(e, gh(hh(t)));
            }
          }]);

          return oh;
        }();

        rt(oh, u);

        var rh = /*#__PURE__*/function () {
          function rh(e) {
            _classCallCheck(this, rh);

            Object.assign(this, e);
          }

          _createClass(rh, [{
            key: "getValue",
            value: function getValue(e) {
              var t = this.observable[this.attribute];
              return this.callback ? this.callback(t, e) : t;
            }
          }, {
            key: "activateAttributeListener",
            value: function activateAttributeListener(e, t, n) {
              var _this86 = this;

              var i = function i() {
                return lh(e, t, n);
              };

              return this.emitter.listenTo(this.observable, "change:" + this.attribute, i), function () {
                _this86.emitter.stopListening(_this86.observable, "change:" + _this86.attribute, i);
              };
            }
          }]);

          return rh;
        }();

        var sh = /*#__PURE__*/function (_rh) {
          _inherits(sh, _rh);

          var _super42 = _createSuper(sh);

          function sh() {
            _classCallCheck(this, sh);

            return _super42.apply(this, arguments);
          }

          _createClass(sh, [{
            key: "activateDomEventListener",
            value: function activateDomEventListener(e, t, n) {
              var _this87 = this;

              var i = function i(e, n) {
                t && !n.target.matches(t) || ("function" == typeof _this87.eventNameOrFunction ? _this87.eventNameOrFunction(n) : _this87.observable.fire(_this87.eventNameOrFunction, n));
              };

              return this.emitter.listenTo(n.node, e, i), function () {
                _this87.emitter.stopListening(n.node, e, i);
              };
            }
          }]);

          return sh;
        }(rh);

        var ah = /*#__PURE__*/function (_rh2) {
          _inherits(ah, _rh2);

          var _super43 = _createSuper(ah);

          function ah() {
            _classCallCheck(this, ah);

            return _super43.apply(this, arguments);
          }

          _createClass(ah, [{
            key: "getValue",
            value: function getValue(e) {
              return !kh(_get(_getPrototypeOf(ah.prototype), "getValue", this).call(this, e)) && (this.valueIfTrue || !0);
            }
          }]);

          return ah;
        }(rh);

        function ch(e) {
          return !!e && (e.value && (e = e.value), Array.isArray(e) ? e.some(ch) : e instanceof rh);
        }

        function lh(e, t, _ref34) {
          var n = _ref34.node;

          var i = function (e, t) {
            return e.map(function (e) {
              return e instanceof rh ? e.getValue(t) : e;
            });
          }(e, n);

          kh(i = 1 == e.length && e[0] instanceof ah ? i[0] : i.reduce(fh, "")) ? t.remove() : t.set(i);
        }

        function dh(e, t, n) {
          return {
            set: function set(i) {
              e.setAttributeNS(n, t, i);
            },
            remove: function remove() {
              e.removeAttributeNS(n, t);
            }
          };
        }

        function uh(e, t) {
          return {
            set: function set(n) {
              e.style[t] = n;
            },
            remove: function remove() {
              e.style[t] = null;
            }
          };
        }

        function hh(e) {
          return Li(e, function (e) {
            if (e && (e instanceof rh || wh(e) || bh(e) || _h(e))) return e;
          });
        }

        function gh(e) {
          if ("string" == typeof e ? e = function (e) {
            return {
              text: [e]
            };
          }(e) : e.text && function (e) {
            e.text = Wi(e.text);
          }(e), e.on && (e.eventListeners = function (e) {
            for (var _t201 in e) {
              mh(e, _t201);
            }

            return e;
          }(e.on), delete e.on), !e.text) {
            e.attributes && function (e) {
              for (var _t203 in e) {
                e[_t203].value && (e[_t203].value = Wi(e[_t203].value)), mh(e, _t203);
              }
            }(e.attributes);
            var _t202 = [];
            if (e.children) if (_h(e.children)) _t202.push(e.children);else {
              var _iterator296 = _createForOfIteratorHelper(e.children),
                  _step296;

              try {
                for (_iterator296.s(); !(_step296 = _iterator296.n()).done;) {
                  var _n182 = _step296.value;
                  wh(_n182) || bh(_n182) || us(_n182) ? _t202.push(_n182) : _t202.push(new oh(_n182));
                }
              } catch (err) {
                _iterator296.e(err);
              } finally {
                _iterator296.f();
              }
            }
            e.children = _t202;
          }

          return e;
        }

        function mh(e, t) {
          e[t] = Wi(e[t]);
        }

        function fh(e, t) {
          return kh(t) ? e : kh(e) ? t : "".concat(e, " ").concat(t);
        }

        function ph(e, t) {
          for (var _n183 in t) {
            var _e$_n;

            e[_n183] ? (_e$_n = e[_n183]).push.apply(_e$_n, _toConsumableArray(t[_n183])) : e[_n183] = t[_n183];
          }
        }

        function kh(e) {
          return !e && 0 !== e;
        }

        function bh(e) {
          return e instanceof nh;
        }

        function wh(e) {
          return e instanceof oh;
        }

        function _h(e) {
          return e instanceof th;
        }

        function vh(e) {
          return "class" == e || "style" == e;
        }

        var xh = /*#__PURE__*/function (_th) {
          _inherits(xh, _th);

          var _super44 = _createSuper(xh);

          function xh(e) {
            var _this88;

            var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];

            _classCallCheck(this, xh);

            _this88 = _super44.call(this, t), _this88.locale = e;
            return _this88;
          }

          _createClass(xh, [{
            key: "attachToDom",
            value: function attachToDom() {
              this._bodyCollectionContainer = new oh({
                tag: "div",
                attributes: {
                  "class": ["ck", "ck-reset_all", "ck-body", "ck-rounded-corners"],
                  dir: this.locale.uiLanguageDirection
                },
                children: this
              }).render();
              var e = document.querySelector(".ck-body-wrapper");
              e || (e = function (e, t) {
                var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
                var i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];
                var o = n && n.xmlns,
                    r = o ? e.createElementNS(o, t) : e.createElement(t);

                for (var _e209 in n) {
                  r.setAttribute(_e209, n[_e209]);
                }

                !Fa(i) && ji(i) || (i = [i]);

                var _iterator297 = _createForOfIteratorHelper(i),
                    _step297;

                try {
                  for (_iterator297.s(); !(_step297 = _iterator297.n()).done;) {
                    var _t204 = _step297.value;
                    Fa(_t204) && (_t204 = e.createTextNode(_t204)), r.appendChild(_t204);
                  }
                } catch (err) {
                  _iterator297.e(err);
                } finally {
                  _iterator297.f();
                }

                return r;
              }(document, "div", {
                "class": "ck-body-wrapper"
              }), document.body.appendChild(e)), e.appendChild(this._bodyCollectionContainer);
            }
          }, {
            key: "detachFromDom",
            value: function detachFromDom() {
              _get(_getPrototypeOf(xh.prototype), "destroy", this).call(this), this._bodyCollectionContainer && this._bodyCollectionContainer.remove();
              var e = document.querySelector(".ck-body-wrapper");
              e && 0 == e.childElementCount && e.remove();
            }
          }]);

          return xh;
        }(th);

        n(84);

        var yh = /*#__PURE__*/function (_nh) {
          _inherits(yh, _nh);

          var _super45 = _createSuper(yh);

          function yh() {
            var _this89;

            _classCallCheck(this, yh);

            _this89 = _super45.call(this);
            var e = _this89.bindTemplate;
            _this89.set("content", ""), _this89.set("viewBox", "0 0 20 20"), _this89.set("fillColor", ""), _this89.setTemplate({
              tag: "svg",
              ns: "http://www.w3.org/2000/svg",
              attributes: {
                "class": ["ck", "ck-icon"],
                viewBox: e.to("viewBox")
              }
            });
            return _this89;
          }

          _createClass(yh, [{
            key: "render",
            value: function render() {
              var _this90 = this;

              _get(_getPrototypeOf(yh.prototype), "render", this).call(this), this._updateXMLContent(), this._colorFillPaths(), this.on("change:content", function () {
                _this90._updateXMLContent(), _this90._colorFillPaths();
              }), this.on("change:fillColor", function () {
                _this90._colorFillPaths();
              });
            }
          }, {
            key: "_updateXMLContent",
            value: function _updateXMLContent() {
              if (this.content) {
                var _e210 = new DOMParser().parseFromString(this.content.trim(), "image/svg+xml").querySelector("svg"),
                    _t205 = _e210.getAttribute("viewBox");

                for (_t205 && (this.viewBox = _t205), this.element.innerHTML = ""; _e210.childNodes.length > 0;) {
                  this.element.appendChild(_e210.childNodes[0]);
                }
              }
            }
          }, {
            key: "_colorFillPaths",
            value: function _colorFillPaths() {
              var _this91 = this;

              this.fillColor && this.element.querySelectorAll(".ck-icon__fill").forEach(function (e) {
                e.style.fill = _this91.fillColor;
              });
            }
          }]);

          return yh;
        }(nh);

        n(86);

        var Ch = /*#__PURE__*/function (_nh2) {
          _inherits(Ch, _nh2);

          var _super46 = _createSuper(Ch);

          function Ch(e) {
            var _this92;

            _classCallCheck(this, Ch);

            _this92 = _super46.call(this, e), _this92.set("text", ""), _this92.set("position", "s");
            var t = _this92.bindTemplate;

            _this92.setTemplate({
              tag: "span",
              attributes: {
                "class": ["ck", "ck-tooltip", t.to("position", function (e) {
                  return "ck-tooltip_" + e;
                }), t["if"]("text", "ck-hidden", function (e) {
                  return !e.trim();
                })]
              },
              children: [{
                tag: "span",
                attributes: {
                  "class": ["ck", "ck-tooltip__text"]
                },
                children: [{
                  text: t.to("text")
                }]
              }]
            });

            return _this92;
          }

          return Ch;
        }(nh);

        n(88);

        var Th = /*#__PURE__*/function (_nh3) {
          _inherits(Th, _nh3);

          var _super47 = _createSuper(Th);

          function Th(e) {
            var _this93;

            _classCallCheck(this, Th);

            _this93 = _super47.call(this, e);
            var t = _this93.bindTemplate,
                n = s();
            _this93.set("class"), _this93.set("labelStyle"), _this93.set("icon"), _this93.set("isEnabled", !0), _this93.set("isOn", !1), _this93.set("isVisible", !0), _this93.set("isToggleable", !1), _this93.set("keystroke"), _this93.set("label"), _this93.set("tabindex", -1), _this93.set("tooltip"), _this93.set("tooltipPosition", "s"), _this93.set("type", "button"), _this93.set("withText", !1), _this93.set("withKeystroke", !1), _this93.children = _this93.createCollection(), _this93.tooltipView = _this93._createTooltipView(), _this93.labelView = _this93._createLabelView(n), _this93.iconView = new yh(), _this93.iconView.extendTemplate({
              attributes: {
                "class": "ck-button__icon"
              }
            }), _this93.keystrokeView = _this93._createKeystrokeView(), _this93.bind("_tooltipString").to(_assertThisInitialized(_this93), "tooltip", _assertThisInitialized(_this93), "label", _assertThisInitialized(_this93), "keystroke", _this93._getTooltipString.bind(_assertThisInitialized(_this93))), _this93.setTemplate({
              tag: "button",
              attributes: {
                "class": ["ck", "ck-button", t.to("class"), t["if"]("isEnabled", "ck-disabled", function (e) {
                  return !e;
                }), t["if"]("isVisible", "ck-hidden", function (e) {
                  return !e;
                }), t.to("isOn", function (e) {
                  return e ? "ck-on" : "ck-off";
                }), t["if"]("withText", "ck-button_with-text"), t["if"]("withKeystroke", "ck-button_with-keystroke")],
                type: t.to("type", function (e) {
                  return e || "button";
                }),
                tabindex: t.to("tabindex"),
                "aria-labelledby": "ck-editor__aria-label_".concat(n),
                "aria-disabled": t["if"]("isEnabled", !0, function (e) {
                  return !e;
                }),
                "aria-pressed": t.to("isOn", function (e) {
                  return !!_this93.isToggleable && String(e);
                })
              },
              children: _this93.children,
              on: {
                mousedown: t.to(function (e) {
                  e.preventDefault();
                }),
                click: t.to(function (e) {
                  _this93.isEnabled ? _this93.fire("execute") : e.preventDefault();
                })
              }
            });
            return _this93;
          }

          _createClass(Th, [{
            key: "render",
            value: function render() {
              _get(_getPrototypeOf(Th.prototype), "render", this).call(this), this.icon && (this.iconView.bind("content").to(this, "icon"), this.children.add(this.iconView)), this.children.add(this.tooltipView), this.children.add(this.labelView), this.withKeystroke && this.keystroke && this.children.add(this.keystrokeView);
            }
          }, {
            key: "focus",
            value: function focus() {
              this.element.focus();
            }
          }, {
            key: "_createTooltipView",
            value: function _createTooltipView() {
              var e = new Ch();
              return e.bind("text").to(this, "_tooltipString"), e.bind("position").to(this, "tooltipPosition"), e;
            }
          }, {
            key: "_createLabelView",
            value: function _createLabelView(e) {
              var t = new nh(),
                  n = this.bindTemplate;
              return t.setTemplate({
                tag: "span",
                attributes: {
                  "class": ["ck", "ck-button__label"],
                  style: n.to("labelStyle"),
                  id: "ck-editor__aria-label_".concat(e)
                },
                children: [{
                  text: this.bindTemplate.to("label")
                }]
              }), t;
            }
          }, {
            key: "_createKeystrokeView",
            value: function _createKeystrokeView() {
              var e = new nh();
              return e.setTemplate({
                tag: "span",
                attributes: {
                  "class": ["ck", "ck-button__keystroke"]
                },
                children: [{
                  text: this.bindTemplate.to("keystroke", function (e) {
                    return Pr(e);
                  })
                }]
              }), e;
            }
          }, {
            key: "_getTooltipString",
            value: function _getTooltipString(e, t, n) {
              return e ? "string" == typeof e ? e : (n && (n = Pr(n)), e instanceof Function ? e(t, n) : "".concat(t).concat(n ? " (".concat(n, ")") : "")) : "";
            }
          }]);

          return Th;
        }(nh);

        n(90);

        var Ah = /*#__PURE__*/function (_Th) {
          _inherits(Ah, _Th);

          var _super48 = _createSuper(Ah);

          function Ah(e) {
            var _this94;

            _classCallCheck(this, Ah);

            _this94 = _super48.call(this, e), _this94.isToggleable = !0, _this94.toggleSwitchView = _this94._createToggleView(), _this94.extendTemplate({
              attributes: {
                "class": "ck-switchbutton"
              }
            });
            return _this94;
          }

          _createClass(Ah, [{
            key: "render",
            value: function render() {
              _get(_getPrototypeOf(Ah.prototype), "render", this).call(this), this.children.add(this.toggleSwitchView);
            }
          }, {
            key: "_createToggleView",
            value: function _createToggleView() {
              var e = new nh();
              return e.setTemplate({
                tag: "span",
                attributes: {
                  "class": ["ck", "ck-button__toggle"]
                },
                children: [{
                  tag: "span",
                  attributes: {
                    "class": ["ck", "ck-button__toggle__inner"]
                  }
                }]
              }), e;
            }
          }]);

          return Ah;
        }(Th);

        function Eh(e) {
          return e.map(Ih).filter(function (e) {
            return !!e;
          });
        }

        function Ih(e) {
          return "string" == typeof e ? {
            model: e,
            label: e,
            hasBorder: !1,
            view: {
              name: "span",
              styles: {
                color: e
              }
            }
          } : {
            model: e.color,
            label: e.label || e.color,
            hasBorder: void 0 !== e.hasBorder && e.hasBorder,
            view: {
              name: "span",
              styles: {
                color: "".concat(e.color)
              }
            }
          };
        }

        n(50);

        var Sh = /*#__PURE__*/function () {
          function Sh(e) {
            var _this95 = this;

            _classCallCheck(this, Sh);

            if (Object.assign(this, e), e.actions && e.keystrokeHandler) {
              var _loop5 = function _loop5(_t206) {
                var n = e.actions[_t206];
                "string" == typeof n && (n = [n]);

                var _iterator298 = _createForOfIteratorHelper(n),
                    _step298;

                try {
                  for (_iterator298.s(); !(_step298 = _iterator298.n()).done;) {
                    var _i139 = _step298.value;
                    e.keystrokeHandler.set(_i139, function (e, n) {
                      _this95[_t206](), n();
                    });
                  }
                } catch (err) {
                  _iterator298.e(err);
                } finally {
                  _iterator298.f();
                }
              };

              for (var _t206 in e.actions) {
                _loop5(_t206);
              }
            }
          }

          _createClass(Sh, [{
            key: "first",
            get: function get() {
              return this.focusables.find(Mh) || null;
            }
          }, {
            key: "last",
            get: function get() {
              return this.focusables.filter(Mh).slice(-1)[0] || null;
            }
          }, {
            key: "next",
            get: function get() {
              return this._getFocusableItem(1);
            }
          }, {
            key: "previous",
            get: function get() {
              return this._getFocusableItem(-1);
            }
          }, {
            key: "current",
            get: function get() {
              var _this96 = this;

              var e = null;
              return null === this.focusTracker.focusedElement ? null : (this.focusables.find(function (t, n) {
                var i = t.element === _this96.focusTracker.focusedElement;
                return i && (e = n), i;
              }), e);
            }
          }, {
            key: "focusFirst",
            value: function focusFirst() {
              this._focus(this.first);
            }
          }, {
            key: "focusLast",
            value: function focusLast() {
              this._focus(this.last);
            }
          }, {
            key: "focusNext",
            value: function focusNext() {
              this._focus(this.next);
            }
          }, {
            key: "focusPrevious",
            value: function focusPrevious() {
              this._focus(this.previous);
            }
          }, {
            key: "_focus",
            value: function _focus(e) {
              e && e.focus();
            }
          }, {
            key: "_getFocusableItem",
            value: function _getFocusableItem(e) {
              var t = this.current,
                  n = this.focusables.length;
              if (!n) return null;
              if (null === t) return this[1 === e ? "first" : "last"];
              var i = (t + n + e) % n;

              do {
                var _t207 = this.focusables.get(i);

                if (Mh(_t207)) return _t207;
                i = (i + n + e) % n;
              } while (i !== t);

              return null;
            }
          }]);

          return Sh;
        }();

        function Mh(e) {
          return !(!e.focus || "none" == fs.window.getComputedStyle(e.element).display);
        }

        n(92);
        var Ph = n(12),
            Rh = n.n(Ph);

        var Nh = /*#__PURE__*/function (_Th2) {
          _inherits(Nh, _Th2);

          var _super49 = _createSuper(Nh);

          function Nh(e) {
            var _this97;

            _classCallCheck(this, Nh);

            _this97 = _super49.call(this, e), _this97.arrowView = _this97._createArrowView(), _this97.extendTemplate({
              attributes: {
                "aria-haspopup": !0
              }
            }), _this97.delegate("execute").to(_assertThisInitialized(_this97), "open");
            return _this97;
          }

          _createClass(Nh, [{
            key: "render",
            value: function render() {
              _get(_getPrototypeOf(Nh.prototype), "render", this).call(this), this.children.add(this.arrowView);
            }
          }, {
            key: "_createArrowView",
            value: function _createArrowView() {
              var e = new yh();
              return e.content = Rh.a, e.extendTemplate({
                attributes: {
                  "class": "ck-dropdown__arrow"
                }
              }), e;
            }
          }]);

          return Nh;
        }(Th);

        n(94);

        var Oh = /*#__PURE__*/function (_nh4) {
          _inherits(Oh, _nh4);

          var _super50 = _createSuper(Oh);

          function Oh(e) {
            var _this98;

            _classCallCheck(this, Oh);

            _this98 = _super50.call(this, e);
            var t = _this98.bindTemplate;
            _this98.set("class"), _this98.set("icon"), _this98.set("isEnabled", !0), _this98.set("isOn", !1), _this98.set("isToggleable", !1), _this98.set("isVisible", !0), _this98.set("keystroke"), _this98.set("label"), _this98.set("tabindex", -1), _this98.set("tooltip"), _this98.set("tooltipPosition", "s"), _this98.set("type", "button"), _this98.set("withText", !1), _this98.children = _this98.createCollection(), _this98.actionView = _this98._createActionView(), _this98.arrowView = _this98._createArrowView(), _this98.keystrokes = new Za(), _this98.focusTracker = new Xa(), _this98.setTemplate({
              tag: "div",
              attributes: {
                "class": ["ck", "ck-splitbutton", t.to("class"), t["if"]("isVisible", "ck-hidden", function (e) {
                  return !e;
                }), _this98.arrowView.bindTemplate["if"]("isOn", "ck-splitbutton_open")]
              },
              children: _this98.children
            });
            return _this98;
          }

          _createClass(Oh, [{
            key: "render",
            value: function render() {
              var _this99 = this;

              _get(_getPrototypeOf(Oh.prototype), "render", this).call(this), this.children.add(this.actionView), this.children.add(this.arrowView), this.focusTracker.add(this.actionView.element), this.focusTracker.add(this.arrowView.element), this.keystrokes.listenTo(this.element), this.keystrokes.set("arrowright", function (e, t) {
                _this99.focusTracker.focusedElement === _this99.actionView.element && (_this99.arrowView.focus(), t());
              }), this.keystrokes.set("arrowleft", function (e, t) {
                _this99.focusTracker.focusedElement === _this99.arrowView.element && (_this99.actionView.focus(), t());
              });
            }
          }, {
            key: "focus",
            value: function focus() {
              this.actionView.focus();
            }
          }, {
            key: "_createActionView",
            value: function _createActionView() {
              var e = new Th();
              return e.bind("icon", "isEnabled", "isOn", "isToggleable", "keystroke", "label", "tabindex", "tooltip", "tooltipPosition", "type", "withText").to(this), e.extendTemplate({
                attributes: {
                  "class": "ck-splitbutton__action"
                }
              }), e.delegate("execute").to(this), e;
            }
          }, {
            key: "_createArrowView",
            value: function _createArrowView() {
              var e = new Th(),
                  t = e.bindTemplate;
              return e.icon = Rh.a, e.extendTemplate({
                attributes: {
                  "class": "ck-splitbutton__arrow",
                  "aria-haspopup": !0,
                  "aria-expanded": t.to("isOn", function (e) {
                    return String(e);
                  })
                }
              }), e.bind("isEnabled").to(this), e.delegate("execute").to(this, "open"), e;
            }
          }]);

          return Oh;
        }(nh);

        var Dh = /*#__PURE__*/function (_nh5) {
          _inherits(Dh, _nh5);

          var _super51 = _createSuper(Dh);

          function Dh(e) {
            var _this100;

            _classCallCheck(this, Dh);

            _this100 = _super51.call(this, e);
            var t = _this100.bindTemplate;
            _this100.set("isVisible", !1), _this100.set("position", "se"), _this100.children = _this100.createCollection(), _this100.setTemplate({
              tag: "div",
              attributes: {
                "class": ["ck", "ck-reset", "ck-dropdown__panel", t.to("position", function (e) {
                  return "ck-dropdown__panel_".concat(e);
                }), t["if"]("isVisible", "ck-dropdown__panel-visible")]
              },
              children: _this100.children,
              on: {
                selectstart: t.to(function (e) {
                  return e.preventDefault();
                })
              }
            });
            return _this100;
          }

          _createClass(Dh, [{
            key: "focus",
            value: function focus() {
              this.children.length && this.children.first.focus();
            }
          }, {
            key: "focusLast",
            value: function focusLast() {
              if (this.children.length) {
                var _e211 = this.children.last;
                "function" == typeof _e211.focusLast ? _e211.focusLast() : _e211.focus();
              }
            }
          }]);

          return Dh;
        }(nh);

        n(96);

        function Lh(_ref35) {
          var e = _ref35.element,
              t = _ref35.target,
              n = _ref35.positions,
              i = _ref35.limiter,
              o = _ref35.fitInViewport,
              r = _ref35.viewportOffsetConfig;
          L(t) && (t = t()), L(i) && (i = i());

          var s = function (e) {
            return e && e.parentNode ? e.offsetParent === fs.document.body ? null : e.offsetParent : null;
          }(e),
              a = new Wa(e);

          var c;
          var l = {
            targetRect: new Wa(t),
            elementRect: a,
            positionedElementAncestor: s
          };

          if (i || o) {
            var _e212 = i && new Wa(i).getVisible(),
                _t208 = o && function (e) {
              e = Object.assign({
                top: 0,
                bottom: 0,
                left: 0,
                right: 0
              }, e);
              var t = new Wa(fs.window);
              return t.top += e.top, t.height -= e.top, t.bottom -= e.bottom, t.height -= e.bottom, t;
            }(r);

            Object.assign(l, {
              limiterRect: _e212,
              viewportRect: _t208
            }), c = function (e, t) {
              var n = t.elementRect,
                  i = n.getArea(),
                  o = e.map(function (e) {
                return new Vh(e, t);
              }).filter(function (e) {
                return !!e.name;
              });
              var r = 0,
                  s = null;

              var _iterator299 = _createForOfIteratorHelper(o),
                  _step299;

              try {
                for (_iterator299.s(); !(_step299 = _iterator299.n()).done;) {
                  var _e213 = _step299.value;
                  var _t209 = _e213._limiterIntersectionArea,
                      _n184 = _e213._viewportIntersectionArea;
                  if (_t209 === i) return _e213;

                  var _o67 = Math.pow(_n184, 2) + Math.pow(_t209, 2);

                  _o67 > r && (r = _o67, s = _e213);
                }
              } catch (err) {
                _iterator299.e(err);
              } finally {
                _iterator299.f();
              }

              return s;
            }(n, l) || new Vh(n[0], l);
          } else c = new Vh(n[0], l);

          return c;
        }

        function zh(e) {
          var _fs$window2 = fs.window,
              t = _fs$window2.scrollX,
              n = _fs$window2.scrollY;
          return e.clone().moveBy(t, n);
        }

        var Vh = /*#__PURE__*/function () {
          function Vh(e, t) {
            _classCallCheck(this, Vh);

            var n = e(t.targetRect, t.elementRect, t.viewportRect);
            if (!n) return;
            var i = n.left,
                o = n.top,
                r = n.name,
                s = n.config;
            Object.assign(this, {
              name: r,
              config: s
            }), this._positioningFunctionCorrdinates = {
              left: i,
              top: o
            }, this._options = t;
          }

          _createClass(Vh, [{
            key: "left",
            get: function get() {
              return this._absoluteRect.left;
            }
          }, {
            key: "top",
            get: function get() {
              return this._absoluteRect.top;
            }
          }, {
            key: "_limiterIntersectionArea",
            get: function get() {
              var e = this._options.limiterRect;

              if (e) {
                var _t210 = this._options.viewportRect;
                if (!_t210) return e.getIntersectionArea(this._rect);
                {
                  var _n185 = e.getIntersection(_t210);

                  if (_n185) return _n185.getIntersectionArea(this._rect);
                }
              }

              return 0;
            }
          }, {
            key: "_viewportIntersectionArea",
            get: function get() {
              var e = this._options.viewportRect;
              return e ? e.getIntersectionArea(this._rect) : 0;
            }
          }, {
            key: "_rect",
            get: function get() {
              return this._cachedRect ? this._cachedRect : (this._cachedRect = this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left, this._positioningFunctionCorrdinates.top), this._cachedRect);
            }
          }, {
            key: "_absoluteRect",
            get: function get() {
              return this._cachedAbsoluteRect ? this._cachedAbsoluteRect : (this._cachedAbsoluteRect = zh(this._rect), this._options.positionedElementAncestor && function (e, t) {
                var n = zh(new Wa(t)),
                    i = Ha(t);
                var o = 0,
                    r = 0;
                o -= n.left, r -= n.top, o += t.scrollLeft, r += t.scrollTop, o -= i.left, r -= i.top, e.moveBy(o, r);
              }(this._cachedAbsoluteRect, this._options.positionedElementAncestor), this._cachedAbsoluteRect);
            }
          }]);

          return Vh;
        }();

        var Bh = /*#__PURE__*/function (_nh6) {
          _inherits(Bh, _nh6);

          var _super52 = _createSuper(Bh);

          function Bh(e, t, n) {
            var _this101;

            _classCallCheck(this, Bh);

            _this101 = _super52.call(this, e);
            var i = _this101.bindTemplate;
            _this101.buttonView = t, _this101.panelView = n, _this101.set("isOpen", !1), _this101.set("isEnabled", !0), _this101.set("class"), _this101.set("id"), _this101.set("panelPosition", "auto"), _this101.keystrokes = new Za(), _this101.setTemplate({
              tag: "div",
              attributes: {
                "class": ["ck", "ck-dropdown", i.to("class"), i["if"]("isEnabled", "ck-disabled", function (e) {
                  return !e;
                })],
                id: i.to("id"),
                "aria-describedby": i.to("ariaDescribedById")
              },
              children: [t, n]
            }), t.extendTemplate({
              attributes: {
                "class": ["ck-dropdown__button"]
              }
            });
            return _this101;
          }

          _createClass(Bh, [{
            key: "render",
            value: function render() {
              var _this102 = this;

              _get(_getPrototypeOf(Bh.prototype), "render", this).call(this), this.listenTo(this.buttonView, "open", function () {
                _this102.isOpen = !_this102.isOpen;
              }), this.panelView.bind("isVisible").to(this, "isOpen"), this.on("change:isOpen", function () {
                _this102.isOpen && ("auto" === _this102.panelPosition ? _this102.panelView.position = Bh._getOptimalPosition({
                  element: _this102.panelView.element,
                  target: _this102.buttonView.element,
                  fitInViewport: !0,
                  positions: _this102._panelPositions
                }).name : _this102.panelView.position = _this102.panelPosition);
              }), this.keystrokes.listenTo(this.element);

              var e = function e(_e214, t) {
                _this102.isOpen && (_this102.buttonView.focus(), _this102.isOpen = !1, t());
              };

              this.keystrokes.set("arrowdown", function (e, t) {
                _this102.buttonView.isEnabled && !_this102.isOpen && (_this102.isOpen = !0, t());
              }), this.keystrokes.set("arrowright", function (e, t) {
                _this102.isOpen && t();
              }), this.keystrokes.set("arrowleft", e), this.keystrokes.set("esc", e);
            }
          }, {
            key: "focus",
            value: function focus() {
              this.buttonView.focus();
            }
          }, {
            key: "_panelPositions",
            get: function get() {
              var _Bh$defaultPanelPosit = Bh.defaultPanelPositions,
                  e = _Bh$defaultPanelPosit.south,
                  t = _Bh$defaultPanelPosit.north,
                  n = _Bh$defaultPanelPosit.southEast,
                  i = _Bh$defaultPanelPosit.southWest,
                  o = _Bh$defaultPanelPosit.northEast,
                  r = _Bh$defaultPanelPosit.northWest,
                  s = _Bh$defaultPanelPosit.southMiddleEast,
                  a = _Bh$defaultPanelPosit.southMiddleWest,
                  c = _Bh$defaultPanelPosit.northMiddleEast,
                  l = _Bh$defaultPanelPosit.northMiddleWest;
              return "rtl" !== this.locale.uiLanguageDirection ? [n, i, s, a, e, o, r, c, l, t] : [i, n, a, s, e, r, o, l, c, t];
            }
          }]);

          return Bh;
        }(nh);

        Bh.defaultPanelPositions = {
          south: function south(e, t) {
            return {
              top: e.bottom,
              left: e.left - (t.width - e.width) / 2,
              name: "s"
            };
          },
          southEast: function southEast(e) {
            return {
              top: e.bottom,
              left: e.left,
              name: "se"
            };
          },
          southWest: function southWest(e, t) {
            return {
              top: e.bottom,
              left: e.left - t.width + e.width,
              name: "sw"
            };
          },
          southMiddleEast: function southMiddleEast(e, t) {
            return {
              top: e.bottom,
              left: e.left - (t.width - e.width) / 4,
              name: "sme"
            };
          },
          southMiddleWest: function southMiddleWest(e, t) {
            return {
              top: e.bottom,
              left: e.left - 3 * (t.width - e.width) / 4,
              name: "smw"
            };
          },
          north: function north(e, t) {
            return {
              top: e.top - t.height,
              left: e.left - (t.width - e.width) / 2,
              name: "n"
            };
          },
          northEast: function northEast(e, t) {
            return {
              top: e.top - t.height,
              left: e.left,
              name: "ne"
            };
          },
          northWest: function northWest(e, t) {
            return {
              top: e.top - t.height,
              left: e.left - t.width + e.width,
              name: "nw"
            };
          },
          northMiddleEast: function northMiddleEast(e, t) {
            return {
              top: e.top - t.height,
              left: e.left - (t.width - e.width) / 4,
              name: "nme"
            };
          },
          northMiddleWest: function northMiddleWest(e, t) {
            return {
              top: e.top - t.height,
              left: e.left - 3 * (t.width - e.width) / 4,
              name: "nmw"
            };
          }
        }, Bh._getOptimalPosition = Lh;

        var Fh = /*#__PURE__*/function (_nh7) {
          _inherits(Fh, _nh7);

          var _super53 = _createSuper(Fh);

          function Fh(e) {
            var _this103;

            _classCallCheck(this, Fh);

            _this103 = _super53.call(this, e), _this103.setTemplate({
              tag: "span",
              attributes: {
                "class": ["ck", "ck-toolbar__separator"]
              }
            });
            return _this103;
          }

          return Fh;
        }(nh);

        var jh = /*#__PURE__*/function (_nh8) {
          _inherits(jh, _nh8);

          var _super54 = _createSuper(jh);

          function jh(e) {
            var _this104;

            _classCallCheck(this, jh);

            _this104 = _super54.call(this, e), _this104.setTemplate({
              tag: "span",
              attributes: {
                "class": ["ck", "ck-toolbar__line-break"]
              }
            });
            return _this104;
          }

          return jh;
        }(nh);

        function Hh(e) {
          return Array.isArray(e) ? {
            items: e,
            removeItems: []
          } : e ? Object.assign({
            items: [],
            removeItems: []
          }, e) : {
            items: [],
            removeItems: []
          };
        }

        n(98);

        var Uh = /*#__PURE__*/function (_nh9) {
          _inherits(Uh, _nh9);

          var _super55 = _createSuper(Uh);

          function Uh(e, t) {
            var _this105;

            _classCallCheck(this, Uh);

            _this105 = _super55.call(this, e);
            var n = _this105.bindTemplate,
                i = _this105.t;
            _this105.options = t || {}, _this105.set("ariaLabel", i("Editor toolbar")), _this105.set("maxWidth", "auto"), _this105.items = _this105.createCollection(), _this105.focusTracker = new Xa(), _this105.keystrokes = new Za(), _this105.set("class"), _this105.set("isCompact", !1), _this105.itemsView = new Wh(e), _this105.children = _this105.createCollection(), _this105.children.add(_this105.itemsView), _this105.focusables = _this105.createCollection();
            var o = "rtl" === e.uiLanguageDirection;
            _this105._focusCycler = new Sh({
              focusables: _this105.focusables,
              focusTracker: _this105.focusTracker,
              keystrokeHandler: _this105.keystrokes,
              actions: {
                focusPrevious: [o ? "arrowright" : "arrowleft", "arrowup"],
                focusNext: [o ? "arrowleft" : "arrowright", "arrowdown"]
              }
            });
            var r = ["ck", "ck-toolbar", n.to("class"), n["if"]("isCompact", "ck-toolbar_compact")];
            _this105.options.shouldGroupWhenFull && _this105.options.isFloating && r.push("ck-toolbar_floating"), _this105.setTemplate({
              tag: "div",
              attributes: {
                "class": r,
                role: "toolbar",
                "aria-label": n.to("ariaLabel"),
                style: {
                  maxWidth: n.to("maxWidth")
                }
              },
              children: _this105.children,
              on: {
                mousedown: function (e) {
                  return e.bindTemplate.to(function (t) {
                    t.target === e.element && t.preventDefault();
                  });
                }(_assertThisInitialized(_this105))
              }
            }), _this105._behavior = _this105.options.shouldGroupWhenFull ? new $h(_assertThisInitialized(_this105)) : new qh(_assertThisInitialized(_this105));
            return _this105;
          }

          _createClass(Uh, [{
            key: "render",
            value: function render() {
              var _this106 = this;

              _get(_getPrototypeOf(Uh.prototype), "render", this).call(this);

              var _iterator300 = _createForOfIteratorHelper(this.items),
                  _step300;

              try {
                for (_iterator300.s(); !(_step300 = _iterator300.n()).done;) {
                  var _e215 = _step300.value;
                  this.focusTracker.add(_e215.element);
                }
              } catch (err) {
                _iterator300.e(err);
              } finally {
                _iterator300.f();
              }

              this.items.on("add", function (e, t) {
                _this106.focusTracker.add(t.element);
              }), this.items.on("remove", function (e, t) {
                _this106.focusTracker.remove(t.element);
              }), this.keystrokes.listenTo(this.element), this._behavior.render(this);
            }
          }, {
            key: "destroy",
            value: function destroy() {
              return this._behavior.destroy(), _get(_getPrototypeOf(Uh.prototype), "destroy", this).call(this);
            }
          }, {
            key: "focus",
            value: function focus() {
              this._focusCycler.focusFirst();
            }
          }, {
            key: "focusLast",
            value: function focusLast() {
              this._focusCycler.focusLast();
            }
          }, {
            key: "fillFromConfig",
            value: function fillFromConfig(e, t) {
              var _this107 = this;

              var n = Hh(e),
                  i = n.items.filter(function (e, i, o) {
                return "|" === e || -1 === n.removeItems.indexOf(e) && ("-" === e ? !_this107.options.shouldGroupWhenFull || (Object(c.b)("toolbarview-line-break-ignored-when-grouping-items", o), !1) : !!t.has(e) || (Object(c.b)("toolbarview-item-unavailable", {
                  name: e
                }), !1));
              }),
                  o = this._cleanSeparators(i).map(function (e) {
                return "|" === e ? new Fh() : "-" === e ? new jh() : t.create(e);
              });

              this.items.addMany(o);
            }
          }, {
            key: "_cleanSeparators",
            value: function _cleanSeparators(e) {
              var t = function t(e) {
                return "-" !== e && "|" !== e;
              },
                  n = e.length,
                  i = e.findIndex(t),
                  o = n - e.slice().reverse().findIndex(t);

              return e.slice(i, o).filter(function (e, n, i) {
                if (t(e)) return !0;
                return !(n > 0 && i[n - 1] === e);
              });
            }
          }]);

          return Uh;
        }(nh);

        var Wh = /*#__PURE__*/function (_nh10) {
          _inherits(Wh, _nh10);

          var _super56 = _createSuper(Wh);

          function Wh(e) {
            var _this108;

            _classCallCheck(this, Wh);

            _this108 = _super56.call(this, e), _this108.children = _this108.createCollection(), _this108.setTemplate({
              tag: "div",
              attributes: {
                "class": ["ck", "ck-toolbar__items"]
              },
              children: _this108.children
            });
            return _this108;
          }

          return Wh;
        }(nh);

        var qh = /*#__PURE__*/function () {
          function qh(e) {
            _classCallCheck(this, qh);

            var t = e.bindTemplate;
            e.set("isVertical", !1), e.itemsView.children.bindTo(e.items).using(function (e) {
              return e;
            }), e.focusables.bindTo(e.items).using(function (e) {
              return e;
            }), e.extendTemplate({
              attributes: {
                "class": [t["if"]("isVertical", "ck-toolbar_vertical")]
              }
            });
          }

          _createClass(qh, [{
            key: "render",
            value: function render() {}
          }, {
            key: "destroy",
            value: function destroy() {}
          }]);

          return qh;
        }();

        var $h = /*#__PURE__*/function () {
          function $h(e) {
            var _this109 = this;

            _classCallCheck(this, $h);

            this.view = e, this.viewChildren = e.children, this.viewFocusables = e.focusables, this.viewItemsView = e.itemsView, this.viewFocusTracker = e.focusTracker, this.viewLocale = e.locale, this.ungroupedItems = e.createCollection(), this.groupedItems = e.createCollection(), this.groupedItemsDropdown = this._createGroupedItemsDropdown(), this.resizeObserver = null, this.cachedPadding = null, this.shouldUpdateGroupingOnNextResize = !1, e.itemsView.children.bindTo(this.ungroupedItems).using(function (e) {
              return e;
            }), this.ungroupedItems.on("add", this._updateFocusCycleableItems.bind(this)), this.ungroupedItems.on("remove", this._updateFocusCycleableItems.bind(this)), e.children.on("add", this._updateFocusCycleableItems.bind(this)), e.children.on("remove", this._updateFocusCycleableItems.bind(this)), e.items.on("change", function (e, t) {
              var n = t.index;

              var _iterator301 = _createForOfIteratorHelper(t.removed),
                  _step301;

              try {
                for (_iterator301.s(); !(_step301 = _iterator301.n()).done;) {
                  var _e217 = _step301.value;
                  n >= _this109.ungroupedItems.length ? _this109.groupedItems.remove(_e217) : _this109.ungroupedItems.remove(_e217);
                }
              } catch (err) {
                _iterator301.e(err);
              } finally {
                _iterator301.f();
              }

              for (var _e216 = n; _e216 < n + t.added.length; _e216++) {
                var _i140 = t.added[_e216 - n];
                _e216 > _this109.ungroupedItems.length ? _this109.groupedItems.add(_i140, _e216 - _this109.ungroupedItems.length) : _this109.ungroupedItems.add(_i140, _e216);
              }

              _this109._updateGrouping();
            }), e.extendTemplate({
              attributes: {
                "class": ["ck-toolbar_grouping"]
              }
            });
          }

          _createClass($h, [{
            key: "render",
            value: function render(e) {
              this.viewElement = e.element, this._enableGroupingOnResize(), this._enableGroupingOnMaxWidthChange(e);
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this.groupedItemsDropdown.destroy(), this.resizeObserver.destroy();
            }
          }, {
            key: "_updateGrouping",
            value: function _updateGrouping() {
              if (!this.viewElement.ownerDocument.body.contains(this.viewElement)) return;
              if (!this.viewElement.offsetParent) return void (this.shouldUpdateGroupingOnNextResize = !0);
              var e = this.groupedItems.length;
              var t;

              for (; this._areItemsOverflowing;) {
                this._groupLastItem(), t = !0;
              }

              if (!t && this.groupedItems.length) {
                for (; this.groupedItems.length && !this._areItemsOverflowing;) {
                  this._ungroupFirstItem();
                }

                this._areItemsOverflowing && this._groupLastItem();
              }

              this.groupedItems.length !== e && this.view.fire("groupedItemsUpdate");
            }
          }, {
            key: "_areItemsOverflowing",
            get: function get() {
              if (!this.ungroupedItems.length) return !1;
              var e = this.viewElement,
                  t = this.viewLocale.uiLanguageDirection,
                  n = new Wa(e.lastChild),
                  i = new Wa(e);

              if (!this.cachedPadding) {
                var _n186 = fs.window.getComputedStyle(e),
                    _i141 = "ltr" === t ? "paddingRight" : "paddingLeft";

                this.cachedPadding = Number.parseInt(_n186[_i141]);
              }

              return "ltr" === t ? n.right > i.right - this.cachedPadding : n.left < i.left + this.cachedPadding;
            }
          }, {
            key: "_enableGroupingOnResize",
            value: function _enableGroupingOnResize() {
              var _this110 = this;

              var e;
              this.resizeObserver = new Ya(this.viewElement, function (t) {
                e && e === t.contentRect.width && !_this110.shouldUpdateGroupingOnNextResize || (_this110.shouldUpdateGroupingOnNextResize = !1, _this110._updateGrouping(), e = t.contentRect.width);
              }), this._updateGrouping();
            }
          }, {
            key: "_enableGroupingOnMaxWidthChange",
            value: function _enableGroupingOnMaxWidthChange(e) {
              var _this111 = this;

              e.on("change:maxWidth", function () {
                _this111._updateGrouping();
              });
            }
          }, {
            key: "_groupLastItem",
            value: function _groupLastItem() {
              this.groupedItems.length || (this.viewChildren.add(new Fh()), this.viewChildren.add(this.groupedItemsDropdown), this.viewFocusTracker.add(this.groupedItemsDropdown.element)), this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last), 0);
            }
          }, {
            key: "_ungroupFirstItem",
            value: function _ungroupFirstItem() {
              this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)), this.groupedItems.length || (this.viewChildren.remove(this.groupedItemsDropdown), this.viewChildren.remove(this.viewChildren.last), this.viewFocusTracker.remove(this.groupedItemsDropdown.element));
            }
          }, {
            key: "_createGroupedItemsDropdown",
            value: function _createGroupedItemsDropdown() {
              var e = this.viewLocale,
                  t = e.t,
                  n = Qh(e);
              return n["class"] = "ck-toolbar__grouped-dropdown", n.panelPosition = "ltr" === e.uiLanguageDirection ? "sw" : "se", Jh(n, []), n.buttonView.set({
                label: t("Show more items"),
                tooltip: !0,
                tooltipPosition: "rtl" === e.uiLanguageDirection ? "se" : "sw",
                icon: Qu.a
              }), n.toolbarView.items.bindTo(this.groupedItems).using(function (e) {
                return e;
              }), n;
            }
          }, {
            key: "_updateFocusCycleableItems",
            value: function _updateFocusCycleableItems() {
              var _this112 = this;

              this.viewFocusables.clear(), this.ungroupedItems.map(function (e) {
                _this112.viewFocusables.add(e);
              }), this.groupedItems.length && this.viewFocusables.add(this.groupedItemsDropdown);
            }
          }]);

          return $h;
        }();

        n(100);

        var Gh = /*#__PURE__*/function (_nh11) {
          _inherits(Gh, _nh11);

          var _super57 = _createSuper(Gh);

          function Gh() {
            var _this113;

            _classCallCheck(this, Gh);

            _this113 = _super57.call(this), _this113.items = _this113.createCollection(), _this113.focusTracker = new Xa(), _this113.keystrokes = new Za(), _this113._focusCycler = new Sh({
              focusables: _this113.items,
              focusTracker: _this113.focusTracker,
              keystrokeHandler: _this113.keystrokes,
              actions: {
                focusPrevious: "arrowup",
                focusNext: "arrowdown"
              }
            }), _this113.setTemplate({
              tag: "ul",
              attributes: {
                "class": ["ck", "ck-reset", "ck-list"]
              },
              children: _this113.items
            });
            return _this113;
          }

          _createClass(Gh, [{
            key: "render",
            value: function render() {
              var _this114 = this;

              _get(_getPrototypeOf(Gh.prototype), "render", this).call(this);

              var _iterator302 = _createForOfIteratorHelper(this.items),
                  _step302;

              try {
                for (_iterator302.s(); !(_step302 = _iterator302.n()).done;) {
                  var _e218 = _step302.value;
                  this.focusTracker.add(_e218.element);
                }
              } catch (err) {
                _iterator302.e(err);
              } finally {
                _iterator302.f();
              }

              this.items.on("add", function (e, t) {
                _this114.focusTracker.add(t.element);
              }), this.items.on("remove", function (e, t) {
                _this114.focusTracker.remove(t.element);
              }), this.keystrokes.listenTo(this.element);
            }
          }, {
            key: "focus",
            value: function focus() {
              this._focusCycler.focusFirst();
            }
          }, {
            key: "focusLast",
            value: function focusLast() {
              this._focusCycler.focusLast();
            }
          }]);

          return Gh;
        }(nh);

        var Yh = /*#__PURE__*/function (_nh12) {
          _inherits(Yh, _nh12);

          var _super58 = _createSuper(Yh);

          function Yh(e) {
            var _this115;

            _classCallCheck(this, Yh);

            _this115 = _super58.call(this, e), _this115.children = _this115.createCollection(), _this115.setTemplate({
              tag: "li",
              attributes: {
                "class": ["ck", "ck-list__item"]
              },
              children: _this115.children
            });
            return _this115;
          }

          _createClass(Yh, [{
            key: "focus",
            value: function focus() {
              this.children.first.focus();
            }
          }]);

          return Yh;
        }(nh);

        var Kh = /*#__PURE__*/function (_nh13) {
          _inherits(Kh, _nh13);

          var _super59 = _createSuper(Kh);

          function Kh(e) {
            var _this116;

            _classCallCheck(this, Kh);

            _this116 = _super59.call(this, e), _this116.setTemplate({
              tag: "li",
              attributes: {
                "class": ["ck", "ck-list__separator"]
              }
            });
            return _this116;
          }

          return Kh;
        }(nh);

        n(102), n(104);

        function Qh(e) {
          var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Nh;
          var n = new t(e),
              i = new Dh(e),
              o = new Bh(e, n, i);
          return n.bind("isEnabled").to(o), n instanceof Nh ? n.bind("isOn").to(o, "isOpen") : n.arrowView.bind("isOn").to(o, "isOpen"), function (e) {
            (function (e) {
              e.on("render", function () {
                Xu({
                  emitter: e,
                  activator: function activator() {
                    return e.isOpen;
                  },
                  callback: function callback() {
                    e.isOpen = !1;
                  },
                  contextElements: [e.element]
                });
              });
            })(e), function (e) {
              e.on("execute", function (t) {
                t.source instanceof Ah || (e.isOpen = !1);
              });
            }(e), function (e) {
              e.keystrokes.set("arrowdown", function (t, n) {
                e.isOpen && (e.panelView.focus(), n());
              }), e.keystrokes.set("arrowup", function (t, n) {
                e.isOpen && (e.panelView.focusLast(), n());
              });
            }(e);
          }(o), o;
        }

        function Jh(e, t) {
          var n = e.locale,
              i = n.t,
              o = e.toolbarView = new Uh(n);
          o.set("ariaLabel", i("Dropdown toolbar")), e.extendTemplate({
            attributes: {
              "class": ["ck-toolbar-dropdown"]
            }
          }), t.map(function (e) {
            return o.items.add(e);
          }), e.panelView.children.add(o), o.items.delegate("execute").to(e);
        }

        function Xh(e, t) {
          var n = e.locale,
              i = e.listView = new Gh(n);
          i.items.bindTo(t).using(function (_ref36) {
            var e = _ref36.type,
                t = _ref36.model;
            if ("separator" === e) return new Kh(n);

            if ("button" === e || "switchbutton" === e) {
              var _o69;

              var _i142 = new Yh(n);

              var _o68;

              return (_o69 = _o68 = "button" === e ? new Th(n) : new Ah(n)).bind.apply(_o69, _toConsumableArray(Object.keys(t))).to(t), _o68.delegate("execute").to(_i142), _i142.children.add(_o68), _i142;
            }
          }), e.panelView.children.add(i), i.items.delegate("execute").to(e);
        }

        n(106);

        var Zh = /*#__PURE__*/function (_nh14) {
          _inherits(Zh, _nh14);

          var _super60 = _createSuper(Zh);

          function Zh(e) {
            var _this117;

            _classCallCheck(this, Zh);

            _this117 = _super60.call(this, e), _this117.body = new xh(e);
            return _this117;
          }

          _createClass(Zh, [{
            key: "render",
            value: function render() {
              _get(_getPrototypeOf(Zh.prototype), "render", this).call(this), this.body.attachToDom();
            }
          }, {
            key: "destroy",
            value: function destroy() {
              return this.body.detachFromDom(), _get(_getPrototypeOf(Zh.prototype), "destroy", this).call(this);
            }
          }]);

          return Zh;
        }(nh);

        n(108);

        var eg = /*#__PURE__*/function (_nh15) {
          _inherits(eg, _nh15);

          var _super61 = _createSuper(eg);

          function eg(e) {
            var _this118;

            _classCallCheck(this, eg);

            _this118 = _super61.call(this, e), _this118.set("text"), _this118.set("for"), _this118.id = "ck-editor__label_".concat(s());
            var t = _this118.bindTemplate;

            _this118.setTemplate({
              tag: "label",
              attributes: {
                "class": ["ck", "ck-label"],
                id: _this118.id,
                "for": t.to("for")
              },
              children: [{
                text: t.to("text")
              }]
            });

            return _this118;
          }

          return eg;
        }(nh);

        var tg = /*#__PURE__*/function (_Zh) {
          _inherits(tg, _Zh);

          var _super62 = _createSuper(tg);

          function tg(e) {
            var _this119;

            _classCallCheck(this, tg);

            _this119 = _super62.call(this, e), _this119.top = _this119.createCollection(), _this119.main = _this119.createCollection(), _this119._voiceLabelView = _this119._createVoiceLabel(), _this119.setTemplate({
              tag: "div",
              attributes: {
                "class": ["ck", "ck-reset", "ck-editor", "ck-rounded-corners"],
                role: "application",
                dir: e.uiLanguageDirection,
                lang: e.uiLanguage,
                "aria-labelledby": _this119._voiceLabelView.id
              },
              children: [_this119._voiceLabelView, {
                tag: "div",
                attributes: {
                  "class": ["ck", "ck-editor__top", "ck-reset_all"],
                  role: "presentation"
                },
                children: _this119.top
              }, {
                tag: "div",
                attributes: {
                  "class": ["ck", "ck-editor__main"],
                  role: "presentation"
                },
                children: _this119.main
              }]
            });
            return _this119;
          }

          _createClass(tg, [{
            key: "_createVoiceLabel",
            value: function _createVoiceLabel() {
              var e = this.t,
                  t = new eg();
              return t.text = e("Rich Text Editor"), t.extendTemplate({
                attributes: {
                  "class": "ck-voice-label"
                }
              }), t;
            }
          }]);

          return tg;
        }(Zh);

        var ng = /*#__PURE__*/function (_nh16) {
          _inherits(ng, _nh16);

          var _super63 = _createSuper(ng);

          function ng(e, t, n) {
            var _this120;

            _classCallCheck(this, ng);

            _this120 = _super63.call(this, e), _this120.setTemplate({
              tag: "div",
              attributes: {
                "class": ["ck", "ck-content", "ck-editor__editable", "ck-rounded-corners"],
                lang: e.contentLanguage,
                dir: e.contentLanguageDirection
              }
            }), _this120.name = null, _this120.set("isFocused", !1), _this120._editableElement = n, _this120._hasExternalElement = !!_this120._editableElement, _this120._editingView = t;
            return _this120;
          }

          _createClass(ng, [{
            key: "render",
            value: function render() {
              var _this121 = this;

              _get(_getPrototypeOf(ng.prototype), "render", this).call(this), this._hasExternalElement ? this.template.apply(this.element = this._editableElement) : this._editableElement = this.element, this.on("change:isFocused", function () {
                return _this121._updateIsFocusedClasses();
              }), this._updateIsFocusedClasses();
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this._hasExternalElement && this.template.revert(this._editableElement), _get(_getPrototypeOf(ng.prototype), "destroy", this).call(this);
            }
          }, {
            key: "_updateIsFocusedClasses",
            value: function _updateIsFocusedClasses() {
              var e = this._editingView;

              function t(t) {
                e.change(function (n) {
                  var i = e.document.getRoot(t.name);
                  n.addClass(t.isFocused ? "ck-focused" : "ck-blurred", i), n.removeClass(t.isFocused ? "ck-blurred" : "ck-focused", i);
                });
              }

              e.isRenderingInProgress ? function n(i) {
                e.once("change:isRenderingInProgress", function (e, o, r) {
                  r ? n(i) : t(i);
                });
              }(this) : t(this);
            }
          }]);

          return ng;
        }(nh);

        var ig = /*#__PURE__*/function (_ng) {
          _inherits(ig, _ng);

          var _super64 = _createSuper(ig);

          function ig(e, t, n) {
            var _this122;

            _classCallCheck(this, ig);

            _this122 = _super64.call(this, e, t, n), _this122.extendTemplate({
              attributes: {
                role: "textbox",
                "class": "ck-editor__editable_inline"
              }
            });
            return _this122;
          }

          _createClass(ig, [{
            key: "render",
            value: function render() {
              var _this123 = this;

              _get(_getPrototypeOf(ig.prototype), "render", this).call(this);

              var e = this._editingView,
                  t = this.t;
              e.change(function (n) {
                var i = e.document.getRoot(_this123.name);
                n.setAttribute("aria-label", t("Rich Text Editor, %0", _this123.name), i);
              });
            }
          }]);

          return ig;
        }(ng);

        n(110);
        n(112);

        var og = /*#__PURE__*/function (_nh17) {
          _inherits(og, _nh17);

          var _super65 = _createSuper(og);

          function og(e) {
            var _this124;

            _classCallCheck(this, og);

            _this124 = _super65.call(this, e), _this124.set("value"), _this124.set("id"), _this124.set("placeholder"), _this124.set("isReadOnly", !1), _this124.set("hasError", !1), _this124.set("ariaDescribedById"), _this124.focusTracker = new Xa(), _this124.bind("isFocused").to(_this124.focusTracker), _this124.set("isEmpty", !0);
            var t = _this124.bindTemplate;

            _this124.setTemplate({
              tag: "input",
              attributes: {
                type: "text",
                "class": ["ck", "ck-input", "ck-input-text", t["if"]("isFocused", "ck-input_focused"), t["if"]("isEmpty", "ck-input-text_empty"), t["if"]("hasError", "ck-error")],
                id: t.to("id"),
                placeholder: t.to("placeholder"),
                readonly: t.to("isReadOnly"),
                "aria-invalid": t["if"]("hasError", !0),
                "aria-describedby": t.to("ariaDescribedById")
              },
              on: {
                input: t.to(function () {
                  var _this125;

                  for (var _len20 = arguments.length, e = new Array(_len20), _key20 = 0; _key20 < _len20; _key20++) {
                    e[_key20] = arguments[_key20];
                  }

                  (_this125 = _this124).fire.apply(_this125, ["input"].concat(e)), _this124._updateIsEmpty();
                }),
                change: t.to(_this124._updateIsEmpty.bind(_assertThisInitialized(_this124)))
              }
            });

            return _this124;
          }

          _createClass(og, [{
            key: "render",
            value: function render() {
              var _this126 = this;

              _get(_getPrototypeOf(og.prototype), "render", this).call(this), this.focusTracker.add(this.element), this._setDomElementValue(this.value), this._updateIsEmpty(), this.on("change:value", function (e, t, n) {
                _this126._setDomElementValue(n), _this126._updateIsEmpty();
              });
            }
          }, {
            key: "select",
            value: function select() {
              this.element.select();
            }
          }, {
            key: "focus",
            value: function focus() {
              this.element.focus();
            }
          }, {
            key: "_updateIsEmpty",
            value: function _updateIsEmpty() {
              this.isEmpty = function (e) {
                return !e.value;
              }(this.element);
            }
          }, {
            key: "_setDomElementValue",
            value: function _setDomElementValue(e) {
              this.element.value = e || 0 === e ? e : "";
            }
          }]);

          return og;
        }(nh);

        n(114);

        var rg = /*#__PURE__*/function (_nh18) {
          _inherits(rg, _nh18);

          var _super66 = _createSuper(rg);

          function rg(e, t) {
            var _this127;

            _classCallCheck(this, rg);

            _this127 = _super66.call(this, e);
            var n = "ck-labeled-field-view-".concat(s()),
                i = "ck-labeled-field-view-status-".concat(s());
            _this127.fieldView = t(_assertThisInitialized(_this127), n, i), _this127.set("label"), _this127.set("isEnabled", !0), _this127.set("isEmpty", !0), _this127.set("isFocused", !1), _this127.set("errorText", null), _this127.set("infoText", null), _this127.set("class"), _this127.set("placeholder"), _this127.labelView = _this127._createLabelView(n), _this127.statusView = _this127._createStatusView(i), _this127.bind("_statusText").to(_assertThisInitialized(_this127), "errorText", _assertThisInitialized(_this127), "infoText", function (e, t) {
              return e || t;
            });
            var o = _this127.bindTemplate;

            _this127.setTemplate({
              tag: "div",
              attributes: {
                "class": ["ck", "ck-labeled-field-view", o.to("class"), o["if"]("isEnabled", "ck-disabled", function (e) {
                  return !e;
                }), o["if"]("isEmpty", "ck-labeled-field-view_empty"), o["if"]("isFocused", "ck-labeled-field-view_focused"), o["if"]("placeholder", "ck-labeled-field-view_placeholder"), o["if"]("errorText", "ck-error")]
              },
              children: [{
                tag: "div",
                attributes: {
                  "class": ["ck", "ck-labeled-field-view__input-wrapper"]
                },
                children: [_this127.fieldView, _this127.labelView]
              }, _this127.statusView]
            });

            return _this127;
          }

          _createClass(rg, [{
            key: "_createLabelView",
            value: function _createLabelView(e) {
              var t = new eg(this.locale);
              return t["for"] = e, t.bind("text").to(this, "label"), t;
            }
          }, {
            key: "_createStatusView",
            value: function _createStatusView(e) {
              var t = new nh(this.locale),
                  n = this.bindTemplate;
              return t.setTemplate({
                tag: "div",
                attributes: {
                  "class": ["ck", "ck-labeled-field-view__status", n["if"]("errorText", "ck-labeled-field-view__status_error"), n["if"]("_statusText", "ck-hidden", function (e) {
                    return !e;
                  })],
                  id: e,
                  role: n["if"]("errorText", "alert")
                },
                children: [{
                  text: n.to("_statusText")
                }]
              }), t;
            }
          }, {
            key: "focus",
            value: function focus() {
              this.fieldView.focus();
            }
          }]);

          return rg;
        }(nh);

        function sg(e, t, n) {
          var i = new og(e.locale);
          return i.set({
            id: t,
            ariaDescribedById: n
          }), i.bind("isReadOnly").to(e, "isEnabled", function (e) {
            return !e;
          }), i.bind("hasError").to(e, "errorText", function (e) {
            return !!e;
          }), i.on("input", function () {
            e.errorText = null;
          }), e.bind("isEmpty", "isFocused", "placeholder").to(i), i;
        }

        var ag = /*#__PURE__*/function (_Qi2) {
          _inherits(ag, _Qi2);

          var _super67 = _createSuper(ag);

          function ag() {
            _classCallCheck(this, ag);

            return _super67.apply(this, arguments);
          }

          _createClass(ag, [{
            key: "init",
            value: function init() {
              this.on("show:warning", function (e, t) {
                window.alert(t.message);
              }, {
                priority: "lowest"
              });
            }
          }, {
            key: "showSuccess",
            value: function showSuccess(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

              this._showNotification({
                message: e,
                type: "success",
                namespace: t.namespace,
                title: t.title
              });
            }
          }, {
            key: "showInfo",
            value: function showInfo(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

              this._showNotification({
                message: e,
                type: "info",
                namespace: t.namespace,
                title: t.title
              });
            }
          }, {
            key: "showWarning",
            value: function showWarning(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

              this._showNotification({
                message: e,
                type: "warning",
                namespace: t.namespace,
                title: t.title
              });
            }
          }, {
            key: "_showNotification",
            value: function _showNotification(e) {
              var t = "show:".concat(e.type) + (e.namespace ? ":".concat(e.namespace) : "");
              this.fire(t, {
                message: e.message,
                type: e.type,
                title: e.title || ""
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "Notification";
            }
          }]);

          return ag;
        }(Qi);

        var cg = function cg(e, t) {
          _classCallCheck(this, cg);

          t && $e(this, t), e && this.set(e);
        };

        rt(cg, Ze);
        n(116);
        var lg = Qa("px"),
            dg = fs.document.body;

        var ug = /*#__PURE__*/function (_nh19) {
          _inherits(ug, _nh19);

          var _super68 = _createSuper(ug);

          function ug(e) {
            var _this128;

            _classCallCheck(this, ug);

            _this128 = _super68.call(this, e);
            var t = _this128.bindTemplate;
            _this128.set("top", 0), _this128.set("left", 0), _this128.set("position", "arrow_nw"), _this128.set("isVisible", !1), _this128.set("withArrow", !0), _this128.set("class"), _this128.content = _this128.createCollection(), _this128.setTemplate({
              tag: "div",
              attributes: {
                "class": ["ck", "ck-balloon-panel", t.to("position", function (e) {
                  return "ck-balloon-panel_".concat(e);
                }), t["if"]("isVisible", "ck-balloon-panel_visible"), t["if"]("withArrow", "ck-balloon-panel_with-arrow"), t.to("class")],
                style: {
                  top: t.to("top", lg),
                  left: t.to("left", lg)
                }
              },
              children: _this128.content
            });
            return _this128;
          }

          _createClass(ug, [{
            key: "show",
            value: function show() {
              this.isVisible = !0;
            }
          }, {
            key: "hide",
            value: function hide() {
              this.isVisible = !1;
            }
          }, {
            key: "attachTo",
            value: function attachTo(e) {
              this.show();

              var t = ug.defaultPositions,
                  n = Object.assign({}, {
                element: this.element,
                positions: [t.southArrowNorth, t.southArrowNorthMiddleWest, t.southArrowNorthMiddleEast, t.southArrowNorthWest, t.southArrowNorthEast, t.northArrowSouth, t.northArrowSouthMiddleWest, t.northArrowSouthMiddleEast, t.northArrowSouthWest, t.northArrowSouthEast, t.viewportStickyNorth],
                limiter: dg,
                fitInViewport: !0
              }, e),
                  i = ug._getOptimalPosition(n),
                  o = parseInt(i.left),
                  r = parseInt(i.top),
                  s = i.name,
                  _i$config = i.config,
                  a = _i$config === void 0 ? {} : _i$config,
                  _a$withArrow = a.withArrow,
                  c = _a$withArrow === void 0 ? !0 : _a$withArrow;

              Object.assign(this, {
                top: r,
                left: o,
                position: s,
                withArrow: c
              });
            }
          }, {
            key: "pin",
            value: function pin(e) {
              var _this129 = this;

              this.unpin(), this._pinWhenIsVisibleCallback = function () {
                _this129.isVisible ? _this129._startPinning(e) : _this129._stopPinning();
              }, this._startPinning(e), this.listenTo(this, "change:isVisible", this._pinWhenIsVisibleCallback);
            }
          }, {
            key: "unpin",
            value: function unpin() {
              this._pinWhenIsVisibleCallback && (this._stopPinning(), this.stopListening(this, "change:isVisible", this._pinWhenIsVisibleCallback), this._pinWhenIsVisibleCallback = null, this.hide());
            }
          }, {
            key: "_startPinning",
            value: function _startPinning(e) {
              var _this130 = this;

              this.attachTo(e);
              var t = hg(e.target),
                  n = e.limiter ? hg(e.limiter) : dg;
              this.listenTo(fs.document, "scroll", function (i, o) {
                var r = o.target,
                    s = t && r.contains(t),
                    a = n && r.contains(n);
                !s && !a && t && n || _this130.attachTo(e);
              }, {
                useCapture: !0
              }), this.listenTo(fs.window, "resize", function () {
                _this130.attachTo(e);
              });
            }
          }, {
            key: "_stopPinning",
            value: function _stopPinning() {
              this.stopListening(fs.document, "scroll"), this.stopListening(fs.window, "resize");
            }
          }]);

          return ug;
        }(nh);

        function hg(e) {
          return zi(e) ? e : ja(e) ? e.commonAncestorContainer : "function" == typeof e ? hg(e()) : null;
        }

        function gg(e, t) {
          return e.top - t.height - ug.arrowVerticalOffset;
        }

        function mg(e) {
          return e.bottom + ug.arrowVerticalOffset;
        }

        ug.arrowHorizontalOffset = 25, ug.arrowVerticalOffset = 10, ug.stickyVerticalOffset = 20, ug._getOptimalPosition = Lh, ug.defaultPositions = {
          northWestArrowSouthWest: function northWestArrowSouthWest(e, t) {
            return {
              top: gg(e, t),
              left: e.left - ug.arrowHorizontalOffset,
              name: "arrow_sw"
            };
          },
          northWestArrowSouthMiddleWest: function northWestArrowSouthMiddleWest(e, t) {
            return {
              top: gg(e, t),
              left: e.left - .25 * t.width - ug.arrowHorizontalOffset,
              name: "arrow_smw"
            };
          },
          northWestArrowSouth: function northWestArrowSouth(e, t) {
            return {
              top: gg(e, t),
              left: e.left - t.width / 2,
              name: "arrow_s"
            };
          },
          northWestArrowSouthMiddleEast: function northWestArrowSouthMiddleEast(e, t) {
            return {
              top: gg(e, t),
              left: e.left - .75 * t.width + ug.arrowHorizontalOffset,
              name: "arrow_sme"
            };
          },
          northWestArrowSouthEast: function northWestArrowSouthEast(e, t) {
            return {
              top: gg(e, t),
              left: e.left - t.width + ug.arrowHorizontalOffset,
              name: "arrow_se"
            };
          },
          northArrowSouthWest: function northArrowSouthWest(e, t) {
            return {
              top: gg(e, t),
              left: e.left + e.width / 2 - ug.arrowHorizontalOffset,
              name: "arrow_sw"
            };
          },
          northArrowSouthMiddleWest: function northArrowSouthMiddleWest(e, t) {
            return {
              top: gg(e, t),
              left: e.left + e.width / 2 - .25 * t.width - ug.arrowHorizontalOffset,
              name: "arrow_smw"
            };
          },
          northArrowSouth: function northArrowSouth(e, t) {
            return {
              top: gg(e, t),
              left: e.left + e.width / 2 - t.width / 2,
              name: "arrow_s"
            };
          },
          northArrowSouthMiddleEast: function northArrowSouthMiddleEast(e, t) {
            return {
              top: gg(e, t),
              left: e.left + e.width / 2 - .75 * t.width + ug.arrowHorizontalOffset,
              name: "arrow_sme"
            };
          },
          northArrowSouthEast: function northArrowSouthEast(e, t) {
            return {
              top: gg(e, t),
              left: e.left + e.width / 2 - t.width + ug.arrowHorizontalOffset,
              name: "arrow_se"
            };
          },
          northEastArrowSouthWest: function northEastArrowSouthWest(e, t) {
            return {
              top: gg(e, t),
              left: e.right - ug.arrowHorizontalOffset,
              name: "arrow_sw"
            };
          },
          northEastArrowSouthMiddleWest: function northEastArrowSouthMiddleWest(e, t) {
            return {
              top: gg(e, t),
              left: e.right - .25 * t.width - ug.arrowHorizontalOffset,
              name: "arrow_smw"
            };
          },
          northEastArrowSouth: function northEastArrowSouth(e, t) {
            return {
              top: gg(e, t),
              left: e.right - t.width / 2,
              name: "arrow_s"
            };
          },
          northEastArrowSouthMiddleEast: function northEastArrowSouthMiddleEast(e, t) {
            return {
              top: gg(e, t),
              left: e.right - .75 * t.width + ug.arrowHorizontalOffset,
              name: "arrow_sme"
            };
          },
          northEastArrowSouthEast: function northEastArrowSouthEast(e, t) {
            return {
              top: gg(e, t),
              left: e.right - t.width + ug.arrowHorizontalOffset,
              name: "arrow_se"
            };
          },
          southWestArrowNorthWest: function southWestArrowNorthWest(e, t) {
            return {
              top: mg(e),
              left: e.left - ug.arrowHorizontalOffset,
              name: "arrow_nw"
            };
          },
          southWestArrowNorthMiddleWest: function southWestArrowNorthMiddleWest(e, t) {
            return {
              top: mg(e),
              left: e.left - .25 * t.width - ug.arrowHorizontalOffset,
              name: "arrow_nmw"
            };
          },
          southWestArrowNorth: function southWestArrowNorth(e, t) {
            return {
              top: mg(e),
              left: e.left - t.width / 2,
              name: "arrow_n"
            };
          },
          southWestArrowNorthMiddleEast: function southWestArrowNorthMiddleEast(e, t) {
            return {
              top: mg(e),
              left: e.left - .75 * t.width + ug.arrowHorizontalOffset,
              name: "arrow_nme"
            };
          },
          southWestArrowNorthEast: function southWestArrowNorthEast(e, t) {
            return {
              top: mg(e),
              left: e.left - t.width + ug.arrowHorizontalOffset,
              name: "arrow_ne"
            };
          },
          southArrowNorthWest: function southArrowNorthWest(e, t) {
            return {
              top: mg(e),
              left: e.left + e.width / 2 - ug.arrowHorizontalOffset,
              name: "arrow_nw"
            };
          },
          southArrowNorthMiddleWest: function southArrowNorthMiddleWest(e, t) {
            return {
              top: mg(e),
              left: e.left + e.width / 2 - .25 * t.width - ug.arrowHorizontalOffset,
              name: "arrow_nmw"
            };
          },
          southArrowNorth: function southArrowNorth(e, t) {
            return {
              top: mg(e),
              left: e.left + e.width / 2 - t.width / 2,
              name: "arrow_n"
            };
          },
          southArrowNorthMiddleEast: function southArrowNorthMiddleEast(e, t) {
            return {
              top: mg(e),
              left: e.left + e.width / 2 - .75 * t.width + ug.arrowHorizontalOffset,
              name: "arrow_nme"
            };
          },
          southArrowNorthEast: function southArrowNorthEast(e, t) {
            return {
              top: mg(e),
              left: e.left + e.width / 2 - t.width + ug.arrowHorizontalOffset,
              name: "arrow_ne"
            };
          },
          southEastArrowNorthWest: function southEastArrowNorthWest(e, t) {
            return {
              top: mg(e),
              left: e.right - ug.arrowHorizontalOffset,
              name: "arrow_nw"
            };
          },
          southEastArrowNorthMiddleWest: function southEastArrowNorthMiddleWest(e, t) {
            return {
              top: mg(e),
              left: e.right - .25 * t.width - ug.arrowHorizontalOffset,
              name: "arrow_nmw"
            };
          },
          southEastArrowNorth: function southEastArrowNorth(e, t) {
            return {
              top: mg(e),
              left: e.right - t.width / 2,
              name: "arrow_n"
            };
          },
          southEastArrowNorthMiddleEast: function southEastArrowNorthMiddleEast(e, t) {
            return {
              top: mg(e),
              left: e.right - .75 * t.width + ug.arrowHorizontalOffset,
              name: "arrow_nme"
            };
          },
          southEastArrowNorthEast: function southEastArrowNorthEast(e, t) {
            return {
              top: mg(e),
              left: e.right - t.width + ug.arrowHorizontalOffset,
              name: "arrow_ne"
            };
          },
          viewportStickyNorth: function viewportStickyNorth(e, t, n) {
            return e.getIntersection(n) ? {
              top: n.top + ug.stickyVerticalOffset,
              left: e.left + e.width / 2 - t.width / 2,
              name: "arrowless",
              config: {
                withArrow: !1
              }
            } : null;
          }
        };
        var fg = n(51),
            pg = n.n(fg),
            kg = n(52),
            bg = n.n(kg);
        n(118), n(120);
        var wg = Qa("px");

        var _g = /*#__PURE__*/function (_st) {
          _inherits(_g, _st);

          var _super69 = _createSuper(_g);

          function _g(e) {
            var _this131;

            _classCallCheck(this, _g);

            _this131 = _super69.call(this, e), _this131.positionLimiter = function () {
              var e = _this131.editor.editing.view,
                  t = e.document.selection.editableElement;
              return t ? e.domConverter.mapViewToDom(t.root) : null;
            }, _this131.set("visibleView", null), _this131.view = new ug(e.locale), e.ui.view.body.add(_this131.view), e.ui.focusTracker.add(_this131.view.element), _this131._viewToStack = new Map(), _this131._idToStack = new Map(), _this131.set("_numberOfStacks", 0), _this131.set("_singleViewMode", !1), _this131._rotatorView = _this131._createRotatorView(), _this131._fakePanelsView = _this131._createFakePanelsView();
            return _this131;
          }

          _createClass(_g, [{
            key: "hasView",
            value: function hasView(e) {
              return Array.from(this._viewToStack.keys()).includes(e);
            }
          }, {
            key: "add",
            value: function add(e) {
              if (this.hasView(e.view)) throw new c.a("contextualballoon-add-view-exist", [this, e]);
              var t = e.stackId || "main";
              if (!this._idToStack.has(t)) return this._idToStack.set(t, new Map([[e.view, e]])), this._viewToStack.set(e.view, this._idToStack.get(t)), this._numberOfStacks = this._idToStack.size, void (this._visibleStack && !e.singleViewMode || this.showStack(t));

              var n = this._idToStack.get(t);

              e.singleViewMode && this.showStack(t), n.set(e.view, e), this._viewToStack.set(e.view, n), n === this._visibleStack && this._showView(e);
            }
          }, {
            key: "remove",
            value: function remove(e) {
              if (!this.hasView(e)) throw new c.a("contextualballoon-remove-view-not-exist", [this, e]);

              var t = this._viewToStack.get(e);

              this._singleViewMode && this.visibleView === e && (this._singleViewMode = !1), this.visibleView === e && (1 === t.size ? this._idToStack.size > 1 ? this._showNextStack() : (this.view.hide(), this.visibleView = null, this._rotatorView.hideView()) : this._showView(Array.from(t.values())[t.size - 2])), 1 === t.size ? (this._idToStack["delete"](this._getStackId(t)), this._numberOfStacks = this._idToStack.size) : t["delete"](e), this._viewToStack["delete"](e);
            }
          }, {
            key: "updatePosition",
            value: function updatePosition(e) {
              e && (this._visibleStack.get(this.visibleView).position = e), this.view.pin(this._getBalloonPosition()), this._fakePanelsView.updatePosition();
            }
          }, {
            key: "showStack",
            value: function showStack(e) {
              this.visibleStack = e;

              var t = this._idToStack.get(e);

              if (!t) throw new c.a("contextualballoon-showstack-stack-not-exist", this);
              this._visibleStack !== t && this._showView(Array.from(t.values()).pop());
            }
          }, {
            key: "_visibleStack",
            get: function get() {
              return this._viewToStack.get(this.visibleView);
            }
          }, {
            key: "_getStackId",
            value: function _getStackId(e) {
              return Array.from(this._idToStack.entries()).find(function (t) {
                return t[1] === e;
              })[0];
            }
          }, {
            key: "_showNextStack",
            value: function _showNextStack() {
              var e = Array.from(this._idToStack.values());
              var t = e.indexOf(this._visibleStack) + 1;
              e[t] || (t = 0), this.showStack(this._getStackId(e[t]));
            }
          }, {
            key: "_showPrevStack",
            value: function _showPrevStack() {
              var e = Array.from(this._idToStack.values());
              var t = e.indexOf(this._visibleStack) - 1;
              e[t] || (t = e.length - 1), this.showStack(this._getStackId(e[t]));
            }
          }, {
            key: "_createRotatorView",
            value: function _createRotatorView() {
              var _this132 = this;

              var e = new vg(this.editor.locale),
                  t = this.editor.locale.t;
              return this.view.content.add(e), e.bind("isNavigationVisible").to(this, "_numberOfStacks", this, "_singleViewMode", function (e, t) {
                return !t && e > 1;
              }), e.on("change:isNavigationVisible", function () {
                return _this132.updatePosition();
              }, {
                priority: "low"
              }), e.bind("counter").to(this, "visibleView", this, "_numberOfStacks", function (e, n) {
                if (n < 2) return "";
                var i = Array.from(_this132._idToStack.values()).indexOf(_this132._visibleStack) + 1;
                return t("%0 of %1", [i, n]);
              }), e.buttonNextView.on("execute", function () {
                e.focusTracker.isFocused && _this132.editor.editing.view.focus(), _this132._showNextStack();
              }), e.buttonPrevView.on("execute", function () {
                e.focusTracker.isFocused && _this132.editor.editing.view.focus(), _this132._showPrevStack();
              }), e;
            }
          }, {
            key: "_createFakePanelsView",
            value: function _createFakePanelsView() {
              var e = new xg(this.editor.locale, this.view);
              return e.bind("numberOfPanels").to(this, "_numberOfStacks", this, "_singleViewMode", function (e, t) {
                return !t && e >= 2 ? Math.min(e - 1, 2) : 0;
              }), e.listenTo(this.view, "change:top", function () {
                return e.updatePosition();
              }), e.listenTo(this.view, "change:left", function () {
                return e.updatePosition();
              }), this.editor.ui.view.body.add(e), e;
            }
          }, {
            key: "_showView",
            value: function _showView(_ref37) {
              var e = _ref37.view,
                  _ref37$balloonClassNa = _ref37.balloonClassName,
                  t = _ref37$balloonClassNa === void 0 ? "" : _ref37$balloonClassNa,
                  _ref37$withArrow = _ref37.withArrow,
                  n = _ref37$withArrow === void 0 ? !0 : _ref37$withArrow,
                  _ref37$singleViewMode = _ref37.singleViewMode,
                  i = _ref37$singleViewMode === void 0 ? !1 : _ref37$singleViewMode;
              this.view["class"] = t, this.view.withArrow = n, this._rotatorView.showView(e), this.visibleView = e, this.view.pin(this._getBalloonPosition()), this._fakePanelsView.updatePosition(), i && (this._singleViewMode = !0);
            }
          }, {
            key: "_getBalloonPosition",
            value: function _getBalloonPosition() {
              var e = Array.from(this._visibleStack.values()).pop().position;
              return e && (e.limiter || (e = Object.assign({}, e, {
                limiter: this.positionLimiter
              })), e = Object.assign({}, e, {
                viewportOffsetConfig: this.editor.ui.viewportOffset
              })), e;
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "ContextualBalloon";
            }
          }]);

          return _g;
        }(st);

        var vg = /*#__PURE__*/function (_nh20) {
          _inherits(vg, _nh20);

          var _super70 = _createSuper(vg);

          function vg(e) {
            var _this133;

            _classCallCheck(this, vg);

            _this133 = _super70.call(this, e);
            var t = e.t,
                n = _this133.bindTemplate;
            _this133.set("isNavigationVisible", !0), _this133.focusTracker = new Xa(), _this133.buttonPrevView = _this133._createButtonView(t("Previous"), pg.a), _this133.buttonNextView = _this133._createButtonView(t("Next"), bg.a), _this133.content = _this133.createCollection(), _this133.setTemplate({
              tag: "div",
              attributes: {
                "class": ["ck", "ck-balloon-rotator"],
                "z-index": "-1"
              },
              children: [{
                tag: "div",
                attributes: {
                  "class": ["ck-balloon-rotator__navigation", n.to("isNavigationVisible", function (e) {
                    return e ? "" : "ck-hidden";
                  })]
                },
                children: [_this133.buttonPrevView, {
                  tag: "span",
                  attributes: {
                    "class": ["ck-balloon-rotator__counter"]
                  },
                  children: [{
                    text: n.to("counter")
                  }]
                }, _this133.buttonNextView]
              }, {
                tag: "div",
                attributes: {
                  "class": "ck-balloon-rotator__content"
                },
                children: _this133.content
              }]
            });
            return _this133;
          }

          _createClass(vg, [{
            key: "render",
            value: function render() {
              _get(_getPrototypeOf(vg.prototype), "render", this).call(this), this.focusTracker.add(this.element);
            }
          }, {
            key: "showView",
            value: function showView(e) {
              this.hideView(), this.content.add(e);
            }
          }, {
            key: "hideView",
            value: function hideView() {
              this.content.clear();
            }
          }, {
            key: "_createButtonView",
            value: function _createButtonView(e, t) {
              var n = new Th(this.locale);
              return n.set({
                label: e,
                icon: t,
                tooltip: !0
              }), n;
            }
          }]);

          return vg;
        }(nh);

        var xg = /*#__PURE__*/function (_nh21) {
          _inherits(xg, _nh21);

          var _super71 = _createSuper(xg);

          function xg(e, t) {
            var _this134;

            _classCallCheck(this, xg);

            _this134 = _super71.call(this, e);
            var n = _this134.bindTemplate;
            _this134.set("top", 0), _this134.set("left", 0), _this134.set("height", 0), _this134.set("width", 0), _this134.set("numberOfPanels", 0), _this134.content = _this134.createCollection(), _this134._balloonPanelView = t, _this134.setTemplate({
              tag: "div",
              attributes: {
                "class": ["ck-fake-panel", n.to("numberOfPanels", function (e) {
                  return e ? "" : "ck-hidden";
                })],
                style: {
                  top: n.to("top", wg),
                  left: n.to("left", wg),
                  width: n.to("width", wg),
                  height: n.to("height", wg)
                }
              },
              children: _this134.content
            }), _this134.on("change:numberOfPanels", function (e, t, n, i) {
              n > i ? _this134._addPanels(n - i) : _this134._removePanels(i - n), _this134.updatePosition();
            });
            return _this134;
          }

          _createClass(xg, [{
            key: "_addPanels",
            value: function _addPanels(e) {
              for (; e--;) {
                var _e219 = new nh();

                _e219.setTemplate({
                  tag: "div"
                }), this.content.add(_e219), this.registerChild(_e219);
              }
            }
          }, {
            key: "_removePanels",
            value: function _removePanels(e) {
              for (; e--;) {
                var _e220 = this.content.last;
                this.content.remove(_e220), this.deregisterChild(_e220), _e220.destroy();
              }
            }
          }, {
            key: "updatePosition",
            value: function updatePosition() {
              if (this.numberOfPanels) {
                var _this$_balloonPanelVi = this._balloonPanelView,
                    _e221 = _this$_balloonPanelVi.top,
                    _t211 = _this$_balloonPanelVi.left,
                    _Wa = new Wa(this._balloonPanelView.element),
                    _n187 = _Wa.width,
                    _i143 = _Wa.height;

                Object.assign(this, {
                  top: _e221,
                  left: _t211,
                  width: _n187,
                  height: _i143
                });
              }
            }
          }]);

          return xg;
        }(nh);

        n(122);
        var yg = Qa("px");

        var Cg = /*#__PURE__*/function (_nh22) {
          _inherits(Cg, _nh22);

          var _super72 = _createSuper(Cg);

          function Cg(e) {
            var _this135;

            _classCallCheck(this, Cg);

            _this135 = _super72.call(this, e);
            var t = _this135.bindTemplate;
            _this135.set("isActive", !1), _this135.set("isSticky", !1), _this135.set("limiterElement", null), _this135.set("limiterBottomOffset", 50), _this135.set("viewportTopOffset", 0), _this135.set("_marginLeft", null), _this135.set("_isStickyToTheLimiter", !1), _this135.set("_hasViewportTopOffset", !1), _this135.content = _this135.createCollection(), _this135._contentPanelPlaceholder = new oh({
              tag: "div",
              attributes: {
                "class": ["ck", "ck-sticky-panel__placeholder"],
                style: {
                  display: t.to("isSticky", function (e) {
                    return e ? "block" : "none";
                  }),
                  height: t.to("isSticky", function (e) {
                    return e ? yg(_this135._panelRect.height) : null;
                  })
                }
              }
            }).render(), _this135._contentPanel = new oh({
              tag: "div",
              attributes: {
                "class": ["ck", "ck-sticky-panel__content", t["if"]("isSticky", "ck-sticky-panel__content_sticky"), t["if"]("_isStickyToTheLimiter", "ck-sticky-panel__content_sticky_bottom-limit")],
                style: {
                  width: t.to("isSticky", function (e) {
                    return e ? yg(_this135._contentPanelPlaceholder.getBoundingClientRect().width) : null;
                  }),
                  top: t.to("_hasViewportTopOffset", function (e) {
                    return e ? yg(_this135.viewportTopOffset) : null;
                  }),
                  bottom: t.to("_isStickyToTheLimiter", function (e) {
                    return e ? yg(_this135.limiterBottomOffset) : null;
                  }),
                  marginLeft: t.to("_marginLeft")
                }
              },
              children: _this135.content
            }).render(), _this135.setTemplate({
              tag: "div",
              attributes: {
                "class": ["ck", "ck-sticky-panel"]
              },
              children: [_this135._contentPanelPlaceholder, _this135._contentPanel]
            });
            return _this135;
          }

          _createClass(Cg, [{
            key: "render",
            value: function render() {
              var _this136 = this;

              _get(_getPrototypeOf(Cg.prototype), "render", this).call(this), this._checkIfShouldBeSticky(), this.listenTo(fs.window, "scroll", function () {
                _this136._checkIfShouldBeSticky();
              }), this.listenTo(this, "change:isActive", function () {
                _this136._checkIfShouldBeSticky();
              });
            }
          }, {
            key: "_checkIfShouldBeSticky",
            value: function _checkIfShouldBeSticky() {
              var e = this._panelRect = this._contentPanel.getBoundingClientRect();

              var t;
              this.limiterElement ? (t = this._limiterRect = this.limiterElement.getBoundingClientRect(), this.isSticky = this.isActive && t.top < this.viewportTopOffset && this._panelRect.height + this.limiterBottomOffset < t.height) : this.isSticky = !1, this.isSticky ? (this._isStickyToTheLimiter = t.bottom < e.height + this.limiterBottomOffset + this.viewportTopOffset, this._hasViewportTopOffset = !this._isStickyToTheLimiter && !!this.viewportTopOffset, this._marginLeft = this._isStickyToTheLimiter ? null : yg(-fs.window.scrollX)) : (this._isStickyToTheLimiter = !1, this._hasViewportTopOffset = !1, this._marginLeft = null);
            }
          }]);

          return Cg;
        }(nh);

        Qa("px");
        n(124);
        Qa("px");
        Qa("px");
        n(126);
        var Tg = new WeakMap();

        function Ag(e) {
          var t = e.view,
              n = e.element,
              i = e.text,
              _e$isDirectHost = e.isDirectHost,
              o = _e$isDirectHost === void 0 ? !0 : _e$isDirectHost,
              _e$keepOnFocus = e.keepOnFocus,
              r = _e$keepOnFocus === void 0 ? !1 : _e$keepOnFocus,
              s = t.document;
          Tg.has(s) || (Tg.set(s, new Map()), s.registerPostFixer(function (e) {
            return Ig(s, e);
          })), Tg.get(s).set(n, {
            text: i,
            isDirectHost: o,
            keepOnFocus: r,
            hostElement: o ? n : null
          }), t.change(function (e) {
            return Ig(s, e);
          });
        }

        function Eg(e, t) {
          return !!t.hasClass("ck-placeholder") && (e.removeClass("ck-placeholder", t), !0);
        }

        function Ig(e, t) {
          var n = Tg.get(e),
              i = [];
          var o = !1;

          var _iterator303 = _createForOfIteratorHelper(n),
              _step303;

          try {
            for (_iterator303.s(); !(_step303 = _iterator303.n()).done;) {
              var _step303$value = _slicedToArray(_step303.value, 2),
                  _e222 = _step303$value[0],
                  _r36 = _step303$value[1];

              _r36.isDirectHost && (i.push(_e222), Sg(t, _e222, _r36) && (o = !0));
            }
          } catch (err) {
            _iterator303.e(err);
          } finally {
            _iterator303.f();
          }

          var _iterator304 = _createForOfIteratorHelper(n),
              _step304;

          try {
            for (_iterator304.s(); !(_step304 = _iterator304.n()).done;) {
              var _step304$value = _slicedToArray(_step304.value, 2),
                  _e223 = _step304$value[0],
                  _r37 = _step304$value[1];

              if (_r37.isDirectHost) continue;

              var _n188 = Mg(_e223);

              _n188 && (i.includes(_n188) || (_r37.hostElement = _n188, Sg(t, _e223, _r37) && (o = !0)));
            }
          } catch (err) {
            _iterator304.e(err);
          } finally {
            _iterator304.f();
          }

          return o;
        }

        function Sg(e, t, n) {
          var i = n.text,
              o = n.isDirectHost,
              r = n.hostElement;
          var s = !1;
          return r.getAttribute("data-placeholder") !== i && (e.setAttribute("data-placeholder", i, r), s = !0), (o || 1 == t.childCount) && function (e, t) {
            if (!e.isAttached()) return !1;
            if (Array.from(e.getChildren()).some(function (e) {
              return !e.is("uiElement");
            })) return !1;
            if (t) return !0;
            var n = e.document;
            if (!n.isFocused) return !0;
            var i = n.selection.anchor;
            return i && i.parent !== e;
          }(r, n.keepOnFocus) ? function (e, t) {
            return !t.hasClass("ck-placeholder") && (e.addClass("ck-placeholder", t), !0);
          }(e, r) && (s = !0) : Eg(e, r) && (s = !0), s;
        }

        function Mg(e) {
          if (e.childCount) {
            var _t212 = e.getChild(0);

            if (_t212.is("element") && !_t212.is("uiElement")) return _t212;
          }

          return null;
        }

        var Pg = new Map();

        function Rg(e, t, n) {
          var i = Pg.get(e);
          i || (i = new Map(), Pg.set(e, i)), i.set(t, n);
        }

        function Ng(e) {
          return [e];
        }

        function Og(e, t) {
          var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

          var i = function (e, t) {
            var n = Pg.get(e);
            return n && n.has(t) ? n.get(t) : Ng;
          }(e.constructor, t.constructor);

          try {
            return i(e = e.clone(), t, n);
          } catch (e) {
            throw e;
          }
        }

        function Dg(e, t, n) {
          e = e.slice(), t = t.slice();
          var i = new Lg(n.document, n.useRelations, n.forceWeakRemove);
          i.setOriginalOperations(e), i.setOriginalOperations(t);
          var o = i.originalOperations;
          if (0 == e.length || 0 == t.length) return {
            operationsA: e,
            operationsB: t,
            originalOperations: o
          };
          var r = new WeakMap();

          var _iterator305 = _createForOfIteratorHelper(e),
              _step305;

          try {
            for (_iterator305.s(); !(_step305 = _iterator305.n()).done;) {
              var _t214 = _step305.value;
              r.set(_t214, 0);
            }
          } catch (err) {
            _iterator305.e(err);
          } finally {
            _iterator305.f();
          }

          var s = {
            nextBaseVersionA: e[e.length - 1].baseVersion + 1,
            nextBaseVersionB: t[t.length - 1].baseVersion + 1,
            originalOperationsACount: e.length,
            originalOperationsBCount: t.length
          };
          var a = 0;

          for (; a < e.length;) {
            var _e224, _t213;

            var _n189 = e[a],
                _o70 = r.get(_n189);

            if (_o70 == t.length) {
              a++;
              continue;
            }

            var _s23 = t[_o70],
                _c6 = Og(_n189, _s23, i.getContext(_n189, _s23, !0)),
                _l3 = Og(_s23, _n189, i.getContext(_s23, _n189, !1));

            i.updateRelation(_n189, _s23), i.setOriginalOperations(_c6, _n189), i.setOriginalOperations(_l3, _s23);

            var _iterator306 = _createForOfIteratorHelper(_c6),
                _step306;

            try {
              for (_iterator306.s(); !(_step306 = _iterator306.n()).done;) {
                var _e225 = _step306.value;
                r.set(_e225, _o70 + _l3.length);
              }
            } catch (err) {
              _iterator306.e(err);
            } finally {
              _iterator306.f();
            }

            (_e224 = e).splice.apply(_e224, [a, 1].concat(_toConsumableArray(_c6))), (_t213 = t).splice.apply(_t213, [_o70, 1].concat(_toConsumableArray(_l3)));
          }

          if (n.padWithNoOps) {
            var _n190 = e.length - s.originalOperationsACount,
                _i144 = t.length - s.originalOperationsBCount;

            Vg(e, _i144 - _n190), Vg(t, _n190 - _i144);
          }

          return zg(e, s.nextBaseVersionB), zg(t, s.nextBaseVersionA), {
            operationsA: e,
            operationsB: t,
            originalOperations: o
          };
        }

        var Lg = /*#__PURE__*/function () {
          function Lg(e, t) {
            var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;

            _classCallCheck(this, Lg);

            this.originalOperations = new Map(), this._history = e.history, this._useRelations = t, this._forceWeakRemove = !!n, this._relations = new Map();
          }

          _createClass(Lg, [{
            key: "setOriginalOperations",
            value: function setOriginalOperations(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              var n = t ? this.originalOperations.get(t) : null;

              var _iterator307 = _createForOfIteratorHelper(e),
                  _step307;

              try {
                for (_iterator307.s(); !(_step307 = _iterator307.n()).done;) {
                  var _t215 = _step307.value;
                  this.originalOperations.set(_t215, n || _t215);
                }
              } catch (err) {
                _iterator307.e(err);
              } finally {
                _iterator307.f();
              }
            }
          }, {
            key: "updateRelation",
            value: function updateRelation(e, t) {
              switch (e.constructor) {
                case Gl:
                  switch (t.constructor) {
                    case Xl:
                      e.targetPosition.isEqual(t.sourcePosition) || t.movedRange.containsPosition(e.targetPosition) ? this._setRelation(e, t, "insertAtSource") : e.targetPosition.isEqual(t.deletionPosition) ? this._setRelation(e, t, "insertBetween") : e.targetPosition.isAfter(t.sourcePosition) && this._setRelation(e, t, "moveTargetAfter");
                      break;

                    case Gl:
                      e.targetPosition.isEqual(t.sourcePosition) || e.targetPosition.isBefore(t.sourcePosition) ? this._setRelation(e, t, "insertBefore") : this._setRelation(e, t, "insertAfter");
                  }

                  break;

                case Zl:
                  switch (t.constructor) {
                    case Xl:
                      e.splitPosition.isBefore(t.sourcePosition) && this._setRelation(e, t, "splitBefore");
                      break;

                    case Gl:
                      if (e.splitPosition.isEqual(t.sourcePosition) || e.splitPosition.isBefore(t.sourcePosition)) this._setRelation(e, t, "splitBefore");else {
                        var _n191 = yc._createFromPositionAndShift(t.sourcePosition, t.howMany);

                        if (e.splitPosition.hasSameParentAs(t.sourcePosition) && _n191.containsPosition(e.splitPosition)) {
                          var _i145 = _n191.end.offset - e.splitPosition.offset,
                              _o71 = e.splitPosition.offset - _n191.start.offset;

                          this._setRelation(e, t, {
                            howMany: _i145,
                            offset: _o71
                          });
                        }
                      }
                  }

                  break;

                case Xl:
                  switch (t.constructor) {
                    case Xl:
                      e.targetPosition.isEqual(t.sourcePosition) || this._setRelation(e, t, "mergeTargetNotMoved"), e.sourcePosition.isEqual(t.targetPosition) && this._setRelation(e, t, "mergeSourceNotMoved"), e.sourcePosition.isEqual(t.sourcePosition) && this._setRelation(e, t, "mergeSameElement");
                      break;

                    case Zl:
                      e.sourcePosition.isEqual(t.splitPosition) && this._setRelation(e, t, "splitAtSource");
                  }

                  break;

                case Kl:
                  {
                    var _n192 = e.newRange;
                    if (!_n192) return;

                    switch (t.constructor) {
                      case Gl:
                        {
                          var _i146 = yc._createFromPositionAndShift(t.sourcePosition, t.howMany),
                              _o72 = _i146.containsPosition(_n192.start) || _i146.start.isEqual(_n192.start),
                              _r38 = _i146.containsPosition(_n192.end) || _i146.end.isEqual(_n192.end);

                          !_o72 && !_r38 || _i146.containsRange(_n192) || this._setRelation(e, t, {
                            side: _o72 ? "left" : "right",
                            path: _o72 ? _n192.start.path.slice() : _n192.end.path.slice()
                          });
                          break;
                        }

                      case Xl:
                        {
                          var _i147 = _n192.start.isEqual(t.targetPosition),
                              _o73 = _n192.start.isEqual(t.deletionPosition),
                              _r39 = _n192.end.isEqual(t.deletionPosition),
                              _s24 = _n192.end.isEqual(t.sourcePosition);

                          (_i147 || _o73 || _r39 || _s24) && this._setRelation(e, t, {
                            wasInLeftElement: _i147,
                            wasStartBeforeMergedElement: _o73,
                            wasEndBeforeMergedElement: _r39,
                            wasInRightElement: _s24
                          });
                          break;
                        }
                    }

                    break;
                  }
              }
            }
          }, {
            key: "getContext",
            value: function getContext(e, t, n) {
              return {
                aIsStrong: n,
                aWasUndone: this._wasUndone(e),
                bWasUndone: this._wasUndone(t),
                abRelation: this._useRelations ? this._getRelation(e, t) : null,
                baRelation: this._useRelations ? this._getRelation(t, e) : null,
                forceWeakRemove: this._forceWeakRemove
              };
            }
          }, {
            key: "_wasUndone",
            value: function _wasUndone(e) {
              var t = this.originalOperations.get(e);
              return t.wasUndone || this._history.isUndoneOperation(t);
            }
          }, {
            key: "_getRelation",
            value: function _getRelation(e, t) {
              var n = this.originalOperations.get(t),
                  i = this._history.getUndoneOperation(n);

              if (!i) return null;

              var o = this.originalOperations.get(e),
                  r = this._relations.get(o);

              return r && r.get(i) || null;
            }
          }, {
            key: "_setRelation",
            value: function _setRelation(e, t, n) {
              var i = this.originalOperations.get(e),
                  o = this.originalOperations.get(t);

              var r = this._relations.get(i);

              r || (r = new Map(), this._relations.set(i, r)), r.set(o, n);
            }
          }]);

          return Lg;
        }();

        function zg(e, t) {
          var _iterator308 = _createForOfIteratorHelper(e),
              _step308;

          try {
            for (_iterator308.s(); !(_step308 = _iterator308.n()).done;) {
              var _n193 = _step308.value;
              _n193.baseVersion = t++;
            }
          } catch (err) {
            _iterator308.e(err);
          } finally {
            _iterator308.f();
          }
        }

        function Vg(e, t) {
          for (var _n194 = 0; _n194 < t; _n194++) {
            e.push(new wd(0));
          }
        }

        function Bg(e, t, n) {
          var i = e.nodes.getNode(0).getAttribute(t);
          if (i == n) return null;
          var o = new yc(e.position, e.position.getShiftedBy(e.howMany));
          return new ql(o, t, i, n, 0);
        }

        function Fg(e, t) {
          return null === e.targetPosition._getTransformedByDeletion(t.sourcePosition, t.howMany);
        }

        function jg(e, t) {
          var n = [];

          for (var _i148 = 0; _i148 < e.length; _i148++) {
            var _o74 = e[_i148],
                _r40 = new Gl(_o74.start, _o74.end.offset - _o74.start.offset, t, 0);

            n.push(_r40);

            for (var _t216 = _i148 + 1; _t216 < e.length; _t216++) {
              e[_t216] = e[_t216]._getTransformedByMove(_r40.sourcePosition, _r40.targetPosition, _r40.howMany)[0];
            }

            t = t._getTransformedByMove(_r40.sourcePosition, _r40.targetPosition, _r40.howMany);
          }

          return n;
        }

        Rg(ql, ql, function (e, t, n) {
          if (e.key === t.key && e.range.start.hasSameParentAs(t.range.start)) {
            var _i149 = e.range.getDifference(t.range).map(function (t) {
              return new ql(t, e.key, e.oldValue, e.newValue, 0);
            }),
                _o75 = e.range.getIntersection(t.range);

            return _o75 && n.aIsStrong && _i149.push(new ql(_o75, t.key, t.newValue, e.newValue, 0)), 0 == _i149.length ? [new wd(0)] : _i149;
          }

          return [e];
        }), Rg(ql, Yl, function (e, t) {
          if (e.range.start.hasSameParentAs(t.position) && e.range.containsPosition(t.position)) {
            var _n195 = e.range._getTransformedByInsertion(t.position, t.howMany, !t.shouldReceiveAttributes).map(function (t) {
              return new ql(t, e.key, e.oldValue, e.newValue, e.baseVersion);
            });

            if (t.shouldReceiveAttributes) {
              var _i150 = Bg(t, e.key, e.oldValue);

              _i150 && _n195.unshift(_i150);
            }

            return _n195;
          }

          return e.range = e.range._getTransformedByInsertion(t.position, t.howMany, !1)[0], [e];
        }), Rg(ql, Xl, function (e, t) {
          var n = [];
          e.range.start.hasSameParentAs(t.deletionPosition) && (e.range.containsPosition(t.deletionPosition) || e.range.start.isEqual(t.deletionPosition)) && n.push(yc._createFromPositionAndShift(t.graveyardPosition, 1));

          var i = e.range._getTransformedByMergeOperation(t);

          return i.isCollapsed || n.push(i), n.map(function (t) {
            return new ql(t, e.key, e.oldValue, e.newValue, e.baseVersion);
          });
        }), Rg(ql, Gl, function (e, t) {
          return function (e, t) {
            var n = yc._createFromPositionAndShift(t.sourcePosition, t.howMany);

            var i = null,
                o = [];
            n.containsRange(e, !0) ? i = e : e.start.hasSameParentAs(n.start) ? (o = e.getDifference(n), i = e.getIntersection(n)) : o = [e];
            var r = [];

            var _iterator309 = _createForOfIteratorHelper(o),
                _step309;

            try {
              for (_iterator309.s(); !(_step309 = _iterator309.n()).done;) {
                var _e226 = _step309.value;
                _e226 = _e226._getTransformedByDeletion(t.sourcePosition, t.howMany);

                var _n196 = t.getMovedRangeStart(),
                    _i151 = _e226.start.hasSameParentAs(_n196);

                _e226 = _e226._getTransformedByInsertion(_n196, t.howMany, _i151), r.push.apply(r, _toConsumableArray(_e226));
              }
            } catch (err) {
              _iterator309.e(err);
            } finally {
              _iterator309.f();
            }

            i && r.push(i._getTransformedByMove(t.sourcePosition, t.targetPosition, t.howMany, !1)[0]);
            return r;
          }(e.range, t).map(function (t) {
            return new ql(t, e.key, e.oldValue, e.newValue, e.baseVersion);
          });
        }), Rg(ql, Zl, function (e, t) {
          if (e.range.end.isEqual(t.insertionPosition)) return t.graveyardPosition || e.range.end.offset++, [e];

          if (e.range.start.hasSameParentAs(t.splitPosition) && e.range.containsPosition(t.splitPosition)) {
            var _n197 = e.clone();

            return _n197.range = new yc(t.moveTargetPosition.clone(), e.range.end._getCombined(t.splitPosition, t.moveTargetPosition)), e.range.end = t.splitPosition.clone(), e.range.end.stickiness = "toPrevious", [e, _n197];
          }

          return e.range = e.range._getTransformedBySplitOperation(t), [e];
        }), Rg(Yl, ql, function (e, t) {
          var n = [e];

          if (e.shouldReceiveAttributes && e.position.hasSameParentAs(t.range.start) && t.range.containsPosition(e.position)) {
            var _i152 = Bg(e, t.key, t.newValue);

            _i152 && n.push(_i152);
          }

          return n;
        }), Rg(Yl, Yl, function (e, t, n) {
          return e.position.isEqual(t.position) && n.aIsStrong ? [e] : (e.position = e.position._getTransformedByInsertOperation(t), [e]);
        }), Rg(Yl, Gl, function (e, t) {
          return e.position = e.position._getTransformedByMoveOperation(t), [e];
        }), Rg(Yl, Zl, function (e, t) {
          return e.position = e.position._getTransformedBySplitOperation(t), [e];
        }), Rg(Yl, Xl, function (e, t) {
          return e.position = e.position._getTransformedByMergeOperation(t), [e];
        }), Rg(Kl, Yl, function (e, t) {
          return e.oldRange && (e.oldRange = e.oldRange._getTransformedByInsertOperation(t)[0]), e.newRange && (e.newRange = e.newRange._getTransformedByInsertOperation(t)[0]), [e];
        }), Rg(Kl, Kl, function (e, t, n) {
          if (e.name == t.name) {
            if (!n.aIsStrong) return [new wd(0)];
            e.oldRange = t.newRange ? t.newRange.clone() : null;
          }

          return [e];
        }), Rg(Kl, Xl, function (e, t) {
          return e.oldRange && (e.oldRange = e.oldRange._getTransformedByMergeOperation(t)), e.newRange && (e.newRange = e.newRange._getTransformedByMergeOperation(t)), [e];
        }), Rg(Kl, Gl, function (e, t, n) {
          if (e.oldRange && (e.oldRange = yc._createFromRanges(e.oldRange._getTransformedByMoveOperation(t))), e.newRange) {
            if (n.abRelation) {
              var _i153 = yc._createFromRanges(e.newRange._getTransformedByMoveOperation(t));

              if ("left" == n.abRelation.side && t.targetPosition.isEqual(e.newRange.start)) return e.newRange.start.path = n.abRelation.path, e.newRange.end = _i153.end, [e];
              if ("right" == n.abRelation.side && t.targetPosition.isEqual(e.newRange.end)) return e.newRange.start = _i153.start, e.newRange.end.path = n.abRelation.path, [e];
            }

            e.newRange = yc._createFromRanges(e.newRange._getTransformedByMoveOperation(t));
          }

          return [e];
        }), Rg(Kl, Zl, function (e, t, n) {
          if (e.oldRange && (e.oldRange = e.oldRange._getTransformedBySplitOperation(t)), e.newRange) {
            if (n.abRelation) {
              var _i154 = e.newRange._getTransformedBySplitOperation(t);

              return e.newRange.start.isEqual(t.splitPosition) && n.abRelation.wasStartBeforeMergedElement ? e.newRange.start = wc._createAt(t.insertionPosition) : e.newRange.start.isEqual(t.splitPosition) && !n.abRelation.wasInLeftElement && (e.newRange.start = wc._createAt(t.moveTargetPosition)), e.newRange.end.isEqual(t.splitPosition) && n.abRelation.wasInRightElement ? e.newRange.end = wc._createAt(t.moveTargetPosition) : e.newRange.end.isEqual(t.splitPosition) && n.abRelation.wasEndBeforeMergedElement ? e.newRange.end = wc._createAt(t.insertionPosition) : e.newRange.end = _i154.end, [e];
            }

            e.newRange = e.newRange._getTransformedBySplitOperation(t);
          }

          return [e];
        }), Rg(Xl, Yl, function (e, t) {
          return e.sourcePosition.hasSameParentAs(t.position) && (e.howMany += t.howMany), e.sourcePosition = e.sourcePosition._getTransformedByInsertOperation(t), e.targetPosition = e.targetPosition._getTransformedByInsertOperation(t), [e];
        }), Rg(Xl, Xl, function (e, t, n) {
          if (e.sourcePosition.isEqual(t.sourcePosition) && e.targetPosition.isEqual(t.targetPosition)) {
            if (n.bWasUndone) {
              var _n198 = t.graveyardPosition.path.slice();

              return _n198.push(0), e.sourcePosition = new wc(t.graveyardPosition.root, _n198), e.howMany = 0, [e];
            }

            return [new wd(0)];
          }

          if (e.sourcePosition.isEqual(t.sourcePosition) && !e.targetPosition.isEqual(t.targetPosition) && !n.bWasUndone && "splitAtSource" != n.abRelation) {
            var _i155 = "$graveyard" == e.targetPosition.root.rootName,
                _o76 = "$graveyard" == t.targetPosition.root.rootName;

            if (_o76 && !_i155 || !(_i155 && !_o76) && n.aIsStrong) {
              var _n199 = t.targetPosition._getTransformedByMergeOperation(t),
                  _i156 = e.targetPosition._getTransformedByMergeOperation(t);

              return [new Gl(_n199, e.howMany, _i156, 0)];
            }

            return [new wd(0)];
          }

          return e.sourcePosition.hasSameParentAs(t.targetPosition) && (e.howMany += t.howMany), e.sourcePosition = e.sourcePosition._getTransformedByMergeOperation(t), e.targetPosition = e.targetPosition._getTransformedByMergeOperation(t), e.graveyardPosition.isEqual(t.graveyardPosition) && n.aIsStrong || (e.graveyardPosition = e.graveyardPosition._getTransformedByMergeOperation(t)), [e];
        }), Rg(Xl, Gl, function (e, t, n) {
          var i = yc._createFromPositionAndShift(t.sourcePosition, t.howMany);

          return "remove" == t.type && !n.bWasUndone && !n.forceWeakRemove && e.deletionPosition.hasSameParentAs(t.sourcePosition) && i.containsPosition(e.sourcePosition) ? [new wd(0)] : (e.sourcePosition.hasSameParentAs(t.targetPosition) && (e.howMany += t.howMany), e.sourcePosition.hasSameParentAs(t.sourcePosition) && (e.howMany -= t.howMany), e.sourcePosition = e.sourcePosition._getTransformedByMoveOperation(t), e.targetPosition = e.targetPosition._getTransformedByMoveOperation(t), e.graveyardPosition.isEqual(t.targetPosition) || (e.graveyardPosition = e.graveyardPosition._getTransformedByMoveOperation(t)), [e]);
        }), Rg(Xl, Zl, function (e, t, n) {
          if (t.graveyardPosition && (e.graveyardPosition = e.graveyardPosition._getTransformedByDeletion(t.graveyardPosition, 1), e.deletionPosition.isEqual(t.graveyardPosition) && (e.howMany = t.howMany)), e.targetPosition.isEqual(t.splitPosition)) {
            var _i157 = 0 != t.howMany,
                _o77 = t.graveyardPosition && e.deletionPosition.isEqual(t.graveyardPosition);

            if (_i157 || _o77 || "mergeTargetNotMoved" == n.abRelation) return e.sourcePosition = e.sourcePosition._getTransformedBySplitOperation(t), [e];
          }

          if (e.sourcePosition.isEqual(t.splitPosition)) {
            if ("mergeSourceNotMoved" == n.abRelation) return e.howMany = 0, e.targetPosition = e.targetPosition._getTransformedBySplitOperation(t), [e];
            if ("mergeSameElement" == n.abRelation || e.sourcePosition.offset > 0) return e.sourcePosition = t.moveTargetPosition.clone(), e.targetPosition = e.targetPosition._getTransformedBySplitOperation(t), [e];
          }

          return e.sourcePosition.hasSameParentAs(t.splitPosition) && (e.howMany = t.splitPosition.offset), e.sourcePosition = e.sourcePosition._getTransformedBySplitOperation(t), e.targetPosition = e.targetPosition._getTransformedBySplitOperation(t), [e];
        }), Rg(Gl, Yl, function (e, t) {
          var n = yc._createFromPositionAndShift(e.sourcePosition, e.howMany)._getTransformedByInsertOperation(t, !1)[0];

          return e.sourcePosition = n.start, e.howMany = n.end.offset - n.start.offset, e.targetPosition.isEqual(t.position) || (e.targetPosition = e.targetPosition._getTransformedByInsertOperation(t)), [e];
        }), Rg(Gl, Gl, function (e, t, n) {
          var i = yc._createFromPositionAndShift(e.sourcePosition, e.howMany),
              o = yc._createFromPositionAndShift(t.sourcePosition, t.howMany);

          var r,
              s = n.aIsStrong,
              a = !n.aIsStrong;
          if ("insertBefore" == n.abRelation || "insertAfter" == n.baRelation ? a = !0 : "insertAfter" != n.abRelation && "insertBefore" != n.baRelation || (a = !1), r = e.targetPosition.isEqual(t.targetPosition) && a ? e.targetPosition._getTransformedByDeletion(t.sourcePosition, t.howMany) : e.targetPosition._getTransformedByMove(t.sourcePosition, t.targetPosition, t.howMany), Fg(e, t) && Fg(t, e)) return [t.getReversed()];
          if (i.containsPosition(t.targetPosition) && i.containsRange(o, !0)) return i.start = i.start._getTransformedByMove(t.sourcePosition, t.targetPosition, t.howMany), i.end = i.end._getTransformedByMove(t.sourcePosition, t.targetPosition, t.howMany), jg([i], r);
          if (o.containsPosition(e.targetPosition) && o.containsRange(i, !0)) return i.start = i.start._getCombined(t.sourcePosition, t.getMovedRangeStart()), i.end = i.end._getCombined(t.sourcePosition, t.getMovedRangeStart()), jg([i], r);
          var c = Ji(e.sourcePosition.getParentPath(), t.sourcePosition.getParentPath());
          if ("prefix" == c || "extension" == c) return i.start = i.start._getTransformedByMove(t.sourcePosition, t.targetPosition, t.howMany), i.end = i.end._getTransformedByMove(t.sourcePosition, t.targetPosition, t.howMany), jg([i], r);
          "remove" != e.type || "remove" == t.type || n.aWasUndone || n.forceWeakRemove ? "remove" == e.type || "remove" != t.type || n.bWasUndone || n.forceWeakRemove || (s = !1) : s = !0;
          var l = [],
              d = i.getDifference(o);

          var _iterator310 = _createForOfIteratorHelper(d),
              _step310;

          try {
            for (_iterator310.s(); !(_step310 = _iterator310.n()).done;) {
              var _e227 = _step310.value;
              _e227.start = _e227.start._getTransformedByDeletion(t.sourcePosition, t.howMany), _e227.end = _e227.end._getTransformedByDeletion(t.sourcePosition, t.howMany);

              var _n200 = "same" == Ji(_e227.start.getParentPath(), t.getMovedRangeStart().getParentPath()),
                  _i158 = _e227._getTransformedByInsertion(t.getMovedRangeStart(), t.howMany, _n200);

              l.push.apply(l, _toConsumableArray(_i158));
            }
          } catch (err) {
            _iterator310.e(err);
          } finally {
            _iterator310.f();
          }

          var u = i.getIntersection(o);
          return null !== u && s && (u.start = u.start._getCombined(t.sourcePosition, t.getMovedRangeStart()), u.end = u.end._getCombined(t.sourcePosition, t.getMovedRangeStart()), 0 === l.length ? l.push(u) : 1 == l.length ? o.start.isBefore(i.start) || o.start.isEqual(i.start) ? l.unshift(u) : l.push(u) : l.splice(1, 0, u)), 0 === l.length ? [new wd(e.baseVersion)] : jg(l, r);
        }), Rg(Gl, Zl, function (e, t, n) {
          var i = e.targetPosition.clone();
          e.targetPosition.isEqual(t.insertionPosition) && t.graveyardPosition && "moveTargetAfter" != n.abRelation || (i = e.targetPosition._getTransformedBySplitOperation(t));

          var o = yc._createFromPositionAndShift(e.sourcePosition, e.howMany);

          if (o.end.isEqual(t.insertionPosition)) return t.graveyardPosition || e.howMany++, e.targetPosition = i, [e];

          if (o.start.hasSameParentAs(t.splitPosition) && o.containsPosition(t.splitPosition)) {
            var _e228 = new yc(t.splitPosition, o.end);

            return _e228 = _e228._getTransformedBySplitOperation(t), jg([new yc(o.start, t.splitPosition), _e228], i);
          }

          e.targetPosition.isEqual(t.splitPosition) && "insertAtSource" == n.abRelation && (i = t.moveTargetPosition), e.targetPosition.isEqual(t.insertionPosition) && "insertBetween" == n.abRelation && (i = e.targetPosition);
          var r = [o._getTransformedBySplitOperation(t)];

          if (t.graveyardPosition) {
            var _i159 = o.start.isEqual(t.graveyardPosition) || o.containsPosition(t.graveyardPosition);

            e.howMany > 1 && _i159 && !n.aWasUndone && r.push(yc._createFromPositionAndShift(t.insertionPosition, 1));
          }

          return jg(r, i);
        }), Rg(Gl, Xl, function (e, t, n) {
          var i = yc._createFromPositionAndShift(e.sourcePosition, e.howMany);

          if (t.deletionPosition.hasSameParentAs(e.sourcePosition) && i.containsPosition(t.sourcePosition)) if ("remove" != e.type || n.forceWeakRemove) {
            if (1 == e.howMany) return n.bWasUndone ? (e.sourcePosition = t.graveyardPosition.clone(), e.targetPosition = e.targetPosition._getTransformedByMergeOperation(t), [e]) : [new wd(0)];
          } else if (!n.aWasUndone) {
            var _n201 = [];

            var _i160 = t.graveyardPosition.clone(),
                _o78 = t.targetPosition._getTransformedByMergeOperation(t);

            e.howMany > 1 && (_n201.push(new Gl(e.sourcePosition, e.howMany - 1, e.targetPosition, 0)), _i160 = _i160._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany - 1), _o78 = _o78._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany - 1));

            var _r41 = t.deletionPosition._getCombined(e.sourcePosition, e.targetPosition),
                _s25 = new Gl(_i160, 1, _r41, 0),
                _a15 = _s25.getMovedRangeStart().path.slice();

            _a15.push(0);

            var _c7 = new wc(_s25.targetPosition.root, _a15);

            _o78 = _o78._getTransformedByMove(_i160, _r41, 1);

            var _l4 = new Gl(_o78, t.howMany, _c7, 0);

            return _n201.push(_s25), _n201.push(_l4), _n201;
          }

          var o = yc._createFromPositionAndShift(e.sourcePosition, e.howMany)._getTransformedByMergeOperation(t);

          return e.sourcePosition = o.start, e.howMany = o.end.offset - o.start.offset, e.targetPosition = e.targetPosition._getTransformedByMergeOperation(t), [e];
        }), Rg(Ql, Yl, function (e, t) {
          return e.position = e.position._getTransformedByInsertOperation(t), [e];
        }), Rg(Ql, Xl, function (e, t) {
          return e.position.isEqual(t.deletionPosition) ? (e.position = t.graveyardPosition.clone(), e.position.stickiness = "toNext", [e]) : (e.position = e.position._getTransformedByMergeOperation(t), [e]);
        }), Rg(Ql, Gl, function (e, t) {
          return e.position = e.position._getTransformedByMoveOperation(t), [e];
        }), Rg(Ql, Ql, function (e, t, n) {
          if (e.position.isEqual(t.position)) {
            if (!n.aIsStrong) return [new wd(0)];
            e.oldName = t.newName;
          }

          return [e];
        }), Rg(Ql, Zl, function (e, t) {
          if ("same" == Ji(e.position.path, t.splitPosition.getParentPath()) && !t.graveyardPosition) {
            return [e, new Ql(e.position.getShiftedBy(1), e.oldName, e.newName, 0)];
          }

          return e.position = e.position._getTransformedBySplitOperation(t), [e];
        }), Rg(Jl, Jl, function (e, t, n) {
          if (e.root === t.root && e.key === t.key) {
            if (!n.aIsStrong || e.newValue === t.newValue) return [new wd(0)];
            e.oldValue = t.newValue;
          }

          return [e];
        }), Rg(Zl, Yl, function (e, t) {
          return e.splitPosition.hasSameParentAs(t.position) && e.splitPosition.offset < t.position.offset && (e.howMany += t.howMany), e.splitPosition = e.splitPosition._getTransformedByInsertOperation(t), e.insertionPosition = e.insertionPosition._getTransformedByInsertOperation(t), [e];
        }), Rg(Zl, Xl, function (e, t, n) {
          if (!e.graveyardPosition && !n.bWasUndone && e.splitPosition.hasSameParentAs(t.sourcePosition)) {
            var _n202 = t.graveyardPosition.path.slice();

            _n202.push(0);

            var _i161 = new wc(t.graveyardPosition.root, _n202),
                _o79 = Zl.getInsertionPosition(new wc(t.graveyardPosition.root, _n202)),
                _r42 = new Zl(_i161, 0, _o79, null, 0);

            return e.splitPosition = e.splitPosition._getTransformedByMergeOperation(t), e.insertionPosition = Zl.getInsertionPosition(e.splitPosition), e.graveyardPosition = _r42.insertionPosition.clone(), e.graveyardPosition.stickiness = "toNext", [_r42, e];
          }

          return e.splitPosition.hasSameParentAs(t.deletionPosition) && !e.splitPosition.isAfter(t.deletionPosition) && e.howMany--, e.splitPosition.hasSameParentAs(t.targetPosition) && (e.howMany += t.howMany), e.splitPosition = e.splitPosition._getTransformedByMergeOperation(t), e.insertionPosition = Zl.getInsertionPosition(e.splitPosition), e.graveyardPosition && (e.graveyardPosition = e.graveyardPosition._getTransformedByMergeOperation(t)), [e];
        }), Rg(Zl, Gl, function (e, t, n) {
          var i = yc._createFromPositionAndShift(t.sourcePosition, t.howMany);

          if (e.graveyardPosition) {
            var _o80 = i.start.isEqual(e.graveyardPosition) || i.containsPosition(e.graveyardPosition);

            if (!n.bWasUndone && _o80) {
              var _n203 = e.splitPosition._getTransformedByMoveOperation(t),
                  _i162 = e.graveyardPosition._getTransformedByMoveOperation(t),
                  _o81 = _i162.path.slice();

              _o81.push(0);

              var _r43 = new wc(_i162.root, _o81);

              return [new Gl(_n203, e.howMany, _r43, 0)];
            }

            e.graveyardPosition = e.graveyardPosition._getTransformedByMoveOperation(t);
          }

          var o = e.splitPosition.isEqual(t.targetPosition);
          if (o && ("insertAtSource" == n.baRelation || "splitBefore" == n.abRelation)) return e.howMany += t.howMany, e.splitPosition = e.splitPosition._getTransformedByDeletion(t.sourcePosition, t.howMany), e.insertionPosition = Zl.getInsertionPosition(e.splitPosition), [e];

          if (o && n.abRelation && n.abRelation.howMany) {
            var _n$abRelation = n.abRelation,
                _t217 = _n$abRelation.howMany,
                _i163 = _n$abRelation.offset;
            return e.howMany += _t217, e.splitPosition = e.splitPosition.getShiftedBy(_i163), [e];
          }

          if (e.splitPosition.hasSameParentAs(t.sourcePosition) && i.containsPosition(e.splitPosition)) {
            var _n204 = t.howMany - (e.splitPosition.offset - t.sourcePosition.offset);

            return e.howMany -= _n204, e.splitPosition.hasSameParentAs(t.targetPosition) && e.splitPosition.offset < t.targetPosition.offset && (e.howMany += t.howMany), e.splitPosition = t.sourcePosition.clone(), e.insertionPosition = Zl.getInsertionPosition(e.splitPosition), [e];
          }

          return t.sourcePosition.isEqual(t.targetPosition) || (e.splitPosition.hasSameParentAs(t.sourcePosition) && e.splitPosition.offset <= t.sourcePosition.offset && (e.howMany -= t.howMany), e.splitPosition.hasSameParentAs(t.targetPosition) && e.splitPosition.offset < t.targetPosition.offset && (e.howMany += t.howMany)), e.splitPosition.stickiness = "toNone", e.splitPosition = e.splitPosition._getTransformedByMoveOperation(t), e.splitPosition.stickiness = "toNext", e.graveyardPosition ? e.insertionPosition = e.insertionPosition._getTransformedByMoveOperation(t) : e.insertionPosition = Zl.getInsertionPosition(e.splitPosition), [e];
        }), Rg(Zl, Zl, function (e, t, n) {
          if (e.splitPosition.isEqual(t.splitPosition)) {
            if (!e.graveyardPosition && !t.graveyardPosition) return [new wd(0)];
            if (e.graveyardPosition && t.graveyardPosition && e.graveyardPosition.isEqual(t.graveyardPosition)) return [new wd(0)];
            if ("splitBefore" == n.abRelation) return e.howMany = 0, e.graveyardPosition = e.graveyardPosition._getTransformedBySplitOperation(t), [e];
          }

          if (e.graveyardPosition && t.graveyardPosition && e.graveyardPosition.isEqual(t.graveyardPosition)) {
            var _i164 = "$graveyard" == e.splitPosition.root.rootName,
                _o82 = "$graveyard" == t.splitPosition.root.rootName;

            if (_o82 && !_i164 || !(_i164 && !_o82) && n.aIsStrong) {
              var _n205 = [];
              return t.howMany && _n205.push(new Gl(t.moveTargetPosition, t.howMany, t.splitPosition, 0)), e.howMany && _n205.push(new Gl(e.splitPosition, e.howMany, e.moveTargetPosition, 0)), _n205;
            }

            return [new wd(0)];
          }

          if (e.graveyardPosition && (e.graveyardPosition = e.graveyardPosition._getTransformedBySplitOperation(t)), e.splitPosition.isEqual(t.insertionPosition) && "splitBefore" == n.abRelation) return e.howMany++, [e];

          if (t.splitPosition.isEqual(e.insertionPosition) && "splitBefore" == n.baRelation) {
            var _n206 = t.insertionPosition.path.slice();

            _n206.push(0);

            var _i165 = new wc(t.insertionPosition.root, _n206);

            return [e, new Gl(e.insertionPosition, 1, _i165, 0)];
          }

          return e.splitPosition.hasSameParentAs(t.splitPosition) && e.splitPosition.offset < t.splitPosition.offset && (e.howMany -= t.howMany), e.splitPosition = e.splitPosition._getTransformedBySplitOperation(t), e.insertionPosition = Zl.getInsertionPosition(e.splitPosition), [e];
        });

        var Hg = /*#__PURE__*/function (_pa5) {
          _inherits(Hg, _pa5);

          var _super73 = _createSuper(Hg);

          function Hg(e) {
            var _this137;

            _classCallCheck(this, Hg);

            _this137 = _super73.call(this, e), _this137.domEventType = "click";
            return _this137;
          }

          _createClass(Hg, [{
            key: "onDomEvent",
            value: function onDomEvent(e) {
              this.fire(e.type, e);
            }
          }]);

          return Hg;
        }(pa);

        var Ug = /*#__PURE__*/function (_pa6) {
          _inherits(Ug, _pa6);

          var _super74 = _createSuper(Ug);

          function Ug(e) {
            var _this138;

            _classCallCheck(this, Ug);

            _this138 = _super74.call(this, e), _this138.domEventType = ["mousedown", "mouseup", "mouseover", "mouseout"];
            return _this138;
          }

          _createClass(Ug, [{
            key: "onDomEvent",
            value: function onDomEvent(e) {
              this.fire(e.type, e);
            }
          }]);

          return Ug;
        }(pa);

        var Wg = /*#__PURE__*/function () {
          function Wg(e) {
            _classCallCheck(this, Wg);

            this.document = e;
          }

          _createClass(Wg, [{
            key: "createDocumentFragment",
            value: function createDocumentFragment(e) {
              return new Vr(this.document, e);
            }
          }, {
            key: "createElement",
            value: function createElement(e, t, n) {
              return new Qo(this.document, e, t, n);
            }
          }, {
            key: "createText",
            value: function createText(e) {
              return new to(this.document, e);
            }
          }, {
            key: "clone",
            value: function clone(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;
              return e._clone(t);
            }
          }, {
            key: "appendChild",
            value: function appendChild(e, t) {
              return t._appendChild(e);
            }
          }, {
            key: "insertChild",
            value: function insertChild(e, t, n) {
              return n._insertChild(e, t);
            }
          }, {
            key: "removeChildren",
            value: function removeChildren(e, t, n) {
              return n._removeChildren(e, t);
            }
          }, {
            key: "remove",
            value: function remove(e) {
              var t = e.parent;
              return t ? this.removeChildren(t.getChildIndex(e), 1, t) : [];
            }
          }, {
            key: "replace",
            value: function replace(e, t) {
              var n = e.parent;

              if (n) {
                var _i166 = n.getChildIndex(e);

                return this.removeChildren(_i166, 1, n), this.insertChild(_i166, t, n), !0;
              }

              return !1;
            }
          }, {
            key: "unwrapElement",
            value: function unwrapElement(e) {
              var t = e.parent;

              if (t) {
                var _n207 = t.getChildIndex(e);

                this.remove(e), this.insertChild(_n207, e.getChildren(), t);
              }
            }
          }, {
            key: "rename",
            value: function rename(e, t) {
              var n = new Qo(this.document, e, t.getAttributes(), t.getChildren());
              return this.replace(t, n) ? n : null;
            }
          }, {
            key: "setAttribute",
            value: function setAttribute(e, t, n) {
              n._setAttribute(e, t);
            }
          }, {
            key: "removeAttribute",
            value: function removeAttribute(e, t) {
              t._removeAttribute(e);
            }
          }, {
            key: "addClass",
            value: function addClass(e, t) {
              t._addClass(e);
            }
          }, {
            key: "removeClass",
            value: function removeClass(e, t) {
              t._removeClass(e);
            }
          }, {
            key: "setStyle",
            value: function setStyle(e, t, n) {
              bt(e) && void 0 === n && (n = t), n._setStyle(e, t);
            }
          }, {
            key: "removeStyle",
            value: function removeStyle(e, t) {
              t._removeStyle(e);
            }
          }, {
            key: "setCustomProperty",
            value: function setCustomProperty(e, t, n) {
              n._setCustomProperty(e, t);
            }
          }, {
            key: "removeCustomProperty",
            value: function removeCustomProperty(e, t) {
              return t._removeCustomProperty(e);
            }
          }, {
            key: "createPositionAt",
            value: function createPositionAt(e, t) {
              return or._createAt(e, t);
            }
          }, {
            key: "createPositionAfter",
            value: function createPositionAfter(e) {
              return or._createAfter(e);
            }
          }, {
            key: "createPositionBefore",
            value: function createPositionBefore(e) {
              return or._createBefore(e);
            }
          }, {
            key: "createRange",
            value: function createRange(e, t) {
              return new rr(e, t);
            }
          }, {
            key: "createRangeOn",
            value: function createRangeOn(e) {
              return rr._createOn(e);
            }
          }, {
            key: "createRangeIn",
            value: function createRangeIn(e) {
              return rr._createIn(e);
            }
          }, {
            key: "createSelection",
            value: function createSelection(e, t, n) {
              return new cr(e, t, n);
            }
          }]);

          return Wg;
        }();

        new Set(["black", "silver", "gray", "white", "maroon", "red", "purple", "fuchsia", "green", "lime", "olive", "yellow", "navy", "blue", "teal", "aqua", "orange", "aliceblue", "antiquewhite", "aquamarine", "azure", "beige", "bisque", "blanchedalmond", "blueviolet", "brown", "burlywood", "cadetblue", "chartreuse", "chocolate", "coral", "cornflowerblue", "cornsilk", "crimson", "cyan", "darkblue", "darkcyan", "darkgoldenrod", "darkgray", "darkgreen", "darkgrey", "darkkhaki", "darkmagenta", "darkolivegreen", "darkorange", "darkorchid", "darkred", "darksalmon", "darkseagreen", "darkslateblue", "darkslategray", "darkslategrey", "darkturquoise", "darkviolet", "deeppink", "deepskyblue", "dimgray", "dimgrey", "dodgerblue", "firebrick", "floralwhite", "forestgreen", "gainsboro", "ghostwhite", "gold", "goldenrod", "greenyellow", "grey", "honeydew", "hotpink", "indianred", "indigo", "ivory", "khaki", "lavender", "lavenderblush", "lawngreen", "lemonchiffon", "lightblue", "lightcoral", "lightcyan", "lightgoldenrodyellow", "lightgray", "lightgreen", "lightgrey", "lightpink", "lightsalmon", "lightseagreen", "lightskyblue", "lightslategray", "lightslategrey", "lightsteelblue", "lightyellow", "limegreen", "linen", "magenta", "mediumaquamarine", "mediumblue", "mediumorchid", "mediumpurple", "mediumseagreen", "mediumslateblue", "mediumspringgreen", "mediumturquoise", "mediumvioletred", "midnightblue", "mintcream", "mistyrose", "moccasin", "navajowhite", "oldlace", "olivedrab", "orangered", "orchid", "palegoldenrod", "palegreen", "paleturquoise", "palevioletred", "papayawhip", "peachpuff", "peru", "pink", "plum", "powderblue", "rosybrown", "royalblue", "saddlebrown", "salmon", "sandybrown", "seagreen", "seashell", "sienna", "skyblue", "slateblue", "slategray", "slategrey", "snow", "springgreen", "steelblue", "tan", "thistle", "tomato", "turquoise", "violet", "wheat", "whitesmoke", "yellowgreen", "activeborder", "activecaption", "appworkspace", "background", "buttonface", "buttonhighlight", "buttonshadow", "buttontext", "captiontext", "graytext", "highlight", "highlighttext", "inactiveborder", "inactivecaption", "inactivecaptiontext", "infobackground", "infotext", "menu", "menutext", "scrollbar", "threeddarkshadow", "threedface", "threedhighlight", "threedlightshadow", "threedshadow", "window", "windowframe", "windowtext", "rebeccapurple", "currentcolor", "transparent"]);
        var qg = /^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;

        function $g(e) {
          return qg.test(e);
        }

        var Gg = /^[+-]?[0-9]*([.][0-9]+)?%$/;

        var Yg = /*#__PURE__*/function (_Ud) {
          _inherits(Yg, _Ud);

          var _super75 = _createSuper(Yg);

          function Yg(e, t) {
            var _this139;

            _classCallCheck(this, Yg);

            _this139 = _super75.call(this, e), _this139.view = t, _this139._toolbarConfig = Hh(e.config.get("toolbar")), _this139._elementReplacer = new Va();
            return _this139;
          }

          _createClass(Yg, [{
            key: "element",
            get: function get() {
              return this.view.element;
            }
          }, {
            key: "init",
            value: function init(e) {
              var t = this.editor,
                  n = this.view,
                  i = t.editing.view,
                  o = n.editable,
                  r = i.document.getRoot();
              o.name = r.rootName, n.render();
              var s = o.element;
              this.setEditableElement(o.name, s), this.focusTracker.add(s), n.editable.bind("isFocused").to(this.focusTracker), i.attachDomRoot(s), e && this._elementReplacer.replace(e, this.element), this._initPlaceholder(), this._initToolbar(), this.fire("ready");
            }
          }, {
            key: "destroy",
            value: function destroy() {
              var e = this.view,
                  t = this.editor.editing.view;
              this._elementReplacer.restore(), t.detachDomRoot(e.editable.name), e.destroy(), _get(_getPrototypeOf(Yg.prototype), "destroy", this).call(this);
            }
          }, {
            key: "_initToolbar",
            value: function _initToolbar() {
              var e = this.editor,
                  t = this.view,
                  n = e.editing.view;
              t.stickyPanel.bind("isActive").to(this.focusTracker, "isFocused"), t.stickyPanel.limiterElement = t.element, t.stickyPanel.bind("viewportTopOffset").to(this, "viewportOffset", function (_ref38) {
                var e = _ref38.top;
                return e;
              }), t.toolbar.fillFromConfig(this._toolbarConfig, this.componentFactory), function (_ref39) {
                var e = _ref39.origin,
                    t = _ref39.originKeystrokeHandler,
                    n = _ref39.originFocusTracker,
                    i = _ref39.toolbar,
                    o = _ref39.beforeFocus,
                    r = _ref39.afterBlur;
                n.add(i.element), t.set("Alt+F10", function (e, t) {
                  n.isFocused && !i.focusTracker.isFocused && (o && o(), i.focus(), t());
                }), i.keystrokes.set("Esc", function (t, n) {
                  i.focusTracker.isFocused && (e.focus(), r && r(), n());
                });
              }({
                origin: n,
                originFocusTracker: this.focusTracker,
                originKeystrokeHandler: e.keystrokes,
                toolbar: t.toolbar
              });
            }
          }, {
            key: "_initPlaceholder",
            value: function _initPlaceholder() {
              var e = this.editor,
                  t = e.editing.view,
                  n = t.document.getRoot(),
                  i = e.sourceElement,
                  o = e.config.get("placeholder") || i && "textarea" === i.tagName.toLowerCase() && i.getAttribute("placeholder");
              o && Ag({
                view: t,
                element: n,
                text: o,
                isDirectHost: !1,
                keepOnFocus: !0
              });
            }
          }]);

          return Yg;
        }(Ud);

        n(128);

        var Kg = /*#__PURE__*/function (_tg) {
          _inherits(Kg, _tg);

          var _super76 = _createSuper(Kg);

          function Kg(e, t) {
            var _this140;

            var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

            _classCallCheck(this, Kg);

            _this140 = _super76.call(this, e), _this140.stickyPanel = new Cg(e), _this140.toolbar = new Uh(e, {
              shouldGroupWhenFull: n.shouldToolbarGroupWhenFull
            }), _this140.editable = new ig(e, t);
            return _this140;
          }

          _createClass(Kg, [{
            key: "render",
            value: function render() {
              _get(_getPrototypeOf(Kg.prototype), "render", this).call(this), this.stickyPanel.content.add(this.toolbar), this.top.add(this.stickyPanel), this.main.add(this.editable);
            }
          }]);

          return Kg;
        }(tg);

        var Qg = /*#__PURE__*/function (_Fd) {
          _inherits(Qg, _Fd);

          var _super77 = _createSuper(Qg);

          function Qg(e, t) {
            var _this141;

            _classCallCheck(this, Qg);

            _this141 = _super77.call(this, t), zi(e) && (_this141.sourceElement = e), _this141.model.document.createRoot();
            var n = !_this141.config.get("toolbar.shouldNotGroupWhenFull"),
                i = new Kg(_this141.locale, _this141.editing.view, {
              shouldToolbarGroupWhenFull: n
            });
            _this141.ui = new Yg(_assertThisInitialized(_this141), i), function (e) {
              if (!L(e.updateSourceElement)) throw new c.a("attachtoform-missing-elementapi-interface", e);
              var t = e.sourceElement;

              if (t && "textarea" === t.tagName.toLowerCase() && t.form) {
                var _n208;

                var _i167 = t.form,
                    _o83 = function _o83() {
                  return e.updateSourceElement();
                };

                L(_i167.submit) && (_n208 = _i167.submit, _i167.submit = function () {
                  _o83(), _n208.apply(_i167);
                }), _i167.addEventListener("submit", _o83), e.on("destroy", function () {
                  _i167.removeEventListener("submit", _o83), _n208 && (_i167.submit = _n208);
                });
              }
            }(_assertThisInitialized(_this141));
            return _this141;
          }

          _createClass(Qg, [{
            key: "destroy",
            value: function destroy() {
              return this.sourceElement && this.updateSourceElement(), this.ui.destroy(), _get(_getPrototypeOf(Qg.prototype), "destroy", this).call(this);
            }
          }], [{
            key: "create",
            value: function create(e) {
              var _this142 = this;

              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
              return new Promise(function (n) {
                var i = new _this142(e, t);
                n(i.initPlugins().then(function () {
                  return i.ui.init(zi(e) ? e : null);
                }).then(function () {
                  if (!zi(e) && t.initialData) throw new c.a("editor-create-initial-data", null);
                  var n = void 0 !== t.initialData ? t.initialData : function (e) {
                    return zi(e) ? function (e) {
                      return e instanceof HTMLTextAreaElement ? e.value : e.innerHTML;
                    }(e) : e;
                  }(e);
                  return i.data.init(n);
                }).then(function () {
                  return i.fire("ready");
                }).then(function () {
                  return i;
                }));
              });
            }
          }]);

          return Qg;
        }(Fd);

        rt(Qg, Wd), rt(Qg, qd);
        var Jg = ["noPermissions", "config", "pluginName", "comment:admin", "get", "comment:write", "context", "isReadOnly", "permissions-set-permissions-invalid-channel-id", "has", "CommentsOnly", "commands", "plugins", "includes", "setPermissions", "document:write", "editors", "clearForceDisabled", "CommentsRepository", "find", "Permissions", "collaboration.channelId"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(Jg, 472);

        var Xg = function Xg(e, t) {
          return Jg[e -= 0];
        };

        var Zg = /*#__PURE__*/function (_Qi3, _Xg, _Xg2) {
          _inherits(Zg, _Qi3);

          var _super78 = _createSuper(Zg);

          function Zg() {
            _classCallCheck(this, Zg);

            return _super78.apply(this, arguments);
          }

          _createClass(Zg, [{
            key: _Xg2,
            value: function value(e, t) {
              var n;
              if (t || (t = this[Xg("0x12")][Xg("0xd")][Xg("0x10")](Xg("0xb"))), this[Xg("0x12")][Xg("0xd")].get(Xg("0xb")) == t ? n = this[Xg("0x12")] : this[Xg("0x12")][Xg("0x6")] && (n = this[Xg("0x12")][Xg("0x6")][Xg("0x9")](function (e) {
                return e.config[Xg("0x10")](Xg("0xb")) == t;
              })), !n) throw new c.a(Xg("0x14"), null);
              var i = n[Xg("0x2")],
                  o = n instanceof Fd,
                  r = i[Xg("0x15")](Xg("0x8")) && i[Xg("0x10")](Xg("0x8")),
                  s = i.has(Xg("0x0")) && i[Xg("0x10")](Xg("0x0")),
                  a = e[Xg("0x3")](Xg("0x5")),
                  l = e[Xg("0x3")](Xg("0xf")),
                  d = e[Xg("0x3")](Xg("0x11")) || l;

              if (s && (s.isEnabled = !a && d), o && (n[Xg("0x13")] = !(a || d && r)), r) {
                r.switchReadOnly(!d, t), r.setAdminPermissions(l, t);

                var _e229 = o && n[Xg("0x1")][Xg("0x10")]("addCommentThread");

                _e229 && (d ? _e229[Xg("0x7")](Xg("0xc")) : _e229.forceDisabled("noPermissions"));
              }
            }
          }], [{
            key: _Xg,
            get: function get() {
              return Xg("0xa");
            }
          }]);

          return Zg;
        }(Qi, Xg("0xe"), Xg("0x4"));

        n(130);

        var em = /*#__PURE__*/function (_Qi4) {
          _inherits(em, _Qi4);

          var _super79 = _createSuper(em);

          function em(e) {
            var _this143;

            _classCallCheck(this, em);

            _this143 = _super79.call(this, e), e.config.define("users.anonymousUserId", "anonymous-user"), e.config.define("users.colorsCount", 8), _this143.users = new Hi(), _this143._locale = e.locale, _this143._licenseKeyCheckInterval = null, _this143._lastColor = 0, _this143._myId = null, _this143.decorate("getOperationAuthor");
            return _this143;
          }

          _createClass(em, [{
            key: "init",
            value: function init() {
              var _this144 = this;

              var e = this.context;
              this.licenseKey = e.config.get("licenseKey"), this._licenseKeyCheckInterval = setInterval(function () {
                var t;

                for (var _n209 in e) {
                  var _i168 = e[_n209];

                  if ("licenseKeyTrial" === _i168 || "licenseKeyInvalid" === _i168 || "licenseKeyValid" === _i168 || "licenseKeyTrialLimit" == _i168) {
                    delete e[_n209], t = _i168;
                    break;
                  }
                }

                if ("licenseKeyInvalid" === t) throw clearInterval(_this144._licenseKeyCheckInterval), new c.a("invalid-license-key", null);
                if ("licenseKeyTrial" === t && console.info("You are using the trial version of CKEditor 5 collaboration plugin with limited usage. Make sure you will not use it in the production environment."), "licenseKeyTrialLimit" === t) throw clearInterval(_this144._licenseKeyCheckInterval), new c.a("trial-license-key-reached-limit", null);
                "licenseKeyValid" === t && clearInterval(_this144._licenseKeyCheckInterval);
              }, 1e3);
            }
          }, {
            key: "me",
            get: function get() {
              return null == this._myId ? null : this.getUser(this._myId);
            }
          }, {
            key: "addUser",
            value: function addUser(e) {
              if (!(e = Object.assign({}, e, {
                color: this._getNextColor()
              })).id || "string" != typeof e.id) throw new c.a("users-add-invalid-id");
              if (this.users.has(e.id)) throw new c.a("users-add-duplicated-id", null, {
                id: e.id
              });

              e.name = function (e) {
                var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
                var n = e.t;
                return "" == (t = t.trim()) ? n("Anonymous") : t;
              }(this._locale, e.name);

              var t = new tm(e);
              return this.users.add(t), t;
            }
          }, {
            key: "getUser",
            value: function getUser(e) {
              return this.users.get(e);
            }
          }, {
            key: "useAnonymousUser",
            value: function useAnonymousUser() {
              var e = this.context.config.get("users.anonymousUserId"),
                  t = this._locale.t;
              this.users.has(e) || (this.addUser({
                id: e,
                name: t("Anonymous")
              })._isAnonymous = !0, this.defineMe(e));
            }
          }, {
            key: "defineMe",
            value: function defineMe(e) {
              if (this._myId) throw new c.a("users-me-already-defined", null);
              if (!this.getUser(e)) throw new c.a("users-me-missing-user", null);
              this._myId = e;
            }
          }, {
            key: "getOperationAuthor",
            value: function getOperationAuthor() {
              return this.me;
            }
          }, {
            key: "destroy",
            value: function destroy() {
              _get(_getPrototypeOf(em.prototype), "destroy", this).call(this), clearInterval(this._licenseKeyCheckInterval);
            }
          }, {
            key: "_getNextColor",
            value: function _getNextColor() {
              var e = this.context.config.get("users.colorsCount");
              return this._lastColor >= e && (this._lastColor = 0), new nm(this._lastColor++);
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "Users";
            }
          }, {
            key: "requires",
            get: function get() {
              return [Zg];
            }
          }]);

          return em;
        }(Qi);

        var tm = /*#__PURE__*/function () {
          function tm(e) {
            _classCallCheck(this, tm);

            this.id = e.id, this.color = e.color, this.name = e.name, this.avatar = e.avatar, this._isAnonymous = !1;
          }

          _createClass(tm, [{
            key: "isAnonymous",
            get: function get() {
              return this._isAnonymous;
            }
          }, {
            key: "initials",
            get: function get() {
              var e = this.name.split(" ");
              return 1 === e.length ? this._getInitial(e[0]) : this._getInitial(e[0]) + this._getInitial(e[e.length - 1]);
            }
          }, {
            key: "_getInitial",
            value: function _getInitial(e) {
              return e.charAt(0).toUpperCase();
            }
          }]);

          return tm;
        }();

        var nm = /*#__PURE__*/function () {
          function nm(e) {
            _classCallCheck(this, nm);

            this._id = e;
          }

          _createClass(nm, [{
            key: "getBackgroundColorClass",
            value: function getBackgroundColorClass() {
              return "ck-user__bg-color--" + this._id;
            }
          }, {
            key: "getSelectionClass",
            value: function getSelectionClass() {
              return "ck-user__selection--" + this._id;
            }
          }, {
            key: "getMarkerClass",
            value: function getMarkerClass() {
              return "ck-user__marker--" + this._id;
            }
          }]);

          return nm;
        }();

        var im = ["removeComment", "update", "listenTo", "destroy", "addComment", "remove", "getComment", "model", "_isAttached", "updateComment", "removeCommentThread", "view", "_localUser"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(im, 284);

        var om = function om(e, t) {
          return im[e -= 0];
        };

        var rm = /*#__PURE__*/function (_om, _om2, _om3, _om4, _om5) {
          function rm(e, t) {
            var _this145 = this;

            _classCallCheck(this, rm);

            this.model = e, this[om("0x9")][om("0xa")] = !0, this[om("0x0")] = t, this[om("0x4")](t, om("0xc"), function () {
              return _this145[om("0x7")]();
            }), this.listenTo(t, om("0x6"), function (e, t) {
              return _this145.addComment(t);
            }), this[om("0x4")](t, om("0xb"), function (e, t, n) {
              return _this145[om("0xb")](t, n);
            }), this[om("0x4")](t, om("0x2"), function (e, t) {
              return _this145[om("0x2")](t);
            });
          }

          _createClass(rm, [{
            key: _om,
            value: function value() {
              this[om("0x9")][om("0x7")]();
            }
          }, {
            key: _om2,
            value: function value(e) {
              this.model[om("0x6")]({
                content: e,
                authorId: this[om("0x0")][om("0x1")].id
              });
            }
          }, {
            key: _om3,
            value: function value(e, t) {
              this[om("0x9")][om("0x8")](e)[om("0x3")]({
                content: t
              });
            }
          }, {
            key: _om4,
            value: function value(e) {
              this[om("0x9")].getComment(e)[om("0x7")]();
            }
          }, {
            key: _om5,
            value: function value() {
              this.stopListening(), this[om("0x9")][om("0xa")] = !1;
            }
          }]);

          return rm;
        }(om("0x7"), om("0x6"), om("0xb"), om("0x2"), om("0x5"));

        function sm(e, t) {
          if (t.length < e) throw new TypeError(e + " argument" + (e > 1 ? "s" : "") + " required, but only " + t.length + " present");
        }

        function am(e) {
          sm(1, arguments);
          var t = Object.prototype.toString.call(e);
          return e instanceof Date || "object" == typeof e && "[object Date]" === t ? new Date(e.getTime()) : "number" == typeof e || "[object Number]" === t ? new Date(e) : ("string" != typeof e && "[object String]" !== t || "undefined" == typeof console || (console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"), console.warn(new Error().stack)), new Date(NaN));
        }

        function cm(e) {
          if (sm(1, arguments), !function (e) {
            return sm(1, arguments), e instanceof Date || "object" == typeof e && "[object Date]" === Object.prototype.toString.call(e);
          }(e) && "number" != typeof e) return !1;
          var t = am(e);
          return !isNaN(Number(t));
        }

        rt(rm, Ze);
        var lm = {
          lessThanXSeconds: {
            one: "less than a second",
            other: "less than {{count}} seconds"
          },
          xSeconds: {
            one: "1 second",
            other: "{{count}} seconds"
          },
          halfAMinute: "half a minute",
          lessThanXMinutes: {
            one: "less than a minute",
            other: "less than {{count}} minutes"
          },
          xMinutes: {
            one: "1 minute",
            other: "{{count}} minutes"
          },
          aboutXHours: {
            one: "about 1 hour",
            other: "about {{count}} hours"
          },
          xHours: {
            one: "1 hour",
            other: "{{count}} hours"
          },
          xDays: {
            one: "1 day",
            other: "{{count}} days"
          },
          aboutXWeeks: {
            one: "about 1 week",
            other: "about {{count}} weeks"
          },
          xWeeks: {
            one: "1 week",
            other: "{{count}} weeks"
          },
          aboutXMonths: {
            one: "about 1 month",
            other: "about {{count}} months"
          },
          xMonths: {
            one: "1 month",
            other: "{{count}} months"
          },
          aboutXYears: {
            one: "about 1 year",
            other: "about {{count}} years"
          },
          xYears: {
            one: "1 year",
            other: "{{count}} years"
          },
          overXYears: {
            one: "over 1 year",
            other: "over {{count}} years"
          },
          almostXYears: {
            one: "almost 1 year",
            other: "almost {{count}} years"
          }
        };

        function dm(e) {
          return function () {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                n = t.width ? String(t.width) : e.defaultWidth;
            return e.formats[n] || e.formats[e.defaultWidth];
          };
        }

        var um = {
          lastWeek: "'last' eeee 'at' p",
          yesterday: "'yesterday at' p",
          today: "'today at' p",
          tomorrow: "'tomorrow at' p",
          nextWeek: "eeee 'at' p",
          other: "P"
        };

        function hm(e) {
          return function (t, n) {
            var i,
                o = n || {};

            if ("formatting" === (o.context ? String(o.context) : "standalone") && e.formattingValues) {
              var r = e.defaultFormattingWidth || e.defaultWidth,
                  s = o.width ? String(o.width) : r;
              i = e.formattingValues[s] || e.formattingValues[r];
            } else {
              var a = e.defaultWidth,
                  c = o.width ? String(o.width) : e.defaultWidth;
              i = e.values[c] || e.values[a];
            }

            return i[e.argumentCallback ? e.argumentCallback(t) : t];
          };
        }

        function gm(e) {
          return function (t) {
            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                i = n.width,
                o = i && e.matchPatterns[i] || e.matchPatterns[e.defaultMatchWidth],
                r = t.match(o);
            if (!r) return null;
            var s,
                a = r[0],
                c = i && e.parsePatterns[i] || e.parsePatterns[e.defaultParseWidth],
                l = Array.isArray(c) ? function (e, t) {
              for (var n = 0; n < e.length; n++) {
                if (t(e[n])) return n;
              }

              return;
            }(c, function (e) {
              return e.test(a);
            }) : function (e, t) {
              for (var n in e) {
                if (e.hasOwnProperty(n) && t(e[n])) return n;
              }

              return;
            }(c, function (e) {
              return e.test(a);
            });
            return s = e.valueCallback ? e.valueCallback(l) : l, {
              value: s = n.valueCallback ? n.valueCallback(s) : s,
              rest: t.slice(a.length)
            };
          };
        }

        var mm = {
          code: "en-US",
          formatDistance: function formatDistance(e, t, n) {
            var i,
                o = lm[e];
            return i = "string" == typeof o ? o : 1 === t ? o.one : o.other.replace("{{count}}", t.toString()), null !== n && void 0 !== n && n.addSuffix ? n.comparison && n.comparison > 0 ? "in " + i : i + " ago" : i;
          },
          formatLong: {
            date: dm({
              formats: {
                full: "EEEE, MMMM do, y",
                "long": "MMMM do, y",
                medium: "MMM d, y",
                "short": "MM/dd/yyyy"
              },
              defaultWidth: "full"
            }),
            time: dm({
              formats: {
                full: "h:mm:ss a zzzz",
                "long": "h:mm:ss a z",
                medium: "h:mm:ss a",
                "short": "h:mm a"
              },
              defaultWidth: "full"
            }),
            dateTime: dm({
              formats: {
                full: "{{date}} 'at' {{time}}",
                "long": "{{date}} 'at' {{time}}",
                medium: "{{date}}, {{time}}",
                "short": "{{date}}, {{time}}"
              },
              defaultWidth: "full"
            })
          },
          formatRelative: function formatRelative(e, t, n, i) {
            return um[e];
          },
          localize: {
            ordinalNumber: function ordinalNumber(e, t) {
              var n = Number(e),
                  i = n % 100;
              if (i > 20 || i < 10) switch (i % 10) {
                case 1:
                  return n + "st";

                case 2:
                  return n + "nd";

                case 3:
                  return n + "rd";
              }
              return n + "th";
            },
            era: hm({
              values: {
                narrow: ["B", "A"],
                abbreviated: ["BC", "AD"],
                wide: ["Before Christ", "Anno Domini"]
              },
              defaultWidth: "wide"
            }),
            quarter: hm({
              values: {
                narrow: ["1", "2", "3", "4"],
                abbreviated: ["Q1", "Q2", "Q3", "Q4"],
                wide: ["1st quarter", "2nd quarter", "3rd quarter", "4th quarter"]
              },
              defaultWidth: "wide",
              argumentCallback: function argumentCallback(e) {
                return e - 1;
              }
            }),
            month: hm({
              values: {
                narrow: ["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"],
                abbreviated: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                wide: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]
              },
              defaultWidth: "wide"
            }),
            day: hm({
              values: {
                narrow: ["S", "M", "T", "W", "T", "F", "S"],
                "short": ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                abbreviated: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                wide: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]
              },
              defaultWidth: "wide"
            }),
            dayPeriod: hm({
              values: {
                narrow: {
                  am: "a",
                  pm: "p",
                  midnight: "mi",
                  noon: "n",
                  morning: "morning",
                  afternoon: "afternoon",
                  evening: "evening",
                  night: "night"
                },
                abbreviated: {
                  am: "AM",
                  pm: "PM",
                  midnight: "midnight",
                  noon: "noon",
                  morning: "morning",
                  afternoon: "afternoon",
                  evening: "evening",
                  night: "night"
                },
                wide: {
                  am: "a.m.",
                  pm: "p.m.",
                  midnight: "midnight",
                  noon: "noon",
                  morning: "morning",
                  afternoon: "afternoon",
                  evening: "evening",
                  night: "night"
                }
              },
              defaultWidth: "wide",
              formattingValues: {
                narrow: {
                  am: "a",
                  pm: "p",
                  midnight: "mi",
                  noon: "n",
                  morning: "in the morning",
                  afternoon: "in the afternoon",
                  evening: "in the evening",
                  night: "at night"
                },
                abbreviated: {
                  am: "AM",
                  pm: "PM",
                  midnight: "midnight",
                  noon: "noon",
                  morning: "in the morning",
                  afternoon: "in the afternoon",
                  evening: "in the evening",
                  night: "at night"
                },
                wide: {
                  am: "a.m.",
                  pm: "p.m.",
                  midnight: "midnight",
                  noon: "noon",
                  morning: "in the morning",
                  afternoon: "in the afternoon",
                  evening: "in the evening",
                  night: "at night"
                }
              },
              defaultFormattingWidth: "wide"
            })
          },
          match: {
            ordinalNumber: function (e) {
              return function (t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                    i = t.match(e.matchPattern);
                if (!i) return null;
                var o = i[0],
                    r = t.match(e.parsePattern);
                if (!r) return null;
                var s = e.valueCallback ? e.valueCallback(r[0]) : r[0];
                return {
                  value: s = n.valueCallback ? n.valueCallback(s) : s,
                  rest: t.slice(o.length)
                };
              };
            }({
              matchPattern: /^(\d+)(th|st|nd|rd)?/i,
              parsePattern: /\d+/i,
              valueCallback: function valueCallback(e) {
                return parseInt(e, 10);
              }
            }),
            era: gm({
              matchPatterns: {
                narrow: /^(b|a)/i,
                abbreviated: /^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,
                wide: /^(before christ|before common era|anno domini|common era)/i
              },
              defaultMatchWidth: "wide",
              parsePatterns: {
                any: [/^b/i, /^(a|c)/i]
              },
              defaultParseWidth: "any"
            }),
            quarter: gm({
              matchPatterns: {
                narrow: /^[1234]/i,
                abbreviated: /^q[1234]/i,
                wide: /^[1234](th|st|nd|rd)? quarter/i
              },
              defaultMatchWidth: "wide",
              parsePatterns: {
                any: [/1/i, /2/i, /3/i, /4/i]
              },
              defaultParseWidth: "any",
              valueCallback: function valueCallback(e) {
                return e + 1;
              }
            }),
            month: gm({
              matchPatterns: {
                narrow: /^[jfmasond]/i,
                abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,
                wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i
              },
              defaultMatchWidth: "wide",
              parsePatterns: {
                narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],
                any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]
              },
              defaultParseWidth: "any"
            }),
            day: gm({
              matchPatterns: {
                narrow: /^[smtwf]/i,
                "short": /^(su|mo|tu|we|th|fr|sa)/i,
                abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,
                wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i
              },
              defaultMatchWidth: "wide",
              parsePatterns: {
                narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],
                any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]
              },
              defaultParseWidth: "any"
            }),
            dayPeriod: gm({
              matchPatterns: {
                narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,
                any: /^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i
              },
              defaultMatchWidth: "any",
              parsePatterns: {
                any: {
                  am: /^a/i,
                  pm: /^p/i,
                  midnight: /^mi/i,
                  noon: /^no/i,
                  morning: /morning/i,
                  afternoon: /afternoon/i,
                  evening: /evening/i,
                  night: /night/i
                }
              },
              defaultParseWidth: "any"
            })
          },
          options: {
            weekStartsOn: 0,
            firstWeekContainsDate: 1
          }
        };

        function fm(e) {
          if (null === e || !0 === e || !1 === e) return NaN;
          var t = Number(e);
          return isNaN(t) ? t : t < 0 ? Math.ceil(t) : Math.floor(t);
        }

        function pm(e, t) {
          return sm(2, arguments), function (e, t) {
            sm(2, arguments);
            var n = am(e).getTime(),
                i = fm(t);
            return new Date(n + i);
          }(e, -fm(t));
        }

        function km(e, t) {
          for (var n = e < 0 ? "-" : "", i = Math.abs(e).toString(); i.length < t;) {
            i = "0" + i;
          }

          return n + i;
        }

        var bm = {
          y: function y(e, t) {
            var n = e.getUTCFullYear(),
                i = n > 0 ? n : 1 - n;
            return km("yy" === t ? i % 100 : i, t.length);
          },
          M: function M(e, t) {
            var n = e.getUTCMonth();
            return "M" === t ? String(n + 1) : km(n + 1, 2);
          },
          d: function d(e, t) {
            return km(e.getUTCDate(), t.length);
          },
          a: function a(e, t) {
            var n = e.getUTCHours() / 12 >= 1 ? "pm" : "am";

            switch (t) {
              case "a":
              case "aa":
                return n.toUpperCase();

              case "aaa":
                return n;

              case "aaaaa":
                return n[0];

              case "aaaa":
              default:
                return "am" === n ? "a.m." : "p.m.";
            }
          },
          h: function h(e, t) {
            return km(e.getUTCHours() % 12 || 12, t.length);
          },
          H: function H(e, t) {
            return km(e.getUTCHours(), t.length);
          },
          m: function m(e, t) {
            return km(e.getUTCMinutes(), t.length);
          },
          s: function s(e, t) {
            return km(e.getUTCSeconds(), t.length);
          },
          S: function S(e, t) {
            var n = t.length,
                i = e.getUTCMilliseconds();
            return km(Math.floor(i * Math.pow(10, n - 3)), t.length);
          }
        },
            wm = 864e5;

        function _m(e) {
          sm(1, arguments);
          var t = am(e),
              n = t.getUTCDay(),
              i = (n < 1 ? 7 : 0) + n - 1;
          return t.setUTCDate(t.getUTCDate() - i), t.setUTCHours(0, 0, 0, 0), t;
        }

        function vm(e) {
          sm(1, arguments);
          var t = am(e),
              n = t.getUTCFullYear(),
              i = new Date(0);
          i.setUTCFullYear(n + 1, 0, 4), i.setUTCHours(0, 0, 0, 0);

          var o = _m(i),
              r = new Date(0);

          r.setUTCFullYear(n, 0, 4), r.setUTCHours(0, 0, 0, 0);

          var s = _m(r);

          return t.getTime() >= o.getTime() ? n + 1 : t.getTime() >= s.getTime() ? n : n - 1;
        }

        var xm = 6048e5;

        function ym(e) {
          sm(1, arguments);

          var t = am(e),
              n = _m(t).getTime() - function (e) {
            sm(1, arguments);
            var t = vm(e),
                n = new Date(0);
            return n.setUTCFullYear(t, 0, 4), n.setUTCHours(0, 0, 0, 0), _m(n);
          }(t).getTime();

          return Math.round(n / xm) + 1;
        }

        function Cm(e, t) {
          sm(1, arguments);
          var n = t || {},
              i = n.locale,
              o = i && i.options && i.options.weekStartsOn,
              r = null == o ? 0 : fm(o),
              s = null == n.weekStartsOn ? r : fm(n.weekStartsOn);
          if (!(s >= 0 && s <= 6)) throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");
          var a = am(e),
              c = a.getUTCDay(),
              l = (c < s ? 7 : 0) + c - s;
          return a.setUTCDate(a.getUTCDate() - l), a.setUTCHours(0, 0, 0, 0), a;
        }

        function Tm(e, t) {
          sm(1, arguments);
          var n = am(e, t),
              i = n.getUTCFullYear(),
              o = t || {},
              r = o.locale,
              s = r && r.options && r.options.firstWeekContainsDate,
              a = null == s ? 1 : fm(s),
              c = null == o.firstWeekContainsDate ? a : fm(o.firstWeekContainsDate);
          if (!(c >= 1 && c <= 7)) throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");
          var l = new Date(0);
          l.setUTCFullYear(i + 1, 0, c), l.setUTCHours(0, 0, 0, 0);
          var d = Cm(l, t),
              u = new Date(0);
          u.setUTCFullYear(i, 0, c), u.setUTCHours(0, 0, 0, 0);
          var h = Cm(u, t);
          return n.getTime() >= d.getTime() ? i + 1 : n.getTime() >= h.getTime() ? i : i - 1;
        }

        var Am = 6048e5;

        function Em(e, t) {
          sm(1, arguments);

          var n = am(e),
              i = Cm(n, t).getTime() - function (e, t) {
            sm(1, arguments);
            var n = t || {},
                i = n.locale,
                o = i && i.options && i.options.firstWeekContainsDate,
                r = null == o ? 1 : fm(o),
                s = null == n.firstWeekContainsDate ? r : fm(n.firstWeekContainsDate),
                a = Tm(e, t),
                c = new Date(0);
            return c.setUTCFullYear(a, 0, s), c.setUTCHours(0, 0, 0, 0), Cm(c, t);
          }(n, t).getTime();

          return Math.round(i / Am) + 1;
        }

        var Im = "midnight",
            Sm = "noon",
            Mm = "morning",
            Pm = "afternoon",
            Rm = "evening",
            Nm = "night";

        function Om(e, t) {
          var n = e > 0 ? "-" : "+",
              i = Math.abs(e),
              o = Math.floor(i / 60),
              r = i % 60;
          if (0 === r) return n + String(o);
          var s = t || "";
          return n + String(o) + s + km(r, 2);
        }

        function Dm(e, t) {
          return e % 60 == 0 ? (e > 0 ? "-" : "+") + km(Math.abs(e) / 60, 2) : Lm(e, t);
        }

        function Lm(e, t) {
          var n = t || "",
              i = e > 0 ? "-" : "+",
              o = Math.abs(e);
          return i + km(Math.floor(o / 60), 2) + n + km(o % 60, 2);
        }

        var zm = {
          G: function G(e, t, n) {
            var i = e.getUTCFullYear() > 0 ? 1 : 0;

            switch (t) {
              case "G":
              case "GG":
              case "GGG":
                return n.era(i, {
                  width: "abbreviated"
                });

              case "GGGGG":
                return n.era(i, {
                  width: "narrow"
                });

              case "GGGG":
              default:
                return n.era(i, {
                  width: "wide"
                });
            }
          },
          y: function y(e, t, n) {
            if ("yo" === t) {
              var i = e.getUTCFullYear(),
                  o = i > 0 ? i : 1 - i;
              return n.ordinalNumber(o, {
                unit: "year"
              });
            }

            return bm.y(e, t);
          },
          Y: function Y(e, t, n, i) {
            var o = Tm(e, i),
                r = o > 0 ? o : 1 - o;
            return "YY" === t ? km(r % 100, 2) : "Yo" === t ? n.ordinalNumber(r, {
              unit: "year"
            }) : km(r, t.length);
          },
          R: function R(e, t) {
            return km(vm(e), t.length);
          },
          u: function u(e, t) {
            return km(e.getUTCFullYear(), t.length);
          },
          Q: function Q(e, t, n) {
            var i = Math.ceil((e.getUTCMonth() + 1) / 3);

            switch (t) {
              case "Q":
                return String(i);

              case "QQ":
                return km(i, 2);

              case "Qo":
                return n.ordinalNumber(i, {
                  unit: "quarter"
                });

              case "QQQ":
                return n.quarter(i, {
                  width: "abbreviated",
                  context: "formatting"
                });

              case "QQQQQ":
                return n.quarter(i, {
                  width: "narrow",
                  context: "formatting"
                });

              case "QQQQ":
              default:
                return n.quarter(i, {
                  width: "wide",
                  context: "formatting"
                });
            }
          },
          q: function q(e, t, n) {
            var i = Math.ceil((e.getUTCMonth() + 1) / 3);

            switch (t) {
              case "q":
                return String(i);

              case "qq":
                return km(i, 2);

              case "qo":
                return n.ordinalNumber(i, {
                  unit: "quarter"
                });

              case "qqq":
                return n.quarter(i, {
                  width: "abbreviated",
                  context: "standalone"
                });

              case "qqqqq":
                return n.quarter(i, {
                  width: "narrow",
                  context: "standalone"
                });

              case "qqqq":
              default:
                return n.quarter(i, {
                  width: "wide",
                  context: "standalone"
                });
            }
          },
          M: function M(e, t, n) {
            var i = e.getUTCMonth();

            switch (t) {
              case "M":
              case "MM":
                return bm.M(e, t);

              case "Mo":
                return n.ordinalNumber(i + 1, {
                  unit: "month"
                });

              case "MMM":
                return n.month(i, {
                  width: "abbreviated",
                  context: "formatting"
                });

              case "MMMMM":
                return n.month(i, {
                  width: "narrow",
                  context: "formatting"
                });

              case "MMMM":
              default:
                return n.month(i, {
                  width: "wide",
                  context: "formatting"
                });
            }
          },
          L: function L(e, t, n) {
            var i = e.getUTCMonth();

            switch (t) {
              case "L":
                return String(i + 1);

              case "LL":
                return km(i + 1, 2);

              case "Lo":
                return n.ordinalNumber(i + 1, {
                  unit: "month"
                });

              case "LLL":
                return n.month(i, {
                  width: "abbreviated",
                  context: "standalone"
                });

              case "LLLLL":
                return n.month(i, {
                  width: "narrow",
                  context: "standalone"
                });

              case "LLLL":
              default:
                return n.month(i, {
                  width: "wide",
                  context: "standalone"
                });
            }
          },
          w: function w(e, t, n, i) {
            var o = Em(e, i);
            return "wo" === t ? n.ordinalNumber(o, {
              unit: "week"
            }) : km(o, t.length);
          },
          I: function I(e, t, n) {
            var i = ym(e);
            return "Io" === t ? n.ordinalNumber(i, {
              unit: "week"
            }) : km(i, t.length);
          },
          d: function d(e, t, n) {
            return "do" === t ? n.ordinalNumber(e.getUTCDate(), {
              unit: "date"
            }) : bm.d(e, t);
          },
          D: function D(e, t, n) {
            var i = function (e) {
              sm(1, arguments);
              var t = am(e),
                  n = t.getTime();
              t.setUTCMonth(0, 1), t.setUTCHours(0, 0, 0, 0);
              var i = n - t.getTime();
              return Math.floor(i / wm) + 1;
            }(e);

            return "Do" === t ? n.ordinalNumber(i, {
              unit: "dayOfYear"
            }) : km(i, t.length);
          },
          E: function E(e, t, n) {
            var i = e.getUTCDay();

            switch (t) {
              case "E":
              case "EE":
              case "EEE":
                return n.day(i, {
                  width: "abbreviated",
                  context: "formatting"
                });

              case "EEEEE":
                return n.day(i, {
                  width: "narrow",
                  context: "formatting"
                });

              case "EEEEEE":
                return n.day(i, {
                  width: "short",
                  context: "formatting"
                });

              case "EEEE":
              default:
                return n.day(i, {
                  width: "wide",
                  context: "formatting"
                });
            }
          },
          e: function e(_e230, t, n, i) {
            var o = _e230.getUTCDay(),
                r = (o - i.weekStartsOn + 8) % 7 || 7;

            switch (t) {
              case "e":
                return String(r);

              case "ee":
                return km(r, 2);

              case "eo":
                return n.ordinalNumber(r, {
                  unit: "day"
                });

              case "eee":
                return n.day(o, {
                  width: "abbreviated",
                  context: "formatting"
                });

              case "eeeee":
                return n.day(o, {
                  width: "narrow",
                  context: "formatting"
                });

              case "eeeeee":
                return n.day(o, {
                  width: "short",
                  context: "formatting"
                });

              case "eeee":
              default:
                return n.day(o, {
                  width: "wide",
                  context: "formatting"
                });
            }
          },
          c: function c(e, t, n, i) {
            var o = e.getUTCDay(),
                r = (o - i.weekStartsOn + 8) % 7 || 7;

            switch (t) {
              case "c":
                return String(r);

              case "cc":
                return km(r, t.length);

              case "co":
                return n.ordinalNumber(r, {
                  unit: "day"
                });

              case "ccc":
                return n.day(o, {
                  width: "abbreviated",
                  context: "standalone"
                });

              case "ccccc":
                return n.day(o, {
                  width: "narrow",
                  context: "standalone"
                });

              case "cccccc":
                return n.day(o, {
                  width: "short",
                  context: "standalone"
                });

              case "cccc":
              default:
                return n.day(o, {
                  width: "wide",
                  context: "standalone"
                });
            }
          },
          i: function i(e, t, n) {
            var i = e.getUTCDay(),
                o = 0 === i ? 7 : i;

            switch (t) {
              case "i":
                return String(o);

              case "ii":
                return km(o, t.length);

              case "io":
                return n.ordinalNumber(o, {
                  unit: "day"
                });

              case "iii":
                return n.day(i, {
                  width: "abbreviated",
                  context: "formatting"
                });

              case "iiiii":
                return n.day(i, {
                  width: "narrow",
                  context: "formatting"
                });

              case "iiiiii":
                return n.day(i, {
                  width: "short",
                  context: "formatting"
                });

              case "iiii":
              default:
                return n.day(i, {
                  width: "wide",
                  context: "formatting"
                });
            }
          },
          a: function a(e, t, n) {
            var i = e.getUTCHours() / 12 >= 1 ? "pm" : "am";

            switch (t) {
              case "a":
              case "aa":
                return n.dayPeriod(i, {
                  width: "abbreviated",
                  context: "formatting"
                });

              case "aaa":
                return n.dayPeriod(i, {
                  width: "abbreviated",
                  context: "formatting"
                }).toLowerCase();

              case "aaaaa":
                return n.dayPeriod(i, {
                  width: "narrow",
                  context: "formatting"
                });

              case "aaaa":
              default:
                return n.dayPeriod(i, {
                  width: "wide",
                  context: "formatting"
                });
            }
          },
          b: function b(e, t, n) {
            var i,
                o = e.getUTCHours();

            switch (i = 12 === o ? Sm : 0 === o ? Im : o / 12 >= 1 ? "pm" : "am", t) {
              case "b":
              case "bb":
                return n.dayPeriod(i, {
                  width: "abbreviated",
                  context: "formatting"
                });

              case "bbb":
                return n.dayPeriod(i, {
                  width: "abbreviated",
                  context: "formatting"
                }).toLowerCase();

              case "bbbbb":
                return n.dayPeriod(i, {
                  width: "narrow",
                  context: "formatting"
                });

              case "bbbb":
              default:
                return n.dayPeriod(i, {
                  width: "wide",
                  context: "formatting"
                });
            }
          },
          B: function B(e, t, n) {
            var i,
                o = e.getUTCHours();

            switch (i = o >= 17 ? Rm : o >= 12 ? Pm : o >= 4 ? Mm : Nm, t) {
              case "B":
              case "BB":
              case "BBB":
                return n.dayPeriod(i, {
                  width: "abbreviated",
                  context: "formatting"
                });

              case "BBBBB":
                return n.dayPeriod(i, {
                  width: "narrow",
                  context: "formatting"
                });

              case "BBBB":
              default:
                return n.dayPeriod(i, {
                  width: "wide",
                  context: "formatting"
                });
            }
          },
          h: function h(e, t, n) {
            if ("ho" === t) {
              var i = e.getUTCHours() % 12;
              return 0 === i && (i = 12), n.ordinalNumber(i, {
                unit: "hour"
              });
            }

            return bm.h(e, t);
          },
          H: function H(e, t, n) {
            return "Ho" === t ? n.ordinalNumber(e.getUTCHours(), {
              unit: "hour"
            }) : bm.H(e, t);
          },
          K: function K(e, t, n) {
            var i = e.getUTCHours() % 12;
            return "Ko" === t ? n.ordinalNumber(i, {
              unit: "hour"
            }) : km(i, t.length);
          },
          k: function k(e, t, n) {
            var i = e.getUTCHours();
            return 0 === i && (i = 24), "ko" === t ? n.ordinalNumber(i, {
              unit: "hour"
            }) : km(i, t.length);
          },
          m: function m(e, t, n) {
            return "mo" === t ? n.ordinalNumber(e.getUTCMinutes(), {
              unit: "minute"
            }) : bm.m(e, t);
          },
          s: function s(e, t, n) {
            return "so" === t ? n.ordinalNumber(e.getUTCSeconds(), {
              unit: "second"
            }) : bm.s(e, t);
          },
          S: function S(e, t) {
            return bm.S(e, t);
          },
          X: function X(e, t, n, i) {
            var o = (i._originalDate || e).getTimezoneOffset();
            if (0 === o) return "Z";

            switch (t) {
              case "X":
                return Dm(o);

              case "XXXX":
              case "XX":
                return Lm(o);

              case "XXXXX":
              case "XXX":
              default:
                return Lm(o, ":");
            }
          },
          x: function x(e, t, n, i) {
            var o = (i._originalDate || e).getTimezoneOffset();

            switch (t) {
              case "x":
                return Dm(o);

              case "xxxx":
              case "xx":
                return Lm(o);

              case "xxxxx":
              case "xxx":
              default:
                return Lm(o, ":");
            }
          },
          O: function O(e, t, n, i) {
            var o = (i._originalDate || e).getTimezoneOffset();

            switch (t) {
              case "O":
              case "OO":
              case "OOO":
                return "GMT" + Om(o, ":");

              case "OOOO":
              default:
                return "GMT" + Lm(o, ":");
            }
          },
          z: function z(e, t, n, i) {
            var o = (i._originalDate || e).getTimezoneOffset();

            switch (t) {
              case "z":
              case "zz":
              case "zzz":
                return "GMT" + Om(o, ":");

              case "zzzz":
              default:
                return "GMT" + Lm(o, ":");
            }
          },
          t: function t(e, _t218, n, i) {
            var o = i._originalDate || e;
            return km(Math.floor(o.getTime() / 1e3), _t218.length);
          },
          T: function T(e, t, n, i) {
            return km((i._originalDate || e).getTime(), t.length);
          }
        };

        function Vm(e, t) {
          switch (e) {
            case "P":
              return t.date({
                width: "short"
              });

            case "PP":
              return t.date({
                width: "medium"
              });

            case "PPP":
              return t.date({
                width: "long"
              });

            case "PPPP":
            default:
              return t.date({
                width: "full"
              });
          }
        }

        function Bm(e, t) {
          switch (e) {
            case "p":
              return t.time({
                width: "short"
              });

            case "pp":
              return t.time({
                width: "medium"
              });

            case "ppp":
              return t.time({
                width: "long"
              });

            case "pppp":
            default:
              return t.time({
                width: "full"
              });
          }
        }

        var Fm = {
          p: Bm,
          P: function P(e, t) {
            var n,
                i = e.match(/(P+)(p+)?/),
                o = i[1],
                r = i[2];
            if (!r) return Vm(e, t);

            switch (o) {
              case "P":
                n = t.dateTime({
                  width: "short"
                });
                break;

              case "PP":
                n = t.dateTime({
                  width: "medium"
                });
                break;

              case "PPP":
                n = t.dateTime({
                  width: "long"
                });
                break;

              case "PPPP":
              default:
                n = t.dateTime({
                  width: "full"
                });
            }

            return n.replace("{{date}}", Vm(o, t)).replace("{{time}}", Bm(r, t));
          }
        };

        function jm(e) {
          var t = new Date(Date.UTC(e.getFullYear(), e.getMonth(), e.getDate(), e.getHours(), e.getMinutes(), e.getSeconds(), e.getMilliseconds()));
          return t.setUTCFullYear(e.getFullYear()), e.getTime() - t.getTime();
        }

        var Hm = ["D", "DD"],
            Um = ["YY", "YYYY"];

        function Wm(e, t, n) {
          if ("YYYY" === e) throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t, "`) for formatting years to the input `").concat(n, "`; see: https://git.io/fxCyr"));
          if ("YY" === e) throw new RangeError("Use `yy` instead of `YY` (in `".concat(t, "`) for formatting years to the input `").concat(n, "`; see: https://git.io/fxCyr"));
          if ("D" === e) throw new RangeError("Use `d` instead of `D` (in `".concat(t, "`) for formatting days of the month to the input `").concat(n, "`; see: https://git.io/fxCyr"));
          if ("DD" === e) throw new RangeError("Use `dd` instead of `DD` (in `".concat(t, "`) for formatting days of the month to the input `").concat(n, "`; see: https://git.io/fxCyr"));
        }

        var qm = /[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,
            $m = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,
            Gm = /^'([^]*?)'?$/,
            Ym = /''/g,
            Km = /[a-zA-Z]/;

        function Qm(e, t, n) {
          sm(2, arguments);
          var i = String(t),
              o = n || {},
              r = o.locale || mm,
              s = r.options && r.options.firstWeekContainsDate,
              a = null == s ? 1 : fm(s),
              c = null == o.firstWeekContainsDate ? a : fm(o.firstWeekContainsDate);
          if (!(c >= 1 && c <= 7)) throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");
          var l = r.options && r.options.weekStartsOn,
              d = null == l ? 0 : fm(l),
              u = null == o.weekStartsOn ? d : fm(o.weekStartsOn);
          if (!(u >= 0 && u <= 6)) throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");
          if (!r.localize) throw new RangeError("locale must contain localize property");
          if (!r.formatLong) throw new RangeError("locale must contain formatLong property");
          var h = am(e);
          if (!cm(h)) throw new RangeError("Invalid time value");
          var g = pm(h, jm(h)),
              m = {
            firstWeekContainsDate: c,
            weekStartsOn: u,
            locale: r,
            _originalDate: h
          };
          return i.match($m).map(function (e) {
            var t = e[0];
            return "p" === t || "P" === t ? (0, Fm[t])(e, r.formatLong, m) : e;
          }).join("").match(qm).map(function (n) {
            if ("''" === n) return "'";
            var i = n[0];
            if ("'" === i) return function (e) {
              return e.match(Gm)[1].replace(Ym, "'");
            }(n);
            var s = zm[i];
            if (s) return !o.useAdditionalWeekYearTokens && function (e) {
              return -1 !== Um.indexOf(e);
            }(n) && Wm(n, t, e), !o.useAdditionalDayOfYearTokens && function (e) {
              return -1 !== Hm.indexOf(e);
            }(n) && Wm(n, t, e), s(g, n, r.localize, m);
            if (i.match(Km)) throw new RangeError("Format string contains an unescaped latin alphabet character `" + i + "`");
            return n;
          }).join("");
        }

        var Jm = 36e5,
            Xm = 6e4,
            Zm = 2,
            ef = {
          dateTimeDelimiter: /[T ]/,
          timeZoneDelimiter: /[Z ]/i,
          timezone: /([Z+-].*)$/
        },
            tf = /^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,
            nf = /^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,
            of = /^([+-])(\d{2})(?::?(\d{2}))?$/;

        function rf(e, t) {
          sm(1, arguments);
          var n = t || {},
              i = null == n.additionalDigits ? Zm : fm(n.additionalDigits);
          if (2 !== i && 1 !== i && 0 !== i) throw new RangeError("additionalDigits must be 0, 1 or 2");
          if ("string" != typeof e && "[object String]" !== Object.prototype.toString.call(e)) return new Date(NaN);

          var o,
              r = function (e) {
            var t,
                n = {},
                i = e.split(ef.dateTimeDelimiter);
            if (i.length > 2) return n;
            /:/.test(i[0]) ? (n.date = null, t = i[0]) : (n.date = i[0], t = i[1], ef.timeZoneDelimiter.test(n.date) && (n.date = e.split(ef.timeZoneDelimiter)[0], t = e.substr(n.date.length, e.length)));

            if (t) {
              var o = ef.timezone.exec(t);
              o ? (n.time = t.replace(o[1], ""), n.timezone = o[1]) : n.time = t;
            }

            return n;
          }(e);

          if (r.date) {
            var s = function (e, t) {
              var n = new RegExp("^(?:(\\d{4}|[+-]\\d{" + (4 + t) + "})|(\\d{2}|[+-]\\d{" + (2 + t) + "})$)"),
                  i = e.match(n);
              if (!i) return {
                year: null
              };
              var o = i[1] && parseInt(i[1]),
                  r = i[2] && parseInt(i[2]);
              return {
                year: null == r ? o : 100 * r,
                restDateString: e.slice((i[1] || i[2]).length)
              };
            }(r.date, i);

            o = function (e, t) {
              if (null === t) return null;
              var n = e.match(tf);
              if (!n) return null;
              var i = !!n[4],
                  o = sf(n[1]),
                  r = sf(n[2]) - 1,
                  s = sf(n[3]),
                  a = sf(n[4]),
                  c = sf(n[5]) - 1;
              if (i) return function (e, t, n) {
                return t >= 1 && t <= 53 && n >= 0 && n <= 6;
              }(0, a, c) ? function (e, t, n) {
                var i = new Date(0);
                i.setUTCFullYear(e, 0, 4);
                var o = i.getUTCDay() || 7,
                    r = 7 * (t - 1) + n + 1 - o;
                return i.setUTCDate(i.getUTCDate() + r), i;
              }(t, a, c) : new Date(NaN);
              var l = new Date(0);
              return function (e, t, n) {
                return t >= 0 && t <= 11 && n >= 1 && n <= (cf[t] || (lf(e) ? 29 : 28));
              }(t, r, s) && function (e, t) {
                return t >= 1 && t <= (lf(e) ? 366 : 365);
              }(t, o) ? (l.setUTCFullYear(t, r, Math.max(o, s)), l) : new Date(NaN);
            }(s.restDateString, s.year);
          }

          if (isNaN(o) || !o) return new Date(NaN);
          var a,
              c = o.getTime(),
              l = 0;
          if (r.time && (l = function (e) {
            var t = e.match(nf);
            if (!t) return null;
            var n = af(t[1]),
                i = af(t[2]),
                o = af(t[3]);
            if (!function (e, t, n) {
              if (24 === e) return 0 === t && 0 === n;
              return n >= 0 && n < 60 && t >= 0 && t < 60 && e >= 0 && e < 25;
            }(n, i, o)) return NaN;
            return n * Jm + i * Xm + 1e3 * o;
          }(r.time), isNaN(l) || null === l)) return new Date(NaN);

          if (!r.timezone) {
            var d = new Date(c + l),
                u = new Date(0);
            return u.setFullYear(d.getUTCFullYear(), d.getUTCMonth(), d.getUTCDate()), u.setHours(d.getUTCHours(), d.getUTCMinutes(), d.getUTCSeconds(), d.getUTCMilliseconds()), u;
          }

          return a = function (e) {
            if ("Z" === e) return 0;
            var t = e.match(of);
            if (!t) return 0;
            var n = "+" === t[1] ? -1 : 1,
                i = parseInt(t[2]),
                o = t[3] && parseInt(t[3]) || 0;
            if (!function (e, t) {
              return t >= 0 && t <= 59;
            }(0, o)) return NaN;
            return n * (i * Jm + o * Xm);
          }(r.timezone), isNaN(a) ? new Date(NaN) : new Date(c + l + a);
        }

        function sf(e) {
          return e ? parseInt(e) : 1;
        }

        function af(e) {
          return e && parseFloat(e.replace(",", ".")) || 0;
        }

        var cf = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];

        function lf(e) {
          return e % 400 == 0 || e % 4 == 0 && e % 100;
        }

        function df(e) {
          sm(1, arguments);
          var t = am(e);
          return t.setHours(0, 0, 0, 0), t;
        }

        var uf = 864e5;
        var hf = ["invalid-date-time-format", "dateTimeFormat", "'Last' EEEE hh:mma", "function", "'Today' hh:mma"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(hf, 418);

        var gf = function gf(e, t) {
          return hf[e -= 0];
        };

        function mf() {
          var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
          if (void 0 !== e[gf("0x3")] && gf("0x0") != typeof e[gf("0x3")]) throw new c.a(gf("0x2"));
          return function (t) {
            var n = "string" == typeof t ? rf(t) : t,
                i = function (e, t) {
              sm(2, arguments);
              var n = df(e),
                  i = df(t),
                  o = n.getTime() - jm(n),
                  r = i.getTime() - jm(i);
              return Math.round((o - r) / uf);
            }(new Date(), n);

            return e[gf("0x3")] ? e[gf("0x3")](n) : Qm(n, 0 === i ? gf("0x1") : 1 === i ? "'Yesterday' hh:mma" : i < 7 ? gf("0x4") : "MM-dd-yyyy hh:mma");
          };
        }

        var ff = /*#__PURE__*/function (_Zh2) {
          _inherits(ff, _Zh2);

          var _super80 = _createSuper(ff);

          function ff(e, t) {
            var _this146;

            _classCallCheck(this, ff);

            _this146 = _super80.call(this, e);
            var n = s();
            _this146.main = _this146.createCollection(), _this146.editable = new ig(e, t), _this146._voiceLabelView = _this146._createVoiceLabel(n, e), _this146.setTemplate({
              tag: "div",
              attributes: {
                "class": ["ck-reset", "ck-editor", "ck-rounded-corners", "ck-comment__input"],
                role: "comment",
                dir: e.uiLanguageDirection,
                lang: e.uiLanguage,
                "aria-labelledby": "cke-editor__aria-label_" + n
              },
              children: [_this146._voiceLabelView, {
                tag: "div",
                attributes: {
                  "class": "ck-editor__main",
                  role: "presentation"
                },
                children: _this146.main
              }]
            });
            return _this146;
          }

          _createClass(ff, [{
            key: "render",
            value: function render() {
              _get(_getPrototypeOf(ff.prototype), "render", this).call(this), this.main.add(this.editable);
            }
          }, {
            key: "focus",
            value: function focus() {
              this.editable.element.focus();
            }
          }, {
            key: "_createVoiceLabel",
            value: function _createVoiceLabel(e, t) {
              var n = new eg(),
                  i = t.t;
              return n.text = i("Comment editor"), n.extendTemplate({
                attributes: {
                  id: "ck-editor__aria-label_" + e,
                  "class": "ck-voice-label"
                }
              }), n;
            }
          }]);

          return ff;
        }(Zh);

        var pf = ["document", "getRoot", "rootName", "setEditableElement", "isFocused", "add", "element", "bind", "editing", "ready", "attachDomRoot", "editor", "editable", "name", "destroy", "view"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(pf, 365);

        var kf = function kf(e, t) {
          return pf[e -= 0];
        };

        var bf = /*#__PURE__*/function (_Ud2, _kf, _kf2) {
          _inherits(bf, _Ud2);

          var _super81 = _createSuper(bf);

          function bf(e) {
            var _this147;

            _classCallCheck(this, bf);

            _this147 = _super81.call(this, e), _this147[kf("0x2")] = new ff(e.locale, e[kf("0xb")][kf("0x2")]);
            return _this147;
          }

          _createClass(bf, [{
            key: _kf,
            get: function get() {
              return this[kf("0x2")].element;
            }
          }, {
            key: "init",
            value: function init() {
              var e = this[kf("0xe")][kf("0xb")].view,
                  t = this[kf("0x2")][kf("0xf")],
                  n = e[kf("0x3")][kf("0x4")]();
              t[kf("0x0")] = n[kf("0x5")], this.view.render();
              var i = t.element;
              this[kf("0x6")](t.name, i), this.focusTracker[kf("0x8")](i), this.view[kf("0xf")][kf("0xa")](kf("0x7")).to(this.focusTracker), e[kf("0xd")](i), this.fire(kf("0xc"));
            }
          }, {
            key: _kf2,
            value: function value() {
              this[kf("0x2")][kf("0x1")](), _get(_getPrototypeOf(bf.prototype), "destroy", this).call(this);
            }
          }]);

          return bf;
        }(Ud, kf("0x9"), kf("0x1"));

        var wf = /*#__PURE__*/function () {
          function wf(e) {
            _classCallCheck(this, wf);

            this.files = function (e) {
              var t = Array.from(e.files || []),
                  n = Array.from(e.items || []);
              if (t.length) return t;
              return n.filter(function (e) {
                return "file" === e.kind;
              }).map(function (e) {
                return e.getAsFile();
              });
            }(e), this._native = e;
          }

          _createClass(wf, [{
            key: "types",
            get: function get() {
              return this._native.types;
            }
          }, {
            key: "getData",
            value: function getData(e) {
              return this._native.getData(e);
            }
          }, {
            key: "setData",
            value: function setData(e, t) {
              this._native.setData(e, t);
            }
          }, {
            key: "effectAllowed",
            get: function get() {
              return this._native.effectAllowed;
            },
            set: function set(e) {
              this._native.effectAllowed = e;
            }
          }, {
            key: "dropEffect",
            get: function get() {
              return this._native.dropEffect;
            },
            set: function set(e) {
              this._native.dropEffect = e;
            }
          }, {
            key: "isCanceled",
            get: function get() {
              return "none" == this._native.dropEffect || !!this._native.mozUserCancelled;
            }
          }]);

          return wf;
        }();

        var _f = /*#__PURE__*/function (_pa7) {
          _inherits(_f, _pa7);

          var _super82 = _createSuper(_f);

          function _f(e) {
            var _this148;

            _classCallCheck(this, _f);

            _this148 = _super82.call(this, e);
            var t = _this148.document;

            function n(e) {
              return function (n, i) {
                i.preventDefault();
                var r = i.dropRange ? [i.dropRange] : null,
                    s = new o(t, e);
                t.fire(s, {
                  dataTransfer: i.dataTransfer,
                  method: n.name,
                  targetRanges: r,
                  target: i.target
                }), s.stop.called && i.stopPropagation();
              };
            }

            _this148.domEventType = ["paste", "copy", "cut", "drop", "dragover", "dragstart", "dragend", "dragenter", "dragleave"], _this148.listenTo(t, "paste", n("clipboardInput"), {
              priority: "low"
            }), _this148.listenTo(t, "drop", n("clipboardInput"), {
              priority: "low"
            }), _this148.listenTo(t, "dragover", n("dragging"), {
              priority: "low"
            });
            return _this148;
          }

          _createClass(_f, [{
            key: "onDomEvent",
            value: function onDomEvent(e) {
              var t = {
                dataTransfer: new wf(e.clipboardData ? e.clipboardData : e.dataTransfer)
              };
              "drop" != e.type && "dragover" != e.type || (t.dropRange = function (e, t) {
                var n = t.target.ownerDocument,
                    i = t.clientX,
                    o = t.clientY;
                var r;
                n.caretRangeFromPoint && n.caretRangeFromPoint(i, o) ? r = n.caretRangeFromPoint(i, o) : t.rangeParent && ((r = n.createRange()).setStart(t.rangeParent, t.rangeOffset), r.collapse(!0));
                if (r) return e.domConverter.domRangeToView(r);
                return null;
              }(this.view, e)), this.fire(e.type, e, t);
            }
          }]);

          return _f;
        }(pa);

        var vf = ["figcaption", "li"];

        var xf = /*#__PURE__*/function (_st2) {
          _inherits(xf, _st2);

          var _super83 = _createSuper(xf);

          function xf() {
            _classCallCheck(this, xf);

            return _super83.apply(this, arguments);
          }

          _createClass(xf, [{
            key: "init",
            value: function init() {
              this.editor.editing.view.addObserver(_f), this._setupPasteDrop(), this._setupCopyCut();
            }
          }, {
            key: "_setupPasteDrop",
            value: function _setupPasteDrop() {
              var _this149 = this;

              var e = this.editor,
                  t = e.model,
                  n = e.editing.view,
                  i = n.document;
              this.listenTo(i, "clipboardInput", function (t) {
                e.isReadOnly && t.stop();
              }, {
                priority: "highest"
              }), this.listenTo(i, "clipboardInput", function (e, t) {
                var i = t.dataTransfer;
                var r = t.content || "";
                r || (i.getData("text/html") ? r = function (e) {
                  return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g, function (e, t) {
                    return 1 == t.length ? " " : t;
                  }).replace(/<!--[\s\S]*?-->/g, "");
                }(i.getData("text/html")) : i.getData("text/plain") && (r = function (e) {
                  return ((e = e.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\r?\n\r?\n/g, "</p><p>").replace(/\r?\n/g, "<br>").replace(/^\s/, "&nbsp;").replace(/\s$/, "&nbsp;").replace(/\s\s/g, " &nbsp;")).includes("</p><p>") || e.includes("<br>")) && (e = "<p>".concat(e, "</p>")), e;
                }(i.getData("text/plain"))), r = _this149.editor.data.htmlProcessor.toView(r));
                var s = new o(_this149, "inputTransformation");
                _this149.fire(s, {
                  content: r,
                  dataTransfer: i,
                  targetRanges: t.targetRanges,
                  method: t.method
                }), s.stop.called && e.stop(), n.scrollToTheSelection();
              }, {
                priority: "low"
              }), this.listenTo(this, "inputTransformation", function (e, n) {
                if (n.content.isEmpty) return;

                var i = _this149.editor.data.toModel(n.content, "$clipboardHolder");

                0 != i.childCount && (e.stop(), t.change(function () {
                  _this149.fire("contentInsertion", {
                    content: i,
                    method: n.method,
                    dataTransfer: n.dataTransfer,
                    targetRanges: n.targetRanges
                  });
                }));
              }, {
                priority: "low"
              }), this.listenTo(this, "contentInsertion", function (e, n) {
                n.resultRange = t.insertContent(n.content);
              }, {
                priority: "low"
              });
            }
          }, {
            key: "_setupCopyCut",
            value: function _setupCopyCut() {
              var _this150 = this;

              var e = this.editor,
                  t = e.model.document,
                  n = e.editing.view.document;

              function i(i, o) {
                var r = o.dataTransfer;
                o.preventDefault();
                var s = e.data.toView(e.model.getSelectedContent(t.selection));
                n.fire("clipboardOutput", {
                  dataTransfer: r,
                  content: s,
                  method: i.name
                });
              }

              this.listenTo(n, "copy", i, {
                priority: "low"
              }), this.listenTo(n, "cut", function (t, n) {
                e.isReadOnly ? n.preventDefault() : i(t, n);
              }, {
                priority: "low"
              }), this.listenTo(n, "clipboardOutput", function (n, i) {
                i.content.isEmpty || (i.dataTransfer.setData("text/html", _this150.editor.data.htmlProcessor.toData(i.content)), i.dataTransfer.setData("text/plain", function e(t) {
                  var n = "";
                  if (t.is("$text") || t.is("$textProxy")) n = t.data;else if (t.is("element", "img") && t.hasAttribute("alt")) n = t.getAttribute("alt");else if (t.is("element", "br")) n = "\n";else {
                    var _i169 = null;

                    var _iterator311 = _createForOfIteratorHelper(t.getChildren()),
                        _step311;

                    try {
                      for (_iterator311.s(); !(_step311 = _iterator311.n()).done;) {
                        var _o84 = _step311.value;

                        var _t219 = e(_o84);

                        _i169 && (_i169.is("containerElement") || _o84.is("containerElement")) && (vf.includes(_i169.name) || vf.includes(_o84.name) ? n += "\n" : n += "\n\n"), n += _t219, _i169 = _o84;
                      }
                    } catch (err) {
                      _iterator311.e(err);
                    } finally {
                      _iterator311.f();
                    }
                  }
                  return n;
                }(i.content))), "cut" == i.method && e.model.deleteContent(t.selection);
              }, {
                priority: "low"
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "ClipboardPipeline";
            }
          }]);

          return xf;
        }(st);

        function yf(e, t) {
          var _iterator312, _step312, _n210;

          return regeneratorRuntime.wrap(function yf$(_context37) {
            while (1) {
              switch (_context37.prev = _context37.next) {
                case 0:
                  _iterator312 = _createForOfIteratorHelper(t);
                  _context37.prev = 1;

                  _iterator312.s();

                case 3:
                  if ((_step312 = _iterator312.n()).done) {
                    _context37.next = 11;
                    break;
                  }

                  _n210 = _step312.value;
                  _context37.t0 = _n210 && e.getAttributeProperties(_n210[0]).copyOnEnter;

                  if (!_context37.t0) {
                    _context37.next = 9;
                    break;
                  }

                  _context37.next = 9;
                  return _n210;

                case 9:
                  _context37.next = 3;
                  break;

                case 11:
                  _context37.next = 16;
                  break;

                case 13:
                  _context37.prev = 13;
                  _context37.t1 = _context37["catch"](1);

                  _iterator312.e(_context37.t1);

                case 16:
                  _context37.prev = 16;

                  _iterator312.f();

                  return _context37.finish(16);

                case 19:
                case "end":
                  return _context37.stop();
              }
            }
          }, _marked3, null, [[1, 13, 16, 19]]);
        }

        var Cf = /*#__PURE__*/function (_ct) {
          _inherits(Cf, _ct);

          var _super84 = _createSuper(Cf);

          function Cf() {
            _classCallCheck(this, Cf);

            return _super84.apply(this, arguments);
          }

          _createClass(Cf, [{
            key: "execute",
            value: function execute() {
              var _this151 = this;

              var e = this.editor.model,
                  t = e.document;
              e.change(function (n) {
                !function (e, t, n, i) {
                  var o = n.isCollapsed,
                      r = n.getFirstRange(),
                      s = r.start.parent,
                      a = r.end.parent;
                  if (i.isLimit(s) || i.isLimit(a)) return void (o || s != a || e.deleteContent(n));

                  if (o) {
                    var _e231 = yf(t.model.schema, n.getAttributes());

                    Tf(t, r.start), t.setSelectionAttribute(_e231);
                  } else {
                    var _i170 = !(r.start.isAtStart && r.end.isAtEnd),
                        _o85 = s == a;

                    e.deleteContent(n, {
                      leaveUnmerged: _i170
                    }), _i170 && (_o85 ? Tf(t, n.focus) : t.setSelection(a, 0));
                  }
                }(_this151.editor.model, n, t.selection, e.schema), _this151.fire("afterExecute", {
                  writer: n
                });
              });
            }
          }]);

          return Cf;
        }(ct);

        function Tf(e, t) {
          e.split(t), e.setSelection(t.parent.nextSibling, 0);
        }

        var Af = /*#__PURE__*/function (_Is6) {
          _inherits(Af, _Is6);

          var _super85 = _createSuper(Af);

          function Af(e) {
            var _this152;

            _classCallCheck(this, Af);

            _this152 = _super85.call(this, e);
            var t = _this152.document;
            t.on("keydown", function (e, n) {
              if (_this152.isEnabled && n.keyCode == Er.enter) {
                var _i171 = new dr(t, "enter", t.selection.getFirstRange());

                t.fire(_i171, new fa(t, n.domEvent, {
                  isSoft: n.shiftKey
                })), _i171.stop.called && e.stop();
              }
            });
            return _this152;
          }

          _createClass(Af, [{
            key: "observe",
            value: function observe() {}
          }]);

          return Af;
        }(Is);

        var Ef = /*#__PURE__*/function (_st3) {
          _inherits(Ef, _st3);

          var _super86 = _createSuper(Ef);

          function Ef() {
            _classCallCheck(this, Ef);

            return _super86.apply(this, arguments);
          }

          _createClass(Ef, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = e.editing.view,
                  n = t.document;
              t.addObserver(Af), e.commands.add("enter", new Cf(e)), this.listenTo(n, "enter", function (n, i) {
                i.preventDefault(), i.isSoft || (e.execute("enter"), t.scrollToTheSelection());
              }, {
                priority: "low"
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "Enter";
            }
          }]);

          return Ef;
        }(st);

        var If = /*#__PURE__*/function () {
          function If(e) {
            var _this153 = this;

            var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 20;

            _classCallCheck(this, If);

            this.model = e, this.size = 0, this.limit = t, this.isLocked = !1, this._changeCallback = function (e, t) {
              "transparent" != t.type && t !== _this153._batch && _this153._reset(!0);
            }, this._selectionChangeCallback = function () {
              _this153._reset();
            }, this.model.document.on("change", this._changeCallback), this.model.document.selection.on("change:range", this._selectionChangeCallback), this.model.document.selection.on("change:attribute", this._selectionChangeCallback);
          }

          _createClass(If, [{
            key: "batch",
            get: function get() {
              return this._batch || (this._batch = this.model.createBatch()), this._batch;
            }
          }, {
            key: "input",
            value: function input(e) {
              this.size += e, this.size >= this.limit && this._reset(!0);
            }
          }, {
            key: "lock",
            value: function lock() {
              this.isLocked = !0;
            }
          }, {
            key: "unlock",
            value: function unlock() {
              this.isLocked = !1;
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this.model.document.off("change", this._changeCallback), this.model.document.selection.off("change:range", this._selectionChangeCallback), this.model.document.selection.off("change:attribute", this._selectionChangeCallback);
            }
          }, {
            key: "_reset",
            value: function _reset(e) {
              this.isLocked && !e || (this._batch = null, this.size = 0);
            }
          }]);

          return If;
        }();

        var Sf = /*#__PURE__*/function (_ct2) {
          _inherits(Sf, _ct2);

          var _super87 = _createSuper(Sf);

          function Sf(e, t) {
            var _this154;

            _classCallCheck(this, Sf);

            _this154 = _super87.call(this, e), _this154.direction = t, _this154._buffer = new If(e.model, e.config.get("typing.undoStep"));
            return _this154;
          }

          _createClass(Sf, [{
            key: "buffer",
            get: function get() {
              return this._buffer;
            }
          }, {
            key: "execute",
            value: function execute() {
              var _this155 = this;

              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
              var t = this.editor.model,
                  n = t.document;
              t.enqueueChange(this._buffer.batch, function (i) {
                _this155._buffer.lock();

                var o = i.createSelection(e.selection || n.selection),
                    r = e.sequence || 1,
                    s = o.isCollapsed;
                if (o.isCollapsed && t.modifySelection(o, {
                  direction: _this155.direction,
                  unit: e.unit
                }), _this155._shouldEntireContentBeReplacedWithParagraph(r)) return void _this155._replaceEntireContentWithParagraph(i);
                if (_this155._shouldReplaceFirstBlockWithParagraph(o, r)) return void _this155.editor.execute("paragraph", {
                  selection: o
                });
                if (o.isCollapsed) return;
                var a = 0;
                o.getFirstRange().getMinimalFlatRanges().forEach(function (e) {
                  a += ar(e.getWalker({
                    singleCharacters: !0,
                    ignoreElementEnd: !0,
                    shallow: !0
                  }));
                }), t.deleteContent(o, {
                  doNotResetEntireContent: s,
                  direction: _this155.direction
                }), _this155._buffer.input(a), i.setSelection(o), _this155._buffer.unlock();
              });
            }
          }, {
            key: "_shouldEntireContentBeReplacedWithParagraph",
            value: function _shouldEntireContentBeReplacedWithParagraph(e) {
              if (e > 1) return !1;
              var t = this.editor.model,
                  n = t.document.selection,
                  i = t.schema.getLimitElement(n);
              if (!(n.isCollapsed && n.containsEntireContent(i))) return !1;
              if (!t.schema.checkChild(i, "paragraph")) return !1;
              var o = i.getChild(0);
              return !o || "paragraph" !== o.name;
            }
          }, {
            key: "_replaceEntireContentWithParagraph",
            value: function _replaceEntireContentWithParagraph(e) {
              var t = this.editor.model,
                  n = t.document.selection,
                  i = t.schema.getLimitElement(n),
                  o = e.createElement("paragraph");
              e.remove(e.createRangeIn(i)), e.insert(o, i), e.setSelection(o, 0);
            }
          }, {
            key: "_shouldReplaceFirstBlockWithParagraph",
            value: function _shouldReplaceFirstBlockWithParagraph(e, t) {
              var n = this.editor.model;
              if (t > 1 || "backward" != this.direction) return !1;
              if (!e.isCollapsed) return !1;
              var i = e.getFirstPosition(),
                  o = n.schema.getLimitElement(i),
                  r = o.getChild(0);
              return i.parent == r && !!e.containsEntireContent(r) && !!n.schema.checkChild(o, "paragraph") && "paragraph" != r.name;
            }
          }]);

          return Sf;
        }(ct);

        var Mf = /*#__PURE__*/function (_Is7) {
          _inherits(Mf, _Is7);

          var _super88 = _createSuper(Mf);

          function Mf(e) {
            var _this156;

            _classCallCheck(this, Mf);

            _this156 = _super88.call(this, e);
            var t = e.document;
            var n = 0;

            function i(e, n, i) {
              var o = new dr(t, "delete", t.selection.getFirstRange());
              t.fire(o, new fa(t, n, i)), o.stop.called && e.stop();
            }

            t.on("keyup", function (e, t) {
              t.keyCode != Er["delete"] && t.keyCode != Er.backspace || (n = 0);
            }), t.on("keydown", function (e, t) {
              var o = {};
              if (t.keyCode == Er["delete"]) o.direction = "forward", o.unit = "character";else {
                if (t.keyCode != Er.backspace) return;
                o.direction = "backward", o.unit = "codePoint";
              }
              var r = Cr.isMac ? t.altKey : t.ctrlKey;
              o.unit = r ? "word" : o.unit, o.sequence = ++n, i(e, t.domEvent, o);
            }), Cr.isAndroid && t.on("beforeinput", function (t, n) {
              if ("deleteContentBackward" != n.domEvent.inputType) return;
              var o = {
                unit: "codepoint",
                direction: "backward",
                sequence: 1
              },
                  r = n.domTarget.ownerDocument.defaultView.getSelection();
              r.anchorNode == r.focusNode && r.anchorOffset + 1 != r.focusOffset && (o.selectionToRemove = e.domConverter.domSelectionToView(r)), i(t, n.domEvent, o);
            });
            return _this156;
          }

          _createClass(Mf, [{
            key: "observe",
            value: function observe() {}
          }]);

          return Mf;
        }(Is);

        var Pf = /*#__PURE__*/function (_st4) {
          _inherits(Pf, _st4);

          var _super89 = _createSuper(Pf);

          function Pf() {
            _classCallCheck(this, Pf);

            return _super89.apply(this, arguments);
          }

          _createClass(Pf, [{
            key: "init",
            value: function init() {
              var _this157 = this;

              var e = this.editor,
                  t = e.editing.view,
                  n = t.document,
                  i = e.model.document;
              t.addObserver(Mf), this._undoOnBackspace = !1;
              var o = new Sf(e, "forward");

              if (e.commands.add("deleteForward", o), e.commands.add("forwardDelete", o), e.commands.add("delete", new Sf(e, "backward")), this.listenTo(n, "delete", function (n, i) {
                var o = {
                  unit: i.unit,
                  sequence: i.sequence
                };

                if (i.selectionToRemove) {
                  var _t220 = e.model.createSelection(),
                      _n211 = [];

                  var _iterator313 = _createForOfIteratorHelper(i.selectionToRemove.getRanges()),
                      _step313;

                  try {
                    for (_iterator313.s(); !(_step313 = _iterator313.n()).done;) {
                      var _t221 = _step313.value;

                      _n211.push(e.editing.mapper.toModelRange(_t221));
                    }
                  } catch (err) {
                    _iterator313.e(err);
                  } finally {
                    _iterator313.f();
                  }

                  _t220.setTo(_n211), o.selection = _t220;
                }

                e.execute("forward" == i.direction ? "deleteForward" : "delete", o), i.preventDefault(), t.scrollToTheSelection();
              }, {
                priority: "low"
              }), Cr.isAndroid) {
                var _e232 = null;
                this.listenTo(n, "delete", function (t, n) {
                  var i = n.domTarget.ownerDocument.defaultView.getSelection();
                  _e232 = {
                    anchorNode: i.anchorNode,
                    anchorOffset: i.anchorOffset,
                    focusNode: i.focusNode,
                    focusOffset: i.focusOffset
                  };
                }, {
                  priority: "lowest"
                }), this.listenTo(n, "keyup", function (t, n) {
                  if (_e232) {
                    var _t222 = n.domTarget.ownerDocument.defaultView.getSelection();

                    _t222.collapse(_e232.anchorNode, _e232.anchorOffset), _t222.extend(_e232.focusNode, _e232.focusOffset), _e232 = null;
                  }
                });
              }

              this.editor.plugins.has("UndoEditing") && (this.listenTo(n, "delete", function (t, n) {
                _this157._undoOnBackspace && "backward" == n.direction && 1 == n.sequence && "codePoint" == n.unit && (_this157._undoOnBackspace = !1, e.execute("undo"), n.preventDefault(), t.stop());
              }, {
                context: "$capture"
              }), this.listenTo(i, "change", function () {
                _this157._undoOnBackspace = !1;
              }));
            }
          }, {
            key: "requestUndoOnBackspace",
            value: function requestUndoOnBackspace() {
              this.editor.plugins.has("UndoEditing") && (this._undoOnBackspace = !0);
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "Delete";
            }
          }]);

          return Pf;
        }(st);

        var Rf = /*#__PURE__*/function () {
          function Rf() {
            _classCallCheck(this, Rf);

            this._stack = [];
          }

          _createClass(Rf, [{
            key: "add",
            value: function add(e, t) {
              var n = this._stack,
                  i = n[0];

              this._insertDescriptor(e);

              var o = n[0];
              i === o || Nf(i, o) || this.fire("change:top", {
                oldDescriptor: i,
                newDescriptor: o,
                writer: t
              });
            }
          }, {
            key: "remove",
            value: function remove(e, t) {
              var n = this._stack,
                  i = n[0];

              this._removeDescriptor(e);

              var o = n[0];
              i === o || Nf(i, o) || this.fire("change:top", {
                oldDescriptor: i,
                newDescriptor: o,
                writer: t
              });
            }
          }, {
            key: "_insertDescriptor",
            value: function _insertDescriptor(e) {
              var t = this._stack,
                  n = t.findIndex(function (t) {
                return t.id === e.id;
              });
              if (Nf(e, t[n])) return;
              n > -1 && t.splice(n, 1);
              var i = 0;

              for (; t[i] && Of(t[i], e);) {
                i++;
              }

              t.splice(i, 0, e);
            }
          }, {
            key: "_removeDescriptor",
            value: function _removeDescriptor(e) {
              var t = this._stack,
                  n = t.findIndex(function (t) {
                return t.id === e;
              });
              n > -1 && t.splice(n, 1);
            }
          }]);

          return Rf;
        }();

        function Nf(e, t) {
          return e && t && e.priority == t.priority && Df(e.classes) == Df(t.classes);
        }

        function Of(e, t) {
          return e.priority > t.priority || !(e.priority < t.priority) && Df(e.classes) > Df(t.classes);
        }

        function Df(e) {
          return Array.isArray(e) ? e.sort().join(",") : e;
        }

        rt(Rf, u);
        var Lf = n(53),
            zf = n.n(Lf);
        var Vf = "ck-widget",
            Bf = "ck-widget_selected";

        function Ff(e) {
          return !!e.is("element") && !!e.getCustomProperty("widget");
        }

        function jf(e, t) {
          var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
          if (!e.is("containerElement")) throw new c.a("widget-to-widget-wrong-element-type", null, {
            element: e
          });
          return t.setAttribute("contenteditable", "false", e), t.addClass(Vf, e), t.setCustomProperty("widget", !0, e), e.getFillerOffset = qf, n.label && function (e, t, n) {
            n.setCustomProperty("widgetLabel", t, e);
          }(e, n.label, t), n.hasSelectionHandle && function (e, t) {
            var n = t.createUIElement("div", {
              "class": "ck ck-widget__selection-handle"
            }, function (e) {
              var t = this.toDomElement(e),
                  n = new yh();
              return n.set("content", zf.a), n.render(), t.appendChild(n.element), t;
            });
            t.insert(t.createPositionAt(e, 0), n), t.addClass(["ck-widget_with-selection-handle"], e);
          }(e, t), Hf(e, t), e;
        }

        function Hf(e, t) {
          var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (e, t, n) {
            if (t.classes && n.addClass(Wi(t.classes), e), t.attributes) for (var _i172 in t.attributes) {
              n.setAttribute(_i172, t.attributes[_i172], e);
            }
          };
          var i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function (e, t, n) {
            if (t.classes && n.removeClass(Wi(t.classes), e), t.attributes) for (var _i173 in t.attributes) {
              n.removeAttribute(_i173, e);
            }
          };
          var o = new Rf();
          o.on("change:top", function (t, o) {
            o.oldDescriptor && i(e, o.oldDescriptor, o.writer), o.newDescriptor && n(e, o.newDescriptor, o.writer);
          }), t.setCustomProperty("addHighlight", function (e, t, n) {
            return o.add(t, n);
          }, e), t.setCustomProperty("removeHighlight", function (e, t, n) {
            return o.remove(t, n);
          }, e);
        }

        function Uf(e, t) {
          return t.addClass(["ck-editor__editable", "ck-editor__nested-editable"], e), t.setAttribute("contenteditable", e.isReadOnly ? "false" : "true", e), e.on("change:isReadOnly", function (n, i, o) {
            t.setAttribute("contenteditable", o ? "false" : "true", e);
          }), e.on("change:isFocused", function (n, i, o) {
            o ? t.addClass("ck-editor__nested-editable_focused", e) : t.removeClass("ck-editor__nested-editable_focused", e);
          }), Hf(e, t), e;
        }

        function Wf(e, t) {
          var n = e.getSelectedElement();

          if (n) {
            var _i174 = Yf(e);

            if (_i174) return t.createRange(t.createPositionAt(n, _i174));
            if (t.schema.isObject(n) && !t.schema.isInline(n)) return t.createRangeOn(n);
          }

          var i = e.getSelectedBlocks().next().value;

          if (i) {
            if (i.isEmpty) return t.createRange(t.createPositionAt(i, 0));

            var _n212 = t.createPositionAfter(i);

            return e.focus.isTouching(_n212) ? t.createRange(_n212) : t.createRange(t.createPositionBefore(i));
          }

          return t.createRange(e.focus);
        }

        function qf() {
          return null;
        }

        var $f = "widget-type-around";

        function Gf(e, t, n) {
          return e && Ff(e) && !n.isInline(t);
        }

        function Yf(e) {
          return e.getAttribute($f);
        }

        var Kf = [Sr("arrowUp"), Sr("arrowRight"), Sr("arrowDown"), Sr("arrowLeft"), 9, 16, 17, 18, 19, 20, 27, 33, 34, 35, 36, 45, 91, 93, 144, 145, 173, 174, 175, 176, 177, 178, 179, 255];

        for (var _e233 = 112; _e233 <= 135; _e233++) {
          Kf.push(_e233);
        }

        function Qf(e) {
          return !(!e.ctrlKey && !e.metaKey) || Kf.includes(e.keyCode);
        }

        var Jf = n(54),
            Xf = n.n(Jf);
        n(132);
        var Zf = ["before", "after"],
            ep = new DOMParser().parseFromString(Xf.a, "image/svg+xml").firstChild,
            tp = "ck-widget__type-around_disabled";

        var np = /*#__PURE__*/function (_st5) {
          _inherits(np, _st5);

          var _super90 = _createSuper(np);

          function np(e) {
            var _this158;

            _classCallCheck(this, np);

            _this158 = _super90.call(this, e), _this158._currentFakeCaretModelElement = null;
            return _this158;
          }

          _createClass(np, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = e.editing.view;
              this.on("change:isEnabled", function (n, i, o) {
                t.change(function (e) {
                  var _iterator314 = _createForOfIteratorHelper(t.document.roots),
                      _step314;

                  try {
                    for (_iterator314.s(); !(_step314 = _iterator314.n()).done;) {
                      var _n213 = _step314.value;
                      o ? e.removeClass(tp, _n213) : e.addClass(tp, _n213);
                    }
                  } catch (err) {
                    _iterator314.e(err);
                  } finally {
                    _iterator314.f();
                  }
                }), o || e.model.change(function (e) {
                  e.removeSelectionAttribute($f);
                });
              }), this._enableTypeAroundUIInjection(), this._enableInsertingParagraphsOnButtonClick(), this._enableInsertingParagraphsOnEnterKeypress(), this._enableInsertingParagraphsOnTypingKeystroke(), this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(), this._enableDeleteIntegration(), this._enableInsertContentIntegration(), this._enableDeleteContentIntegration();
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this._currentFakeCaretModelElement = null;
            }
          }, {
            key: "_insertParagraph",
            value: function _insertParagraph(e, t) {
              var n = this.editor,
                  i = n.editing.view;
              n.execute("insertParagraph", {
                position: n.model.createPositionAt(e, t)
              }), i.focus(), i.scrollToTheSelection();
            }
          }, {
            key: "_listenToIfEnabled",
            value: function _listenToIfEnabled(e, t, n, i) {
              var _this159 = this;

              this.listenTo(e, t, function () {
                _this159.isEnabled && n.apply(void 0, arguments);
              }, i);
            }
          }, {
            key: "_insertParagraphAccordingToFakeCaretPosition",
            value: function _insertParagraphAccordingToFakeCaretPosition() {
              var e = this.editor.model.document.selection,
                  t = Yf(e);
              if (!t) return !1;
              var n = e.getSelectedElement();
              return this._insertParagraph(n, t), !0;
            }
          }, {
            key: "_enableTypeAroundUIInjection",
            value: function _enableTypeAroundUIInjection() {
              var e = this.editor,
                  t = e.model.schema,
                  n = e.locale.t,
                  i = {
                before: n("Insert paragraph before block"),
                after: n("Insert paragraph after block")
              };
              e.editing.downcastDispatcher.on("insert", function (e, n, o) {
                var r = o.mapper.toViewElement(n.item);
                Gf(r, n.item, t) && function (e, t, n) {
                  var i = e.createUIElement("div", {
                    "class": "ck ck-reset_all ck-widget__type-around"
                  }, function (e) {
                    var n = this.toDomElement(e);
                    return function (e, t) {
                      var _iterator315 = _createForOfIteratorHelper(Zf),
                          _step315;

                      try {
                        for (_iterator315.s(); !(_step315 = _iterator315.n()).done;) {
                          var _n214 = _step315.value;

                          var _i175 = new oh({
                            tag: "div",
                            attributes: {
                              "class": ["ck", "ck-widget__type-around__button", "ck-widget__type-around__button_".concat(_n214)],
                              title: t[_n214]
                            },
                            children: [e.ownerDocument.importNode(ep, !0)]
                          });

                          e.appendChild(_i175.render());
                        }
                      } catch (err) {
                        _iterator315.e(err);
                      } finally {
                        _iterator315.f();
                      }
                    }(n, t), function (e) {
                      var t = new oh({
                        tag: "div",
                        attributes: {
                          "class": ["ck", "ck-widget__type-around__fake-caret"]
                        }
                      });
                      e.appendChild(t.render());
                    }(n), n;
                  });
                  e.insert(e.createPositionAt(n, "end"), i);
                }(o.writer, i, r);
              }, {
                priority: "low"
              });
            }
          }, {
            key: "_enableTypeAroundFakeCaretActivationUsingKeyboardArrows",
            value: function _enableTypeAroundFakeCaretActivationUsingKeyboardArrows() {
              var _this160 = this;

              var e = this.editor,
                  t = e.model,
                  n = t.document.selection,
                  i = t.schema,
                  o = e.editing.view;

              function r(e) {
                return "ck-widget_type-around_show-fake-caret_".concat(e);
              }

              this._listenToIfEnabled(o.document, "arrowKey", function (e, t) {
                _this160._handleArrowKeyPress(e, t);
              }, {
                context: [Ff, "$text"],
                priority: "high"
              }), this._listenToIfEnabled(n, "change:range", function (t, n) {
                n.directChange && e.model.change(function (e) {
                  e.removeSelectionAttribute($f);
                });
              }), this._listenToIfEnabled(t.document, "change:data", function () {
                var t = n.getSelectedElement();

                if (t) {
                  if (Gf(e.editing.mapper.toViewElement(t), t, i)) return;
                }

                e.model.change(function (e) {
                  e.removeSelectionAttribute($f);
                });
              }), this._listenToIfEnabled(e.editing.downcastDispatcher, "selection", function (e, t, n) {
                var o = n.writer;

                if (_this160._currentFakeCaretModelElement) {
                  var _e234 = n.mapper.toViewElement(_this160._currentFakeCaretModelElement);

                  _e234 && (o.removeClass(Zf.map(r), _e234), _this160._currentFakeCaretModelElement = null);
                }

                var s = t.selection.getSelectedElement();
                if (!s) return;
                var a = n.mapper.toViewElement(s);
                if (!Gf(a, s, i)) return;
                var c = Yf(t.selection);
                c && (o.addClass(r(c), a), _this160._currentFakeCaretModelElement = s);
              }), this._listenToIfEnabled(e.ui.focusTracker, "change:isFocused", function (t, n, i) {
                i || e.model.change(function (e) {
                  e.removeSelectionAttribute($f);
                });
              });
            }
          }, {
            key: "_handleArrowKeyPress",
            value: function _handleArrowKeyPress(e, t) {
              var n = this.editor,
                  i = n.model,
                  o = i.document.selection,
                  r = i.schema,
                  s = n.editing.view,
                  a = function (e, t) {
                var n = Rr(e, t);
                return "down" === n || "right" === n;
              }(t.keyCode, n.locale.contentLanguageDirection),
                  c = s.document.selection.getSelectedElement();

              var l;
              Gf(c, n.editing.mapper.toModelElement(c), r) ? l = this._handleArrowKeyPressOnSelectedWidget(a) : o.isCollapsed ? l = this._handleArrowKeyPressWhenSelectionNextToAWidget(a) : t.shiftKey || (l = this._handleArrowKeyPressWhenNonCollapsedSelection(a)), l && (t.preventDefault(), e.stop());
            }
          }, {
            key: "_handleArrowKeyPressOnSelectedWidget",
            value: function _handleArrowKeyPressOnSelectedWidget(e) {
              var t = this.editor.model,
                  n = Yf(t.document.selection);
              return t.change(function (t) {
                if (!n) return t.setSelectionAttribute($f, e ? "after" : "before"), !0;
                if (!(n === (e ? "after" : "before"))) return t.removeSelectionAttribute($f), !0;
                return !1;
              });
            }
          }, {
            key: "_handleArrowKeyPressWhenSelectionNextToAWidget",
            value: function _handleArrowKeyPressWhenSelectionNextToAWidget(e) {
              var t = this.editor,
                  n = t.model,
                  i = n.schema,
                  o = t.plugins.get("Widget"),
                  r = o._getObjectElementNextToSelection(e);

              return !!Gf(t.editing.mapper.toViewElement(r), r, i) && (n.change(function (t) {
                o._setSelectionOverElement(r), t.setSelectionAttribute($f, e ? "before" : "after");
              }), !0);
            }
          }, {
            key: "_handleArrowKeyPressWhenNonCollapsedSelection",
            value: function _handleArrowKeyPressWhenNonCollapsedSelection(e) {
              var t = this.editor,
                  n = t.model,
                  i = n.schema,
                  o = t.editing.mapper,
                  r = n.document.selection,
                  s = e ? r.getLastPosition().nodeBefore : r.getFirstPosition().nodeAfter;
              return !!Gf(o.toViewElement(s), s, i) && (n.change(function (t) {
                t.setSelection(s, "on"), t.setSelectionAttribute($f, e ? "after" : "before");
              }), !0);
            }
          }, {
            key: "_enableInsertingParagraphsOnButtonClick",
            value: function _enableInsertingParagraphsOnButtonClick() {
              var _this161 = this;

              var e = this.editor,
                  t = e.editing.view;

              this._listenToIfEnabled(t.document, "mousedown", function (n, i) {
                var o = function (e) {
                  return e.closest(".ck-widget__type-around__button");
                }(i.domTarget);

                if (!o) return;

                var r = function (e) {
                  return e.classList.contains("ck-widget__type-around__button_before") ? "before" : "after";
                }(o),
                    s = function (e, t) {
                  var n = e.closest(".ck-widget");
                  return t.mapDomToView(n);
                }(o, t.domConverter),
                    a = e.editing.mapper.toModelElement(s);

                _this161._insertParagraph(a, r), i.preventDefault(), n.stop();
              });
            }
          }, {
            key: "_enableInsertingParagraphsOnEnterKeypress",
            value: function _enableInsertingParagraphsOnEnterKeypress() {
              var _this162 = this;

              var e = this.editor,
                  t = e.model.document.selection,
                  n = e.editing.view;

              this._listenToIfEnabled(n.document, "enter", function (n, i) {
                if ("atTarget" != n.eventPhase) return;
                var o = t.getSelectedElement(),
                    r = e.editing.mapper.toViewElement(o),
                    s = e.model.schema;
                var a;
                _this162._insertParagraphAccordingToFakeCaretPosition() ? a = !0 : Gf(r, o, s) && (_this162._insertParagraph(o, i.isSoft ? "before" : "after"), a = !0), a && (i.preventDefault(), n.stop());
              }, {
                context: Ff
              });
            }
          }, {
            key: "_enableInsertingParagraphsOnTypingKeystroke",
            value: function _enableInsertingParagraphsOnTypingKeystroke() {
              var _this163 = this;

              var e = this.editor.editing.view,
                  t = [Er.enter, Er["delete"], Er.backspace];

              this._listenToIfEnabled(e.document, "keydown", function (e, n) {
                t.includes(n.keyCode) || Qf(n) || _this163._insertParagraphAccordingToFakeCaretPosition();
              }, {
                priority: "high"
              });
            }
          }, {
            key: "_enableDeleteIntegration",
            value: function _enableDeleteIntegration() {
              var e = this.editor,
                  t = e.editing.view,
                  n = e.model,
                  i = n.schema;

              this._listenToIfEnabled(t.document, "delete", function (t, o) {
                if ("atTarget" != t.eventPhase) return;
                var r = Yf(n.document.selection);
                if (!r) return;
                var s = o.direction,
                    a = n.document.selection.getSelectedElement(),
                    c = "forward" == s;
                if ("before" === r === c) e.execute("delete", {
                  selection: n.createSelection(a, "on")
                });else {
                  var _t223 = i.getNearestSelectionRange(n.createPositionAt(a, r), s);

                  if (_t223) if (_t223.isCollapsed) {
                    var _o86 = n.createSelection(_t223.start);

                    if (n.modifySelection(_o86, {
                      direction: s
                    }), _o86.focus.isEqual(_t223.start)) {
                      var _e235 = function (e, t) {
                        var n = t;

                        var _iterator316 = _createForOfIteratorHelper(t.getAncestors({
                          parentFirst: !0
                        })),
                            _step316;

                        try {
                          for (_iterator316.s(); !(_step316 = _iterator316.n()).done;) {
                            var _i176 = _step316.value;
                            if (_i176.childCount > 1 || e.isLimit(_i176)) break;
                            n = _i176;
                          }
                        } catch (err) {
                          _iterator316.e(err);
                        } finally {
                          _iterator316.f();
                        }

                        return n;
                      }(i, _t223.start.parent);

                      n.deleteContent(n.createSelection(_e235, "on"), {
                        doNotAutoparagraph: !0
                      });
                    } else n.change(function (n) {
                      n.setSelection(_t223), e.execute(c ? "deleteForward" : "delete");
                    });
                  } else n.change(function (n) {
                    n.setSelection(_t223), e.execute(c ? "deleteForward" : "delete");
                  });
                }
                o.preventDefault(), t.stop();
              }, {
                context: Ff
              });
            }
          }, {
            key: "_enableInsertContentIntegration",
            value: function _enableInsertContentIntegration() {
              var e = this.editor,
                  t = this.editor.model,
                  n = t.document.selection;

              this._listenToIfEnabled(e.model, "insertContent", function (e, _ref40) {
                var _ref41 = _slicedToArray(_ref40, 2),
                    i = _ref41[0],
                    o = _ref41[1];

                if (o && !o.is("documentSelection")) return;
                var r = Yf(n);
                return r ? (e.stop(), t.change(function (e) {
                  var o = n.getSelectedElement(),
                      s = t.createPositionAt(o, r),
                      a = e.createSelection(s),
                      c = t.insertContent(i, a);
                  return e.setSelection(a), c;
                })) : void 0;
              }, {
                priority: "high"
              });
            }
          }, {
            key: "_enableDeleteContentIntegration",
            value: function _enableDeleteContentIntegration() {
              var e = this.editor,
                  t = this.editor.model.document.selection;

              this._listenToIfEnabled(e.model, "deleteContent", function (e, _ref42) {
                var _ref43 = _slicedToArray(_ref42, 1),
                    n = _ref43[0];

                if (n && !n.is("documentSelection")) return;
                Yf(t) && e.stop();
              }, {
                priority: "high"
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "WidgetTypeAround";
            }
          }, {
            key: "requires",
            get: function get() {
              return [Ef, Pf];
            }
          }]);

          return np;
        }(st);

        function ip(e) {
          var t = e.model;
          return function (n, i) {
            var o = i.keyCode == Er.arrowup,
                r = i.keyCode == Er.arrowdown,
                s = i.shiftKey,
                a = t.document.selection;
            if (!o && !r) return;
            var c = r;
            if (s && function (e, t) {
              return !e.isCollapsed && e.isBackward == t;
            }(a, c)) return;

            var l = function (e, t, n) {
              var i = e.model;

              if (n) {
                var _e236 = t.isCollapsed ? t.focus : t.getLastPosition(),
                    _n215 = op(i, _e236, "forward");

                if (!_n215) return null;

                var _o87 = i.createRange(_e236, _n215),
                    _r44 = rp(i.schema, _o87, "backward");

                return _r44 ? i.createRange(_e236, _r44) : null;
              }

              {
                var _e237 = t.isCollapsed ? t.focus : t.getFirstPosition(),
                    _n216 = op(i, _e237, "backward");

                if (!_n216) return null;

                var _o88 = i.createRange(_n216, _e237),
                    _r45 = rp(i.schema, _o88, "forward");

                return _r45 ? i.createRange(_r45, _e237) : null;
              }
            }(e, a, c);

            if (l) {
              if (l.isCollapsed) {
                if (a.isCollapsed) return;
                if (s) return;
              }

              (l.isCollapsed || function (e, t, n) {
                var i = e.model,
                    o = e.view.domConverter;

                if (n) {
                  var _e238 = i.createSelection(t.start);

                  i.modifySelection(_e238), _e238.focus.isAtEnd || t.start.isEqual(_e238.focus) || (t = i.createRange(_e238.focus, t.end));
                }

                var r = e.mapper.toViewRange(t),
                    s = o.viewRangeToDom(r),
                    a = Wa.getDomRangeRects(s);
                var c;

                var _iterator317 = _createForOfIteratorHelper(a),
                    _step317;

                try {
                  for (_iterator317.s(); !(_step317 = _iterator317.n()).done;) {
                    var _e239 = _step317.value;

                    if (void 0 !== c) {
                      if (Math.round(_e239.top) >= c) return !1;
                      c = Math.max(c, Math.round(_e239.bottom));
                    } else c = Math.round(_e239.bottom);
                  }
                } catch (err) {
                  _iterator317.e(err);
                } finally {
                  _iterator317.f();
                }

                return !0;
              }(e, l, c)) && (t.change(function (e) {
                var n = c ? l.end : l.start;

                if (s) {
                  var _i177 = t.createSelection(a.anchor);

                  _i177.setFocus(n), e.setSelection(_i177);
                } else e.setSelection(n);
              }), n.stop(), i.preventDefault(), i.stopPropagation());
            }
          };
        }

        function op(e, t, n) {
          var i = e.schema,
              o = e.createRangeIn(t.root),
              r = "forward" == n ? "elementStart" : "elementEnd";

          var _iterator318 = _createForOfIteratorHelper(o.getWalker({
            startPosition: t,
            direction: n
          })),
              _step318;

          try {
            for (_iterator318.s(); !(_step318 = _iterator318.n()).done;) {
              var _step318$value = _step318.value,
                  _e240 = _step318$value.previousPosition,
                  _s26 = _step318$value.item,
                  _a16 = _step318$value.type;
              if (i.isLimit(_s26) && !i.isInline(_s26)) return _e240;
              if (_a16 == r && i.isBlock(_s26)) return null;
            }
          } catch (err) {
            _iterator318.e(err);
          } finally {
            _iterator318.f();
          }

          return null;
        }

        function rp(e, t, n) {
          var i = "backward" == n ? t.end : t.start;
          if (e.checkChild(i, "$text")) return i;

          var _iterator319 = _createForOfIteratorHelper(t.getWalker({
            direction: n
          })),
              _step319;

          try {
            for (_iterator319.s(); !(_step319 = _iterator319.n()).done;) {
              var _i178 = _step319.value.nextPosition;
              if (e.checkChild(_i178, "$text")) return _i178;
            }
          } catch (err) {
            _iterator319.e(err);
          } finally {
            _iterator319.f();
          }

          return null;
        }

        n(134);

        var sp = /*#__PURE__*/function (_st6) {
          _inherits(sp, _st6);

          var _super91 = _createSuper(sp);

          function sp() {
            _classCallCheck(this, sp);

            return _super91.apply(this, arguments);
          }

          _createClass(sp, [{
            key: "init",
            value: function init() {
              var _this164 = this;

              var e = this.editor,
                  t = e.editing.view,
                  n = t.document;
              this._previouslySelected = new Set(), this.editor.editing.downcastDispatcher.on("selection", function (t, n, i) {
                var o = i.writer,
                    r = n.selection;
                if (r.isCollapsed) return;
                var s = r.getSelectedElement();
                if (!s) return;
                var a = e.editing.mapper.toViewElement(s);
                Ff(a) && i.consumable.consume(r, "selection") && o.setSelection(o.createRangeOn(a), {
                  fake: !0,
                  label: function (e) {
                    var t = e.getCustomProperty("widgetLabel");
                    return t ? "function" == typeof t ? t() : t : "";
                  }(a)
                });
              }), this.editor.editing.downcastDispatcher.on("selection", function (e, t, n) {
                _this164._clearPreviouslySelectedWidgets(n.writer);

                var i = n.writer,
                    o = i.document.selection;
                var r = null;

                var _iterator320 = _createForOfIteratorHelper(o.getRanges()),
                    _step320;

                try {
                  for (_iterator320.s(); !(_step320 = _iterator320.n()).done;) {
                    var _e241 = _step320.value;

                    var _iterator321 = _createForOfIteratorHelper(_e241),
                        _step321;

                    try {
                      for (_iterator321.s(); !(_step321 = _iterator321.n()).done;) {
                        var _t224 = _step321.value;
                        var _e242 = _t224.item;
                        Ff(_e242) && !ap(_e242, r) && (i.addClass(Bf, _e242), _this164._previouslySelected.add(_e242), r = _e242);
                      }
                    } catch (err) {
                      _iterator321.e(err);
                    } finally {
                      _iterator321.f();
                    }
                  }
                } catch (err) {
                  _iterator320.e(err);
                } finally {
                  _iterator320.f();
                }
              }, {
                priority: "low"
              }), t.addObserver(Ug), this.listenTo(n, "mousedown", function () {
                return _this164._onMousedown.apply(_this164, arguments);
              }), this.listenTo(n, "arrowKey", function () {
                _this164._handleSelectionChangeOnArrowKeyPress.apply(_this164, arguments);
              }, {
                context: [Ff, "$text"]
              }), this.listenTo(n, "arrowKey", function () {
                _this164._preventDefaultOnArrowKeyPress.apply(_this164, arguments);
              }, {
                context: "$root"
              }), this.listenTo(n, "arrowKey", ip(this.editor.editing), {
                context: "$text"
              }), this.listenTo(n, "delete", function (e, t) {
                _this164._handleDelete("forward" == t.direction) && (t.preventDefault(), e.stop());
              }, {
                context: "$root"
              });
            }
          }, {
            key: "_onMousedown",
            value: function _onMousedown(e, t) {
              var n = this.editor,
                  i = n.editing.view,
                  o = i.document;
              var r = t.target;

              if (function (e) {
                for (; e;) {
                  if (e.is("editableElement") && !e.is("rootElement")) return !0;
                  if (Ff(e)) return !1;
                  e = e.parent;
                }

                return !1;
              }(r)) {
                if ((Cr.isSafari || Cr.isGecko) && t.domEvent.detail >= 3) {
                  var _e243 = n.editing.mapper,
                      _i179 = r.is("attributeElement") ? r.findAncestor(function (e) {
                    return !e.is("attributeElement");
                  }) : r,
                      _o89 = _e243.toModelElement(_i179);

                  t.preventDefault(), this.editor.model.change(function (e) {
                    e.setSelection(_o89, "in");
                  });
                }

                return;
              }

              if (!Ff(r) && !(r = r.findAncestor(Ff))) return;
              Cr.isAndroid && t.preventDefault(), o.isFocused || i.focus();
              var s = n.editing.mapper.toModelElement(r);

              this._setSelectionOverElement(s);
            }
          }, {
            key: "_handleSelectionChangeOnArrowKeyPress",
            value: function _handleSelectionChangeOnArrowKeyPress(e, t) {
              var n = t.keyCode,
                  i = this.editor.model,
                  o = i.schema,
                  r = i.document.selection,
                  s = r.getSelectedElement(),
                  a = Rr(n, this.editor.locale.contentLanguageDirection),
                  c = "down" == a || "right" == a,
                  l = "up" == a || "down" == a;

              if (s && o.isObject(s)) {
                var _n217 = c ? r.getLastPosition() : r.getFirstPosition(),
                    _s27 = o.getNearestSelectionRange(_n217, c ? "forward" : "backward");

                return void (_s27 && (i.change(function (e) {
                  e.setSelection(_s27);
                }), t.preventDefault(), e.stop()));
              }

              if (!r.isCollapsed && !t.shiftKey) {
                var _n218 = r.getFirstPosition(),
                    _s28 = r.getLastPosition(),
                    _a17 = _n218.nodeAfter,
                    _l5 = _s28.nodeBefore;

                return void ((_a17 && o.isObject(_a17) || _l5 && o.isObject(_l5)) && (i.change(function (e) {
                  e.setSelection(c ? _s28 : _n218);
                }), t.preventDefault(), e.stop()));
              }

              if (!r.isCollapsed) return;

              var d = this._getObjectElementNextToSelection(c);

              if (d && o.isObject(d)) {
                if (o.isInline(d) && l) return;
                this._setSelectionOverElement(d), t.preventDefault(), e.stop();
              }
            }
          }, {
            key: "_preventDefaultOnArrowKeyPress",
            value: function _preventDefaultOnArrowKeyPress(e, t) {
              var n = this.editor.model,
                  i = n.schema,
                  o = n.document.selection.getSelectedElement();
              o && i.isObject(o) && (t.preventDefault(), e.stop());
            }
          }, {
            key: "_handleDelete",
            value: function _handleDelete(e) {
              var _this165 = this;

              if (this.editor.isReadOnly) return;
              var t = this.editor.model.document.selection;
              if (!t.isCollapsed) return;

              var n = this._getObjectElementNextToSelection(e);

              return n ? (this.editor.model.change(function (e) {
                var i = t.anchor.parent;

                for (; i.isEmpty;) {
                  var _t225 = i;
                  i = _t225.parent, e.remove(_t225);
                }

                _this165._setSelectionOverElement(n);
              }), !0) : void 0;
            }
          }, {
            key: "_setSelectionOverElement",
            value: function _setSelectionOverElement(e) {
              this.editor.model.change(function (t) {
                t.setSelection(t.createRangeOn(e));
              });
            }
          }, {
            key: "_getObjectElementNextToSelection",
            value: function _getObjectElementNextToSelection(e) {
              var t = this.editor.model,
                  n = t.schema,
                  i = t.document.selection,
                  o = t.createSelection(i);
              if (t.modifySelection(o, {
                direction: e ? "forward" : "backward"
              }), o.isEqual(i)) return null;
              var r = e ? o.focus.nodeBefore : o.focus.nodeAfter;
              return r && n.isObject(r) ? r : null;
            }
          }, {
            key: "_clearPreviouslySelectedWidgets",
            value: function _clearPreviouslySelectedWidgets(e) {
              var _iterator322 = _createForOfIteratorHelper(this._previouslySelected),
                  _step322;

              try {
                for (_iterator322.s(); !(_step322 = _iterator322.n()).done;) {
                  var _t226 = _step322.value;
                  e.removeClass(Bf, _t226);
                }
              } catch (err) {
                _iterator322.e(err);
              } finally {
                _iterator322.f();
              }

              this._previouslySelected.clear();
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "Widget";
            }
          }, {
            key: "requires",
            get: function get() {
              return [np, Pf];
            }
          }]);

          return sp;
        }(st);

        function ap(e, t) {
          return !!t && Array.from(e.getAncestors()).includes(t);
        }

        var cp = "Expected a function";

        var lp = function lp(e, t, n) {
          var i = !0,
              o = !0;
          if ("function" != typeof e) throw new TypeError(cp);
          return b(n) && (i = "leading" in n ? !!n.leading : i, o = "trailing" in n ? !!n.trailing : o), Ra(e, t, {
            leading: i,
            maxWait: t,
            trailing: o
          });
        };

        n(136);

        var dp = /*#__PURE__*/function (_st7) {
          _inherits(dp, _st7);

          var _super92 = _createSuper(dp);

          function dp() {
            _classCallCheck(this, dp);

            return _super92.apply(this, arguments);
          }

          _createClass(dp, [{
            key: "init",
            value: function init() {
              var _this166 = this;

              var e = this.editor,
                  t = e.editing.view;
              this._draggedRange = null, this._draggingUid = "", this._draggableElement = null, this._updateDropMarkerThrottled = lp(function (e) {
                return _this166._updateDropMarker(e);
              }, 40), this._removeDropMarkerDelayed = gp(function () {
                return _this166._removeDropMarker();
              }, 40), this._clearDraggableAttributesDelayed = gp(function () {
                return _this166._clearDraggableAttributes();
              }, 40), t.addObserver(_f), t.addObserver(Ug), this._setupDragging(), this._setupContentInsertionIntegration(), this._setupClipboardInputIntegration(), this._setupDropMarker(), this._setupDraggableAttributeHandling(), this.listenTo(e, "change:isReadOnly", function (e, t, n) {
                n ? _this166.forceDisabled("readOnlyMode") : _this166.clearForceDisabled("readOnlyMode");
              }), this.on("change:isEnabled", function (e, t, n) {
                n || _this166._finalizeDragging(!1);
              }), Cr.isAndroid && this.forceDisabled("noAndroidSupport");
            }
          }, {
            key: "destroy",
            value: function destroy() {
              return this._draggedRange && (this._draggedRange.detach(), this._draggedRange = null), this._updateDropMarkerThrottled.cancel(), this._removeDropMarkerDelayed.cancel(), this._clearDraggableAttributesDelayed.cancel(), _get(_getPrototypeOf(dp.prototype), "destroy", this).call(this);
            }
          }, {
            key: "_setupDragging",
            value: function _setupDragging() {
              var _this167 = this;

              var e = this.editor,
                  t = e.model,
                  n = t.document,
                  i = e.editing.view,
                  o = i.document;
              this.listenTo(o, "dragstart", function (i, r) {
                var a = n.selection;
                if (r.target && r.target.is("editableElement")) return void r.preventDefault();
                var c = r.target ? mp(r.target) : null;

                if (c) {
                  var _n219 = e.editing.mapper.toModelElement(c);

                  _this167._draggedRange = Lc.fromRange(t.createRangeOn(_n219)), e.plugins.has("WidgetToolbarRepository") && e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");
                } else if (!o.selection.isCollapsed) {
                  var _e244 = o.selection.getSelectedElement();

                  _e244 && Ff(_e244) || (_this167._draggedRange = Lc.fromRange(a.getFirstRange()));
                }

                if (!_this167._draggedRange) return void r.preventDefault();
                _this167._draggingUid = s(), r.dataTransfer.effectAllowed = _this167.isEnabled ? "copyMove" : "copy", r.dataTransfer.setData("application/ckeditor5-dragging-uid", _this167._draggingUid);
                var l = t.createSelection(_this167._draggedRange.toRange()),
                    d = e.data.toView(t.getSelectedContent(l));
                o.fire("clipboardOutput", {
                  dataTransfer: r.dataTransfer,
                  content: d,
                  method: i.name
                }), _this167.isEnabled || (_this167._draggedRange.detach(), _this167._draggedRange = null, _this167._draggingUid = "");
              }, {
                priority: "low"
              }), this.listenTo(o, "dragend", function (e, t) {
                _this167._finalizeDragging(!t.dataTransfer.isCanceled && "move" == t.dataTransfer.dropEffect);
              }, {
                priority: "low"
              }), this.listenTo(o, "dragenter", function () {
                _this167.isEnabled && i.focus();
              }), this.listenTo(o, "dragleave", function () {
                _this167._removeDropMarkerDelayed();
              }), this.listenTo(o, "dragging", function (t, n) {
                if (!_this167.isEnabled) return void (n.dataTransfer.dropEffect = "none");

                _this167._removeDropMarkerDelayed.cancel();

                var i = up(e, n.targetRanges, n.target);
                _this167._draggedRange || (n.dataTransfer.dropEffect = "copy"), Cr.isGecko || ("copy" == n.dataTransfer.effectAllowed ? n.dataTransfer.dropEffect = "copy" : ["all", "copyMove"].includes(n.dataTransfer.effectAllowed) && (n.dataTransfer.dropEffect = "move")), i && _this167._updateDropMarkerThrottled(i);
              }, {
                priority: "low"
              });
            }
          }, {
            key: "_setupClipboardInputIntegration",
            value: function _setupClipboardInputIntegration() {
              var _this168 = this;

              var e = this.editor,
                  t = e.editing.view.document;
              this.listenTo(t, "clipboardInput", function (t, n) {
                if ("drop" != n.method) return;
                var i = up(e, n.targetRanges, n.target);
                return _this168._removeDropMarker(), i ? (_this168._draggedRange && _this168._draggingUid != n.dataTransfer.getData("application/ckeditor5-dragging-uid") && (_this168._draggedRange.detach(), _this168._draggedRange = null, _this168._draggingUid = ""), "move" == hp(n.dataTransfer) && _this168._draggedRange && _this168._draggedRange.containsRange(i, !0) ? (_this168._finalizeDragging(!1), void t.stop()) : void (n.targetRanges = [e.editing.mapper.toViewRange(i)])) : (_this168._finalizeDragging(!1), void t.stop());
              }, {
                priority: "high"
              });
            }
          }, {
            key: "_setupContentInsertionIntegration",
            value: function _setupContentInsertionIntegration() {
              var _this169 = this;

              var e = this.editor.plugins.get(xf);
              e.on("contentInsertion", function (e, t) {
                if (!_this169.isEnabled || "drop" !== t.method) return;
                var n = t.targetRanges.map(function (e) {
                  return _this169.editor.editing.mapper.toModelRange(e);
                });

                _this169.editor.model.change(function (e) {
                  return e.setSelection(n);
                });
              }, {
                priority: "high"
              }), e.on("contentInsertion", function (e, t) {
                if (!_this169.isEnabled || "drop" !== t.method) return;
                var n = "move" == hp(t.dataTransfer),
                    i = !t.resultRange || !t.resultRange.isCollapsed;

                _this169._finalizeDragging(i && n);
              }, {
                priority: "lowest"
              });
            }
          }, {
            key: "_setupDraggableAttributeHandling",
            value: function _setupDraggableAttributeHandling() {
              var _this170 = this;

              var e = this.editor,
                  t = e.editing.view,
                  n = t.document;
              this.listenTo(n, "mousedown", function (i, o) {
                if (Cr.isAndroid || !o) return;

                _this170._clearDraggableAttributesDelayed.cancel();

                var r = mp(o.target);

                if (Cr.isBlink && !e.isReadOnly && !r && !n.selection.isCollapsed) {
                  var _e245 = n.selection.getSelectedElement();

                  _e245 && Ff(_e245) || (r = n.selection.editableElement);
                }

                r && (t.change(function (e) {
                  e.setAttribute("draggable", "true", r);
                }), _this170._draggableElement = e.editing.mapper.toModelElement(r));
              }), this.listenTo(n, "mouseup", function () {
                Cr.isAndroid || _this170._clearDraggableAttributesDelayed();
              });
            }
          }, {
            key: "_clearDraggableAttributes",
            value: function _clearDraggableAttributes() {
              var _this171 = this;

              var e = this.editor.editing;
              e.view.change(function (t) {
                _this171._draggableElement && "$graveyard" != _this171._draggableElement.root.rootName && t.removeAttribute("draggable", e.mapper.toViewElement(_this171._draggableElement)), _this171._draggableElement = null;
              });
            }
          }, {
            key: "_setupDropMarker",
            value: function _setupDropMarker() {
              var e = this.editor;
              e.conversion["for"]("editingDowncast").markerToHighlight({
                model: "drop-target",
                view: {
                  classes: ["ck-clipboard-drop-target-range"]
                }
              }), e.conversion["for"]("editingDowncast").markerToElement({
                model: "drop-target",
                view: function view(t, _ref44) {
                  var n = _ref44.writer;
                  if (e.model.schema.checkChild(t.markerRange.start, "$text")) return n.createUIElement("span", {
                    "class": "ck ck-clipboard-drop-target-position"
                  }, function (e) {
                    var t = this.toDomElement(e);
                    return t.innerHTML = "&NoBreak;<span></span>&NoBreak;", t;
                  });
                }
              });
            }
          }, {
            key: "_updateDropMarker",
            value: function _updateDropMarker(e) {
              var t = this.editor,
                  n = t.model.markers;
              t.model.change(function (t) {
                n.has("drop-target") ? n.get("drop-target").getRange().isEqual(e) || t.updateMarker("drop-target", {
                  range: e
                }) : t.addMarker("drop-target", {
                  range: e,
                  usingOperation: !1,
                  affectsData: !1
                });
              });
            }
          }, {
            key: "_removeDropMarker",
            value: function _removeDropMarker() {
              var e = this.editor.model;
              this._removeDropMarkerDelayed.cancel(), this._updateDropMarkerThrottled.cancel(), e.markers.has("drop-target") && e.change(function (e) {
                e.removeMarker("drop-target");
              });
            }
          }, {
            key: "_finalizeDragging",
            value: function _finalizeDragging(e) {
              var t = this.editor,
                  n = t.model;
              this._removeDropMarker(), this._clearDraggableAttributes(), t.plugins.has("WidgetToolbarRepository") && t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"), this._draggingUid = "", this._draggedRange && (e && this.isEnabled && n.deleteContent(n.createSelection(this._draggedRange), {
                doNotAutoparagraph: !0
              }), this._draggedRange.detach(), this._draggedRange = null);
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "DragDrop";
            }
          }, {
            key: "requires",
            get: function get() {
              return [xf, sp];
            }
          }]);

          return dp;
        }(st);

        function up(e, t, n) {
          var i = e.model,
              o = e.editing.mapper;
          var r = null;
          var s = t ? t[0].start : null;
          if (n.is("uiElement") && (n = n.parent), r = function (e, t) {
            var n = e.model,
                i = e.editing.mapper;
            if (Ff(t)) return n.createRangeOn(i.toModelElement(t));

            if (!t.is("editableElement")) {
              var _e246 = t.findAncestor(function (e) {
                return Ff(e) || e.is("editableElement");
              });

              if (Ff(_e246)) return n.createRangeOn(i.toModelElement(_e246));
            }

            return null;
          }(e, n)) return r;

          var a = function (e, t) {
            var n = e.editing.mapper,
                i = e.editing.view,
                o = n.toModelElement(t);
            if (o) return o;
            var r = i.createPositionBefore(t),
                s = n.findMappedViewAncestor(r);
            return n.toModelElement(s);
          }(e, n),
              c = s ? o.toModelPosition(s) : null;

          return c ? (r = function (e, t, n) {
            var i = e.model;
            if (!i.schema.checkChild(n, "$block")) return null;
            var o = i.createPositionAt(n, 0),
                r = t.path.slice(0, o.path.length),
                s = i.createPositionFromPath(t.root, r).nodeAfter;
            if (s && i.schema.isObject(s)) return i.createRangeOn(s);
            return null;
          }(e, c, a)) ? r : (r = i.schema.getNearestSelectionRange(c, Cr.isGecko ? "forward" : "backward")) || function (e, t) {
            var n = e.model;

            for (; t;) {
              if (n.schema.isObject(t)) return n.createRangeOn(t);
              t = t.parent;
            }
          }(e, c.parent) : function (e, t) {
            var n = e.model,
                i = n.schema,
                o = n.createPositionAt(t, 0);
            return i.getNearestSelectionRange(o, "forward");
          }(e, a);
        }

        function hp(e) {
          return Cr.isGecko ? e.dropEffect : ["all", "copyMove"].includes(e.effectAllowed) ? "move" : "copy";
        }

        function gp(e, t) {
          var n;

          function i() {
            for (var _len21 = arguments.length, o = new Array(_len21), _key21 = 0; _key21 < _len21; _key21++) {
              o[_key21] = arguments[_key21];
            }

            i.cancel(), n = setTimeout(function () {
              return e.apply(void 0, o);
            }, t);
          }

          return i.cancel = function () {
            clearTimeout(n);
          }, i;
        }

        function mp(e) {
          if (e.is("editableElement")) return null;
          if (e.hasClass("ck-widget__selection-handle")) return e.findAncestor(Ff);
          if (Ff(e)) return e;
          var t = e.findAncestor(function (e) {
            return Ff(e) || e.is("editableElement");
          });
          return Ff(t) ? t : null;
        }

        var fp = /*#__PURE__*/function (_st8) {
          _inherits(fp, _st8);

          var _super93 = _createSuper(fp);

          function fp() {
            _classCallCheck(this, fp);

            return _super93.apply(this, arguments);
          }

          _createClass(fp, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = e.model,
                  n = e.editing.view,
                  i = n.document,
                  o = t.document.selection;
              var r = !1;
              n.addObserver(_f), this.listenTo(i, "keydown", function (e, t) {
                r = t.shiftKey;
              }), e.plugins.get(xf).on("contentInsertion", function (e, n) {
                (r || function (e, t) {
                  if (e.childCount > 1) return !1;
                  var n = e.getChild(0);
                  if (t.isObject(n)) return !1;
                  return 0 == _toConsumableArray(n.getAttributeKeys()).length;
                }(n.content, t.schema)) && t.change(function (e) {
                  var i = Array.from(o.getAttributes()).filter(function (_ref45) {
                    var _ref46 = _slicedToArray(_ref45, 1),
                        e = _ref46[0];

                    return t.schema.getAttributeProperties(e).isFormatting;
                  });
                  o.isCollapsed || t.deleteContent(o, {
                    doNotAutoparagraph: !0
                  }), i.push.apply(i, _toConsumableArray(o.getAttributes()));
                  var r = e.createRangeIn(n.content);

                  var _iterator323 = _createForOfIteratorHelper(r.getItems()),
                      _step323;

                  try {
                    for (_iterator323.s(); !(_step323 = _iterator323.n()).done;) {
                      var _t227 = _step323.value;
                      _t227.is("$textProxy") && e.setAttributes(i, _t227);
                    }
                  } catch (err) {
                    _iterator323.e(err);
                  } finally {
                    _iterator323.f();
                  }
                });
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "PastePlainText";
            }
          }, {
            key: "requires",
            get: function get() {
              return [xf];
            }
          }]);

          return fp;
        }(st);

        var pp = /*#__PURE__*/function (_st9) {
          _inherits(pp, _st9);

          var _super94 = _createSuper(pp);

          function pp() {
            _classCallCheck(this, pp);

            return _super94.apply(this, arguments);
          }

          _createClass(pp, null, [{
            key: "pluginName",
            get: function get() {
              return "Clipboard";
            }
          }, {
            key: "requires",
            get: function get() {
              return [xf, dp, fp];
            }
          }]);

          return pp;
        }(st);

        var kp = /*#__PURE__*/function (_ct3) {
          _inherits(kp, _ct3);

          var _super95 = _createSuper(kp);

          function kp() {
            _classCallCheck(this, kp);

            return _super95.apply(this, arguments);
          }

          _createClass(kp, [{
            key: "execute",
            value: function execute() {
              var _this172 = this;

              var e = this.editor.model,
                  t = e.document;
              e.change(function (n) {
                !function (e, t, n) {
                  var i = n.isCollapsed,
                      o = n.getFirstRange(),
                      r = o.start.parent,
                      s = o.end.parent,
                      a = r == s;

                  if (i) {
                    var _i180 = yf(e.schema, n.getAttributes());

                    bp(e, t, o.end), t.removeSelectionAttribute(n.getAttributeKeys()), t.setSelectionAttribute(_i180);
                  } else {
                    var _i181 = !(o.start.isAtStart && o.end.isAtEnd);

                    e.deleteContent(n, {
                      leaveUnmerged: _i181
                    }), a ? bp(e, t, n.focus) : _i181 && t.setSelection(s, 0);
                  }
                }(e, n, t.selection), _this172.fire("afterExecute", {
                  writer: n
                });
              });
            }
          }, {
            key: "refresh",
            value: function refresh() {
              var e = this.editor.model,
                  t = e.document;

              this.isEnabled = function (e, t) {
                if (t.rangeCount > 1) return !1;
                var n = t.anchor;
                if (!n || !e.checkChild(n, "softBreak")) return !1;
                var i = t.getFirstRange(),
                    o = i.start.parent,
                    r = i.end.parent;
                if ((wp(o, e) || wp(r, e)) && o !== r) return !1;
                return !0;
              }(e.schema, t.selection);
            }
          }]);

          return kp;
        }(ct);

        function bp(e, t, n) {
          var i = t.createElement("softBreak");
          e.insertContent(i, n), t.setSelection(i, "after");
        }

        function wp(e, t) {
          return !e.is("rootElement") && (t.isLimit(e) || wp(e.parent, t));
        }

        var _p = /*#__PURE__*/function (_st10) {
          _inherits(_p, _st10);

          var _super96 = _createSuper(_p);

          function _p() {
            _classCallCheck(this, _p);

            return _super96.apply(this, arguments);
          }

          _createClass(_p, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = e.model.schema,
                  n = e.conversion,
                  i = e.editing.view,
                  o = i.document;
              t.register("softBreak", {
                allowWhere: "$text",
                isInline: !0
              }), n["for"]("upcast").elementToElement({
                model: "softBreak",
                view: "br"
              }), n["for"]("downcast").elementToElement({
                model: "softBreak",
                view: function view(e, _ref47) {
                  var t = _ref47.writer;
                  return t.createEmptyElement("br");
                }
              }), i.addObserver(Af), e.commands.add("shiftEnter", new kp(e)), this.listenTo(o, "enter", function (t, n) {
                n.preventDefault(), n.isSoft && (e.execute("shiftEnter"), i.scrollToTheSelection());
              }, {
                priority: "low"
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "ShiftEnter";
            }
          }]);

          return _p;
        }(st);

        var vp = /*#__PURE__*/function (_ct4) {
          _inherits(vp, _ct4);

          var _super97 = _createSuper(vp);

          function vp(e) {
            var _this173;

            _classCallCheck(this, vp);

            _this173 = _super97.call(this, e), _this173.affectsData = !1;
            return _this173;
          }

          _createClass(vp, [{
            key: "execute",
            value: function execute() {
              var e = this.editor.model,
                  t = e.document.selection;
              var n = e.schema.getLimitElement(t);
              if (t.containsEntireContent(n) || !xp(e.schema, n)) do {
                if (!(n = n.parent)) return;
              } while (!xp(e.schema, n));
              e.change(function (e) {
                e.setSelection(n, "in");
              });
            }
          }]);

          return vp;
        }(ct);

        function xp(e, t) {
          return e.isLimit(t) && (e.checkChild(t, "$text") || e.checkChild(t, "paragraph"));
        }

        var yp = Mr("Ctrl+A");

        var Cp = /*#__PURE__*/function (_st11) {
          _inherits(Cp, _st11);

          var _super98 = _createSuper(Cp);

          function Cp() {
            _classCallCheck(this, Cp);

            return _super98.apply(this, arguments);
          }

          _createClass(Cp, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = e.editing.view.document;
              e.commands.add("selectAll", new vp(e)), this.listenTo(t, "keydown", function (t, n) {
                Sr(n) === yp && (e.execute("selectAll"), n.preventDefault());
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "SelectAllEditing";
            }
          }]);

          return Cp;
        }(st);

        var Tp = n(55),
            Ap = n.n(Tp);

        var Ep = /*#__PURE__*/function (_st12) {
          _inherits(Ep, _st12);

          var _super99 = _createSuper(Ep);

          function Ep() {
            _classCallCheck(this, Ep);

            return _super99.apply(this, arguments);
          }

          _createClass(Ep, [{
            key: "init",
            value: function init() {
              var _this174 = this;

              var e = this.editor;
              e.ui.componentFactory.add("selectAll", function (t) {
                var n = e.commands.get("selectAll"),
                    i = new Th(t),
                    o = t.t;
                return i.set({
                  label: o("Select all"),
                  icon: Ap.a,
                  keystroke: "Ctrl+A",
                  tooltip: !0
                }), i.bind("isOn", "isEnabled").to(n, "value", "isEnabled"), _this174.listenTo(i, "execute", function () {
                  e.execute("selectAll"), e.editing.view.focus();
                }), i;
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "SelectAllUI";
            }
          }]);

          return Ep;
        }(st);

        var Ip = /*#__PURE__*/function (_st13) {
          _inherits(Ip, _st13);

          var _super100 = _createSuper(Ip);

          function Ip() {
            _classCallCheck(this, Ip);

            return _super100.apply(this, arguments);
          }

          _createClass(Ip, null, [{
            key: "requires",
            get: function get() {
              return [Cp, Ep];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "SelectAll";
            }
          }]);

          return Ip;
        }(st);

        var Sp = /*#__PURE__*/function (_ct5) {
          _inherits(Sp, _ct5);

          var _super101 = _createSuper(Sp);

          function Sp(e, t) {
            var _this175;

            _classCallCheck(this, Sp);

            _this175 = _super101.call(this, e), _this175._buffer = new If(e.model, t), _this175._batches = new WeakSet();
            return _this175;
          }

          _createClass(Sp, [{
            key: "buffer",
            get: function get() {
              return this._buffer;
            }
          }, {
            key: "destroy",
            value: function destroy() {
              _get(_getPrototypeOf(Sp.prototype), "destroy", this).call(this), this._buffer.destroy();
            }
          }, {
            key: "execute",
            value: function execute() {
              var _this176 = this;

              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
              var t = this.editor.model,
                  n = t.document,
                  i = e.text || "",
                  o = i.length,
                  r = e.range ? t.createSelection(e.range) : n.selection,
                  s = e.resultRange;
              t.enqueueChange(this._buffer.batch, function (e) {
                _this176._buffer.lock(), _this176._batches.add(_this176._buffer.batch), t.deleteContent(r), i && t.insertContent(e.createText(i, n.selection.getAttributes()), r), s ? e.setSelection(s) : r.is("documentSelection") || e.setSelection(r), _this176._buffer.unlock(), _this176._buffer.input(o);
              });
            }
          }]);

          return Sp;
        }(ct);

        function Mp(e) {
          if (e.newChildren.length - e.oldChildren.length != 1) return;

          var t = function (e, t) {
            var n = [];
            var i,
                o = 0;
            return e.forEach(function (e) {
              "equal" == e ? (r(), o++) : "insert" == e ? (s("insert") ? i.values.push(t[o]) : (r(), i = {
                type: "insert",
                index: o,
                values: [t[o]]
              }), o++) : s("delete") ? i.howMany++ : (r(), i = {
                type: "delete",
                index: o,
                howMany: 1
              });
            }), r(), n;

            function r() {
              i && (n.push(i), i = null);
            }

            function s(e) {
              return i && i.type == e;
            }
          }(cs(e.oldChildren, e.newChildren, Pp), e.newChildren);

          if (t.length > 1) return;
          var n = t[0];
          return n.values[0] && n.values[0].is("$text") ? n : void 0;
        }

        function Pp(e, t) {
          return e && e.is("$text") && t && t.is("$text") ? e.data === t.data : e === t;
        }

        var Rp = /*#__PURE__*/function () {
          function Rp(e) {
            _classCallCheck(this, Rp);

            this.editor = e, this.editing = this.editor.editing;
          }

          _createClass(Rp, [{
            key: "handle",
            value: function handle(e, t) {
              if (function (e) {
                if (0 == e.length) return !1;

                var _iterator324 = _createForOfIteratorHelper(e),
                    _step324;

                try {
                  for (_iterator324.s(); !(_step324 = _iterator324.n()).done;) {
                    var _t228 = _step324.value;
                    if ("children" === _t228.type && !Mp(_t228)) return !0;
                  }
                } catch (err) {
                  _iterator324.e(err);
                } finally {
                  _iterator324.f();
                }

                return !1;
              }(e)) this._handleContainerChildrenMutations(e, t);else {
                var _iterator325 = _createForOfIteratorHelper(e),
                    _step325;

                try {
                  for (_iterator325.s(); !(_step325 = _iterator325.n()).done;) {
                    var _n220 = _step325.value;
                    this._handleTextMutation(_n220, t), this._handleTextNodeInsertion(_n220);
                  }
                } catch (err) {
                  _iterator325.e(err);
                } finally {
                  _iterator325.f();
                }
              }
            }
          }, {
            key: "_handleContainerChildrenMutations",
            value: function _handleContainerChildrenMutations(e, t) {
              var n = function (e) {
                var t = e.map(function (e) {
                  return e.node;
                }).reduce(function (e, t) {
                  return e.getCommonAncestor(t, {
                    includeSelf: !0
                  });
                });
                if (!t) return;
                return t.getAncestors({
                  includeSelf: !0,
                  parentFirst: !0
                }).find(function (e) {
                  return e.is("containerElement") || e.is("rootElement");
                });
              }(e);

              if (!n) return;
              var i = this.editor.editing.view.domConverter.mapViewToDom(n),
                  o = new vs(this.editor.editing.view.document),
                  r = this.editor.data.toModel(o.domToView(i)).getChild(0),
                  s = this.editor.editing.mapper.toModelElement(n);
              if (!s) return;
              var a = Array.from(r.getChildren()),
                  c = Array.from(s.getChildren()),
                  l = a[a.length - 1],
                  d = c[c.length - 1],
                  u = l && l.is("element", "softBreak"),
                  h = d && !d.is("element", "softBreak");
              u && h && a.pop();
              var g = this.editor.model.schema;
              if (!Np(a, g) || !Np(c, g)) return;
              var m = a.map(function (e) {
                return e.is("$text") ? e.data : "@";
              }).join("").replace(/\u00A0/g, " "),
                  f = c.map(function (e) {
                return e.is("$text") ? e.data : "@";
              }).join("").replace(/\u00A0/g, " ");
              if (f === m) return;

              var p = cs(f, m),
                  _Op = Op(p),
                  k = _Op.firstChangeAt,
                  b = _Op.insertions,
                  w = _Op.deletions;

              var _ = null;
              t && (_ = this.editing.mapper.toModelRange(t.getFirstRange()));
              var v = m.substr(k, b),
                  x = this.editor.model.createRange(this.editor.model.createPositionAt(s, k), this.editor.model.createPositionAt(s, k + w));
              this.editor.execute("input", {
                text: v,
                range: x,
                resultRange: _
              });
            }
          }, {
            key: "_handleTextMutation",
            value: function _handleTextMutation(e, t) {
              if ("text" != e.type) return;
              var n = e.newText.replace(/\u00A0/g, " "),
                  i = e.oldText.replace(/\u00A0/g, " ");
              if (i === n) return;

              var o = cs(i, n),
                  _Op2 = Op(o),
                  r = _Op2.firstChangeAt,
                  s = _Op2.insertions,
                  a = _Op2.deletions;

              var c = null;
              t && (c = this.editing.mapper.toModelRange(t.getFirstRange()));
              var l = this.editing.view.createPositionAt(e.node, r),
                  d = this.editing.mapper.toModelPosition(l),
                  u = this.editor.model.createRange(d, d.getShiftedBy(a)),
                  h = n.substr(r, s);
              this.editor.execute("input", {
                text: h,
                range: u,
                resultRange: c
              });
            }
          }, {
            key: "_handleTextNodeInsertion",
            value: function _handleTextNodeInsertion(e) {
              if ("children" != e.type) return;
              var t = Mp(e),
                  n = this.editing.view.createPositionAt(e.node, t.index),
                  i = this.editing.mapper.toModelPosition(n),
                  o = t.values[0].data;
              this.editor.execute("input", {
                text: o.replace(/\u00A0/g, " "),
                range: this.editor.model.createRange(i)
              });
            }
          }]);

          return Rp;
        }();

        function Np(e, t) {
          return e.every(function (e) {
            return t.isInline(e);
          });
        }

        function Op(e) {
          var t = null,
              n = null;

          for (var _i182 = 0; _i182 < e.length; _i182++) {
            "equal" != e[_i182] && (t = null === t ? _i182 : t, n = _i182);
          }

          var i = 0,
              o = 0;

          for (var _r46 = t; _r46 <= n; _r46++) {
            "insert" != e[_r46] && i++, "delete" != e[_r46] && o++;
          }

          return {
            insertions: o,
            deletions: i,
            firstChangeAt: t
          };
        }

        var Dp = /*#__PURE__*/function (_st14) {
          _inherits(Dp, _st14);

          var _super102 = _createSuper(Dp);

          function Dp() {
            _classCallCheck(this, Dp);

            return _super102.apply(this, arguments);
          }

          _createClass(Dp, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = new Sp(e, e.config.get("typing.undoStep") || 20);
              e.commands.add("input", t), function (e) {
                var t = null;
                var n = e.model,
                    i = e.editing.view,
                    o = e.commands.get("input");

                function r(e) {
                  var r = n.document,
                      a = i.document.isComposing,
                      c = t && t.isEqual(r.selection);
                  t = null, o.isEnabled && (Qf(e) || r.selection.isCollapsed || a && 229 === e.keyCode || !a && 229 === e.keyCode && c || s());
                }

                function s() {
                  var e = o.buffer;
                  e.lock();
                  var t = e.batch;
                  o._batches.add(t), n.enqueueChange(t, function () {
                    n.deleteContent(n.document.selection);
                  }), e.unlock();
                }

                Cr.isAndroid ? i.document.on("beforeinput", function (e, t) {
                  return r(t);
                }, {
                  priority: "lowest"
                }) : i.document.on("keydown", function (e, t) {
                  return r(t);
                }, {
                  priority: "lowest"
                }), i.document.on("compositionstart", function () {
                  var e = n.document,
                      t = 1 !== e.selection.rangeCount || e.selection.getFirstRange().isFlat;
                  e.selection.isCollapsed || t || s();
                }, {
                  priority: "lowest"
                }), i.document.on("compositionend", function () {
                  t = n.createSelection(n.document.selection);
                }, {
                  priority: "lowest"
                });
              }(e), function (e) {
                e.editing.view.document.on("mutations", function (t, n, i) {
                  new Rp(e).handle(n, i);
                });
              }(e);
            }
          }, {
            key: "isInput",
            value: function isInput(e) {
              return this.editor.commands.get("input")._batches.has(e);
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "Input";
            }
          }]);

          return Dp;
        }(st);

        var Lp = /*#__PURE__*/function (_st15) {
          _inherits(Lp, _st15);

          var _super103 = _createSuper(Lp);

          function Lp() {
            _classCallCheck(this, Lp);

            return _super103.apply(this, arguments);
          }

          _createClass(Lp, null, [{
            key: "requires",
            get: function get() {
              return [Dp, Pf];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "Typing";
            }
          }]);

          return Lp;
        }(st);

        function zp(e, t) {
          var n = e.start;
          return {
            text: Array.from(e.getItems()).reduce(function (e, i) {
              return i.is("$text") || i.is("$textProxy") ? e + i.data : (n = t.createPositionAfter(i), "");
            }, ""),
            range: t.createRange(n, e.end)
          };
        }

        var Vp = /*#__PURE__*/function () {
          function Vp(e, t) {
            var _this177 = this;

            _classCallCheck(this, Vp);

            this.model = e, this.testCallback = t, this.hasMatch = !1, this.set("isEnabled", !0), this.on("change:isEnabled", function () {
              _this177.isEnabled ? _this177._startListening() : (_this177.stopListening(e.document.selection), _this177.stopListening(e.document));
            }), this._startListening();
          }

          _createClass(Vp, [{
            key: "_startListening",
            value: function _startListening() {
              var _this178 = this;

              var e = this.model.document;
              this.listenTo(e.selection, "change:range", function (t, _ref48) {
                var n = _ref48.directChange;
                n && (e.selection.isCollapsed ? _this178._evaluateTextBeforeSelection("selection") : _this178.hasMatch && (_this178.fire("unmatched"), _this178.hasMatch = !1));
              }), this.listenTo(e, "change:data", function (e, t) {
                "transparent" != t.type && _this178._evaluateTextBeforeSelection("data", {
                  batch: t
                });
              });
            }
          }, {
            key: "_evaluateTextBeforeSelection",
            value: function _evaluateTextBeforeSelection(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

              var n = this.model,
                  i = n.document.selection,
                  o = n.createRange(n.createPositionAt(i.focus.parent, 0), i.focus),
                  _zp = zp(o, n),
                  r = _zp.text,
                  s = _zp.range,
                  a = this.testCallback(r);

              if (!a && this.hasMatch && this.fire("unmatched"), this.hasMatch = !!a, a) {
                var _n221 = Object.assign(t, {
                  text: r,
                  range: s
                });

                "object" == typeof a && Object.assign(_n221, a), this.fire("matched:".concat(e), _n221);
              }
            }
          }]);

          return Vp;
        }();

        rt(Vp, Ze);

        var Bp = /*#__PURE__*/function (_st16) {
          _inherits(Bp, _st16);

          var _super104 = _createSuper(Bp);

          function Bp(e) {
            var _this179;

            _classCallCheck(this, Bp);

            _this179 = _super104.call(this, e), _this179.attributes = new Set(), _this179._overrideUid = null;
            return _this179;
          }

          _createClass(Bp, [{
            key: "init",
            value: function init() {
              var _this180 = this;

              var e = this.editor,
                  t = e.model,
                  n = e.editing.view,
                  i = e.locale,
                  o = t.document.selection;
              this.listenTo(n.document, "arrowKey", function (e, t) {
                if (!o.isCollapsed) return;
                if (t.shiftKey || t.altKey || t.ctrlKey) return;
                var n = t.keyCode == Er.arrowright,
                    r = t.keyCode == Er.arrowleft;
                if (!n && !r) return;
                var s = i.contentLanguageDirection;
                var a = !1;
                !0 === (a = "ltr" === s && n || "rtl" === s && r ? _this180._handleForwardMovement(t) : _this180._handleBackwardMovement(t)) && e.stop();
              }, {
                context: "$text",
                priority: "highest"
              }), this._isNextGravityRestorationSkipped = !1, this.listenTo(o, "change:range", function (e, t) {
                _this180._isNextGravityRestorationSkipped ? _this180._isNextGravityRestorationSkipped = !1 : _this180._isGravityOverridden && (!t.directChange && Up(o.getFirstPosition(), _this180.attributes) || _this180._restoreGravity());
              });
            }
          }, {
            key: "registerAttribute",
            value: function registerAttribute(e) {
              this.attributes.add(e);
            }
          }, {
            key: "_handleForwardMovement",
            value: function _handleForwardMovement(e) {
              var t = this.attributes,
                  n = this.editor.model.document.selection,
                  i = n.getFirstPosition();
              return !this._isGravityOverridden && (!i.isAtStart || !Fp(n, t)) && (Up(i, t) ? (Hp(e), this._overrideGravity(), !0) : void 0);
            }
          }, {
            key: "_handleBackwardMovement",
            value: function _handleBackwardMovement(e) {
              var t = this.attributes,
                  n = this.editor.model,
                  i = n.document.selection,
                  o = i.getFirstPosition();
              return this._isGravityOverridden ? (Hp(e), this._restoreGravity(), jp(n, t, o), !0) : o.isAtStart ? !!Fp(i, t) && (Hp(e), jp(n, t, o), !0) : function (e, t) {
                return Up(e.getShiftedBy(-1), t);
              }(o, t) ? o.isAtEnd && !Fp(i, t) && Up(o, t) ? (Hp(e), jp(n, t, o), !0) : (this._isNextGravityRestorationSkipped = !0, this._overrideGravity(), !1) : void 0;
            }
          }, {
            key: "_isGravityOverridden",
            get: function get() {
              return !!this._overrideUid;
            }
          }, {
            key: "_overrideGravity",
            value: function _overrideGravity() {
              this._overrideUid = this.editor.model.change(function (e) {
                return e.overrideSelectionGravity();
              });
            }
          }, {
            key: "_restoreGravity",
            value: function _restoreGravity() {
              var _this181 = this;

              this.editor.model.change(function (e) {
                e.restoreSelectionGravity(_this181._overrideUid), _this181._overrideUid = null;
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "TwoStepCaretMovement";
            }
          }]);

          return Bp;
        }(st);

        function Fp(e, t) {
          var _iterator326 = _createForOfIteratorHelper(t),
              _step326;

          try {
            for (_iterator326.s(); !(_step326 = _iterator326.n()).done;) {
              var _n222 = _step326.value;
              if (e.hasAttribute(_n222)) return !0;
            }
          } catch (err) {
            _iterator326.e(err);
          } finally {
            _iterator326.f();
          }

          return !1;
        }

        function jp(e, t, n) {
          var i = n.nodeBefore;
          e.change(function (e) {
            i ? e.setSelectionAttribute(i.getAttributes()) : e.removeSelectionAttribute(t);
          });
        }

        function Hp(e) {
          e.preventDefault();
        }

        function Up(e, t) {
          var n = e.nodeBefore,
              i = e.nodeAfter;

          var _iterator327 = _createForOfIteratorHelper(t),
              _step327;

          try {
            for (_iterator327.s(); !(_step327 = _iterator327.n()).done;) {
              var _e247 = _step327.value;

              var _t229 = n ? n.getAttribute(_e247) : void 0;

              if ((i ? i.getAttribute(_e247) : void 0) !== _t229) return !0;
            }
          } catch (err) {
            _iterator327.e(err);
          } finally {
            _iterator327.f();
          }

          return !1;
        }

        var Wp = /[\\^$.*+?()[\]{}|]/g;
        RegExp(Wp.source);
        qp('"'), qp("'"), qp("'"), qp('"'), qp('"'), qp("'");

        function qp(e) {
          return new RegExp("(^|\\s)(".concat(e, ")([^").concat(e, "]*)(").concat(e, ")$"));
        }

        function $p(e, t, n, i) {
          return i.createRange(Gp(e, t, n, !0, i), Gp(e, t, n, !1, i));
        }

        function Gp(e, t, n, i, o) {
          var r = e.textNode || (i ? e.nodeBefore : e.nodeAfter),
              s = null;

          for (; r && r.getAttribute(t) == n;) {
            s = r, r = i ? r.previousSibling : r.nextSibling;
          }

          return s ? o.createPositionAt(s, i ? "before" : "after") : e;
        }

        var Yp = /*#__PURE__*/function (_ct6) {
          _inherits(Yp, _ct6);

          var _super105 = _createSuper(Yp);

          function Yp(e) {
            var _this182;

            _classCallCheck(this, Yp);

            _this182 = _super105.call(this, e), _this182._stack = [], _this182._createdBatches = new WeakSet(), _this182.refresh(), _this182.listenTo(e.data, "set", function (e, t) {
              t[1] = _objectSpread({}, t[1]);
              var n = t[1];
              n.batchType || (n.batchType = "transparent");
            }, {
              priority: "high"
            }), _this182.listenTo(e.data, "set", function (e, t) {
              "transparent" === t[1].batchType && _this182.clearStack();
            });
            return _this182;
          }

          _createClass(Yp, [{
            key: "refresh",
            value: function refresh() {
              this.isEnabled = this._stack.length > 0;
            }
          }, {
            key: "addBatch",
            value: function addBatch(e) {
              var t = this.editor.model.document.selection,
                  n = {
                ranges: t.hasOwnRange ? Array.from(t.getRanges()) : [],
                isBackward: t.isBackward
              };
              this._stack.push({
                batch: e,
                selection: n
              }), this.refresh();
            }
          }, {
            key: "clearStack",
            value: function clearStack() {
              this._stack = [], this.refresh();
            }
          }, {
            key: "_restoreSelection",
            value: function _restoreSelection(e, t, n) {
              var i = this.editor.model,
                  o = i.document,
                  r = [],
                  s = e.map(function (e) {
                return e.getTransformedByOperations(n);
              }),
                  a = s.flat();

              var _iterator328 = _createForOfIteratorHelper(s),
                  _step328;

              try {
                for (_iterator328.s(); !(_step328 = _iterator328.n()).done;) {
                  var _e248 = _step328.value;

                  var _t230 = _e248.filter(function (e) {
                    return e.root != o.graveyard;
                  }).filter(function (e) {
                    return !Qp(e, a);
                  });

                  _t230.length && (Kp(_t230), r.push(_t230[0]));
                }
              } catch (err) {
                _iterator328.e(err);
              } finally {
                _iterator328.f();
              }

              r.length && i.change(function (e) {
                e.setSelection(r, {
                  backward: t
                });
              });
            }
          }, {
            key: "_undo",
            value: function _undo(e, t) {
              var n = this.editor.model,
                  i = n.document;

              this._createdBatches.add(t);

              var o = e.operations.slice().filter(function (e) {
                return e.isDocumentOperation;
              });
              o.reverse();

              var _iterator329 = _createForOfIteratorHelper(o),
                  _step329;

              try {
                for (_iterator329.s(); !(_step329 = _iterator329.n()).done;) {
                  var _e249 = _step329.value;

                  var _o90 = _e249.baseVersion + 1,
                      _r47 = Array.from(i.history.getOperations(_o90)),
                      _s29 = Dg([_e249.getReversed()], _r47, {
                    useRelations: !0,
                    document: this.editor.model.document,
                    padWithNoOps: !1,
                    forceWeakRemove: !0
                  }).operationsA;

                  var _iterator330 = _createForOfIteratorHelper(_s29),
                      _step330;

                  try {
                    for (_iterator330.s(); !(_step330 = _iterator330.n()).done;) {
                      var _o91 = _step330.value;
                      t.addOperation(_o91), n.applyOperation(_o91), i.history.setOperationAsUndone(_e249, _o91);
                    }
                  } catch (err) {
                    _iterator330.e(err);
                  } finally {
                    _iterator330.f();
                  }
                }
              } catch (err) {
                _iterator329.e(err);
              } finally {
                _iterator329.f();
              }
            }
          }]);

          return Yp;
        }(ct);

        function Kp(e) {
          e.sort(function (e, t) {
            return e.start.isBefore(t.start) ? -1 : 1;
          });

          for (var _t231 = 1; _t231 < e.length; _t231++) {
            var _n223 = e[_t231 - 1].getJoined(e[_t231], !0);

            _n223 && (_t231--, e.splice(_t231, 2, _n223));
          }
        }

        function Qp(e, t) {
          return t.some(function (t) {
            return t !== e && t.containsRange(e, !0);
          });
        }

        var Jp = /*#__PURE__*/function (_Yp) {
          _inherits(Jp, _Yp);

          var _super106 = _createSuper(Jp);

          function Jp() {
            _classCallCheck(this, Jp);

            return _super106.apply(this, arguments);
          }

          _createClass(Jp, [{
            key: "execute",
            value: function execute() {
              var _this183 = this;

              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

              var t = e ? this._stack.findIndex(function (t) {
                return t.batch == e;
              }) : this._stack.length - 1,
                  n = this._stack.splice(t, 1)[0],
                  i = this.editor.model.createBatch("transparent");

              this.editor.model.enqueueChange(i, function () {
                _this183._undo(n.batch, i);

                var e = _this183.editor.model.document.history.getOperations(n.batch.baseVersion);

                _this183._restoreSelection(n.selection.ranges, n.selection.isBackward, e), _this183.fire("revert", n.batch, i);
              }), this.refresh();
            }
          }]);

          return Jp;
        }(Yp);

        var Xp = /*#__PURE__*/function (_Yp2) {
          _inherits(Xp, _Yp2);

          var _super107 = _createSuper(Xp);

          function Xp() {
            _classCallCheck(this, Xp);

            return _super107.apply(this, arguments);
          }

          _createClass(Xp, [{
            key: "execute",
            value: function execute() {
              var _this184 = this;

              var e = this._stack.pop(),
                  t = this.editor.model.createBatch("transparent");

              this.editor.model.enqueueChange(t, function () {
                var n = e.batch.operations[e.batch.operations.length - 1].baseVersion + 1,
                    i = _this184.editor.model.document.history.getOperations(n);

                _this184._restoreSelection(e.selection.ranges, e.selection.isBackward, i), _this184._undo(e.batch, t);
              }), this.refresh();
            }
          }]);

          return Xp;
        }(Yp);

        var Zp = /*#__PURE__*/function (_st17) {
          _inherits(Zp, _st17);

          var _super108 = _createSuper(Zp);

          function Zp(e) {
            var _this185;

            _classCallCheck(this, Zp);

            _this185 = _super108.call(this, e), _this185._batchRegistry = new WeakSet();
            return _this185;
          }

          _createClass(Zp, [{
            key: "init",
            value: function init() {
              var _this186 = this;

              var e = this.editor;
              this._undoCommand = new Jp(e), this._redoCommand = new Xp(e), e.commands.add("undo", this._undoCommand), e.commands.add("redo", this._redoCommand), this.listenTo(e.model, "applyOperation", function (e, t) {
                var n = t[0];
                if (!n.isDocumentOperation) return;

                var i = n.batch,
                    o = _this186._redoCommand._createdBatches.has(i),
                    r = _this186._undoCommand._createdBatches.has(i);

                _this186._batchRegistry.has(i) || "transparent" == i.type && !o && !r || (o ? _this186._undoCommand.addBatch(i) : r || (_this186._undoCommand.addBatch(i), _this186._redoCommand.clearStack()), _this186._batchRegistry.add(i));
              }, {
                priority: "highest"
              }), this.listenTo(this._undoCommand, "revert", function (e, t, n) {
                _this186._redoCommand.addBatch(n);
              }), e.keystrokes.set("CTRL+Z", "undo"), e.keystrokes.set("CTRL+Y", "redo"), e.keystrokes.set("CTRL+SHIFT+Z", "redo");
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "UndoEditing";
            }
          }]);

          return Zp;
        }(st);

        var ek = n(16),
            tk = n.n(ek),
            nk = n(17),
            ik = n.n(nk);

        var ok = /*#__PURE__*/function (_st18) {
          _inherits(ok, _st18);

          var _super109 = _createSuper(ok);

          function ok() {
            _classCallCheck(this, ok);

            return _super109.apply(this, arguments);
          }

          _createClass(ok, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = e.locale,
                  n = e.t,
                  i = "ltr" == t.uiLanguageDirection ? tk.a : ik.a,
                  o = "ltr" == t.uiLanguageDirection ? ik.a : tk.a;
              this._addButton("undo", n("Undo"), "CTRL+Z", i), this._addButton("redo", n("Redo"), "CTRL+Y", o);
            }
          }, {
            key: "_addButton",
            value: function _addButton(e, t, n, i) {
              var _this187 = this;

              var o = this.editor;
              o.ui.componentFactory.add(e, function (r) {
                var s = o.commands.get(e),
                    a = new Th(r);
                return a.set({
                  label: t,
                  icon: i,
                  keystroke: n,
                  tooltip: !0
                }), a.bind("isEnabled").to(s, "isEnabled"), _this187.listenTo(a, "execute", function () {
                  o.execute(e), o.editing.view.focus();
                }), a;
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "UndoUI";
            }
          }]);

          return ok;
        }(st);

        var rk = /*#__PURE__*/function (_st19) {
          _inherits(rk, _st19);

          var _super110 = _createSuper(rk);

          function rk() {
            _classCallCheck(this, rk);

            return _super110.apply(this, arguments);
          }

          _createClass(rk, null, [{
            key: "requires",
            get: function get() {
              return [Zp, ok];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "Undo";
            }
          }]);

          return rk;
        }(st);

        var sk = /*#__PURE__*/function (_st20) {
          _inherits(sk, _st20);

          var _super111 = _createSuper(sk);

          function sk() {
            _classCallCheck(this, sk);

            return _super111.apply(this, arguments);
          }

          _createClass(sk, null, [{
            key: "requires",
            get: function get() {
              return [pp, Ef, Ip, _p, Lp, rk];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "Essentials";
            }
          }]);

          return sk;
        }(st);

        var ak = /*#__PURE__*/function (_ct7) {
          _inherits(ak, _ct7);

          var _super112 = _createSuper(ak);

          function ak() {
            _classCallCheck(this, ak);

            return _super112.apply(this, arguments);
          }

          _createClass(ak, [{
            key: "refresh",
            value: function refresh() {
              var e = this.editor.model,
                  t = Ja(e.document.selection.getSelectedBlocks());
              this.value = !!t && t.is("element", "paragraph"), this.isEnabled = !!t && ck(t, e.schema);
            }
          }, {
            key: "execute",
            value: function execute() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
              var t = this.editor.model,
                  n = t.document;
              t.change(function (i) {
                var o = (e.selection || n.selection).getSelectedBlocks();

                var _iterator331 = _createForOfIteratorHelper(o),
                    _step331;

                try {
                  for (_iterator331.s(); !(_step331 = _iterator331.n()).done;) {
                    var _e250 = _step331.value;
                    !_e250.is("element", "paragraph") && ck(_e250, t.schema) && i.rename(_e250, "paragraph");
                  }
                } catch (err) {
                  _iterator331.e(err);
                } finally {
                  _iterator331.f();
                }
              });
            }
          }]);

          return ak;
        }(ct);

        function ck(e, t) {
          return t.checkChild(e.parent, "paragraph") && !t.isObject(e);
        }

        var lk = /*#__PURE__*/function (_ct8) {
          _inherits(lk, _ct8);

          var _super113 = _createSuper(lk);

          function lk() {
            _classCallCheck(this, lk);

            return _super113.apply(this, arguments);
          }

          _createClass(lk, [{
            key: "execute",
            value: function execute(e) {
              var t = this.editor.model;
              var n = e.position;
              t.change(function (e) {
                var i = e.createElement("paragraph");

                if (!t.schema.checkChild(n.parent, i)) {
                  var _o92 = t.schema.findAllowedParent(n, i);

                  if (!_o92) return;
                  n = e.split(n, _o92).position;
                }

                t.insertContent(i, n), e.setSelection(i, "in");
              });
            }
          }]);

          return lk;
        }(ct);

        var dk = /*#__PURE__*/function (_st21) {
          _inherits(dk, _st21);

          var _super114 = _createSuper(dk);

          function dk() {
            _classCallCheck(this, dk);

            return _super114.apply(this, arguments);
          }

          _createClass(dk, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = e.model;
              e.commands.add("paragraph", new ak(e)), e.commands.add("insertParagraph", new lk(e)), t.schema.register("paragraph", {
                inheritAllFrom: "$block"
              }), e.conversion.elementToElement({
                model: "paragraph",
                view: "p"
              }), e.conversion["for"]("upcast").elementToElement({
                model: function model(e, _ref49) {
                  var t = _ref49.writer;
                  return dk.paragraphLikeElements.has(e.name) ? e.isEmpty ? null : t.createElement("paragraph") : null;
                },
                view: /.+/,
                converterPriority: "low"
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "Paragraph";
            }
          }]);

          return dk;
        }(st);

        dk.paragraphLikeElements = new Set(["blockquote", "dd", "div", "dt", "h1", "h2", "h3", "h4", "h5", "h6", "li", "p", "td", "th"]);
        n(56);

        var uk = /*#__PURE__*/function (_ct9) {
          _inherits(uk, _ct9);

          var _super115 = _createSuper(uk);

          function uk(e, t) {
            var _this188;

            _classCallCheck(this, uk);

            _this188 = _super115.call(this, e), _this188.attributeKey = t;
            return _this188;
          }

          _createClass(uk, [{
            key: "refresh",
            value: function refresh() {
              var e = this.editor.model,
                  t = e.document;
              this.value = this._getValueFromFirstAllowedNode(), this.isEnabled = e.schema.checkAttributeInSelection(t.selection, this.attributeKey);
            }
          }, {
            key: "execute",
            value: function execute() {
              var _this189 = this;

              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
              var t = this.editor.model,
                  n = t.document.selection,
                  i = void 0 === e.forceValue ? !this.value : e.forceValue;
              t.change(function (e) {
                if (n.isCollapsed) i ? e.setSelectionAttribute(_this189.attributeKey, !0) : e.removeSelectionAttribute(_this189.attributeKey);else {
                  var _o93 = t.schema.getValidRanges(n.getRanges(), _this189.attributeKey);

                  var _iterator332 = _createForOfIteratorHelper(_o93),
                      _step332;

                  try {
                    for (_iterator332.s(); !(_step332 = _iterator332.n()).done;) {
                      var _t232 = _step332.value;
                      i ? e.setAttribute(_this189.attributeKey, i, _t232) : e.removeAttribute(_this189.attributeKey, _t232);
                    }
                  } catch (err) {
                    _iterator332.e(err);
                  } finally {
                    _iterator332.f();
                  }
                }
              });
            }
          }, {
            key: "_getValueFromFirstAllowedNode",
            value: function _getValueFromFirstAllowedNode() {
              var e = this.editor.model,
                  t = e.schema,
                  n = e.document.selection;
              if (n.isCollapsed) return n.hasAttribute(this.attributeKey);

              var _iterator333 = _createForOfIteratorHelper(n.getRanges()),
                  _step333;

              try {
                for (_iterator333.s(); !(_step333 = _iterator333.n()).done;) {
                  var _e251 = _step333.value;

                  var _iterator334 = _createForOfIteratorHelper(_e251.getItems()),
                      _step334;

                  try {
                    for (_iterator334.s(); !(_step334 = _iterator334.n()).done;) {
                      var _n224 = _step334.value;
                      if (t.checkAttribute(_n224, this.attributeKey)) return _n224.hasAttribute(this.attributeKey);
                    }
                  } catch (err) {
                    _iterator334.e(err);
                  } finally {
                    _iterator334.f();
                  }
                }
              } catch (err) {
                _iterator333.e(err);
              } finally {
                _iterator333.f();
              }

              return !1;
            }
          }]);

          return uk;
        }(ct);

        var hk = "bold";

        var gk = /*#__PURE__*/function (_st22) {
          _inherits(gk, _st22);

          var _super116 = _createSuper(gk);

          function gk() {
            _classCallCheck(this, gk);

            return _super116.apply(this, arguments);
          }

          _createClass(gk, [{
            key: "init",
            value: function init() {
              var e = this.editor;
              e.model.schema.extend("$text", {
                allowAttributes: hk
              }), e.model.schema.setAttributeProperties(hk, {
                isFormatting: !0,
                copyOnEnter: !0
              }), e.conversion.attributeToElement({
                model: hk,
                view: "strong",
                upcastAlso: ["b", function (e) {
                  var t = e.getStyle("font-weight");
                  return t ? "bold" == t || Number(t) >= 600 ? {
                    name: !0,
                    styles: ["font-weight"]
                  } : void 0 : null;
                }]
              }), e.commands.add(hk, new uk(e, hk)), e.keystrokes.set("CTRL+B", hk);
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "BoldEditing";
            }
          }]);

          return gk;
        }(st);

        var mk = n(57),
            fk = n.n(mk);
        var pk = "bold";

        var kk = /*#__PURE__*/function (_st23) {
          _inherits(kk, _st23);

          var _super117 = _createSuper(kk);

          function kk() {
            _classCallCheck(this, kk);

            return _super117.apply(this, arguments);
          }

          _createClass(kk, [{
            key: "init",
            value: function init() {
              var _this190 = this;

              var e = this.editor,
                  t = e.t;
              e.ui.componentFactory.add(pk, function (n) {
                var i = e.commands.get(pk),
                    o = new Th(n);
                return o.set({
                  label: t("Bold"),
                  icon: fk.a,
                  keystroke: "CTRL+B",
                  tooltip: !0,
                  isToggleable: !0
                }), o.bind("isOn", "isEnabled").to(i, "value", "isEnabled"), _this190.listenTo(o, "execute", function () {
                  e.execute(pk), e.editing.view.focus();
                }), o;
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "BoldUI";
            }
          }]);

          return kk;
        }(st);

        var bk = /*#__PURE__*/function (_st24) {
          _inherits(bk, _st24);

          var _super118 = _createSuper(bk);

          function bk() {
            _classCallCheck(this, bk);

            return _super118.apply(this, arguments);
          }

          _createClass(bk, null, [{
            key: "requires",
            get: function get() {
              return [gk, kk];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "Bold";
            }
          }]);

          return bk;
        }(st);

        var wk = "italic";

        var _k = /*#__PURE__*/function (_st25) {
          _inherits(_k, _st25);

          var _super119 = _createSuper(_k);

          function _k() {
            _classCallCheck(this, _k);

            return _super119.apply(this, arguments);
          }

          _createClass(_k, [{
            key: "init",
            value: function init() {
              var e = this.editor;
              e.model.schema.extend("$text", {
                allowAttributes: wk
              }), e.model.schema.setAttributeProperties(wk, {
                isFormatting: !0,
                copyOnEnter: !0
              }), e.conversion.attributeToElement({
                model: wk,
                view: "i",
                upcastAlso: ["em", {
                  styles: {
                    "font-style": "italic"
                  }
                }]
              }), e.commands.add(wk, new uk(e, wk)), e.keystrokes.set("CTRL+I", wk);
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "ItalicEditing";
            }
          }]);

          return _k;
        }(st);

        var vk = n(58),
            xk = n.n(vk);
        var yk = "italic";

        var Ck = /*#__PURE__*/function (_st26) {
          _inherits(Ck, _st26);

          var _super120 = _createSuper(Ck);

          function Ck() {
            _classCallCheck(this, Ck);

            return _super120.apply(this, arguments);
          }

          _createClass(Ck, [{
            key: "init",
            value: function init() {
              var _this191 = this;

              var e = this.editor,
                  t = e.t;
              e.ui.componentFactory.add(yk, function (n) {
                var i = e.commands.get(yk),
                    o = new Th(n);
                return o.set({
                  label: t("Italic"),
                  icon: xk.a,
                  keystroke: "CTRL+I",
                  tooltip: !0,
                  isToggleable: !0
                }), o.bind("isOn", "isEnabled").to(i, "value", "isEnabled"), _this191.listenTo(o, "execute", function () {
                  e.execute(yk), e.editing.view.focus();
                }), o;
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "ItalicUI";
            }
          }]);

          return Ck;
        }(st);

        var Tk = /*#__PURE__*/function (_st27) {
          _inherits(Tk, _st27);

          var _super121 = _createSuper(Tk);

          function Tk() {
            _classCallCheck(this, Tk);

            return _super121.apply(this, arguments);
          }

          _createClass(Tk, null, [{
            key: "requires",
            get: function get() {
              return [_k, Ck];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "Italic";
            }
          }]);

          return Tk;
        }(st);

        var Ak = /*#__PURE__*/function (_ct10) {
          _inherits(Ak, _ct10);

          var _super122 = _createSuper(Ak);

          function Ak(e, t) {
            var _this192;

            _classCallCheck(this, Ak);

            _this192 = _super122.call(this, e), _this192.type = t;
            return _this192;
          }

          _createClass(Ak, [{
            key: "refresh",
            value: function refresh() {
              this.value = this._getValue(), this.isEnabled = this._checkEnabled();
            }
          }, {
            key: "execute",
            value: function execute() {
              var _this193 = this;

              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
              var t = this.editor.model,
                  n = t.document,
                  i = Array.from(n.selection.getSelectedBlocks()).filter(function (e) {
                return Ik(e, t.schema);
              }),
                  o = void 0 !== e.forceValue ? !e.forceValue : this.value;
              t.change(function (e) {
                if (o) {
                  var _t233 = i[i.length - 1].nextSibling,
                      _n225 = Number.POSITIVE_INFINITY,
                      _o94 = [];

                  for (; _t233 && "listItem" == _t233.name && 0 !== _t233.getAttribute("listIndent");) {
                    var _e252 = _t233.getAttribute("listIndent");

                    _e252 < _n225 && (_n225 = _e252);

                    var _i183 = _e252 - _n225;

                    _o94.push({
                      element: _t233,
                      listIndent: _i183
                    }), _t233 = _t233.nextSibling;
                  }

                  _o94 = _o94.reverse();

                  var _iterator335 = _createForOfIteratorHelper(_o94),
                      _step335;

                  try {
                    for (_iterator335.s(); !(_step335 = _iterator335.n()).done;) {
                      var _t234 = _step335.value;
                      e.setAttribute("listIndent", _t234.listIndent, _t234.element);
                    }
                  } catch (err) {
                    _iterator335.e(err);
                  } finally {
                    _iterator335.f();
                  }
                }

                if (!o) {
                  var _e253 = Number.POSITIVE_INFINITY;

                  var _iterator336 = _createForOfIteratorHelper(i),
                      _step336;

                  try {
                    for (_iterator336.s(); !(_step336 = _iterator336.n()).done;) {
                      var _t235 = _step336.value;
                      _t235.is("element", "listItem") && _t235.getAttribute("listIndent") < _e253 && (_e253 = _t235.getAttribute("listIndent"));
                    }
                  } catch (err) {
                    _iterator336.e(err);
                  } finally {
                    _iterator336.f();
                  }

                  Ek(i, !0, _e253 = 0 === _e253 ? 1 : _e253), Ek(i, !1, _e253);
                }

                var _iterator337 = _createForOfIteratorHelper(i.reverse()),
                    _step337;

                try {
                  for (_iterator337.s(); !(_step337 = _iterator337.n()).done;) {
                    var _t236 = _step337.value;
                    o && "listItem" == _t236.name ? e.rename(_t236, "paragraph") : o || "listItem" == _t236.name ? o || "listItem" != _t236.name || _t236.getAttribute("listType") == _this193.type || e.setAttribute("listType", _this193.type, _t236) : (e.setAttributes({
                      listType: _this193.type,
                      listIndent: 0
                    }, _t236), e.rename(_t236, "listItem"));
                  }
                } catch (err) {
                  _iterator337.e(err);
                } finally {
                  _iterator337.f();
                }

                _this193.fire("_executeCleanup", i);
              });
            }
          }, {
            key: "_getValue",
            value: function _getValue() {
              var e = Ja(this.editor.model.document.selection.getSelectedBlocks());
              return !!e && e.is("element", "listItem") && e.getAttribute("listType") == this.type;
            }
          }, {
            key: "_checkEnabled",
            value: function _checkEnabled() {
              if (this.value) return !0;
              var e = this.editor.model.document.selection,
                  t = this.editor.model.schema,
                  n = Ja(e.getSelectedBlocks());
              return !!n && Ik(n, t);
            }
          }]);

          return Ak;
        }(ct);

        function Ek(e, t, n) {
          var i = t ? e[0] : e[e.length - 1];

          if (i.is("element", "listItem")) {
            var _o95 = i[t ? "previousSibling" : "nextSibling"],
                _r48 = i.getAttribute("listIndent");

            for (; _o95 && _o95.is("element", "listItem") && _o95.getAttribute("listIndent") >= n;) {
              _r48 > _o95.getAttribute("listIndent") && (_r48 = _o95.getAttribute("listIndent")), _o95.getAttribute("listIndent") == _r48 && e[t ? "unshift" : "push"](_o95), _o95 = _o95[t ? "previousSibling" : "nextSibling"];
            }
          }
        }

        function Ik(e, t) {
          return t.checkChild(e.parent, "listItem") && !t.isObject(e);
        }

        var Sk = /*#__PURE__*/function (_ct11) {
          _inherits(Sk, _ct11);

          var _super123 = _createSuper(Sk);

          function Sk(e, t) {
            var _this194;

            _classCallCheck(this, Sk);

            _this194 = _super123.call(this, e), _this194._indentBy = "forward" == t ? 1 : -1;
            return _this194;
          }

          _createClass(Sk, [{
            key: "refresh",
            value: function refresh() {
              this.isEnabled = this._checkEnabled();
            }
          }, {
            key: "execute",
            value: function execute() {
              var _this195 = this;

              var e = this.editor.model,
                  t = e.document;
              var n = Array.from(t.selection.getSelectedBlocks());
              e.change(function (e) {
                var t = n[n.length - 1];
                var i = t.nextSibling;

                for (; i && "listItem" == i.name && i.getAttribute("listIndent") > t.getAttribute("listIndent");) {
                  n.push(i), i = i.nextSibling;
                }

                _this195._indentBy < 0 && (n = n.reverse());

                var _iterator338 = _createForOfIteratorHelper(n),
                    _step338;

                try {
                  for (_iterator338.s(); !(_step338 = _iterator338.n()).done;) {
                    var _t237 = _step338.value;

                    var _n226 = _t237.getAttribute("listIndent") + _this195._indentBy;

                    _n226 < 0 ? e.rename(_t237, "paragraph") : e.setAttribute("listIndent", _n226, _t237);
                  }
                } catch (err) {
                  _iterator338.e(err);
                } finally {
                  _iterator338.f();
                }

                _this195.fire("_executeCleanup", n);
              });
            }
          }, {
            key: "_checkEnabled",
            value: function _checkEnabled() {
              var e = Ja(this.editor.model.document.selection.getSelectedBlocks());
              if (!e || !e.is("element", "listItem")) return !1;

              if (this._indentBy > 0) {
                var _t238 = e.getAttribute("listIndent"),
                    _n227 = e.getAttribute("listType");

                var _i184 = e.previousSibling;

                for (; _i184 && _i184.is("element", "listItem") && _i184.getAttribute("listIndent") >= _t238;) {
                  if (_i184.getAttribute("listIndent") == _t238) return _i184.getAttribute("listType") == _n227;
                  _i184 = _i184.previousSibling;
                }

                return !1;
              }

              return !0;
            }
          }]);

          return Sk;
        }(ct);

        function Mk(e, t) {
          var n = t.mapper,
              i = t.writer,
              o = "numbered" == e.getAttribute("listType") ? "ol" : "ul",
              r = function (e) {
            var t = e.createContainerElement("li");
            return t.getFillerOffset = Lk, t;
          }(i),
              s = i.createContainerElement(o, null);

          return i.insert(i.createPositionAt(s, 0), r), n.bindElements(e, r), r;
        }

        function Pk(e, t, n, i) {
          var o = t.parent,
              r = n.mapper,
              s = n.writer;
          var a = r.toViewPosition(i.createPositionBefore(e));
          var c = Ok(e.previousSibling, {
            sameIndent: !0,
            smallerIndent: !0,
            listIndent: e.getAttribute("listIndent")
          }),
              l = e.previousSibling;

          if (c && c.getAttribute("listIndent") == e.getAttribute("listIndent")) {
            var _e254 = r.toViewElement(c);

            a = s.breakContainer(s.createPositionAfter(_e254));
          } else if (l && "listItem" == l.name) {
            a = r.toViewPosition(i.createPositionAt(l, "end"));

            var _e255 = r.findMappedViewAncestor(a),
                _t239 = function (e) {
              var _iterator339 = _createForOfIteratorHelper(e.getChildren()),
                  _step339;

              try {
                for (_iterator339.s(); !(_step339 = _iterator339.n()).done;) {
                  var _t240 = _step339.value;
                  if ("ul" == _t240.name || "ol" == _t240.name) return _t240;
                }
              } catch (err) {
                _iterator339.e(err);
              } finally {
                _iterator339.f();
              }

              return null;
            }(_e255);

            a = _t239 ? s.createPositionBefore(_t239) : s.createPositionAt(_e255, "end");
          } else a = r.toViewPosition(i.createPositionBefore(e));

          if (a = Nk(a), s.insert(a, o), l && "listItem" == l.name) {
            var _e256 = r.toViewElement(l),
                _n228 = s.createRange(s.createPositionAt(_e256, 0), a).getWalker({
              ignoreElementEnd: !0
            });

            var _iterator340 = _createForOfIteratorHelper(_n228),
                _step340;

            try {
              for (_iterator340.s(); !(_step340 = _iterator340.n()).done;) {
                var _e257 = _step340.value;

                if (_e257.item.is("element", "li")) {
                  var _i185 = s.breakContainer(s.createPositionBefore(_e257.item)),
                      _o96 = _e257.item.parent,
                      _r49 = s.createPositionAt(t, "end");

                  Rk(s, _r49.nodeBefore, _r49.nodeAfter), s.move(s.createRangeOn(_o96), _r49), _n228.position = _i185;
                }
              }
            } catch (err) {
              _iterator340.e(err);
            } finally {
              _iterator340.f();
            }
          } else {
            var _n229 = o.nextSibling;

            if (_n229 && (_n229.is("element", "ul") || _n229.is("element", "ol"))) {
              var _i186 = null;

              var _iterator341 = _createForOfIteratorHelper(_n229.getChildren()),
                  _step341;

              try {
                for (_iterator341.s(); !(_step341 = _iterator341.n()).done;) {
                  var _t241 = _step341.value;

                  var _n230 = r.toModelElement(_t241);

                  if (!(_n230 && _n230.getAttribute("listIndent") > e.getAttribute("listIndent"))) break;
                  _i186 = _t241;
                }
              } catch (err) {
                _iterator341.e(err);
              } finally {
                _iterator341.f();
              }

              _i186 && (s.breakContainer(s.createPositionAfter(_i186)), s.move(s.createRangeOn(_i186.parent), s.createPositionAt(t, "end")));
            }
          }

          Rk(s, o, o.nextSibling), Rk(s, o.previousSibling, o);
        }

        function Rk(e, t, n) {
          return !t || !n || "ul" != t.name && "ol" != t.name ? null : t.name != n.name || t.getAttribute("class") !== n.getAttribute("class") ? null : e.mergeContainers(e.createPositionAfter(t));
        }

        function Nk(e) {
          return e.getLastMatchingPosition(function (e) {
            return e.item.is("uiElement");
          });
        }

        function Ok(e, t) {
          var n = !!t.sameIndent,
              i = !!t.smallerIndent,
              o = t.listIndent;
          var r = e;

          for (; r && "listItem" == r.name;) {
            var _e258 = r.getAttribute("listIndent");

            if (n && o == _e258 || i && o > _e258) return r;
            r = "forward" === t.direction ? r.nextSibling : r.previousSibling;
          }

          return null;
        }

        function Dk(e, t, n, i) {
          e.ui.componentFactory.add(t, function (o) {
            var r = e.commands.get(t),
                s = new Th(o);
            return s.set({
              label: n,
              icon: i,
              tooltip: !0,
              isToggleable: !0
            }), s.bind("isOn", "isEnabled").to(r, "value", "isEnabled"), s.on("execute", function () {
              e.execute(t), e.editing.view.focus();
            }), s;
          });
        }

        function Lk() {
          var e = !this.isEmpty && ("ul" == this.getChild(0).name || "ol" == this.getChild(0).name);
          return this.isEmpty || e ? 0 : Zo.call(this);
        }

        function zk(e) {
          return function (t, n, i) {
            var o = i.consumable;
            if (!o.test(n.item, "insert") || !o.test(n.item, "attribute:listType") || !o.test(n.item, "attribute:listIndent")) return;
            o.consume(n.item, "insert"), o.consume(n.item, "attribute:listType"), o.consume(n.item, "attribute:listIndent");
            var r = n.item;
            Pk(r, Mk(r, i), i, e);
          };
        }

        function Vk(e, t, n) {
          if (!n.consumable.consume(t.item, "attribute:listType")) return;
          var i = n.mapper.toViewElement(t.item),
              o = n.writer;
          o.breakContainer(o.createPositionBefore(i)), o.breakContainer(o.createPositionAfter(i));
          var r = i.parent,
              s = "numbered" == t.attributeNewValue ? "ol" : "ul";
          o.rename(s, r);
        }

        function Bk(e, t, n) {
          var i = n.mapper.toViewElement(t.item).parent,
              o = n.writer;
          Rk(o, i, i.nextSibling), Rk(o, i.previousSibling, i);

          var _iterator342 = _createForOfIteratorHelper(t.item.getChildren()),
              _step342;

          try {
            for (_iterator342.s(); !(_step342 = _iterator342.n()).done;) {
              var _e259 = _step342.value;
              n.consumable.consume(_e259, "insert");
            }
          } catch (err) {
            _iterator342.e(err);
          } finally {
            _iterator342.f();
          }
        }

        function Fk(e, t, n) {
          if ("listItem" != t.item.name) {
            var _e260 = n.mapper.toViewPosition(t.range.start);

            var _i187 = n.writer,
                _o97 = [];

            for (; ("ul" == _e260.parent.name || "ol" == _e260.parent.name) && "li" == (_e260 = _i187.breakContainer(_e260)).parent.name;) {
              var _t242 = _e260,
                  _n231 = _i187.createPositionAt(_e260.parent, "end");

              if (!_t242.isEqual(_n231)) {
                var _e261 = _i187.remove(_i187.createRange(_t242, _n231));

                _o97.push(_e261);
              }

              _e260 = _i187.createPositionAfter(_e260.parent);
            }

            if (_o97.length > 0) {
              for (var _t243 = 0; _t243 < _o97.length; _t243++) {
                var _n232 = _e260.nodeBefore;

                if (_e260 = _i187.insert(_e260, _o97[_t243]).end, _t243 > 0) {
                  var _t244 = Rk(_i187, _n232, _n232.nextSibling);

                  _t244 && _t244.parent == _n232 && _e260.offset--;
                }
              }

              Rk(_i187, _e260.nodeBefore, _e260.nodeAfter);
            }
          }
        }

        function jk(e, t, n) {
          var i = n.mapper.toViewPosition(t.position),
              o = i.nodeBefore,
              r = i.nodeAfter;
          Rk(n.writer, o, r);
        }

        function Hk(e, t, n) {
          if (n.consumable.consume(t.viewItem, {
            name: !0
          })) {
            var _e262 = n.writer,
                _i188 = _e262.createElement("listItem"),
                _o98 = function (e) {
              var t = 0,
                  n = e.parent;

              for (; n;) {
                if (n.is("element", "li")) t++;else {
                  var _e263 = n.previousSibling;
                  _e263 && _e263.is("element", "li") && t++;
                }
                n = n.parent;
              }

              return t;
            }(t.viewItem);

            _e262.setAttribute("listIndent", _o98, _i188);

            var _r50 = t.viewItem.parent && "ol" == t.viewItem.parent.name ? "numbered" : "bulleted";

            if (_e262.setAttribute("listType", _r50, _i188), !n.safeInsert(_i188, t.modelCursor)) return;

            var _s30 = function (e, t, n) {
              var i = n.writer,
                  o = n.schema;
              var r = i.createPositionAfter(e);

              var _iterator343 = _createForOfIteratorHelper(t),
                  _step343;

              try {
                for (_iterator343.s(); !(_step343 = _iterator343.n()).done;) {
                  var _s31 = _step343.value;
                  if ("ul" == _s31.name || "ol" == _s31.name) r = n.convertItem(_s31, r).modelCursor;else {
                    var _t245 = n.convertItem(_s31, i.createPositionAt(e, "end")),
                        _a18 = _t245.modelRange.start.nodeAfter,
                        _c8 = _a18 && _a18.is("element") && !o.checkChild(e, _a18.name);

                    _c8 && (e = _t245.modelCursor.parent.is("element", "listItem") ? _t245.modelCursor.parent : Gk(_t245.modelCursor), r = i.createPositionAfter(e));
                  }
                }
              } catch (err) {
                _iterator343.e(err);
              } finally {
                _iterator343.f();
              }

              return r;
            }(_i188, t.viewItem.getChildren(), n);

            t.modelRange = _e262.createRange(t.modelCursor, _s30), n.updateConversionResult(_i188, t);
          }
        }

        function Uk(e, t, n) {
          if (n.consumable.test(t.viewItem, {
            name: !0
          })) {
            var _e264 = Array.from(t.viewItem.getChildren());

            for (var _i189 = 0, _e265 = _e264; _i189 < _e265.length; _i189++) {
              var _t246 = _e265[_i189];
              !(_t246.is("element", "li") || Kk(_t246)) && _t246._remove();
            }
          }
        }

        function Wk(e, t, n) {
          if (n.consumable.test(t.viewItem, {
            name: !0
          })) {
            if (0 === t.viewItem.childCount) return;

            var _e266 = _toConsumableArray(t.viewItem.getChildren());

            var _n233 = !1;

            var _iterator344 = _createForOfIteratorHelper(_e266),
                _step344;

            try {
              for (_iterator344.s(); !(_step344 = _iterator344.n()).done;) {
                var _t247 = _step344.value;
                _n233 && !Kk(_t247) && _t247._remove(), Kk(_t247) && (_n233 = !0);
              }
            } catch (err) {
              _iterator344.e(err);
            } finally {
              _iterator344.f();
            }
          }
        }

        function qk(e) {
          return function (t, n) {
            if (n.isPhantom) return;
            var i = n.modelPosition.nodeBefore;

            if (i && i.is("element", "listItem")) {
              var _t248 = n.mapper.toViewElement(i),
                  _o99 = _t248.getAncestors().find(Kk),
                  _r51 = e.createPositionAt(_t248, 0).getWalker();

              var _iterator345 = _createForOfIteratorHelper(_r51),
                  _step345;

              try {
                for (_iterator345.s(); !(_step345 = _iterator345.n()).done;) {
                  var _e267 = _step345.value;

                  if ("elementStart" == _e267.type && _e267.item.is("element", "li")) {
                    n.viewPosition = _e267.previousPosition;
                    break;
                  }

                  if ("elementEnd" == _e267.type && _e267.item == _o99) {
                    n.viewPosition = _e267.nextPosition;
                    break;
                  }
                }
              } catch (err) {
                _iterator345.e(err);
              } finally {
                _iterator345.f();
              }
            }
          };
        }

        function $k(e, _ref50) {
          var _ref51 = _slicedToArray(_ref50, 2),
              t = _ref51[0],
              n = _ref51[1];

          var i,
              o = t.is("documentFragment") ? t.getChild(0) : t;

          if (i = n ? this.createSelection(n) : this.document.selection, o && o.is("element", "listItem")) {
            var _e268 = i.getFirstPosition();

            var _t249 = null;

            if (_e268.parent.is("element", "listItem") ? _t249 = _e268.parent : _e268.nodeBefore && _e268.nodeBefore.is("element", "listItem") && (_t249 = _e268.nodeBefore), _t249) {
              var _e269 = _t249.getAttribute("listIndent");

              if (_e269 > 0) for (; o && o.is("element", "listItem");) {
                o._setAttribute("listIndent", o.getAttribute("listIndent") + _e269), o = o.nextSibling;
              }
            }
          }
        }

        function Gk(e) {
          var t = new kc({
            startPosition: e
          });
          var n;

          do {
            n = t.next();
          } while (!n.value.item.is("element", "listItem"));

          return n.value.item;
        }

        function Yk(e, t, n, i, o, r) {
          var s = Ok(t.nodeBefore, {
            sameIndent: !0,
            smallerIndent: !0,
            listIndent: e,
            foo: "b"
          }),
              a = o.mapper,
              c = o.writer,
              l = s ? s.getAttribute("listIndent") : null;
          var d;
          if (s) {
            if (l == e) {
              var _e270 = a.toViewElement(s).parent;
              d = c.createPositionAfter(_e270);
            } else {
              var _e271 = r.createPositionAt(s, "end");

              d = a.toViewPosition(_e271);
            }
          } else d = n;
          d = Nk(d);

          for (var _i190 = 0, _arr2 = _toConsumableArray(i.getChildren()); _i190 < _arr2.length; _i190++) {
            var _e272 = _arr2[_i190];
            Kk(_e272) && (d = c.move(c.createRangeOn(_e272), d).end, Rk(c, _e272, _e272.nextSibling), Rk(c, _e272.previousSibling, _e272));
          }
        }

        function Kk(e) {
          return e.is("element", "ol") || e.is("element", "ul");
        }

        var Qk = /*#__PURE__*/function (_st28) {
          _inherits(Qk, _st28);

          var _super124 = _createSuper(Qk);

          function Qk() {
            _classCallCheck(this, Qk);

            return _super124.apply(this, arguments);
          }

          _createClass(Qk, [{
            key: "init",
            value: function init() {
              var _this196 = this;

              var e = this.editor;
              e.model.schema.register("listItem", {
                inheritAllFrom: "$block",
                allowAttributes: ["listType", "listIndent"]
              });
              var t = e.data,
                  n = e.editing;
              e.model.document.registerPostFixer(function (t) {
                return function (e, t) {
                  var n = e.document.differ.getChanges(),
                      i = new Map();
                  var o = !1;

                  var _iterator346 = _createForOfIteratorHelper(n),
                      _step346;

                  try {
                    for (_iterator346.s(); !(_step346 = _iterator346.n()).done;) {
                      var _i192 = _step346.value;
                      if ("insert" == _i192.type && "listItem" == _i192.name) r(_i192.position);else if ("insert" == _i192.type && "listItem" != _i192.name) {
                        if ("$text" != _i192.name) {
                          var _n234 = _i192.position.nodeAfter;
                          _n234.hasAttribute("listIndent") && (t.removeAttribute("listIndent", _n234), o = !0), _n234.hasAttribute("listType") && (t.removeAttribute("listType", _n234), o = !0), _n234.hasAttribute("listStyle") && (t.removeAttribute("listStyle", _n234), o = !0);

                          var _iterator348 = _createForOfIteratorHelper(Array.from(e.createRangeIn(_n234)).filter(function (e) {
                            return e.item.is("element", "listItem");
                          })),
                              _step348;

                          try {
                            for (_iterator348.s(); !(_step348 = _iterator348.n()).done;) {
                              var _t252 = _step348.value;
                              r(_t252.previousPosition);
                            }
                          } catch (err) {
                            _iterator348.e(err);
                          } finally {
                            _iterator348.f();
                          }
                        }

                        r(_i192.position.getShiftedBy(_i192.length));
                      } else "remove" == _i192.type && "listItem" == _i192.name ? r(_i192.position) : "attribute" == _i192.type && "listIndent" == _i192.attributeKey ? r(_i192.range.start) : "attribute" == _i192.type && "listType" == _i192.attributeKey && r(_i192.range.start);
                    }
                  } catch (err) {
                    _iterator346.e(err);
                  } finally {
                    _iterator346.f();
                  }

                  var _iterator347 = _createForOfIteratorHelper(i.values()),
                      _step347;

                  try {
                    for (_iterator347.s(); !(_step347 = _iterator347.n()).done;) {
                      var _e274 = _step347.value;
                      s(_e274), a(_e274);
                    }
                  } catch (err) {
                    _iterator347.e(err);
                  } finally {
                    _iterator347.f();
                  }

                  return o;

                  function r(e) {
                    var t = e.nodeBefore;

                    if (t && t.is("element", "listItem")) {
                      var _e273 = t;
                      if (i.has(_e273)) return;

                      for (var _t250 = _e273.previousSibling; _t250 && _t250.is("element", "listItem"); _t250 = _e273.previousSibling) {
                        if (_e273 = _t250, i.has(_e273)) return;
                      }

                      i.set(t, _e273);
                    } else {
                      var _t251 = e.nodeAfter;
                      _t251 && _t251.is("element", "listItem") && i.set(_t251, _t251);
                    }
                  }

                  function s(e) {
                    var n = 0,
                        i = null;

                    for (; e && e.is("element", "listItem");) {
                      var _r52 = e.getAttribute("listIndent");

                      if (_r52 > n) {
                        var _s32 = void 0;

                        null === i ? (i = _r52 - n, _s32 = n) : (i > _r52 && (i = _r52), _s32 = _r52 - i), t.setAttribute("listIndent", _s32, e), o = !0;
                      } else i = null, n = e.getAttribute("listIndent") + 1;

                      e = e.nextSibling;
                    }
                  }

                  function a(e) {
                    var n = [],
                        i = null;

                    for (; e && e.is("element", "listItem");) {
                      var _r53 = e.getAttribute("listIndent");

                      if (i && i.getAttribute("listIndent") > _r53 && (n = n.slice(0, _r53 + 1)), 0 != _r53) if (n[_r53]) {
                        var _i191 = n[_r53];
                        e.getAttribute("listType") != _i191 && (t.setAttribute("listType", _i191, e), o = !0);
                      } else n[_r53] = e.getAttribute("listType");
                      i = e, e = e.nextSibling;
                    }
                  }
                }(e.model, t);
              }), n.mapper.registerViewToModelLength("li", Jk), t.mapper.registerViewToModelLength("li", Jk), n.mapper.on("modelToViewPosition", qk(n.view)), n.mapper.on("viewToModelPosition", function (e) {
                return function (t, n) {
                  var i = n.viewPosition,
                      o = i.parent,
                      r = n.mapper;

                  if ("ul" == o.name || "ol" == o.name) {
                    if (i.isAtEnd) {
                      var _t253 = r.toModelElement(i.nodeBefore),
                          _o100 = r.getModelLength(i.nodeBefore);

                      n.modelPosition = e.createPositionBefore(_t253).getShiftedBy(_o100);
                    } else {
                      var _t254 = r.toModelElement(i.nodeAfter);

                      n.modelPosition = e.createPositionBefore(_t254);
                    }

                    t.stop();
                  } else if ("li" == o.name && i.nodeBefore && ("ul" == i.nodeBefore.name || "ol" == i.nodeBefore.name)) {
                    var _s33 = r.toModelElement(o);

                    var _a19 = 1,
                        _c9 = i.nodeBefore;

                    for (; _c9 && Kk(_c9);) {
                      _a19 += r.getModelLength(_c9), _c9 = _c9.previousSibling;
                    }

                    n.modelPosition = e.createPositionBefore(_s33).getShiftedBy(_a19), t.stop();
                  }
                };
              }(e.model)), t.mapper.on("modelToViewPosition", qk(n.view)), e.conversion["for"]("editingDowncast").add(function (t) {
                t.on("insert", Fk, {
                  priority: "high"
                }), t.on("insert:listItem", zk(e.model)), t.on("attribute:listType:listItem", Vk, {
                  priority: "high"
                }), t.on("attribute:listType:listItem", Bk, {
                  priority: "low"
                }), t.on("attribute:listIndent:listItem", function (e) {
                  return function (t, n, i) {
                    if (!i.consumable.consume(n.item, "attribute:listIndent")) return;
                    var o = i.mapper.toViewElement(n.item),
                        r = i.writer;
                    r.breakContainer(r.createPositionBefore(o)), r.breakContainer(r.createPositionAfter(o));
                    var s = o.parent,
                        a = s.previousSibling,
                        c = r.createRangeOn(s);
                    r.remove(c), a && a.nextSibling && Rk(r, a, a.nextSibling), Yk(n.attributeOldValue + 1, n.range.start, c.start, o, i, e), Pk(n.item, o, i, e);

                    var _iterator349 = _createForOfIteratorHelper(n.item.getChildren()),
                        _step349;

                    try {
                      for (_iterator349.s(); !(_step349 = _iterator349.n()).done;) {
                        var _e275 = _step349.value;
                        i.consumable.consume(_e275, "insert");
                      }
                    } catch (err) {
                      _iterator349.e(err);
                    } finally {
                      _iterator349.f();
                    }
                  };
                }(e.model)), t.on("remove:listItem", function (e) {
                  return function (t, n, i) {
                    var o = i.mapper.toViewPosition(n.position).getLastMatchingPosition(function (e) {
                      return !e.item.is("element", "li");
                    }).nodeAfter,
                        r = i.writer;
                    r.breakContainer(r.createPositionBefore(o)), r.breakContainer(r.createPositionAfter(o));
                    var s = o.parent,
                        a = s.previousSibling,
                        c = r.createRangeOn(s),
                        l = r.remove(c);
                    a && a.nextSibling && Rk(r, a, a.nextSibling), Yk(i.mapper.toModelElement(o).getAttribute("listIndent") + 1, n.position, c.start, o, i, e);

                    var _iterator350 = _createForOfIteratorHelper(r.createRangeIn(l).getItems()),
                        _step350;

                    try {
                      for (_iterator350.s(); !(_step350 = _iterator350.n()).done;) {
                        var _e276 = _step350.value;
                        i.mapper.unbindViewElement(_e276);
                      }
                    } catch (err) {
                      _iterator350.e(err);
                    } finally {
                      _iterator350.f();
                    }

                    t.stop();
                  };
                }(e.model)), t.on("remove", jk, {
                  priority: "low"
                });
              }), e.conversion["for"]("dataDowncast").add(function (t) {
                t.on("insert", Fk, {
                  priority: "high"
                }), t.on("insert:listItem", zk(e.model));
              }), e.conversion["for"]("upcast").add(function (e) {
                e.on("element:ul", Uk, {
                  priority: "high"
                }), e.on("element:ol", Uk, {
                  priority: "high"
                }), e.on("element:li", Wk, {
                  priority: "high"
                }), e.on("element:li", Hk);
              }), e.model.on("insertContent", $k, {
                priority: "high"
              }), e.commands.add("numberedList", new Ak(e, "numbered")), e.commands.add("bulletedList", new Ak(e, "bulleted")), e.commands.add("indentList", new Sk(e, "forward")), e.commands.add("outdentList", new Sk(e, "backward"));
              var i = n.view.document;
              this.listenTo(i, "enter", function (e, t) {
                var n = _this196.editor.model.document,
                    i = n.selection.getLastPosition().parent;
                n.selection.isCollapsed && "listItem" == i.name && i.isEmpty && (_this196.editor.execute("outdentList"), t.preventDefault(), e.stop());
              }, {
                context: "li"
              }), this.listenTo(i, "delete", function (e, t) {
                if ("backward" !== t.direction) return;
                var n = _this196.editor.model.document.selection;
                if (!n.isCollapsed) return;
                var i = n.getFirstPosition();
                if (!i.isAtStart) return;
                var o = i.parent;
                "listItem" === o.name && (o.previousSibling && "listItem" === o.previousSibling.name || (_this196.editor.execute("outdentList"), t.preventDefault(), e.stop()));
              }, {
                context: "li"
              });

              var o = function o(e) {
                return function (t, n) {
                  _this196.editor.commands.get(e).isEnabled && (_this196.editor.execute(e), n());
                };
              };

              e.keystrokes.set("Tab", o("indentList")), e.keystrokes.set("Shift+Tab", o("outdentList"));
            }
          }, {
            key: "afterInit",
            value: function afterInit() {
              var e = this.editor.commands,
                  t = e.get("indent"),
                  n = e.get("outdent");
              t && t.registerChildCommand(e.get("indentList")), n && n.registerChildCommand(e.get("outdentList"));
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "ListEditing";
            }
          }, {
            key: "requires",
            get: function get() {
              return [Ef, Pf];
            }
          }]);

          return Qk;
        }(st);

        function Jk(e) {
          var t = 1;

          var _iterator351 = _createForOfIteratorHelper(e.getChildren()),
              _step351;

          try {
            for (_iterator351.s(); !(_step351 = _iterator351.n()).done;) {
              var _n235 = _step351.value;

              if ("ul" == _n235.name || "ol" == _n235.name) {
                var _iterator352 = _createForOfIteratorHelper(_n235.getChildren()),
                    _step352;

                try {
                  for (_iterator352.s(); !(_step352 = _iterator352.n()).done;) {
                    var _e277 = _step352.value;
                    t += Jk(_e277);
                  }
                } catch (err) {
                  _iterator352.e(err);
                } finally {
                  _iterator352.f();
                }
              }
            }
          } catch (err) {
            _iterator351.e(err);
          } finally {
            _iterator351.f();
          }

          return t;
        }

        var Xk = n(59),
            Zk = n.n(Xk),
            eb = n(60),
            tb = n.n(eb);

        var nb = /*#__PURE__*/function (_st29) {
          _inherits(nb, _st29);

          var _super125 = _createSuper(nb);

          function nb() {
            _classCallCheck(this, nb);

            return _super125.apply(this, arguments);
          }

          _createClass(nb, [{
            key: "init",
            value: function init() {
              var e = this.editor.t;
              Dk(this.editor, "numberedList", e("Numbered List"), Zk.a), Dk(this.editor, "bulletedList", e("Bulleted List"), tb.a);
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "ListUI";
            }
          }]);

          return nb;
        }(st);

        var ib = /*#__PURE__*/function (_st30) {
          _inherits(ib, _st30);

          var _super126 = _createSuper(ib);

          function ib() {
            _classCallCheck(this, ib);

            return _super126.apply(this, arguments);
          }

          _createClass(ib, null, [{
            key: "requires",
            get: function get() {
              return [Qk, nb];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "List";
            }
          }]);

          return ib;
        }(st);

        function ob(e, t, n, i) {
          var o,
              r = null;
          "function" == typeof i ? o = i : (r = e.commands.get(i), o = function o() {
            e.execute(i);
          }), e.model.document.on("change:data", function (s, a) {
            if (r && !r.isEnabled || !t.isEnabled) return;
            var c = Ja(e.model.document.selection.getRanges());
            if (!c.isCollapsed) return;
            if ("transparent" == a.type) return;
            var l = Array.from(e.model.document.differ.getChanges()),
                d = l[0];
            if (1 != l.length || "insert" !== d.type || "$text" != d.name || 1 != d.length) return;
            var u = d.position.parent;
            if (u.is("element", "codeBlock")) return;
            if (u.is("element", "listItem") && "function" != typeof i && !["numberedList", "bulletedList", "todoList"].includes(i)) return;
            if (r && !0 === r.value) return;
            var h = u.getChild(0),
                g = e.model.createRangeOn(h);
            if (!g.containsRange(c) && !c.end.isEqual(g.end)) return;
            var m = n.exec(h.data.substr(0, c.end.offset));
            m && e.model.enqueueChange(function (t) {
              var n = t.createPositionAt(u, 0),
                  i = t.createPositionAt(u, m[0].length),
                  r = new Lc(n, i);

              if (!1 !== o({
                match: m
              })) {
                t.remove(r);

                var _n236 = e.model.document.selection.getFirstRange(),
                    _i193 = t.createRangeIn(u);

                !u.isEmpty || _i193.isEqual(_n236) || _i193.containsRange(_n236, !0) || t.remove(u);
              }

              r.detach(), e.model.enqueueChange(function () {
                e.plugins.get("Delete").requestUndoOnBackspace();
              });
            });
          });
        }

        function rb(e, t, n, i) {
          var o, r;
          n instanceof RegExp ? o = n : r = n, r = r || function (e) {
            var t;
            var n = [],
                i = [];

            for (; null !== (t = o.exec(e)) && !(t && t.length < 4);) {
              var _t255 = t,
                  _e278 = _t255.index,
                  _o101 = _t255[1],
                  _r54 = _t255[2],
                  _s34 = _t255[3];

              var _a20 = _o101 + _r54 + _s34,
                  _c10 = [_e278 += t[0].length - _a20.length, _e278 + _o101.length],
                  _l6 = [_e278 + _o101.length + _r54.length, _e278 + _o101.length + _r54.length + _s34.length];

              n.push(_c10), n.push(_l6), i.push([_e278 + _o101.length, _e278 + _o101.length + _r54.length]);
            }

            return {
              remove: n,
              format: i
            };
          }, e.model.document.on("change:data", function (n, o) {
            if ("transparent" == o.type || !t.isEnabled) return;
            var s = e.model,
                a = s.document.selection;
            if (!a.isCollapsed) return;
            var c = Array.from(s.document.differ.getChanges()),
                l = c[0];
            if (1 != c.length || "insert" !== l.type || "$text" != l.name || 1 != l.length) return;

            var d = a.focus,
                u = d.parent,
                _ref52 = function (e, t) {
              var n = e.start;
              return {
                text: Array.from(e.getItems()).reduce(function (e, i) {
                  return !i.is("$text") && !i.is("$textProxy") || i.getAttribute("code") ? (n = t.createPositionAfter(i), "") : e + i.data;
                }, ""),
                range: t.createRange(n, e.end)
              };
            }(s.createRange(s.createPositionAt(u, 0), d), s),
                h = _ref52.text,
                g = _ref52.range,
                m = r(h),
                f = sb(g.start, m.format, s),
                p = sb(g.start, m.remove, s);

            f.length && p.length && s.enqueueChange(function (t) {
              if (!1 !== i(t, f)) {
                var _iterator353 = _createForOfIteratorHelper(p.reverse()),
                    _step353;

                try {
                  for (_iterator353.s(); !(_step353 = _iterator353.n()).done;) {
                    var _e279 = _step353.value;
                    t.remove(_e279);
                  }
                } catch (err) {
                  _iterator353.e(err);
                } finally {
                  _iterator353.f();
                }

                s.enqueueChange(function () {
                  e.plugins.get("Delete").requestUndoOnBackspace();
                });
              }
            });
          });
        }

        function sb(e, t, n) {
          return t.filter(function (e) {
            return void 0 !== e[0] && void 0 !== e[1];
          }).map(function (t) {
            return n.createRange(e.getShiftedBy(t[0]), e.getShiftedBy(t[1]));
          });
        }

        var ab = /*#__PURE__*/function (_st31) {
          _inherits(ab, _st31);

          var _super127 = _createSuper(ab);

          function ab() {
            _classCallCheck(this, ab);

            return _super127.apply(this, arguments);
          }

          _createClass(ab, [{
            key: "afterInit",
            value: function afterInit() {
              this._addListAutoformats(), this._addBasicStylesAutoformats(), this._addHeadingAutoformats(), this._addBlockQuoteAutoformats(), this._addCodeBlockAutoformats(), this._addHorizontalLineAutoformats();
            }
          }, {
            key: "_addListAutoformats",
            value: function _addListAutoformats() {
              var _this197 = this;

              var e = this.editor.commands;
              e.get("bulletedList") && ob(this.editor, this, /^[*-]\s$/, "bulletedList"), e.get("numberedList") && ob(this.editor, this, /^1[.|)]\s$/, "numberedList"), e.get("todoList") && ob(this.editor, this, /^\[\s?\]\s$/, "todoList"), e.get("checkTodoList") && ob(this.editor, this, /^\[\s?x\s?\]\s$/, function () {
                _this197.editor.execute("todoList"), _this197.editor.execute("checkTodoList");
              });
            }
          }, {
            key: "_addBasicStylesAutoformats",
            value: function _addBasicStylesAutoformats() {
              var e = this.editor.commands;

              if (e.get("bold")) {
                var _e280 = cb(this.editor, "bold");

                rb(this.editor, this, /(?:^|\s)(\*\*)([^*]+)(\*\*)$/g, _e280), rb(this.editor, this, /(?:^|\s)(__)([^_]+)(__)$/g, _e280);
              }

              if (e.get("italic")) {
                var _e281 = cb(this.editor, "italic");

                rb(this.editor, this, /(?:^|\s)(\*)([^*_]+)(\*)$/g, _e281), rb(this.editor, this, /(?:^|\s)(_)([^_]+)(_)$/g, _e281);
              }

              if (e.get("code")) {
                var _e282 = cb(this.editor, "code");

                rb(this.editor, this, /(`)([^`]+)(`)$/g, _e282);
              }

              if (e.get("strikethrough")) {
                var _e283 = cb(this.editor, "strikethrough");

                rb(this.editor, this, /(~~)([^~]+)(~~)$/g, _e283);
              }
            }
          }, {
            key: "_addHeadingAutoformats",
            value: function _addHeadingAutoformats() {
              var _this198 = this;

              var e = this.editor.commands.get("heading");
              e && e.modelElements.filter(function (e) {
                return e.match(/^heading[1-6]$/);
              }).forEach(function (t) {
                var n = t[7],
                    i = new RegExp("^(#{".concat(n, "})\\s$"));
                ob(_this198.editor, _this198, i, function () {
                  if (!e.isEnabled || e.value === t) return !1;

                  _this198.editor.execute("heading", {
                    value: t
                  });
                });
              });
            }
          }, {
            key: "_addBlockQuoteAutoformats",
            value: function _addBlockQuoteAutoformats() {
              this.editor.commands.get("blockQuote") && ob(this.editor, this, /^>\s$/, "blockQuote");
            }
          }, {
            key: "_addCodeBlockAutoformats",
            value: function _addCodeBlockAutoformats() {
              var _this199 = this;

              var e = this.editor,
                  t = e.model.document.selection;
              e.commands.get("codeBlock") && ob(e, this, /^```$/, function () {
                if (t.getFirstPosition().parent.is("element", "listItem")) return !1;

                _this199.editor.execute("codeBlock", {
                  usePreviousLanguageChoice: !0
                });
              });
            }
          }, {
            key: "_addHorizontalLineAutoformats",
            value: function _addHorizontalLineAutoformats() {
              this.editor.commands.get("horizontalLine") && ob(this.editor, this, /^---$/, "horizontalLine");
            }
          }], [{
            key: "requires",
            get: function get() {
              return [Pf];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "Autoformat";
            }
          }]);

          return ab;
        }(st);

        function cb(e, t) {
          return function (n, i) {
            if (!e.commands.get(t).isEnabled) return !1;
            var o = e.model.schema.getValidRanges(i, t);

            var _iterator354 = _createForOfIteratorHelper(o),
                _step354;

            try {
              for (_iterator354.s(); !(_step354 = _iterator354.n()).done;) {
                var _e284 = _step354.value;
                n.setAttribute(t, !0, _e284);
              }
            } catch (err) {
              _iterator354.e(err);
            } finally {
              _iterator354.f();
            }

            n.removeSelectionAttribute(t);
          };
        }

        var lb = ["fire", "name", "plugins", "defaultPlugins", "getRoot", "model", "change:placeholder", "change", "placeholderElement", "document", "get", "ready", "create", "data", "init", "getChild", "focus", "editing", "_updatePlaceholder", "then", "view", "initialData", "childCount", "destroy", "placeholder", "initPlugins"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(lb, 363);

        var db = function db(e, t) {
          return lb[e -= 0];
        };

        var ub = /*#__PURE__*/function (_Fd2, _db, _db2, _db3) {
          _inherits(ub, _Fd2);

          var _super128 = _createSuper(ub);

          function ub() {
            var _this200;

            var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

            _classCallCheck(this, ub);

            (e = Object.assign({}, e))[db("0x3")] || (e[db("0x3")] = ub[db("0x4")]), _this200 = _super128.call(this, e), _this200.ui = new bf(_assertThisInitialized(_this200)), _this200.set(db("0x19"), ""), _this200.model.document.on(db("0x8"), function () {
              return _this200[db("0x13")]();
            }, {
              priority: "low"
            }), _this200.on(db("0x7"), function () {
              return _this200[db("0x13")]();
            }), _this200[db("0x6")][db("0xa")].createRoot();
            return _this200;
          }

          _createClass(ub, [{
            key: _db,
            value: function value() {
              var _this201 = this;

              var e = this.config[db("0xb")](db("0x16")) || "";
              return this[db("0x0")]()[db("0x14")](function () {
                return _this201.ui.init();
              })[db("0x14")](function () {
                return _this201[db("0xe")][db("0xf")](e);
              }).then(function () {
                return _this201[db("0x1")](db("0xc"));
              });
            }
          }, {
            key: _db2,
            value: function value() {
              var _this202 = this;

              return _get(_getPrototypeOf(ub.prototype), db("0x18"), this).call(this)[db("0x14")](function () {
                return _this202.ui[db("0x18")]();
              });
            }
          }, {
            key: _db3,
            value: function value() {
              var _this203 = this;

              this.model[db("0x8")](function (e) {
                var t = _this203[db("0x6")].document[db("0x5")](),
                    n = t[db("0x10")](t[db("0x17")] - 1);

                e.setSelection(n, "end"), _this203.editing[db("0x15")][db("0x11")]();
              });
            }
          }, {
            key: "_updatePlaceholder",
            value: function _updatePlaceholder() {
              var e = this[db("0x12")][db("0x15")],
                  t = e.document[db("0x5")](),
                  n = t.getChild(0);
              t.childCount > 1 || !n || "p" != n[db("0x2")] ? this[db("0x9")] && (function (e, t) {
                var n = t.document;
                e.change(function (e) {
                  if (!Tg.has(n)) return;
                  var i = Tg.get(n),
                      o = i.get(t);
                  e.removeAttribute("data-placeholder", o.hostElement), Eg(e, o.hostElement), i["delete"](t);
                });
              }(e, this[db("0x9")]), this[db("0x9")] = void 0) : (Ag({
                view: e,
                element: n,
                text: this[db("0x19")],
                keepOnFocus: !0
              }), this[db("0x9")] = n);
            }
          }]);

          return ub;
        }(Fd, db("0xd"), db("0x18"), db("0x11"));

        rt(ub, Ze), rt(ub, Wd), ub.defaultPlugins = [sk, ab, dk, bk, Tk, ib];

        var hb = /*#__PURE__*/function (_nh23) {
          _inherits(hb, _nh23);

          var _super129 = _createSuper(hb);

          function hb(e) {
            var _this204;

            var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

            _classCallCheck(this, hb);

            _this204 = _super129.call(this, e);
            var n = e.t;
            _this204.editor = new ub(t), _this204.keystrokes = new Za(), _this204.focusTracker = new Xa(), _this204.set("value", t.initialData || ""), _this204.set("disabledSubmit", !1), _this204.set("showButtons", !0), _this204.set("placeholder", n("Reply...")), _this204.submitButtonView = _this204._createSubmitButton(), _this204.cancelButtonView = _this204._createCancelButton(), _this204.setTemplate({
              tag: "div",
              attributes: {
                "class": ["ck-comment__input-wrapper"]
              },
              children: [{
                tag: "div",
                attributes: {
                  "class": ["ck-comment__input-actions", _this204.bindTemplate["if"]("showButtons", "ck-comment__input-actions--active")]
                },
                children: [_this204.submitButtonView, _this204.cancelButtonView]
              }]
            }), _this204.keystrokes.set("Esc", function (e, t) {
              _this204.cancelButtonView.fire("execute"), t();
            }), _this204.on("submit", function (e, t) {
              t.length > 65e3 ? (alert(n({
                string: "Comment content is too long. Your comment has %0 characters but the limit is %1 characters.",
                id: "TOO_LONG_COMMENT_ALERT"
              }, [t.length, 65e3])), e.stop()) : _this204.editor.setData("");
            }, {
              priority: "high"
            });
            return _this204;
          }

          _createClass(hb, [{
            key: "render",
            value: function render() {
              var _this205 = this;

              _get(_getPrototypeOf(hb.prototype), "render", this).call(this);

              var e = this.editor,
                  t = this.element;
              this.keystrokes.listenTo(t), this.focusTracker.add(t), this._editorCreationPromise = e.create().then(function () {
                t.insertBefore(e.ui.element, t.firstChild), e.model.document.on("change", function () {
                  return _this205.value = e.getData();
                }), e.bind("placeholder").to(_this205), _this205._initializeFocusCycling(e), _this205.fire("editorReady");
              });
            }
          }, {
            key: "focus",
            value: function focus() {
              this.editor.focus();
            }
          }, {
            key: "destroy",
            value: function () {
              var _destroy = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {
                return regeneratorRuntime.wrap(function _callee3$(_context38) {
                  while (1) {
                    switch (_context38.prev = _context38.next) {
                      case 0:
                        _context38.t0 = this._isDestroyed;

                        if (_context38.t0) {
                          _context38.next = 11;
                          break;
                        }

                        this._isDestroyed = !0;
                        _context38.t1 = this.isRendered;

                        if (!_context38.t1) {
                          _context38.next = 9;
                          break;
                        }

                        _context38.next = 7;
                        return this._editorCreationPromise;

                      case 7:
                        _context38.next = 9;
                        return this.editor.destroy();

                      case 9:
                        _context38.next = 11;
                        return _get(_getPrototypeOf(hb.prototype), "destroy", this).call(this);

                      case 11:
                      case "end":
                        return _context38.stop();
                    }
                  }
                }, _callee3, this);
              }));

              function destroy() {
                return _destroy.apply(this, arguments);
              }

              return destroy;
            }()
          }, {
            key: "_createSubmitButton",
            value: function _createSubmitButton() {
              var _this206 = this;

              var e = new Th(this.locale),
                  t = this.locale.t;
              return e.extendTemplate({
                attributes: {
                  "class": ["ck-comment__input-actions--submit"]
                }
              }), e.label = t("Submit"), e.icon = Ju.check, e.on("execute", function () {
                _this206.fire("submit", _this206.value);
              }), e.bind("isEnabled").to(this, "value", this, "disabledSubmit", function (e, t) {
                return !t && !!e.trim();
              }), e;
            }
          }, {
            key: "_createCancelButton",
            value: function _createCancelButton() {
              var _this207 = this;

              var e = new Th(this.locale),
                  t = this.locale.t;
              return e.extendTemplate({
                attributes: {
                  "class": ["ck-comment__input-actions--cancel"]
                }
              }), e.label = t("Cancel"), e.icon = Ju.cancel, e.on("execute", function () {
                _this207.editor.setData(""), _this207.fire("cancel");
              }), e;
            }
          }, {
            key: "_initializeFocusCycling",
            value: function _initializeFocusCycling(e) {
              var t = this.focusTracker,
                  n = new th();
              [e.ui.view, this.submitButtonView, this.cancelButtonView].forEach(function (e) {
                n.add(e), t.add(e.element);
              });
              var i = new Sh({
                focusables: n,
                focusTracker: t
              });
              this.keystrokes.set("tab", function (e, t) {
                i.focusNext(), t();
              }, {
                priority: "low"
              }), this.keystrokes.set("shift + tab", function (e, t) {
                i.focusPrevious(), t();
              }, {
                priority: "low"
              });
            }
          }]);

          return hb;
        }(nh);

        n(138);
        var gb = ["ck-user", "div", "isAnonymous", "avatar", "ck-user__avatar", "name", "url('", "setTemplate", "push"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(gb, 477);

        var mb = function mb(e, t) {
          return gb[e -= 0];
        };

        var fb = /*#__PURE__*/function (_nh24) {
          _inherits(fb, _nh24);

          var _super130 = _createSuper(fb);

          function fb(e, t) {
            var _this208;

            _classCallCheck(this, fb);

            _this208 = _super130.call(this, e), _this208[mb("0x5")] = t.name;
            var n = ["ck", "ck-user__img"];
            t[mb("0x2")] && n[mb("0x8")]("ck-user__anonymous"), t[mb("0x3")] && n.push(mb("0x4")), _this208[mb("0x7")]({
              tag: mb("0x1"),
              attributes: {
                "class": ["ck", mb("0x0")],
                "data-user-id": t.id
              },
              children: [{
                tag: mb("0x1"),
                attributes: {
                  "class": n,
                  style: {
                    "background-image": t[mb("0x3")] ? mb("0x6") + t.avatar + "')" : ""
                  }
                }
              }, {
                tag: mb("0x1"),
                attributes: {
                  "class": t[mb("0x3")] ? "ck ck-user__name ck-user__name--hidden" : "ck ck-user__name"
                },
                children: [{
                  text: t.initials
                }]
              }]
            });
            return _this208;
          }

          return fb;
        }(nh);

        var pb = ["userView", "bindTemplate", "focusTracker", "extendTemplate", "set", "showButtons", "ck-comment__input-container", "bind", "then", "destroy", "ck-comment__input-container--active", "commentInputView", "div", "ck-thread__input", "showInput", "isFocused", "value", "ck-thread__user"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(pb, 111);

        var kb = function kb(e, t) {
          return pb[e -= 0];
        };

        var bb = /*#__PURE__*/function (_nh25, _kb) {
          _inherits(bb, _nh25);

          var _super131 = _createSuper(bb);

          function bb(e, t, n) {
            var _this209;

            _classCallCheck(this, bb);

            _this209 = _super131.call(this, e), _this209[kb("0x8")] = new hb(e, n), _this209[kb("0x8")][kb("0x4")](kb("0x2")).to(_this209[kb("0x8")][kb("0x11")], kb("0xc"), _this209[kb("0x8")], kb("0xd"), function (e, t) {
              return e || !!t;
            }), _this209[kb("0x1")](kb("0xb"), !1), _this209.userView = new fb(e, t), _this209.userView.extendTemplate({
              attributes: {
                "class": kb("0xe")
              }
            }), _this209[kb("0x8")][kb("0x0")]({
              attributes: {
                "class": kb("0xa")
              }
            }), _this209.setTemplate({
              tag: kb("0x9"),
              attributes: {
                "class": [kb("0x3"), _this209[kb("0x10")]["if"](kb("0xb"), kb("0x7"))]
              },
              children: [_this209[kb("0xf")], _this209.commentInputView]
            });
            return _this209;
          }

          _createClass(bb, [{
            key: _kb,
            value: function value() {
              var _this210 = this;

              return this[kb("0x8")][kb("0x6")]()[kb("0x5")](function () {
                return _get(_getPrototypeOf(bb.prototype), "destroy", _this210).call(_this210);
              });
            }
          }]);

          return bb;
        }(nh, kb("0x6"));

        var wb = /*#__PURE__*/function (_nh26) {
          _inherits(wb, _nh26);

          var _super132 = _createSuper(wb);

          function wb(e) {
            var _this211;

            _classCallCheck(this, wb);

            _this211 = _super132.call(this, e);
            var t = e.t,
                n = _this211.bindTemplate;
            _this211.set("count"), _this211.setTemplate({
              tag: "li",
              attributes: {
                "class": "ck-thread__comment-count"
              },
              children: [{
                text: n.to("count", function (e) {
                  return t({
                    string: "%0 Comment",
                    plural: "%0 Comments",
                    id: "NUMBER_OF_COMMENTS"
                  }, e);
                })
              }]
            });
            return _this211;
          }

          return wb;
        }(nh);

        var _b = ["from", "_updateHasDirtyComment", "insert", "comments", "change:isEditMode", "weight", "set", "commentUpdated", "visibleViews", "delegate", "count", "destroy", "maxThreadTotalWeight", "add", "listenTo", "_rearrangeExpand", "CommentView", "_config", "refreshVisibleViews", "isEditMode", "equal", "change:hasDirtyComment", "element", "_rearrangeCollapse", "createCollection", "delete", "render", "formatDateTime", "_model", "setTemplate", "_handleRemoveCommentModel", "remove", "expand", "length", "focus", "hasDirtyComment", "_collapsedCommentsView", "bind", "maxCommentsWhenCollapsed", "viewUid", "_handleNewCommentModel", "maxCommentCharsWhenCollapsed", "_shouldCollapse", "commentViews", "ck-thread__comments", "change:isActive"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(_b, 273);

        var vb = function vb(e, t) {
          return _b[e -= 0];
        };

        var xb = /*#__PURE__*/function (_nh27, _vb, _vb2, _vb3, _vb4, _vb5, _vb6, _vb7) {
          _inherits(xb, _nh27);

          var _super133 = _createSuper(xb);

          function xb(e, t, n) {
            var _this212;

            _classCallCheck(this, xb);

            _this212 = _super133.call(this, e), _this212[vb("0x9")]("hasDirtyComment", !1), _this212[vb("0x9")](vb("0x24"), t.comments[vb("0x24")]), _this212[vb("0x9")]("isActive", !1), _this212._model = t, _this212[vb("0x14")] = n, _this212.commentViews = _this212[vb("0x1b")](), _this212[vb("0xb")] = _this212[vb("0x1b")](), _this212._collapsedCommentsView = new wb(e), _this212._collapsedCommentsView[vb("0x28")](vb("0xd")).to(_assertThisInitialized(_this212), vb("0x24"), function (e) {
              return e - _this212[vb("0x14")][vb("0x29")];
            });

            var _iterator355 = _createForOfIteratorHelper(t[vb("0x6")]),
                _step355;

            try {
              for (_iterator355.s(); !(_step355 = _iterator355.n()).done;) {
                var _e285 = _step355.value;

                _this212[vb("0x2b")](_e285);
              }
            } catch (err) {
              _iterator355.e(err);
            } finally {
              _iterator355.f();
            }

            _this212.listenTo(t.comments, vb("0x10"), function (e, t) {
              _this212[vb("0x24")]++, _this212[vb("0x2b")](t), _this212[vb("0x15")]();
            }), _this212[vb("0x11")](t[vb("0x6")], "remove", function (e, t) {
              _this212[vb("0x24")]--, _this212[vb("0x21")](t), _this212[vb("0x15")]();
            }), _this212.listenTo(t, vb("0xa"), function () {
              return _this212[vb("0x15")]();
            }), _this212.on(vb("0x2"), function () {
              return _this212[vb("0x15")]();
            }), _this212.on(vb("0x18"), function () {
              return _this212.refreshVisibleViews();
            }), _this212[vb("0x20")]({
              tag: "ul",
              attributes: {
                "class": [vb("0x1")]
              },
              children: _this212[vb("0xb")]
            });
            return _this212;
          }

          _createClass(xb, [{
            key: _vb,
            get: function get() {
              return this[vb("0x1f")][vb("0x8")] > this[vb("0x14")][vb("0xf")] && !this.isActive && !this[vb("0x26")];
            }
          }, {
            key: _vb2,
            value: function value() {
              _get(_getPrototypeOf(xb.prototype), vb("0x1d"), this).call(this), this.refreshVisibleViews();
            }
          }, {
            key: _vb3,
            value: function value() {
              this[vb("0x19")][vb("0x25")]();
            }
          }, {
            key: _vb4,
            value: function value() {
              this[vb("0x27")].destroy();

              var _iterator356 = _createForOfIteratorHelper(this[vb("0x0")]),
                  _step356;

              try {
                for (_iterator356.s(); !(_step356 = _iterator356.n()).done;) {
                  var _e286 = _step356.value;

                  _e286.destroy();
                }
              } catch (err) {
                _iterator356.e(err);
              } finally {
                _iterator356.f();
              }

              _get(_getPrototypeOf(xb.prototype), vb("0xe"), this).call(this);
            }
          }, {
            key: _vb5,
            value: function value() {
              this[vb("0x2d")] ? this[vb("0x1a")]() : this[vb("0x12")]();
            }
          }, {
            key: _vb6,
            value: function value(e) {
              var _this213 = this;

              var t = new this[vb("0x14")][vb("0x13")](this.locale, e, {
                maxCommentCharsWhenCollapsed: this[vb("0x14")][vb("0x2c")],
                formatDateTime: this._config[vb("0x1e")],
                editorConfig: this[vb("0x14")].editorConfig
              });
              t[vb("0x2a")] = e.id, t[vb("0xc")]("removeComment").to(this), t[vb("0xc")]("updateComment").to(this), this[vb("0x11")](t, vb("0x7"), function () {
                return _this213[vb("0x4")]();
              }), this.commentViews.add(t);
            }
          }, {
            key: "_handleRemoveCommentModel",
            value: function _handleRemoveCommentModel(e) {
              var t = this.commentViews.remove(e.id);
              this.stopListening(t), t[vb("0x16")] && this[vb("0x4")](), t[vb("0xe")]();
            }
          }, {
            key: _vb7,
            value: function value() {
              this[vb("0x26")] = Array[vb("0x3")](this[vb("0x0")]).some(function (e) {
                return e[vb("0x16")];
              });
            }
          }, {
            key: "_rearrangeCollapse",
            value: function _rearrangeCollapse() {
              var e = function (e) {
                var t = new Hi();

                var _iterator357 = _createForOfIteratorHelper(e),
                    _step357;

                try {
                  for (_iterator357.s(); !(_step357 = _iterator357.n()).done;) {
                    var _n237 = _step357.value;
                    t[vb("0x10")](_n237);
                  }
                } catch (err) {
                  _iterator357.e(err);
                } finally {
                  _iterator357.f();
                }

                return t;
              }(this[vb("0x0")]),
                  t = this._collapsedCommentsView[vb("0xd")];

              for (var _n238 = 1; _n238 <= t; _n238++) {
                e[vb("0x22")](1);
              }

              var _iterator358 = _createForOfIteratorHelper(e),
                  _step358;

              try {
                for (_iterator358.s(); !(_step358 = _iterator358.n()).done;) {
                  var _t256 = _step358.value;

                  _t256.collapse();
                }
              } catch (err) {
                _iterator358.e(err);
              } finally {
                _iterator358.f();
              }

              t > 0 && e.add(this[vb("0x27")], 1), yb(cs(Array[vb("0x3")](this.visibleViews), Array[vb("0x3")](e)), this[vb("0xb")], e);
            }
          }, {
            key: "_rearrangeExpand",
            value: function _rearrangeExpand() {
              yb(cs(Array[vb("0x3")](this[vb("0xb")]), Array[vb("0x3")](this[vb("0x0")])), this[vb("0xb")], this[vb("0x0")]);

              var _iterator359 = _createForOfIteratorHelper(this[vb("0xb")]),
                  _step359;

              try {
                for (_iterator359.s(); !(_step359 = _iterator359.n()).done;) {
                  var _e287 = _step359.value;

                  _e287[vb("0x23")]();
                }
              } catch (err) {
                _iterator359.e(err);
              } finally {
                _iterator359.f();
              }
            }
          }]);

          return xb;
        }(nh, vb("0x2d"), vb("0x1d"), vb("0x25"), vb("0xe"), vb("0x15"), vb("0x2b"), vb("0x4"));

        function yb(e, t, n) {
          var i = 0;

          var _iterator360 = _createForOfIteratorHelper(e),
              _step360;

          try {
            for (_iterator360.s(); !(_step360 = _iterator360.n()).done;) {
              var _o102 = _step360.value;

              switch (_o102) {
                case vb("0x5"):
                  t[vb("0x10")](n.get(i), i), i++;
                  break;

                case vb("0x1c"):
                  t[vb("0x22")](i);
                  break;

                case vb("0x17"):
                  i++;
              }
            }
          } catch (err) {
            _iterator360.e(err);
          } finally {
            _iterator360.f();
          }
        }

        var Cb = /*#__PURE__*/function (_nh28) {
          _inherits(Cb, _nh28);

          var _super134 = _createSuper(Cb);

          function Cb(e, t, n, i) {
            var _this214;

            _classCallCheck(this, Cb);

            _this214 = _super134.call(this, e), _this214.set("isActive", !1), _this214.set("isDirty", !1), _this214._model = t, _this214._localUser = n, _this214._config = i, _this214.commentsListView = new xb(e, t, Object.assign({
              CommentView: _this214._config.CommentView
            }, i)), _this214.commentsListView.delegate("removeComment").to(_assertThisInitialized(_this214)), _this214.commentsListView.delegate("updateComment").to(_assertThisInitialized(_this214)), _this214.commentsListView.bind("isActive").to(_assertThisInitialized(_this214)), _this214.set("length", _this214.commentsListView.length), _this214.bind("length").to(_this214.commentsListView, "length"), _this214.commentThreadInputView = _this214._createCommentThreadInputView(), _this214.on("removeComment", function () {
              return _this214.focus();
            }), _this214.bind("isDirty").to(_this214.commentsListView, "hasDirtyComment", _this214.commentThreadInputView.commentInputView, "value", function (e, t) {
              return e || !!t;
            });
            return _this214;
          }

          _createClass(Cb, [{
            key: "focus",
            value: function focus() {
              this.element.focus();
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this.isDirty = !1, this.commentsListView.destroy(), this.commentThreadInputView.destroy(), _get(_getPrototypeOf(Cb.prototype), "destroy", this).call(this);
            }
          }, {
            key: "_createCommentThreadInputView",
            value: function _createCommentThreadInputView() {
              var _this215 = this;

              var e = this.locale.t,
                  t = new bb(this.locale, this._localUser, this._config.editorConfig),
                  n = t.commentInputView;
              return t.bind("showInput").to(this, "isActive", this._model, "isReadOnly", n, "value", function (e, t, n) {
                return !!n || e && !t;
              }), n.bind("placeholder").to(this, "length", function (t) {
                return e(t ? "Reply..." : "Write a comment...");
              }), n.on("submit", function (e, t) {
                _this215.fire("addComment", t);
              }), n.on("cancel", function () {
                _this215.focus();
              }), n.bind("disabledSubmit").to(this._model, "isReadOnly"), n.on("cancel", function (e) {
                0 == _this215.length && (_this215.fire("removeCommentThread"), e.stop());
              }), this.on("change:isActive", function (e, t, i) {
                i || _this215.length || n.value || _this215.fire("removeCommentThread");
              }), t;
            }
          }]);

          return Cb;
        }(nh);

        var Tb = ["fire", "set", "appendChild", "registerChild", "submit", "element", "render", "remove", "_removeConfirm", "once", "deregisterChild", "isConfirm", "confirmView", "cancel", "locale", "destroy"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(Tb, 497);

        var Ab = function Ab(e, t) {
          return Tb[e -= 0];
        },
            Eb = {
          showConfirm: function showConfirm(e, t) {
            var _this218 = this;

            return this[Ab("0xb")] = new ( /*#__PURE__*/function (_nh29) {
              _inherits(_class, _nh29);

              var _super135 = _createSuper(_class);

              function _class(e) {
                var _this216;

                _classCallCheck(this, _class);

                _this216 = _super135.call(this, e);
                var t = e.t,
                    n = _this216.bindTemplate;
                _this216.submitView = _this216._createButtonView(e, t("Yes"), Ju.check, "submit"), _this216.cancelView = _this216._createButtonView(e, t("No"), Ju.cancel, "cancel"), _this216.set("message", t("Are you sure?")), _this216.setTemplate({
                  tag: "div",
                  attributes: {
                    "class": ["ck-thread__remove-confirm"]
                  },
                  children: [{
                    tag: "div",
                    attributes: {
                      "class": "ck-thread__remove-confirm-inner"
                    },
                    children: [{
                      tag: "p",
                      children: [{
                        text: n.to("message")
                      }]
                    }, {
                      tag: "div",
                      attributes: {
                        "class": "ck-thread__remove-confirm-actions"
                      },
                      children: [_this216.submitView, _this216.cancelView]
                    }]
                  }]
                });
                return _this216;
              }

              _createClass(_class, [{
                key: "_createButtonView",
                value: function _createButtonView(e, t, n, i) {
                  var _this217 = this;

                  var o = new Th(e);
                  return o.label = t, o.icon = n, o.extendTemplate({
                    attributes: {
                      "class": "ck-thread__remove-confirm-" + i
                    }
                  }), o.on("execute", function () {
                    return _this217.fire(i);
                  }), o;
                }
              }]);

              return _class;
            }(nh))(this[Ab("0xd")]), this[Ab("0xb")][Ab("0x5")](), this.confirmView.message = e, this.confirmView[Ab("0x8")](Ab("0xc"), function () {
              _this218[Ab("0x7")]();
            }), this.confirmView[Ab("0x8")]("submit", function () {
              _this218[Ab("0x7")]();
            }), t[Ab("0x1")](this.confirmView.element), this[Ab("0x2")](this[Ab("0xb")]), this[Ab("0x0")](Ab("0xa"), !0), new Promise(function (e) {
              return _this218[Ab("0xb")].on(Ab("0x3"), e);
            });
          },
          cancelConfirm: function cancelConfirm() {
            this[Ab("0xa")] && this[Ab("0xb")][Ab("0xf")](Ab("0xc"));
          },
          _removeConfirm: function _removeConfirm() {
            this[Ab("0xb")][Ab("0x4")][Ab("0x6")](), this[Ab("0x9")](this[Ab("0xb")]), this[Ab("0xa")] = !1, this.confirmView[Ab("0xe")](), delete this[Ab("0xb")];
          }
        };

        var Ib = /*#__PURE__*/function (_Cb) {
          _inherits(Ib, _Cb);

          var _super136 = _createSuper(Ib);

          function Ib(e, t, n, i) {
            var _this219;

            _classCallCheck(this, Ib);

            _this219 = _super136.call(this, e, t, n, i), _this219.set("actionIndicator", null), _this219.containerElement = null, _this219.locale = e, _this219.setTemplate(_this219._getTemplate()), _this219.on("change:isActive", function (e, t, n) {
              n || _this219._cancelAllConfirms();
            }), _this219.listenTo(_this219._model, "change:isReadOnly", function (e, t, n) {
              n && _this219._cancelAllConfirms();
            }), _this219.length > 0 ? _this219._bindFirstCommentView() : _this219.listenTo(_this219.commentsListView.commentViews, "add", function (e) {
              _this219._bindFirstCommentView(), e.off();
            });
            return _this219;
          }

          _createClass(Ib, [{
            key: "_getTemplate",
            value: function _getTemplate() {
              var e = this.bindTemplate;
              return {
                tag: "div",
                attributes: {
                  "class": ["ck-thread", e["if"]("isActive", "ck-thread--active"), e["if"]("isConfirm", "ck-thread--remove-confirmation"), e.to("actionIndicator", function (e) {
                    return e ? "ck-thread--" + e : "";
                  })],
                  "data-thread-id": this._model.id,
                  tabindex: -1
                },
                children: [{
                  tag: "div",
                  attributes: {
                    "class": "ck-thread__container"
                  },
                  children: [this.commentsListView, this.commentThreadInputView]
                }]
              };
            }
          }, {
            key: "render",
            value: function render() {
              _get(_getPrototypeOf(Ib.prototype), "render", this).call(this), this.containerElement = this.element.querySelector(".ck-thread__container");
            }
          }, {
            key: "_cancelAllConfirms",
            value: function _cancelAllConfirms() {
              this.cancelConfirm();

              var _iterator361 = _createForOfIteratorHelper(this.commentsListView.commentViews),
                  _step361;

              try {
                for (_iterator361.s(); !(_step361 = _iterator361.n()).done;) {
                  var _e288 = _step361.value;

                  _e288.cancelConfirm();
                }
              } catch (err) {
                _iterator361.e(err);
              } finally {
                _iterator361.f();
              }
            }
          }, {
            key: "_bindFirstCommentView",
            value: function _bindFirstCommentView() {
              var _this220 = this;

              var e = this.locale.t,
                  t = this.commentsListView.commentViews.get(0);
              this.bind("actionIndicator").to(t, "actionIndicator", function (e) {
                return "remove" === e ? "remove" : null;
              }), t.placeholder = e("Write a comment..."), t.removeButton.on("execute", function (t) {
                t.stop(), _this220.showConfirm(e("Delete comment thread?"), _this220.containerElement).then(function () {
                  _this220.fire("removeCommentThread");
                });
              }, {
                priority: "high"
              });
            }
          }]);

          return Ib;
        }(Cb);

        rt(Ib, Eb);
        var Sb = ["ck-comment__content", "render", "element", "content", "set", "innerHTML"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(Sb, 179);

        var Mb = function Mb(e, t) {
          return Sb[e -= 0];
        };

        var Pb = /*#__PURE__*/function (_nh30, _Mb) {
          _inherits(Pb, _nh30);

          var _super137 = _createSuper(Pb);

          function Pb(e) {
            var _this221;

            _classCallCheck(this, Pb);

            _this221 = _super137.call(this, e), _this221[Mb("0x5")]("content", ""), _this221.setTemplate({
              tag: "div",
              attributes: {
                "class": [Mb("0x1"), "ck-annotation__content"]
              }
            });
            return _this221;
          }

          _createClass(Pb, [{
            key: _Mb,
            value: function value() {
              var _this222 = this;

              _get(_getPrototypeOf(Pb.prototype), Mb("0x2"), this).call(this), this.on("change:content", function (e, t, n) {
                _this222[Mb("0x3")][Mb("0x0")] = n;
              }), this[Mb("0x3")][Mb("0x0")] = this[Mb("0x4")];
            }
          }]);

          return Pb;
        }(nh, Mb("0x2"));

        var Rb = ["slice", "join", "pop", "replace", "push", "startsWith", "length", "match", "indexOf", "substring"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(Rb, 171);

        var Nb = function Nb(e, t) {
          return Rb[e -= 0];
        };

        function Ob(e, _ref53) {
          var t = _ref53.limit,
              _ref53$suffix = _ref53.suffix,
              n = _ref53$suffix === void 0 ? "..." : _ref53$suffix;
          var i = [];
          var o = 0;
          var r = e.replace(/</g, "\n<")[Nb("0x2")](/>/g, ">\n")[Nb("0x2")](/^\n/g, "")[Nb("0x2")](/\n$/g, "").split("\n");

          for (var _e289 = 0; _e289 < r[Nb("0x5")]; _e289++) {
            var _s35 = r[_e289];

            var _a21 = Db(_s35);

            if (_s35[Nb("0x4")]("<")) {
              if (o >= t) {
                var _e290 = _s35[Nb("0x6")](/[a-zA-Z]+/)[0];

                _s35[Nb("0x4")]("</") ? (i[Nb("0x5")] && (_s35 = ""), i[Nb("0x1")]()) : (i.push(_e290), _s35 = "");
              }
            } else if (o >= t) _s35 = "";else if (o + _a21.length >= t) {
              var _e291 = t - o;

              if (" " === _a21[_e291 - 1]) _e291--;else {
                var _t257 = _a21[Nb("0x9")](_e291)[Nb("0x7")](" ");

                -1 !== _t257 ? _e291 += _t257 : _e291 = _s35.length;
              }
              _s35 = _a21[Nb("0x9")](0, _e291)[Nb("0x0")]("") + n, o = t;
            } else o += _a21[Nb("0x5")];

            r[_e289] = _s35;
          }

          return r[Nb("0x0")]("\n")[Nb("0x2")](/\n/g, "");
        }

        function Db(e) {
          var t = [];

          for (var _n239 = 0; _n239 < e[Nb("0x5")]; _n239++) {
            var _i194 = e[Nb("0x8")](_n239).match(/^&[a-z0-9#]+;/);

            if (_i194) {
              var _e292 = _i194[0];
              t[Nb("0x3")](_e292), _n239 += _e292[Nb("0x5")] - 1;
            } else t.push(e[_n239]);
          }

          return t;
        }

        var Lb = ["editorConfig", "disabledSubmit", "isEditMode", "switchToDisplayMode", "destroy", "locale", "content", "collapse", "add", "isCollapsed", "_createCommentInputView", "visibleView", "_model", "isReadOnly", "maxCommentCharsWhenCollapsed", "_config", "once", "set", "bind", "submit", "updateComment", "initialData", "focus", "switchToEditMode", "value", "cancel", "editorReady", "_createCommentContentView"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(Lb, 387);

        var zb = function zb(e, t) {
          return Lb[e -= 0];
        };

        var Vb = /*#__PURE__*/function (_nh31, _zb, _zb2, _zb3, _zb4, _zb5, _zb6, _zb7) {
          _inherits(Vb, _nh31);

          var _super138 = _createSuper(Vb);

          function Vb(e, t, n) {
            var _this223;

            _classCallCheck(this, Vb);

            _this223 = _super138.call(this, e), _this223[zb("0x11")] = t, _this223._config = n, _this223.set(zb("0x7"), !1), _this223[zb("0x16")](zb("0xe"), !0), _this223[zb("0x10")] = _this223.createCollection(), _this223[zb("0x10")][zb("0xd")](_this223[zb("0x4")]());
            return _this223;
          }

          _createClass(Vb, [{
            key: "expand",
            value: function expand() {
              this.isCollapsed = !1;
            }
          }, {
            key: _zb,
            value: function value() {
              this[zb("0x7")] || (this[zb("0xe")] = !0);
            }
          }, {
            key: _zb2,
            value: function value() {
              this.element[zb("0x1b")]();
            }
          }, {
            key: _zb3,
            value: function () {
              var _value = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {
                return regeneratorRuntime.wrap(function _callee4$(_context39) {
                  while (1) {
                    switch (_context39.prev = _context39.next) {
                      case 0:
                        _context39.next = 2;
                        return this.visibleView.get(0).destroy();

                      case 2:
                        _get(_getPrototypeOf(Vb.prototype), "destroy", this).call(this);

                      case 3:
                      case "end":
                        return _context39.stop();
                    }
                  }
                }, _callee4, this);
              }));

              function value() {
                return _value.apply(this, arguments);
              }

              return value;
            }()
          }, {
            key: _zb4,
            value: function value() {
              this[zb("0x7")] || (this[zb("0x7")] = !0, this[zb("0x10")].remove(0)[zb("0x9")](), this[zb("0x10")][zb("0xd")](this._createCommentInputView()));
            }
          }, {
            key: _zb5,
            value: function value() {
              this[zb("0x7")] && (this[zb("0x7")] = !1, this[zb("0x10")].remove(0)[zb("0x9")](), this[zb("0x10")][zb("0xd")](this[zb("0x4")]()));
            }
          }, {
            key: _zb6,
            value: function value() {
              var _this224 = this;

              var e = new Pb(this[zb("0xa")]);
              return e.bind("content").to(this[zb("0x11")], zb("0xb"), this, zb("0xe"), function (e, t) {
                return t ? Ob(e, {
                  limit: _this224[zb("0x14")][zb("0x13")]
                }) : e;
              }), e;
            }
          }, {
            key: _zb7,
            value: function value() {
              var _this225 = this;

              this[zb("0x14")][zb("0x5")] || (this._config.editorConfig = {}), this._config.editorConfig[zb("0x1a")] = this[zb("0x11")][zb("0xb")];
              var e = new hb(this[zb("0xa")], this[zb("0x14")][zb("0x5")]);
              return e[zb("0x1")] = this[zb("0x11")][zb("0xb")], e[zb("0x17")](zb("0x6")).to(this[zb("0x11")], zb("0x12")), e.on(zb("0x18"), function (e, t) {
                _this225.fire(zb("0x19"), _this225._model.id, t), _this225[zb("0x8")](), _this225[zb("0x1b")]();
              }), e.on(zb("0x2"), function () {
                _this225[zb("0x8")](), _this225[zb("0x1b")]();
              }), e[zb("0x15")](zb("0x3"), function () {
                e[zb("0x1b")]();
              }), e;
            }
          }]);

          return Vb;
        }(nh, zb("0xc"), zb("0x1b"), zb("0x9"), zb("0x0"), zb("0x8"), zb("0x4"), zb("0xf"));

        var Bb = n(61),
            Fb = n.n(Bb);

        var jb = /*#__PURE__*/function (_Vb) {
          _inherits(jb, _Vb);

          var _super139 = _createSuper(jb);

          function jb(e, t, n) {
            var _this226;

            _classCallCheck(this, jb);

            _this226 = _super139.call(this, e, t, n);
            var i = _this226.locale.t;
            _this226.set("actionIndicator", null), _this226.set("placeholder", i("Reply...")), _this226.set("createdAt", null), _this226.bind("createdAt").to(t), _this226.editButton = _this226._createEditButton(), _this226.removeButton = _this226._createRemoveButton(), _this226.userView = new fb(e, t.author), _this226.userView.extendTemplate({
              attributes: {
                "class": ["ck-comment__user", "ck-annotation__user"]
              }
            }), _this226.listenTo(t, "change:isRemovable", function () {
              return _this226.cancelConfirm();
            }), _this226.setTemplate(_this226._getTemplate());
            return _this226;
          }

          _createClass(jb, [{
            key: "_getTemplate",
            value: function _getTemplate() {
              var _this227 = this;

              var e = this.bindTemplate;
              return {
                tag: "li",
                attributes: {
                  "class": ["ck-comment__wrapper", e["if"]("isConfirm", "ck-comment--remove-confirmation")],
                  tabindex: -1
                },
                children: [{
                  tag: "div",
                  attributes: {
                    "class": ["ck-comment", "ck-annotation", e["if"]("isEditMode", "ck-comment--edit"), e.to("actionIndicator", function (e) {
                      return e ? "ck-comment--" + e : "";
                    })],
                    "data-author-id": this._model.author.id,
                    "data-comment-id": this._model.id
                  },
                  children: [this.userView, {
                    tag: "div",
                    attributes: {
                      "class": ["ck-comment__main", "ck-annotation__main"]
                    },
                    children: [{
                      tag: "div",
                      attributes: {
                        "class": ["ck-comment__info", "ck-annotation__info"]
                      },
                      children: [{
                        tag: "span",
                        children: [{
                          text: this.userView.name
                        }],
                        attributes: {
                          "class": ["ck-comment__info-name", "ck-annotation__info-name"]
                        }
                      }, {
                        tag: "time",
                        attributes: {
                          datetime: e.to("createdAt"),
                          "class": ["ck-comment__info-time", "ck-annotation__info-time"]
                        },
                        children: [{
                          text: e.to("createdAt", function (e) {
                            return _this227._config.formatDateTime(e);
                          })
                        }]
                      }]
                    }, {
                      tag: "div",
                      attributes: {
                        "class": ["ck-comment__actions", "ck-annotation__actions", e["if"]("isEditMode", "ck-comment__actions--hidden"), e["if"]("isEditMode", "ck-annotation__actions--hidden")]
                      },
                      children: [this.editButton, this.removeButton]
                    }, {
                      tag: "div",
                      attributes: {
                        "class": ["ck-annotation__content-wrapper"]
                      },
                      children: this.visibleView
                    }]
                  }]
                }]
              };
            }
          }, {
            key: "_createEditButton",
            value: function _createEditButton() {
              var _this228 = this;

              var e = this.locale.t,
                  t = new Th(this.locale);
              return t.label = e("Edit"), t.icon = Ju.pencil, t.extendTemplate({
                attributes: {
                  "class": "ck-comment--edit"
                }
              }), t.bind("isEnabled").to(this._model, "isReadOnly", function (e) {
                return !e;
              }), t.bind("isVisible").to(this._model, "isEditable"), t.on("execute", function () {
                return _this228.switchToEditMode();
              }), t;
            }
          }, {
            key: "_createRemoveButton",
            value: function _createRemoveButton() {
              var _this229 = this;

              var e = this.locale.t,
                  t = new Th(this.locale);
              return t.label = e("Remove"), t.icon = Fb.a, t.extendTemplate({
                attributes: {
                  "class": "ck-comment--remove"
                }
              }), t.bind("isEnabled").to(this._model, "isReadOnly", function (e) {
                return !e;
              }), t.bind("isVisible").to(this._model, "isRemovable"), t.on("execute", function () {
                _this229.showConfirm(e("Delete comment?"), _this229.element).then(function () {
                  _this229.fire("removeComment", _this229._model.id);
                });
              }), t;
            }
          }, {
            key: "_attachActions",
            value: function _attachActions(e, t) {
              var _this230 = this;

              this.listenTo(e, "mouseenter", function () {
                return _this230.actionIndicator = t;
              }), this.listenTo(e, "focus", function () {
                return _this230.actionIndicator = t;
              }), this.listenTo(e, "mouseleave", function () {
                return _this230.actionIndicator = null;
              }), this.listenTo(e, "blur", function () {
                return _this230.actionIndicator = null;
              });
            }
          }, {
            key: "_createCommentInputView",
            value: function _createCommentInputView() {
              var e = _get(_getPrototypeOf(jb.prototype), "_createCommentInputView", this).call(this);

              return e.bind("placeholder").to(this), e;
            }
          }, {
            key: "render",
            value: function render() {
              _get(_getPrototypeOf(jb.prototype), "render", this).call(this), this._attachActions(this.editButton.element, "edit"), this._attachActions(this.removeButton.element, "remove");
            }
          }]);

          return jb;
        }(Vb);

        function Hb(e, t) {
          var n = e.t;
          if ("PENDING_ACTION_COMMENT_THREAD" == t) return n({
            string: "Unsaved change in comment thread.",
            id: "PENDING_ACTION_COMMENT_THREAD"
          });
        }

        rt(jb, Eb);
        n(140), n(142), n(144);
        var Ub = ["disconnect", "observe", "attributes", "type", "class", "childList", "cancel"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(Ub, 349);

        var Wb = function Wb(e, t) {
          return Ub[e -= 0];
        };

        function qb(e) {
          var t = lp(e, 30),
              n = new MutationObserver(function (e) {
            var _iterator362 = _createForOfIteratorHelper(e),
                _step362;

            try {
              for (_iterator362.s(); !(_step362 = _iterator362.n()).done;) {
                var _n240 = _step362.value;
                (Wb("0x3") == _n240[Wb("0x4")] && Wb("0x5") == _n240.attributeName || Wb("0x6") == _n240[Wb("0x4")]) && t();
              }
            } catch (err) {
              _iterator362.e(err);
            } finally {
              _iterator362.f();
            }
          });
          return {
            attach: function attach(e) {
              n[Wb("0x2")](e, {
                attributes: !0,
                childList: !0,
                subtree: !0
              });
            },
            detach: function detach() {
              n[Wb("0x1")](), t[Wb("0x0")]();
            }
          };
        }

        n(146);
        var $b = ["isDirty", "isActive", "Esc", "focus", "createCollection", "destroy", "fire", "element", "ck-annotation-wrapper--active", "listenTo", "div", "detach", "height", "focusTracker", "content", "mainView", "set", "ck-annotation-wrapper", "keystrokes", "_updateHeight", "type", "ck-rounded-corners", "add", "bindTemplate", "_mutationObserver"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }($b, 276);

        var Gb = function Gb(e, t) {
          return $b[e -= 0];
        };

        var Yb = /*#__PURE__*/function (_nh32, _Gb, _Gb2) {
          _inherits(Yb, _nh32);

          var _super140 = _createSuper(Yb);

          function Yb(e, t) {
            var _this231;

            _classCallCheck(this, Yb);

            _this231 = _super140.call(this, e), _this231.id = s(), _this231[Gb("0xc")] = new Xa(), _this231[Gb("0x11")] = new Za(), _this231.keystrokes.set(Gb("0x1"), function (e, t) {
              return _this231[Gb("0x5")](Gb("0x1"), t);
            }), _this231.set("targetRect", {
              top: 0,
              right: 0,
              bottom: 0,
              left: 0
            }), _this231[Gb("0xf")](Gb("0xb"), 0), _this231.set(Gb("0x0"), !1), _this231[Gb("0xf")](Gb("0x18"), !1), _this231[Gb("0xf")]("length", 0), _this231.set(Gb("0x13"), ""), _this231[Gb("0x17")] = qb(function () {
              return _this231[Gb("0x12")]();
            }), _this231[Gb("0xd")] = _this231[Gb("0x3")](), _this231[Gb("0xd")][Gb("0x15")](t), _this231[Gb("0xe")] = t;

            var n = _this231[Gb("0x16")];

            _this231.setTemplate({
              tag: Gb("0x9"),
              attributes: {
                "class": ["ck", Gb("0x10"), Gb("0x14"), n["if"](Gb("0x0"), Gb("0x7"))],
                tabindex: -1
              },
              children: _this231.content
            });

            return _this231;
          }

          _createClass(Yb, [{
            key: "render",
            value: function render() {
              _get(_getPrototypeOf(Yb.prototype), "render", this).call(this), this.focusTracker[Gb("0x15")](this[Gb("0x6")]), this[Gb("0x11")][Gb("0x8")](this[Gb("0x6")]), this[Gb("0x17")].attach(this[Gb("0x6")]);
            }
          }, {
            key: _Gb,
            value: function value() {
              this.content.clear(), this[Gb("0x11")][Gb("0x4")](), this[Gb("0xc")][Gb("0x4")](), this[Gb("0x17")][Gb("0xa")](), _get(_getPrototypeOf(Yb.prototype), Gb("0x4"), this).call(this);
            }
          }, {
            key: "focus",
            value: function focus() {
              this[Gb("0x6")][Gb("0x2")]();
            }
          }, {
            key: _Gb2,
            value: function value() {
              var e = this.element.clientHeight;
              e && (this[Gb("0xb")] = e);
            }
          }]);

          return Yb;
        }(nh, Gb("0x4"), Gb("0x12"));

        var Kb = ["add", "annotation-invalid-target", "_assertCorrectTarget", "target", "innerView", "_target", "_id", "function", "focusTracker", "focusableElements", "remove", "isActive", "targetRect", "clear", "stopListening", "view", "element", "_type"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(Kb, 369);

        var Qb = function Qb(e, t) {
          return Kb[e -= 0];
        };

        var Jb = /*#__PURE__*/function (_Qb, _Qb2) {
          function Jb(_ref54) {
            var _this232 = this;

            var e = _ref54.view,
                t = _ref54.target,
                n = _ref54.type;

            _classCallCheck(this, Jb);

            this.view = e, this.view[Qb("0x7")] || this[Qb("0x6")].render(), this._type = n, this[Qb("0xe")] = t, this[Qb("0xb")](), this.focusableElements = new Hi([this[Qb("0x6")][Qb("0x7")]], {
              idProperty: Qb("0xf")
            }), this[Qb("0x0")].on("add", function (e, t) {
              _this232[Qb("0x6")][Qb("0x11")][Qb("0x9")](t);
            }), this[Qb("0x0")].on("remove", function (e, t) {
              _this232[Qb("0x6")][Qb("0x11")][Qb("0x1")](t);
            });
          }

          _createClass(Jb, [{
            key: "type",
            get: function get() {
              return Qb("0x10") == typeof this[Qb("0x8")] ? this[Qb("0x8")]() : this[Qb("0x8")];
            }
          }, {
            key: _Qb,
            get: function get() {
              return this.view.mainView;
            }
          }, {
            key: "target",
            get: function get() {
              return Qb("0x10") == typeof this[Qb("0xe")] ? this[Qb("0xe")]() : this[Qb("0xe")];
            }
          }, {
            key: "targetRect",
            get: function get() {
              var e = this.target;
              return this._assertCorrectTarget(), null === e ? null : new Wa(e);
            }
          }, {
            key: "isActive",
            get: function get() {
              return this.view[Qb("0x2")];
            }
          }, {
            key: _Qb2,
            set: function set(e) {
              this[Qb("0x6")].isActive = e, this[Qb("0x6")].mainView[Qb("0x2")] = e;
            }
          }, {
            key: "updateTargetRect",
            value: function updateTargetRect() {
              this.view[Qb("0x3")] = this[Qb("0x3")];
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this[Qb("0x0")][Qb("0x5")](), this.focusableElements[Qb("0x4")]();
            }
          }, {
            key: "_assertCorrectTarget",
            value: function _assertCorrectTarget() {
              var e = this[Qb("0xc")];
              if (!(null === e || e instanceof Wa || zi(e))) throw new c.a(Qb("0xa"), null, {
                target: e
              });
            }
          }]);

          return Jb;
        }(Qb("0xd"), Qb("0x2"));

        var Xb = ["targetRect", "sort", "getIndex", "left", "max", "_sort", "annotationcollection-not-existing-item", "top", "refreshPositioning", "focus", "_innerViewToAnnotation", "fire", "view", "innerView", "_focusTracker", "annotationcollection-duplicated-item", "_viewToAnnotation", "focusableElements", "has", "getByInnerView", "updateTargetRect", "add", "change:isFocused", "get", "from", "delete", "length", "focusTracker", "stopListening", "listenTo", "destroy", "isFocused", "blur", "remove", "_getOrderInContent", "target", "getByView"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(Xb, 482);

        var Zb = function Zb(e, t) {
          return Xb[e -= 0];
        };

        var ew = /*#__PURE__*/function (_Hi2, _Zb, _Zb2, _Zb3, _Zb4, _Zb5, _Zb6, _Zb7) {
          _inherits(ew, _Hi2);

          var _super141 = _createSuper(ew);

          function ew() {
            var _this233;

            var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];

            _classCallCheck(this, ew);

            _this233 = _super141.call(this), _this233[Zb("0x9")] = new Map(), _this233[Zb("0xf")] = new Map(), _this233._focusTracker = new Xa(), _this233[Zb("0xd")].on(Zb("0x15"), function (e, t, n) {
              n || _this233[Zb("0xa")](Zb("0x1f"));
            });

            var _iterator363 = _createForOfIteratorHelper(e),
                _step363;

            try {
              for (_iterator363.s(); !(_step363 = _iterator363.n()).done;) {
                var _t258 = _step363.value;

                _this233[Zb("0x14")](_t258);
              }
            } catch (err) {
              _iterator363.e(err);
            } finally {
              _iterator363.f();
            }

            return _this233;
          }

          _createClass(ew, [{
            key: _Zb,
            get: function get() {
              return this[Zb("0xd")].isFocused;
            }
          }, {
            key: "add",
            value: function add(e) {
              var _this234 = this;

              if (this[Zb("0x11")](e)) throw new c.a(Zb("0xe"), null);
              this[Zb("0x9")].set(e.innerView, e), this._viewToAnnotation.set(e[Zb("0xb")], e);

              var _iterator364 = _createForOfIteratorHelper(e[Zb("0x10")]),
                  _step364;

              try {
                for (_iterator364.s(); !(_step364 = _iterator364.n()).done;) {
                  var _t259 = _step364.value;

                  this._focusTracker[Zb("0x14")](_t259);
                }
              } catch (err) {
                _iterator364.e(err);
              } finally {
                _iterator364.f();
              }

              this[Zb("0x1c")](e.focusableElements, Zb("0x14"), function (e, t) {
                _this234[Zb("0xd")][Zb("0x14")](t);
              }), this[Zb("0x1c")](e.focusableElements, Zb("0x20"), function (e, t) {
                _this234._focusTracker[Zb("0x20")](t);
              }), this.listenTo(e[Zb("0xb")][Zb("0x1a")], Zb("0x15"), function (t, n, i) {
                i && _this234[Zb("0xa")](Zb("0x8"), e);
              });
              var t = this[Zb("0x21")](e);
              _get(_getPrototypeOf(ew.prototype), Zb("0x14"), this).call(this, e, t), e.updateTargetRect();
            }
          }, {
            key: "remove",
            value: function remove(e) {
              if (!this[Zb("0x11")](e)) throw new c.a(Zb("0x5"), null);
              this[Zb("0x1b")](e[Zb("0xb")][Zb("0x1a")]), this[Zb("0x1b")](e[Zb("0x10")]);

              var _iterator365 = _createForOfIteratorHelper(e[Zb("0x10")]),
                  _step365;

              try {
                for (_iterator365.s(); !(_step365 = _iterator365.n()).done;) {
                  var _t260 = _step365.value;
                  this[Zb("0xd")][Zb("0x20")](_t260);
                }
              } catch (err) {
                _iterator365.e(err);
              } finally {
                _iterator365.f();
              }

              this[Zb("0xf")]["delete"](e[Zb("0xb")]), this[Zb("0x9")][Zb("0x18")](e[Zb("0xc")]), _get(_getPrototypeOf(ew.prototype), Zb("0x20"), this).call(this, e);
            }
          }, {
            key: _Zb2,
            value: function value(e) {
              return this._innerViewToAnnotation[Zb("0x16")](e);
            }
          }, {
            key: _Zb3,
            value: function value(e) {
              return this._viewToAnnotation[Zb("0x16")](e);
            }
          }, {
            key: _Zb4,
            value: function value() {
              _get(_getPrototypeOf(ew.prototype), "clear", this).call(this), this.stopListening(), this._innerViewToAnnotation = null, this[Zb("0xf")] = null, this._focusTracker.destroy();
            }
          }, {
            key: _Zb5,
            value: function value() {
              var _iterator366 = _createForOfIteratorHelper(this),
                  _step366;

              try {
                for (_iterator366.s(); !(_step366 = _iterator366.n()).done;) {
                  var _e293 = _step366.value;

                  _e293[Zb("0x13")]();
                }
              } catch (err) {
                _iterator366.e(err);
              } finally {
                _iterator366.f();
              }

              this._sort();
            }
          }, {
            key: _Zb6,
            value: function value() {
              var e = Array[Zb("0x17")](this)[Zb("0x0")](function (e, t) {
                return tw(e[Zb("0x24")], t[Zb("0x24")]);
              });

              for (var _t261 = e[Zb("0x19")] - 1; _t261 > 0; _t261--) {
                var _n241 = e[_t261];
                _t261 !== this[Zb("0x1")](_n241) && (this.remove(_n241), this.add(_n241, _t261));
              }
            }
          }, {
            key: _Zb7,
            value: function value(e) {
              var t = 0;
              var n = e.targetRect;

              var _iterator367 = _createForOfIteratorHelper(this),
                  _step367;

              try {
                for (_iterator367.s(); !(_step367 = _iterator367.n()).done;) {
                  var _e294 = _step367.value;

                  var _i195 = _e294[Zb("0x22")];

                  if (_i195) {
                    if (tw(n, new Wa(_i195)) < 0) return t;
                    t++;
                  }
                }
              } catch (err) {
                _iterator367.e(err);
              } finally {
                _iterator367.f();
              }

              return Math[Zb("0x3")](0, t);
            }
          }]);

          return ew;
        }(Hi, Zb("0x1e"), Zb("0x12"), Zb("0x23"), Zb("0x1d"), Zb("0x7"), Zb("0x4"), Zb("0x21"));

        function tw(e, t) {
          var n = e[Zb("0x6")] - t.top;
          return 0 == n ? e[Zb("0x2")] - t.left : n;
        }

        var nw = ["pluginName", "activeAnnotations", "collection", "_addActiveAnnotation", "activate", "fire", "destroy", "_activateAnnotation", "set", "add", "remove"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(nw, 259);

        var iw = function iw(e, t) {
          return nw[e -= 0];
        };

        var ow = /*#__PURE__*/function (_Qi5, _iw, _iw2, _iw3, _iw4, _iw5, _iw6) {
          _inherits(ow, _Qi5);

          var _super142 = _createSuper(ow);

          function ow(e) {
            var _this235;

            _classCallCheck(this, ow);

            _this235 = _super142.call(this, e), _this235[iw("0x7")] = new ew(), _this235[iw("0x2")](iw("0x6"), new Set());
            return _this235;
          }

          _createClass(ow, [{
            key: _iw2,
            value: function value(e) {
              this[iw("0x7")][iw("0x3")](e);
            }
          }, {
            key: _iw3,
            value: function value(e) {
              this[iw("0x7")][iw("0x4")](e), e[iw("0x0")]();
            }
          }, {
            key: "getByInnerView",
            value: function getByInnerView(e) {
              return this[iw("0x7")].getByInnerView(e);
            }
          }, {
            key: "deactivateAll",
            value: function deactivateAll() {
              this[iw("0xa")]("_deactivateAllAnnotations");
            }
          }, {
            key: _iw4,
            value: function value() {
              var _iterator368 = _createForOfIteratorHelper(this[iw("0x7")]),
                  _step368;

              try {
                for (_iterator368.s(); !(_step368 = _iterator368.n()).done;) {
                  var _e295 = _step368.value;

                  _e295[iw("0x0")]();
                }
              } catch (err) {
                _iterator368.e(err);
              } finally {
                _iterator368.f();
              }

              _get(_getPrototypeOf(ow.prototype), iw("0x0"), this).call(this);
            }
          }, {
            key: _iw5,
            value: function value(e) {
              this[iw("0xa")](iw("0x1"), e);
            }
          }, {
            key: _iw6,
            value: function value(e) {
              var t = new Set(this.activeAnnotations);
              t[iw("0x3")](e), this.activeAnnotations = t;
            }
          }, {
            key: "_removeActiveAnnotation",
            value: function _removeActiveAnnotation(e) {
              var t = new Set(this.activeAnnotations);
              t["delete"](e), this[iw("0x6")] = t;
            }
          }], [{
            key: _iw,
            get: function get() {
              return "Annotations";
            }
          }]);

          return ow;
        }(Qi, iw("0x5"), iw("0x3"), iw("0x4"), iw("0x0"), iw("0x9"), iw("0x8"));

        var rw = ["trim", "isRemovable", "commentsrepository-invalid-commentid", "comments.maxThreadTotalWeight", "assign", "commentThreadInputView", "activeCommentThread", "error", "threadId", "max", "weight", "commentsrepository-invalid-comment-authorid", "_threads", "push", "getTime", "length", "join", "noChannel", "createdAt", "commentsrepository-remove-comment-thread-internal-error", "removeCommentThread", "div", "_addComment", "addCommentThread", "getIndex", "_threadToController", "replace", "add", "attributes", "commentsrepository-remove-comment-internal-error", "isAttached", "commentsrepository-active-not-attached", "values", "PENDING_ACTION_COMMENT_THREAD", "comments.maxCommentCharsWhenCollapsed", "catch", "commentsrepository-missing-thread-and-adapter-method", "PendingActions", "commentsrepository-get-comment-invalid-id", "commentsrepository-missing-target", "_attachCommentThread", "config", "_detachCommentThread", "toJSON", "define", "commentsrepository-add-comment-internal-error", "fromCharCode", "view", "get", "licenseKey", "charAt", "commentsrepository-add-comment-user-not-exists", "filter", "comments.CommentView", "_updateComment", "change:createdAt", "change:activeAnnotations", "removeComment", "author", "commentsrepository-remove-comment-missing-comment-thread", "_findOptimalIndex", "_nonAdminChannels", "updateComment", "commentsrepository-update-comment-missing-comment-thread", "init", "lowest", "listenTo", "commentInputView", "resolve", "indexOf", "fetchCommentThread", "locale", "update", "commentsrepository-remove-missing-comment", "getCommentThreads", "requires", "pluginName", "map", "context", "_repository", "delete", "content", "_addCommentThread", "attachTo", "commentsrepository-update-comment-invalid-content", "Users", "commentsrepository-add-comment-to-missing-comment-thread", "hasCommentThread", "_removeComment", "_readOnlyChannels", "change:isDirty", "commentsrepository-adapter-already-set", "comments", "charCodeAt", "then", "commentsrepository-active-missing-comment-thread", "plugins", "afterInit", "setAttribute", "getComment", "slice", "getCommentThread", "stopListening", "isEditable", "CommentThreadView", "function", "isReadOnly", "_removeCommentThread", "commentUpdated", "setActiveCommentThread", "channelId", "comments.editorConfig", "textContent", "remove", "parse", "destroy", "from", "string", "has", "_adapter", "isDirty", "commentsrepository-attach-missing-comment-thread", "_add", "_remove", "getByInnerView", "addComment", "once", "bind", "switchReadOnly", "CommentsRepository", "commentsrepository-invalid-comment-thread-id", "commentsrepository-invalid-comment-content", "focus", "commentsrepository-update-comment-internal-error", "adapter", "_viewToController", "type", "activate", "getUser", "substring", "_createCommentThreadView", "comments.maxCommentsWhenCollapsed", "_isAttached", "comment", "set", "commentsrepository-remove-missing-comment-thread", "fire", "commentsrepository-update-missing-comment"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(rw, 272);

        var sw = function sw(e, t) {
          return rw[e -= 0];
        },
            aw = Symbol(sw("0x29"));

        var cw = /*#__PURE__*/function (_Qi6, _sw, _sw2, _sw3, _sw4, _sw5, _sw6, _sw7, _sw8, _sw9, _sw10, _sw11, _sw12, _sw13, _sw14, _sw15, _sw16, _sw17, _sw18, _sw19, _sw20) {
          _inherits(cw, _Qi6);

          var _super143 = _createSuper(cw);

          function cw(e) {
            var _this236;

            _classCallCheck(this, cw);

            _this236 = _super143.call(this, e), _this236[sw("0x24")] = new Map(), _this236[sw("0x31")] = new Map(), _this236[sw("0xb")] = new Map(), _this236[sw("0x71")] = new Set(), _this236[sw("0x14")](sw("0x55"), new Set()), _this236[sw("0x49")] = _this236.context.config.get(sw("0x49"));

            var t = _this236[sw("0x66")].config;

            t[sw("0x44")](sw("0x11"), 2), t[sw("0x44")](sw("0x1b"), 500), t[sw("0x44")](sw("0x3a"), 140), t[sw("0x44")]("comments.CommentThreadView", Ib), t[sw("0x44")](sw("0x4d"), jb);
            return _this236;
          }

          _createClass(cw, [{
            key: _sw3,
            value: function value() {
              var _this237 = this;

              var e = this.context[sw("0x78")].get(ow);
              this[sw("0x14")]("activeCommentThread", null), this.on(sw("0x2f"), function (e, t) {
                return _this237._addCommentThread(t);
              }), this.on(sw("0x2c"), function (e, t) {
                return _this237._removeCommentThread(t);
              }), this.on(sw("0x1"), function (e, t) {
                return _this237[sw("0x2e")](t);
              }), this.on(sw("0x56"), function (e, t) {
                return _this237[sw("0x4e")](t);
              }), this.on(sw("0x51"), function (e, t) {
                return _this237[sw("0x70")](t);
              }), this.on(sw("0x1"), function (e, _ref55) {
                var t = _ref55.threadId,
                    n = _ref55.isFromAdapter;
                if (n) return;

                var i = _this237[sw("0x7d")](t),
                    o = _this237[sw("0x31")][sw("0x48")](i);

                o && o[sw("0x47")][sw("0x8")]();
              }, {
                priority: sw("0x59")
              }), this[sw("0x5a")](e, sw("0x50"), function (e, t, n) {
                var i = Array.from(n)[sw("0x65")](function (e) {
                  return _this237._viewToController[sw("0x48")](e.innerView);
                })[sw("0x4c")](Boolean)[0];
                _this237[sw("0x1e")] = i ? i.model : null;
              });
            }
          }, {
            key: _sw4,
            value: function value() {
              !function (e) {
                var t = e instanceof Ki,
                    n = [1, 85, 78, 115, 198, 255, 50, 112, 83, 87, 161],
                    i = u([52, 48, 52, 50, 50, 48, 53, 50]),
                    o = [127, 34, 6, 211, 167, 86, 146, 199, 132, 160, 18],
                    r = u([65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57]),
                    s = function (t) {
                  if (e[u([112, 108, 117, 103, 105, 110, 115])][u([104, 97, 115])](u([87, 101, 98, 83, 111, 99, 107, 101, 116, 71, 97, 116, 101, 119, 97, 121])) && e[u([112, 108, 117, 103, 105, 110, 115])][u([103, 101, 116])](u([87, 101, 98, 83, 111, 99, 107, 101, 116, 71, 97, 116, 101, 119, 97, 121]))[u([115, 116, 97, 116, 101])] == u([99, 111, 110, 110, 101, 99, 116, 101, 100])) return a(u([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 86, 97, 108, 105, 100]));
                  if (e[u([112, 108, 117, 103, 105, 110, 115])][u([104, 97, 115])](u([84, 114, 97, 99, 107, 67, 104, 97, 110, 103, 101, 115, 68, 97, 116, 97, 71, 101, 116, 116, 101, 114])) && e[u([112, 108, 117, 103, 105, 110, 115])][u([103, 101, 116])](u([84, 114, 97, 99, 107, 67, 104, 97, 110, 103, 101, 115, 68, 97, 116, 97, 71, 101, 116, 116, 101, 114]))[u([114, 101, 115, 117, 108, 116])] == u([101, 110, 100])) return a(u([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 86, 97, 108, 105, 100]));

                  try {
                    var _s36 = function (e) {
                      return function (e, t) {
                        var n = function (e) {
                          var t = r + u([43, 47, 61]);
                          if (e = String(e).replace(/[\t\n\f\r ]+/g, ""), !/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/.test(e)) throw new TypeError(u([70, 97, 105, 108, 101, 100, 32, 116, 111, 32, 112, 97, 114, 115, 101, 32, 98, 97, 115, 101, 54, 52, 32, 116, 111, 32, 115, 116, 114, 105, 110, 103, 46]));
                          e += u([61, 61]).slice(2 - (3 & e[sw("0x27")]));
                          var n,
                              i,
                              o,
                              s = "";

                          for (var _r55 = 0; _r55 < e[sw("0x27")];) {
                            n = t[sw("0x5d")](e.charAt(_r55++)) << 18 | t[sw("0x5d")](e.charAt(_r55++)) << 12 | (i = t[sw("0x5d")](e[sw("0x4a")](_r55++))) << 6 | (o = t[sw("0x5d")](e.charAt(_r55++))), s += 64 === i ? String.fromCharCode(n >> 16 & 255) : 64 === o ? String[sw("0x46")](n >> 16 & 255, n >> 8 & 255) : String[sw("0x46")](n >> 16 & 255, n >> 8 & 255, 255 & n);
                          }

                          return s;
                        }(e),
                            i = Array[sw("0x8c")](function (e) {
                          var t = new Uint8Array(e[sw("0x27")]);

                          for (var _n242 = 0; _n242 < e[sw("0x27")]; _n242++) {
                            t[_n242] = e[sw("0x75")](_n242);
                          }

                          return t;
                        }(n)),
                            o = i.pop(),
                            s = i.pop();

                        return function (e) {
                          var t = "";

                          var _iterator369 = _createForOfIteratorHelper(e),
                              _step369;

                          try {
                            for (_iterator369.s(); !(_step369 = _iterator369.n()).done;) {
                              var _n243 = _step369.value;
                              t += String.fromCharCode(_n243);
                            }
                          } catch (err) {
                            _iterator369.e(err);
                          } finally {
                            _iterator369.f();
                          }

                          return t;
                        }(function (e, t, n) {
                          var i = {};
                          i[u([110, 117, 109, 98, 101, 114, 79, 102, 82, 111, 117, 110, 100, 115])] = {
                            16: 10,
                            24: 12,
                            32: 14
                          }, i[u([114, 99, 111, 110])] = [1, 2, 4, 8, 16, 32, 64, 128, 27, 54, 108, 216, 171, 77, 154, 47, 94, 188, 99, 198, 151, 53, 106, 212, 179, 125, 250, 239, 197, 145], i[u([83])] = [99, 124, 119, 123, 242, 107, 111, 197, 48, 1, 103, 43, 254, 215, 171, 118, 202, 130, 201, 125, 250, 89, 71, 240, 173, 212, 162, 175, 156, 164, 114, 192, 183, 253, 147, 38, 54, 63, 247, 204, 52, 165, 229, 241, 113, 216, 49, 21, 4, 199, 35, 195, 24, 150, 5, 154, 7, 18, 128, 226, 235, 39, 178, 117, 9, 131, 44, 26, 27, 110, 90, 160, 82, 59, 214, 179, 41, 227, 47, 132, 83, 209, 0, 237, 32, 252, 177, 91, 106, 203, 190, 57, 74, 76, 88, 207, 208, 239, 170, 251, 67, 77, 51, 133, 69, 249, 2, 127, 80, 60, 159, 168, 81, 163, 64, 143, 146, 157, 56, 245, 188, 182, 218, 33, 16, 255, 243, 210, 205, 12, 19, 236, 95, 151, 68, 23, 196, 167, 126, 61, 100, 93, 25, 115, 96, 129, 79, 220, 34, 42, 144, 136, 70, 238, 184, 20, 222, 94, 11, 219, 224, 50, 58, 10, 73, 6, 36, 92, 194, 211, 172, 98, 145, 149, 228, 121, 231, 200, 55, 109, 141, 213, 78, 169, 108, 86, 244, 234, 101, 122, 174, 8, 186, 120, 37, 46, 28, 166, 180, 198, 232, 221, 116, 31, 75, 189, 139, 138, 112, 62, 181, 102, 72, 3, 246, 14, 97, 53, 87, 185, 134, 193, 29, 158, 225, 248, 152, 17, 105, 217, 142, 148, 155, 30, 135, 233, 206, 85, 40, 223, 140, 161, 137, 13, 191, 230, 66, 104, 65, 153, 45, 15, 176, 84, 187, 22], i[u([84, 49])] = [3328402341, 4168907908, 4000806809, 4135287693, 4294111757, 3597364157, 3731845041, 2445657428, 1613770832, 33620227, 3462883241, 1445669757, 3892248089, 3050821474, 1303096294, 3967186586, 2412431941, 528646813, 2311702848, 4202528135, 4026202645, 2992200171, 2387036105, 4226871307, 1101901292, 3017069671, 1604494077, 1169141738, 597466303, 1403299063, 3832705686, 2613100635, 1974974402, 3791519004, 1033081774, 1277568618, 1815492186, 2118074177, 4126668546, 2211236943, 1748251740, 1369810420, 3521504564, 4193382664, 3799085459, 2883115123, 1647391059, 706024767, 134480908, 2512897874, 1176707941, 2646852446, 806885416, 932615841, 168101135, 798661301, 235341577, 605164086, 461406363, 3756188221, 3454790438, 1311188841, 2142417613, 3933566367, 302582043, 495158174, 1479289972, 874125870, 907746093, 3698224818, 3025820398, 1537253627, 2756858614, 1983593293, 3084310113, 2108928974, 1378429307, 3722699582, 1580150641, 327451799, 2790478837, 3117535592, 0, 3253595436, 1075847264, 3825007647, 2041688520, 3059440621, 3563743934, 2378943302, 1740553945, 1916352843, 2487896798, 2555137236, 2958579944, 2244988746, 3151024235, 3320835882, 1336584933, 3992714006, 2252555205, 2588757463, 1714631509, 293963156, 2319795663, 3925473552, 67240454, 4269768577, 2689618160, 2017213508, 631218106, 1269344483, 2723238387, 1571005438, 2151694528, 93294474, 1066570413, 563977660, 1882732616, 4059428100, 1673313503, 2008463041, 2950355573, 1109467491, 537923632, 3858759450, 4260623118, 3218264685, 2177748300, 403442708, 638784309, 3287084079, 3193921505, 899127202, 2286175436, 773265209, 2479146071, 1437050866, 4236148354, 2050833735, 3362022572, 3126681063, 840505643, 3866325909, 3227541664, 427917720, 2655997905, 2749160575, 1143087718, 1412049534, 999329963, 193497219, 2353415882, 3354324521, 1807268051, 672404540, 2816401017, 3160301282, 369822493, 2916866934, 3688947771, 1681011286, 1949973070, 336202270, 2454276571, 201721354, 1210328172, 3093060836, 2680341085, 3184776046, 1135389935, 3294782118, 965841320, 831886756, 3554993207, 4068047243, 3588745010, 2345191491, 1849112409, 3664604599, 26054028, 2983581028, 2622377682, 1235855840, 3630984372, 2891339514, 4092916743, 3488279077, 3395642799, 4101667470, 1202630377, 268961816, 1874508501, 4034427016, 1243948399, 1546530418, 941366308, 1470539505, 1941222599, 2546386513, 3421038627, 2715671932, 3899946140, 1042226977, 2521517021, 1639824860, 227249030, 260737669, 3765465232, 2084453954, 1907733956, 3429263018, 2420656344, 100860677, 4160157185, 470683154, 3261161891, 1781871967, 2924959737, 1773779408, 394692241, 2579611992, 974986535, 664706745, 3655459128, 3958962195, 731420851, 571543859, 3530123707, 2849626480, 126783113, 865375399, 765172662, 1008606754, 361203602, 3387549984, 2278477385, 2857719295, 1344809080, 2782912378, 59542671, 1503764984, 160008576, 437062935, 1707065306, 3622233649, 2218934982, 3496503480, 2185314755, 697932208, 1512910199, 504303377, 2075177163, 2824099068, 1841019862, 739644986], i[u([84, 50])] = [2781242211, 2230877308, 2582542199, 2381740923, 234877682, 3184946027, 2984144751, 1418839493, 1348481072, 50462977, 2848876391, 2102799147, 434634494, 1656084439, 3863849899, 2599188086, 1167051466, 2636087938, 1082771913, 2281340285, 368048890, 3954334041, 3381544775, 201060592, 3963727277, 1739838676, 4250903202, 3930435503, 3206782108, 4149453988, 2531553906, 1536934080, 3262494647, 484572669, 2923271059, 1783375398, 1517041206, 1098792767, 49674231, 1334037708, 1550332980, 4098991525, 886171109, 150598129, 2481090929, 1940642008, 1398944049, 1059722517, 201851908, 1385547719, 1699095331, 1587397571, 674240536, 2704774806, 252314885, 3039795866, 151914247, 908333586, 2602270848, 1038082786, 651029483, 1766729511, 3447698098, 2682942837, 454166793, 2652734339, 1951935532, 775166490, 758520603, 3000790638, 4004797018, 4217086112, 4137964114, 1299594043, 1639438038, 3464344499, 2068982057, 1054729187, 1901997871, 2534638724, 4121318227, 1757008337, 0, 750906861, 1614815264, 535035132, 3363418545, 3988151131, 3201591914, 1183697867, 3647454910, 1265776953, 3734260298, 3566750796, 3903871064, 1250283471, 1807470800, 717615087, 3847203498, 384695291, 3313910595, 3617213773, 1432761139, 2484176261, 3481945413, 283769337, 100925954, 2180939647, 4037038160, 1148730428, 3123027871, 3813386408, 4087501137, 4267549603, 3229630528, 2315620239, 2906624658, 3156319645, 1215313976, 82966005, 3747855548, 3245848246, 1974459098, 1665278241, 807407632, 451280895, 251524083, 1841287890, 1283575245, 337120268, 891687699, 801369324, 3787349855, 2721421207, 3431482436, 959321879, 1469301956, 4065699751, 2197585534, 1199193405, 2898814052, 3887750493, 724703513, 2514908019, 2696962144, 2551808385, 3516813135, 2141445340, 1715741218, 2119445034, 2872807568, 2198571144, 3398190662, 700968686, 3547052216, 1009259540, 2041044702, 3803995742, 487983883, 1991105499, 1004265696, 1449407026, 1316239930, 504629770, 3683797321, 168560134, 1816667172, 3837287516, 1570751170, 1857934291, 4014189740, 2797888098, 2822345105, 2754712981, 936633572, 2347923833, 852879335, 1133234376, 1500395319, 3084545389, 2348912013, 1689376213, 3533459022, 3762923945, 3034082412, 4205598294, 133428468, 634383082, 2949277029, 2398386810, 3913789102, 403703816, 3580869306, 2297460856, 1867130149, 1918643758, 607656988, 4049053350, 3346248884, 1368901318, 600565992, 2090982877, 2632479860, 557719327, 3717614411, 3697393085, 2249034635, 2232388234, 2430627952, 1115438654, 3295786421, 2865522278, 3633334344, 84280067, 33027830, 303828494, 2747425121, 1600795957, 4188952407, 3496589753, 2434238086, 1486471617, 658119965, 3106381470, 953803233, 334231800, 3005978776, 857870609, 3151128937, 1890179545, 2298973838, 2805175444, 3056442267, 574365214, 2450884487, 550103529, 1233637070, 4289353045, 2018519080, 2057691103, 2399374476, 4166623649, 2148108681, 387583245, 3664101311, 836232934, 3330556482, 3100665960, 3280093505, 2955516313, 2002398509, 287182607, 3413881008, 4238890068, 3597515707, 975967766], i[u([84, 51])] = [1671808611, 2089089148, 2006576759, 2072901243, 4061003762, 1807603307, 1873927791, 3310653893, 810573872, 16974337, 1739181671, 729634347, 4263110654, 3613570519, 2883997099, 1989864566, 3393556426, 2191335298, 3376449993, 2106063485, 4195741690, 1508618841, 1204391495, 4027317232, 2917941677, 3563566036, 2734514082, 2951366063, 2629772188, 2767672228, 1922491506, 3227229120, 3082974647, 4246528509, 2477669779, 644500518, 911895606, 1061256767, 4144166391, 3427763148, 878471220, 2784252325, 3845444069, 4043897329, 1905517169, 3631459288, 827548209, 356461077, 67897348, 3344078279, 593839651, 3277757891, 405286936, 2527147926, 84871685, 2595565466, 118033927, 305538066, 2157648768, 3795705826, 3945188843, 661212711, 2999812018, 1973414517, 152769033, 2208177539, 745822252, 439235610, 455947803, 1857215598, 1525593178, 2700827552, 1391895634, 994932283, 3596728278, 3016654259, 695947817, 3812548067, 795958831, 2224493444, 1408607827, 3513301457, 0, 3979133421, 543178784, 4229948412, 2982705585, 1542305371, 1790891114, 3410398667, 3201918910, 961245753, 1256100938, 1289001036, 1491644504, 3477767631, 3496721360, 4012557807, 2867154858, 4212583931, 1137018435, 1305975373, 861234739, 2241073541, 1171229253, 4178635257, 33948674, 2139225727, 1357946960, 1011120188, 2679776671, 2833468328, 1374921297, 2751356323, 1086357568, 2408187279, 2460827538, 2646352285, 944271416, 4110742005, 3168756668, 3066132406, 3665145818, 560153121, 271589392, 4279952895, 4077846003, 3530407890, 3444343245, 202643468, 322250259, 3962553324, 1608629855, 2543990167, 1154254916, 389623319, 3294073796, 2817676711, 2122513534, 1028094525, 1689045092, 1575467613, 422261273, 1939203699, 1621147744, 2174228865, 1339137615, 3699352540, 577127458, 712922154, 2427141008, 2290289544, 1187679302, 3995715566, 3100863416, 339486740, 3732514782, 1591917662, 186455563, 3681988059, 3762019296, 844522546, 978220090, 169743370, 1239126601, 101321734, 611076132, 1558493276, 3260915650, 3547250131, 2901361580, 1655096418, 2443721105, 2510565781, 3828863972, 2039214713, 3878868455, 3359869896, 928607799, 1840765549, 2374762893, 3580146133, 1322425422, 2850048425, 1823791212, 1459268694, 4094161908, 3928346602, 1706019429, 2056189050, 2934523822, 135794696, 3134549946, 2022240376, 628050469, 779246638, 472135708, 2800834470, 3032970164, 3327236038, 3894660072, 3715932637, 1956440180, 522272287, 1272813131, 3185336765, 2340818315, 2323976074, 1888542832, 1044544574, 3049550261, 1722469478, 1222152264, 50660867, 4127324150, 236067854, 1638122081, 895445557, 1475980887, 3117443513, 2257655686, 3243809217, 489110045, 2662934430, 3778599393, 4162055160, 2561878936, 288563729, 1773916777, 3648039385, 2391345038, 2493985684, 2612407707, 505560094, 2274497927, 3911240169, 3460925390, 1442818645, 678973480, 3749357023, 2358182796, 2717407649, 2306869641, 219617805, 3218761151, 3862026214, 1120306242, 1756942440, 1103331905, 2578459033, 762796589, 252780047, 2966125488, 1425844308, 3151392187, 372911126], i[u([84, 52])] = [1667474886, 2088535288, 2004326894, 2071694838, 4075949567, 1802223062, 1869591006, 3318043793, 808472672, 16843522, 1734846926, 724270422, 4278065639, 3621216949, 2880169549, 1987484396, 3402253711, 2189597983, 3385409673, 2105378810, 4210693615, 1499065266, 1195886990, 4042263547, 2913856577, 3570689971, 2728590687, 2947541573, 2627518243, 2762274643, 1920112356, 3233831835, 3082273397, 4261223649, 2475929149, 640051788, 909531756, 1061110142, 4160160501, 3435941763, 875846760, 2779116625, 3857003729, 4059105529, 1903268834, 3638064043, 825316194, 353713962, 67374088, 3351728789, 589522246, 3284360861, 404236336, 2526454071, 84217610, 2593830191, 117901582, 303183396, 2155911963, 3806477791, 3958056653, 656894286, 2998062463, 1970642922, 151591698, 2206440989, 741110872, 437923380, 454765878, 1852748508, 1515908788, 2694904667, 1381168804, 993742198, 3604373943, 3014905469, 690584402, 3823320797, 791638366, 2223281939, 1398011302, 3520161977, 0, 3991743681, 538992704, 4244381667, 2981218425, 1532751286, 1785380564, 3419096717, 3200178535, 960056178, 1246420628, 1280103576, 1482221744, 3486468741, 3503319995, 4025428677, 2863326543, 4227536621, 1128514950, 1296947098, 859002214, 2240123921, 1162203018, 4193849577, 33687044, 2139062782, 1347481760, 1010582648, 2678045221, 2829640523, 1364325282, 2745433693, 1077985408, 2408548869, 2459086143, 2644360225, 943212656, 4126475505, 3166494563, 3065430391, 3671750063, 555836226, 269496352, 4294908645, 4092792573, 3537006015, 3452783745, 202118168, 320025894, 3974901699, 1600119230, 2543297077, 1145359496, 387397934, 3301201811, 2812801621, 2122220284, 1027426170, 1684319432, 1566435258, 421079858, 1936954854, 1616945344, 2172753945, 1330631070, 3705438115, 572679748, 707427924, 2425400123, 2290647819, 1179044492, 4008585671, 3099120491, 336870440, 3739122087, 1583276732, 185277718, 3688593069, 3772791771, 842159716, 976899700, 168435220, 1229577106, 101059084, 606366792, 1549591736, 3267517855, 3553849021, 2897014595, 1650632388, 2442242105, 2509612081, 3840161747, 2038008818, 3890688725, 3368567691, 926374254, 1835907034, 2374863873, 3587531953, 1313788572, 2846482505, 1819063512, 1448540844, 4109633523, 3941213647, 1701162954, 2054852340, 2930698567, 134748176, 3132806511, 2021165296, 623210314, 774795868, 471606328, 2795958615, 3031746419, 3334885783, 3907527627, 3722280097, 1953799400, 522133822, 1263263126, 3183336545, 2341176845, 2324333839, 1886425312, 1044267644, 3048588401, 1718004428, 1212733584, 50529542, 4143317495, 235803164, 1633788866, 892690282, 1465383342, 3115962473, 2256965911, 3250673817, 488449850, 2661202215, 3789633753, 4177007595, 2560144171, 286339874, 1768537042, 3654906025, 2391705863, 2492770099, 2610673197, 505291324, 2273808917, 3924369609, 3469625735, 1431699370, 673740880, 3755965093, 2358021891, 2711746649, 2307489801, 218961690, 3217021541, 3873845719, 1111672452, 1751693520, 1094828930, 2576986153, 757954394, 252645662, 2964376443, 1414855848, 3149649517, 370555436], i[u([85, 49])] = [0, 235474187, 470948374, 303765277, 941896748, 908933415, 607530554, 708780849, 1883793496, 2118214995, 1817866830, 1649639237, 1215061108, 1181045119, 1417561698, 1517767529, 3767586992, 4003061179, 4236429990, 4069246893, 3635733660, 3602770327, 3299278474, 3400528769, 2430122216, 2664543715, 2362090238, 2193862645, 2835123396, 2801107407, 3035535058, 3135740889, 3678124923, 3576870512, 3341394285, 3374361702, 3810496343, 3977675356, 4279080257, 4043610186, 2876494627, 2776292904, 3076639029, 3110650942, 2472011535, 2640243204, 2403728665, 2169303058, 1001089995, 899835584, 666464733, 699432150, 59727847, 226906860, 530400753, 294930682, 1273168787, 1172967064, 1475418501, 1509430414, 1942435775, 2110667444, 1876241833, 1641816226, 2910219766, 2743034109, 2976151520, 3211623147, 2505202138, 2606453969, 2302690252, 2269728455, 3711829422, 3543599269, 3240894392, 3475313331, 3843699074, 3943906441, 4178062228, 4144047775, 1306967366, 1139781709, 1374988112, 1610459739, 1975683434, 2076935265, 1775276924, 1742315127, 1034867998, 866637845, 566021896, 800440835, 92987698, 193195065, 429456164, 395441711, 1984812685, 2017778566, 1784663195, 1683407248, 1315562145, 1080094634, 1383856311, 1551037884, 101039829, 135050206, 437757123, 337553864, 1042385657, 807962610, 573804783, 742039012, 2531067453, 2564033334, 2328828971, 2227573024, 2935566865, 2700099354, 3001755655, 3168937228, 3868552805, 3902563182, 4203181171, 4102977912, 3736164937, 3501741890, 3265478751, 3433712980, 1106041591, 1340463100, 1576976609, 1408749034, 2043211483, 2009195472, 1708848333, 1809054150, 832877231, 1068351396, 766945465, 599762354, 159417987, 126454664, 361929877, 463180190, 2709260871, 2943682380, 3178106961, 3009879386, 2572697195, 2538681184, 2236228733, 2336434550, 3509871135, 3745345300, 3441850377, 3274667266, 3910161971, 3877198648, 4110568485, 4211818798, 2597806476, 2497604743, 2261089178, 2295101073, 2733856160, 2902087851, 3202437046, 2968011453, 3936291284, 3835036895, 4136440770, 4169408201, 3535486456, 3702665459, 3467192302, 3231722213, 2051518780, 1951317047, 1716890410, 1750902305, 1113818384, 1282050075, 1584504582, 1350078989, 168810852, 67556463, 371049330, 404016761, 841739592, 1008918595, 775550814, 540080725, 3969562369, 3801332234, 4035489047, 4269907996, 3569255213, 3669462566, 3366754619, 3332740144, 2631065433, 2463879762, 2160117071, 2395588676, 2767645557, 2868897406, 3102011747, 3069049960, 202008497, 33778362, 270040487, 504459436, 875451293, 975658646, 675039627, 641025152, 2084704233, 1917518562, 1615861247, 1851332852, 1147550661, 1248802510, 1484005843, 1451044056, 933301370, 967311729, 733156972, 632953703, 260388950, 25965917, 328671808, 496906059, 1206477858, 1239443753, 1543208500, 1441952575, 2144161806, 1908694277, 1675577880, 1842759443, 3610369226, 3644379585, 3408119516, 3307916247, 4011190502, 3776767469, 4077384432, 4245618683, 2809771154, 2842737049, 3144396420, 3043140495, 2673705150, 2438237621, 2203032232, 2370213795], i[u([85, 50])] = [0, 185469197, 370938394, 487725847, 741876788, 657861945, 975451694, 824852259, 1483753576, 1400783205, 1315723890, 1164071807, 1950903388, 2135319889, 1649704518, 1767536459, 2967507152, 3152976349, 2801566410, 2918353863, 2631447780, 2547432937, 2328143614, 2177544179, 3901806776, 3818836405, 4270639778, 4118987695, 3299409036, 3483825537, 3535072918, 3652904859, 2077965243, 1893020342, 1841768865, 1724457132, 1474502543, 1559041666, 1107234197, 1257309336, 598438867, 681933534, 901210569, 1052338372, 261314535, 77422314, 428819965, 310463728, 3409685355, 3224740454, 3710368113, 3593056380, 3875770207, 3960309330, 4045380933, 4195456072, 2471224067, 2554718734, 2237133081, 2388260884, 3212035895, 3028143674, 2842678573, 2724322336, 4138563181, 4255350624, 3769721975, 3955191162, 3667219033, 3516619604, 3431546947, 3347532110, 2933734917, 2782082824, 3099667487, 3016697106, 2196052529, 2313884476, 2499348523, 2683765030, 1179510461, 1296297904, 1347548327, 1533017514, 1786102409, 1635502980, 2087309459, 2003294622, 507358933, 355706840, 136428751, 53458370, 839224033, 957055980, 605657339, 790073846, 2373340630, 2256028891, 2607439820, 2422494913, 2706270690, 2856345839, 3075636216, 3160175349, 3573941694, 3725069491, 3273267108, 3356761769, 4181598602, 4063242375, 4011996048, 3828103837, 1033297158, 915985419, 730517276, 545572369, 296679730, 446754879, 129166120, 213705253, 1709610350, 1860738147, 1945798516, 2029293177, 1239331162, 1120974935, 1606591296, 1422699085, 4148292826, 4233094615, 3781033664, 3931371469, 3682191598, 3497509347, 3446004468, 3328955385, 2939266226, 2755636671, 3106780840, 2988687269, 2198438022, 2282195339, 2501218972, 2652609425, 1201765386, 1286567175, 1371368976, 1521706781, 1805211710, 1620529459, 2105887268, 1988838185, 533804130, 350174575, 164439672, 46346101, 870912086, 954669403, 636813900, 788204353, 2358957921, 2274680428, 2592523643, 2441661558, 2695033685, 2880240216, 3065962831, 3182487618, 3572145929, 3756299780, 3270937875, 3388507166, 4174560061, 4091327024, 4006521127, 3854606378, 1014646705, 930369212, 711349675, 560487590, 272786309, 457992840, 106852767, 223377554, 1678381017, 1862534868, 1914052035, 2031621326, 1211247597, 1128014560, 1580087799, 1428173050, 32283319, 182621114, 401639597, 486441376, 768917123, 651868046, 1003007129, 818324884, 1503449823, 1385356242, 1333838021, 1150208456, 1973745387, 2125135846, 1673061617, 1756818940, 2970356327, 3120694122, 2802849917, 2887651696, 2637442643, 2520393566, 2334669897, 2149987652, 3917234703, 3799141122, 4284502037, 4100872472, 3309594171, 3460984630, 3545789473, 3629546796, 2050466060, 1899603969, 1814803222, 1730525723, 1443857720, 1560382517, 1075025698, 1260232239, 575138148, 692707433, 878443390, 1062597235, 243256656, 91341917, 409198410, 325965383, 3403100636, 3252238545, 3704300486, 3620022987, 3874428392, 3990953189, 4042459122, 4227665663, 2460449204, 2578018489, 2226875310, 2411029155, 3198115200, 3046200461, 2827177882, 2743944855], i[u([85, 51])] = [0, 218828297, 437656594, 387781147, 875313188, 958871085, 775562294, 590424639, 1750626376, 1699970625, 1917742170, 2135253587, 1551124588, 1367295589, 1180849278, 1265195639, 3501252752, 3720081049, 3399941250, 3350065803, 3835484340, 3919042237, 4270507174, 4085369519, 3102249176, 3051593425, 2734591178, 2952102595, 2361698556, 2177869557, 2530391278, 2614737639, 3145456443, 3060847922, 2708326185, 2892417312, 2404901663, 2187128086, 2504130317, 2555048196, 3542330227, 3727205754, 3375740769, 3292445032, 3876557655, 3926170974, 4246310725, 4027744588, 1808481195, 1723872674, 1910319033, 2094410160, 1608975247, 1391201670, 1173430173, 1224348052, 59984867, 244860394, 428169201, 344873464, 935293895, 984907214, 766078933, 547512796, 1844882806, 1627235199, 2011214180, 2062270317, 1507497298, 1423022939, 1137477952, 1321699145, 95345982, 145085239, 532201772, 313773861, 830661914, 1015671571, 731183368, 648017665, 3175501286, 2957853679, 2807058932, 2858115069, 2305455554, 2220981195, 2474404304, 2658625497, 3575528878, 3625268135, 3473416636, 3254988725, 3778151818, 3963161475, 4213447064, 4130281361, 3599595085, 3683022916, 3432737375, 3247465558, 3802222185, 4020912224, 4172763771, 4122762354, 3201631749, 3017672716, 2764249623, 2848461854, 2331590177, 2280796200, 2431590963, 2648976442, 104699613, 188127444, 472615631, 287343814, 840019705, 1058709744, 671593195, 621591778, 1852171925, 1668212892, 1953757831, 2037970062, 1514790577, 1463996600, 1080017571, 1297403050, 3673637356, 3623636965, 3235995134, 3454686199, 4007360968, 3822090177, 4107101658, 4190530515, 2997825956, 3215212461, 2830708150, 2779915199, 2256734592, 2340947849, 2627016082, 2443058075, 172466556, 122466165, 273792366, 492483431, 1047239e3, 861968209, 612205898, 695634755, 1646252340, 1863638845, 2013908262, 1963115311, 1446242576, 1530455833, 1277555970, 1093597963, 1636604631, 1820824798, 2073724613, 1989249228, 1436590835, 1487645946, 1337376481, 1119727848, 164948639, 81781910, 331544205, 516552836, 1039717051, 821288114, 669961897, 719700128, 2973530695, 3157750862, 2871682645, 2787207260, 2232435299, 2283490410, 2667994737, 2450346104, 3647212047, 3564045318, 3279033885, 3464042516, 3980931627, 3762502690, 4150144569, 4199882800, 3070356634, 3121275539, 2904027272, 2686254721, 2200818878, 2384911031, 2570832044, 2486224549, 3747192018, 3528626907, 3310321856, 3359936201, 3950355702, 3867060991, 4049844452, 4234721005, 1739656202, 1790575107, 2108100632, 1890328081, 1402811438, 1586903591, 1233856572, 1149249077, 266959938, 48394827, 369057872, 418672217, 1002783846, 919489135, 567498868, 752375421, 209336225, 24197544, 376187827, 459744698, 945164165, 895287692, 574624663, 793451934, 1679968233, 1764313568, 2117360635, 1933530610, 1343127501, 1560637892, 1243112415, 1192455638, 3704280881, 3519142200, 3336358691, 3419915562, 3907448597, 3857572124, 4075877127, 4294704398, 3029510009, 3113855344, 2927934315, 2744104290, 2159976285, 2377486676, 2594734927, 2544078150], i[u([85, 52])] = [0, 151849742, 303699484, 454499602, 607398968, 758720310, 908999204, 1059270954, 1214797936, 1097159550, 1517440620, 1400849762, 1817998408, 1699839814, 2118541908, 2001430874, 2429595872, 2581445614, 2194319100, 2345119218, 3034881240, 3186202582, 2801699524, 2951971274, 3635996816, 3518358430, 3399679628, 3283088770, 4237083816, 4118925222, 4002861748, 3885750714, 1002142683, 850817237, 698445255, 548169417, 529487843, 377642221, 227885567, 77089521, 1943217067, 2061379749, 1640576439, 1757691577, 1474760595, 1592394909, 1174215055, 1290801793, 2875968315, 2724642869, 3111247143, 2960971305, 2405426947, 2253581325, 2638606623, 2487810577, 3808662347, 3926825029, 4044981591, 4162096729, 3342319475, 3459953789, 3576539503, 3693126241, 1986918061, 2137062819, 1685577905, 1836772287, 1381620373, 1532285339, 1078185097, 1229899655, 1040559837, 923313619, 740276417, 621982671, 439452389, 322734571, 137073913, 19308535, 3871163981, 4021308739, 4104605777, 4255800159, 3263785589, 3414450555, 3499326569, 3651041127, 2933202493, 2815956275, 3167684641, 3049390895, 2330014213, 2213296395, 2566595609, 2448830231, 1305906550, 1155237496, 1607244650, 1455525988, 1776460110, 1626319424, 2079897426, 1928707164, 96392454, 213114376, 396673818, 514443284, 562755902, 679998e3, 865136418, 983426092, 3708173718, 3557504664, 3474729866, 3323011204, 4180808110, 4030667424, 3945269170, 3794078908, 2507040230, 2623762152, 2272556026, 2390325492, 2975484382, 3092726480, 2738905026, 2857194700, 3973773121, 3856137295, 4274053469, 4157467219, 3371096953, 3252932727, 3673476453, 3556361835, 2763173681, 2915017791, 3064510765, 3215307299, 2156299017, 2307622919, 2459735317, 2610011675, 2081048481, 1963412655, 1846563261, 1729977011, 1480485785, 1362321559, 1243905413, 1126790795, 878845905, 1030690015, 645401037, 796197571, 274084841, 425408743, 38544885, 188821243, 3613494426, 3731654548, 3313212038, 3430322568, 4082475170, 4200115116, 3780097726, 3896688048, 2668221674, 2516901860, 2366882550, 2216610296, 3141400786, 2989552604, 2837966542, 2687165888, 1202797690, 1320957812, 1437280870, 1554391400, 1669664834, 1787304780, 1906247262, 2022837584, 265905162, 114585348, 499347990, 349075736, 736970802, 585122620, 972512814, 821712160, 2595684844, 2478443234, 2293045232, 2174754046, 3196267988, 3079546586, 2895723464, 2777952454, 3537852828, 3687994002, 3234156416, 3385345166, 4142626212, 4293295786, 3841024952, 3992742070, 174567692, 57326082, 410887952, 292596766, 777231668, 660510266, 1011452712, 893681702, 1108339068, 1258480242, 1343618912, 1494807662, 1715193156, 1865862730, 1948373848, 2100090966, 2701949495, 2818666809, 3004591147, 3122358053, 2235061775, 2352307457, 2535604243, 2653899549, 3915653703, 3764988233, 4219352155, 4067639125, 3444575871, 3294430577, 3746175075, 3594982253, 836553431, 953270745, 600235211, 718002117, 367585007, 484830689, 133361907, 251657213, 2041877159, 1891211689, 1806599355, 1654886325, 1568718495, 1418573201, 1335535747, 1184342925];
                          var o = new Uint8Array(16);

                          for (var _e296 = 15; _e296 >= 0; --_e296) {
                            o[_e296] = n % 256, n = parseInt(n / 256);
                          }

                          var r = null,
                              s = 16;
                          var a = new Uint8Array(t),
                              c = [],
                              l = [];
                          !function () {
                            var e = i[u([110, 117, 109, 98, 101, 114, 79, 102, 82, 111, 117, 110, 100, 115])][a[sw("0x27")]];

                            for (var _t262 = 0; _t262 <= e; _t262++) {
                              c.push([0, 0, 0, 0]), l[sw("0x25")]([0, 0, 0, 0]);
                            }

                            var t = 4 * (e + 1),
                                n = a.length / 4,
                                o = d(a);
                            var r;

                            for (var _t263 = 0; _t263 < n; _t263++) {
                              c[r = _t263 >> 2][_t263 % 4] = o[_t263], l[e - r][_t263 % 4] = o[_t263];
                            }

                            var s,
                                h = 0,
                                g = n;

                            for (; g < t;) {
                              s = o[n - 1], o[0] ^= i[u([83])][s >> 16 & 255] << 24 ^ i[u([83])][s >> 8 & 255] << 16 ^ i[u([83])][255 & s] << 8 ^ i[u([83])][s >> 24 & 255] ^ i[u([114, 99, 111, 110])][h] << 24, h += 1;

                              for (var _e297 = 1; _e297 < n / 2; _e297++) {
                                o[_e297] ^= o[_e297 - 1];
                              }

                              s = o[n / 2 - 1], o[n / 2] ^= i[u([83])][255 & s] ^ i[u([83])][s >> 8 & 255] << 8 ^ i[u([83])][s >> 16 & 255] << 16 ^ i[u([83])][s >> 24 & 255] << 24;

                              for (var _e298 = n / 2 + 1; _e298 < n; _e298++) {
                                o[_e298] ^= o[_e298 - 1];
                              }

                              var _r56 = void 0,
                                  _a22 = void 0,
                                  _d4 = 0;

                              for (; _d4 < n && g < t;) {
                                _a22 = g % 4, c[_r56 = g >> 2][_a22] = o[_d4], l[e - _r56][_a22] = o[_d4++], g++;
                              }
                            }

                            for (var _t264 = 1; _t264 < e; _t264++) {
                              for (var _e299 = 0; _e299 < 4; _e299++) {
                                s = l[_t264][_e299], l[_t264][_e299] = i[u([85, 49])][s >> 24 & 255] ^ i[u([85, 50])][s >> 16 & 255] ^ i[u([85, 51])][s >> 8 & 255] ^ i[u([85, 52])][255 & s];
                              }
                            }
                          }();

                          for (var _t265 = 0; _t265 < e.length; _t265++) {
                            16 === s && (r = g(o), s = 0, h(o)), e[_t265] ^= r[s++];
                          }

                          return e;

                          function d(e) {
                            var t = [];

                            for (var _n244 = 0; _n244 < e.length; _n244 += 4) {
                              t[sw("0x25")](e[_n244] << 24 | e[_n244 + 1] << 16 | e[_n244 + 2] << 8 | e[_n244 + 3]);
                            }

                            return t;
                          }

                          function h(e) {
                            for (var _t266 = 15; _t266 >= 0; _t266--) {
                              if (255 !== e[_t266]) {
                                e[_t266]++;
                                break;
                              }

                              e[_t266] = 0;
                            }
                          }

                          function g(e) {
                            var t = c[sw("0x27")] - 1,
                                n = [0, 0, 0, 0];
                            var o = d(e);

                            for (var _e300 = 0; _e300 < 4; _e300++) {
                              o[_e300] ^= c[0][_e300];
                            }

                            for (var _e301 = 1; _e301 < t; _e301++) {
                              for (var _t267 = 0; _t267 < 4; _t267++) {
                                n[_t267] = i[u([84, 49])][o[_t267] >> 24 & 255] ^ i[u([84, 50])][o[(_t267 + 1) % 4] >> 16 & 255] ^ i[u([84, 51])][o[(_t267 + 2) % 4] >> 8 & 255] ^ i[u([84, 52])][255 & o[(_t267 + 3) % 4]] ^ c[_e301][_t267];
                              }

                              o = n[sw("0x7c")]();
                            }

                            var r = new Uint8Array(16);
                            var s;

                            for (var _e302 = 0; _e302 < 4; _e302++) {
                              s = c[t][_e302], r[4 * _e302] = 255 & (i[u([83])][o[_e302] >> 24 & 255] ^ s >> 24), r[4 * _e302 + 1] = 255 & (i[u([83])][o[(_e302 + 1) % 4] >> 16 & 255] ^ s >> 16), r[4 * _e302 + 2] = 255 & (i[u([83])][o[(_e302 + 2) % 4] >> 8 & 255] ^ s >> 8), r[4 * _e302 + 3] = 255 & (i[u([83])][255 & o[(_e302 + 3) % 4]] ^ s);
                            }

                            return r;
                          }
                        }(i, t, s + 256 * o));
                      }(e, new window[u([85, 105, 110, 116, 56, 65, 114, 114, 97, 121])]([].concat(n, [29, 221, 175, 90, 231, 133, 239, 240, 75, 180], o)));
                    }(t),
                        _c11 = JSON[sw("0x8a")](_s36),
                        _l7 = parseInt(_c11[u([49])]),
                        _d3 = parseInt(_c11[u([51])]),
                        _h2 = parseInt(_c11[u([52])]) || 0,
                        _g2 = parseInt(_c11[u([53])]) || 0,
                        _m2 = 2;

                    if (!(1 & _h2) || e[u([112, 108, 117, 103, 105, 110, 115])][u([104, 97, 115])](u([84, 114, 97, 99, 107, 67, 104, 97, 110, 103, 101, 115, 69, 100, 105, 116, 105, 110, 103])) && !(_h2 & _m2)) return a(u([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 73, 110, 118, 97, 108, 105, 100]));
                    if (_g2 && !window[u([111, 112, 101, 110])][u([99, 108, 111, 115, 101, 100])]) return a(u([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 73, 110, 118, 97, 108, 105, 100]));
                    if (parseInt(i) / 2 > _l7) return a(u([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 73, 110, 118, 97, 108, 105, 100]));

                    if (e[u([112, 108, 117, 103, 105, 110, 115])][u([104, 97, 115])](u([84, 114, 97, 99, 107, 67, 104, 97, 110, 103, 101, 115, 69, 100, 105, 116, 105, 110, 103]))) {
                      var _t268 = e[u([112, 108, 117, 103, 105, 110, 115])][u([103, 101, 116])](u([84, 114, 97, 99, 107, 67, 104, 97, 110, 103, 101, 115, 69, 100, 105, 116, 105, 110, 103]));

                      if (parseInt(_t268[u([95, 101, 120, 101, 99, 117, 116, 101, 83, 117, 103, 103, 101, 115, 116, 105, 111, 110])]) / 2 > _l7) return a(u([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 73, 110, 118, 97, 108, 105, 100]));
                    }

                    return a(u(_d3 ? [108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 84, 114, 105, 97, 108] : [108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 86, 97, 108, 105, 100]));
                  } catch (e) {
                    return a(u([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 73, 110, 118, 97, 108, 105, 100]));
                  }
                }(e[sw("0x41")][sw("0x48")](u([108, 105, 99, 101, 110, 115, 101, 75, 101, 121])));

                function a(t) {
                  var n = function () {
                    var e = String(window[u([112, 101, 114, 102, 111, 114, 109, 97, 110, 99, 101])][u([110, 111, 119])]())[sw("0x32")](u([46]), "");
                    var t = "";

                    for (var _n245 = 0; _n245 < e[sw("0x27")]; _n245 += 2) {
                      var _i196 = parseInt(e[sw("0xf")](_n245, _n245 + 2));

                      _i196 >= r[sw("0x27")] && (_i196 -= r[sw("0x27")]), t += r[_i196];
                    }

                    return t;
                  }();

                  return e[n] = t, t;
                }

                function c(e) {
                  var _iterator370 = _createForOfIteratorHelper(e[u([101, 100, 105, 116, 111, 114, 115])]),
                      _step370;

                  try {
                    for (_iterator370.s(); !(_step370 = _iterator370.n()).done;) {
                      var _t269 = _step370.value;
                      l(_t269);
                    }
                  } catch (err) {
                    _iterator370.e(err);
                  } finally {
                    _iterator370.f();
                  }

                  e[u([112, 108, 117, 103, 105, 110, 115])][u([103, 101, 116])](u([67, 111, 109, 109, 101, 110, 116, 115, 82, 101, 112, 111, 115, 105, 116, 111, 114, 121]))[u([115, 119, 105, 116, 99, 104, 82, 101, 97, 100, 79, 110, 108, 121])](!0), e[u([112, 108, 117, 103, 105, 110, 115])][u([103, 101, 116])](u([67, 111, 109, 109, 101, 110, 116, 115, 82, 101, 112, 111, 115, 105, 116, 111, 114, 121]))[u([115, 119, 105, 116, 99, 104, 82, 101, 97, 100, 79, 110, 108, 121])] = d;
                }

                function l(e) {
                  function t() {
                    e[u([109, 111, 100, 101, 108])][u([99, 104, 97, 110, 103, 101])] = d, e[u([109, 111, 100, 101, 108])][u([101, 110, 113, 117, 101, 117, 101, 67, 104, 97, 110, 103, 101])] = d, e[u([105, 115, 82, 101, 97, 100, 79, 110, 108, 121])] = !0;
                  }

                  e[u([115, 116, 97, 116, 101])] == u([114, 101, 97, 100, 121]) ? t() : e[u([111, 110, 99, 101])](u([114, 101, 97, 100, 121]), function () {
                    return t();
                  });
                }

                function d() {
                  return null;
                }

                function u(e) {
                  return e[sw("0x65")](function (e) {
                    return String[sw("0x46")](e);
                  })[sw("0x28")]("");
                }

                t ? (s == u([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 73, 110, 118, 97, 108, 105, 100]) ? c(e) : s == u([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 84, 114, 105, 97, 108]) && window[u([115, 101, 116, 84, 105, 109, 101, 111, 117, 116])](function () {
                  c(e), a(u([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 84, 114, 105, 97, 108, 76, 105, 109, 105, 116]));
                }, o[6] * n[8] * n[6]), e[u([101, 100, 105, 116, 111, 114, 115])][u([111, 110])](u([97, 100, 100]), function (e, t) {
                  s != u([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 73, 110, 118, 97, 108, 105, 100]) && s != u([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 84, 114, 105, 97, 108, 76, 105, 109, 105, 116]) || l(t);
                })) : s == u([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 73, 110, 118, 97, 108, 105, 100]) ? l(e) : s == u([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 84, 114, 105, 97, 108]) && e[u([111, 110])](u([114, 101, 97, 100, 121]), function () {
                  var t = 0;
                  e[u([109, 111, 100, 101, 108])][u([111, 110])](u([97, 112, 112, 108, 121, 79, 112, 101, 114, 97, 116, 105, 111, 110]), function (n, i) {
                    i[0][u([105, 115, 68, 111, 99, 117, 109, 101, 110, 116, 79, 112, 101, 114, 97, 116, 105, 111, 110])] && t++, 504 === t && (l(e), a(u([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 84, 114, 105, 97, 108, 76, 105, 109, 105, 116])), n[u([111, 102, 102])]());
                  }, {
                    priority: u([104, 105, 103, 104, 101, 115, 116])
                  });
                });
              }(this[sw("0x66")]);
            }
          }, {
            key: _sw5,
            set: function set(e) {
              if (this[sw("0x8f")]) throw new c.a(sw("0x73"));
              this[sw("0x8f")] = e;
            }
          }, {
            key: _sw6,
            get: function get() {
              return this[sw("0x8f")];
            }
          }, {
            key: _sw7,
            value: function value() {
              var _ref56 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
                  _ref56$channelId = _ref56.channelId,
                  e = _ref56$channelId === void 0 ? aw : _ref56$channelId,
                  _ref56$threadId = _ref56.threadId,
                  t = _ref56$threadId === void 0 ? s() : _ref56$threadId,
                  _ref56$comments = _ref56.comments,
                  n = _ref56$comments === void 0 ? [] : _ref56$comments,
                  i = _ref56.target,
                  o = _ref56.isFromAdapter;

              return this.fire(uw(sw("0x2f"), e), {
                channelId: e,
                threadId: t,
                comments: n,
                target: i,
                isFromAdapter: o
              }), this.getCommentThread(t);
            }
          }, {
            key: "openNewCommentThread",
            value: function openNewCommentThread(_ref57) {
              var _ref57$channelId = _ref57.channelId,
                  e = _ref57$channelId === void 0 ? aw : _ref57$channelId,
                  _ref57$threadId = _ref57.threadId,
                  t = _ref57$threadId === void 0 ? s() : _ref57$threadId,
                  n = _ref57.target;
              if (this._readOnlyChannels.has(e) || this[sw("0x71")][sw("0x8e")](void 0)) return;
              if (!n) throw new c.a(sw("0x3f"));
              var i = this[sw("0x2f")]({
                channelId: e,
                threadId: t,
                target: n
              });
              if (!i) return null;
              var o = this[sw("0x31")][sw("0x48")](i),
                  r = o[sw("0x47")][sw("0x1d")][sw("0x5b")],
                  a = this.context.plugins.get(ow),
                  l = a[sw("0x0")](o[sw("0x47")]);
              return a[sw("0xd")](l), r[sw("0x2")]("editorReady", function () {
                return r[sw("0x8")]();
              }), i;
            }
          }, {
            key: _sw8,
            value: function value(e) {
              if (sw("0x8d") != typeof e) throw new c.a(sw("0x6"));
              return this[sw("0x24")][sw("0x8e")](e);
            }
          }, {
            key: _sw9,
            value: function value(e) {
              if (sw("0x8d") != typeof e) throw new c.a(sw("0x6"));
              return this[sw("0x24")].get(e);
            }
          }, {
            key: _sw10,
            value: function value() {
              var _this238 = this;

              var _ref58 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
                  e = _ref58.channelId,
                  t = _ref58.threadId;

              var n = this[sw("0x7d")](t);
              if (n) return Promise[sw("0x5c")](n);
              if (!this.adapter) throw new c.a("commentsrepository-missing-thread-and-adapter", this.context);
              if (sw("0x81") != typeof this.adapter[sw("0x7d")]) throw new c.a(sw("0x3c"), this[sw("0x66")]);
              return this.adapter[sw("0x7d")]({
                channelId: e,
                threadId: t
              })[sw("0x76")](function (n) {
                return _this238.hasCommentThread(t) ? _this238[sw("0x7d")](t) : n ? _this238.addCommentThread(Object.assign({
                  isFromAdapter: !0,
                  channelId: e
                }, n)) : void 0;
              })["catch"](function (e) {
                throw console[sw("0x1f")](e), new c.a("commentsrepository-fetch-comment-thread", _this238[sw("0x66")]);
              });
            }
          }, {
            key: "getCommentThreads",
            value: function getCommentThreads() {
              var _ref59 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
                  e = _ref59.channelId,
                  _ref59$skipNotAttache = _ref59.skipNotAttached,
                  t = _ref59$skipNotAttache === void 0 ? !1 : _ref59$skipNotAttache,
                  _ref59$skipEmpty = _ref59.skipEmpty,
                  n = _ref59$skipEmpty === void 0 ? !1 : _ref59$skipEmpty,
                  _ref59$toJSON = _ref59.toJSON,
                  i = _ref59$toJSON === void 0 ? !1 : _ref59$toJSON;

              var o = [];

              var _iterator371 = _createForOfIteratorHelper(this[sw("0x24")][sw("0x38")]()),
                  _step371;

              try {
                for (_iterator371.s(); !(_step371 = _iterator371.n()).done;) {
                  var _i197 = _step371.value;
                  e && _i197[sw("0x86")] !== e || t && !_i197[sw("0x36")] || n && 0 === _i197[sw("0x27")] || o[sw("0x25")](_i197);
                }
              } catch (err) {
                _iterator371.e(err);
              } finally {
                _iterator371.f();
              }

              return i ? o[sw("0x65")](function (e) {
                return e[sw("0x43")]();
              }) : o;
            }
          }, {
            key: _sw11,
            value: function value(e) {
              var t = this.context[sw("0x78")].get(ow);
              if (!e) return void (this[sw("0x1e")] && t.deactivateAll());
              var n = this[sw("0x7d")](e);
              if (!n) throw new c.a(sw("0x77"), null, {
                threadId: e
              });
              if (!this[sw("0x31")][sw("0x8e")](n)) throw new c.a(sw("0x37"), null, {
                threadId: e
              });
              var i = t[sw("0x0")](this[sw("0x31")][sw("0x48")](n).view);
              t.activate(i);
            }
          }, {
            key: _sw12,
            value: function value(e, t) {
              e ? this[sw("0x71")][sw("0x33")](t) : this._readOnlyChannels[sw("0x68")](t);

              var _iterator372 = _createForOfIteratorHelper(this[sw("0x62")]({
                channelId: t
              })),
                  _step372;

              try {
                for (_iterator372.s(); !(_step372 = _iterator372.n()).done;) {
                  var _n246 = _step372.value;
                  _n246[sw("0x82")] = !!e;
                }
              } catch (err) {
                _iterator372.e(err);
              } finally {
                _iterator372.f();
              }
            }
          }, {
            key: _sw13,
            value: function value(e) {
              return this[sw("0x71")][sw("0x8e")](e) || this[sw("0x71")][sw("0x8e")](void 0);
            }
          }, {
            key: "setAdminPermissions",
            value: function setAdminPermissions(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : aw;
              var n = !this[sw("0x55")][sw("0x8e")](t),
                  i = new Set(this._nonAdminChannels);
              n && !e && (i[sw("0x33")](t), this[sw("0x55")] = i), !n && e && (i["delete"](t), this[sw("0x55")] = i);
            }
          }, {
            key: _sw14,
            value: function value(_ref60) {
              var e = _ref60.channelId,
                  t = _ref60.threadId,
                  n = _ref60.comments,
                  i = _ref60.target,
                  o = _ref60.isFromAdapter;
              if (sw("0x8d") != typeof t) throw new c.a(sw("0x6"), null, {
                threadId: t
              });
              if (this[sw("0x6f")](t)) throw new c.a("commentsrepository-duplicated-comment-thread-id", null, {
                threadId: t
              });
              var r = new lw(this, {
                channelId: e,
                id: t
              });
              (this[sw("0x71")][sw("0x8e")](e) || this._readOnlyChannels[sw("0x8e")](void 0)) && (r[sw("0x82")] = !0), this[sw("0x24")][sw("0x14")](t, r);

              var _iterator373 = _createForOfIteratorHelper(n),
                  _step373;

              try {
                for (_iterator373.s(); !(_step373 = _iterator373.n()).done;) {
                  var _e303 = _step373.value;
                  r[sw("0x1")](Object.assign({
                    isFromAdapter: o
                  }, _e303));
                }
              } catch (err) {
                _iterator373.e(err);
              } finally {
                _iterator373.f();
              }

              i && r[sw("0x6b")](i);
            }
          }, {
            key: _sw15,
            value: function value(_ref61) {
              var _this239 = this;

              var e = _ref61.threadId,
                  t = _ref61.target;
              var n = this[sw("0x7d")](e);
              if (!n) throw new c.a(sw("0x91"), this);
              var i = this[sw("0x66")][sw("0x78")][sw("0x48")](sw("0x3d")),
                  o = this[sw("0x66")][sw("0x78")][sw("0x48")](ow),
                  r = this[sw("0x10")](n),
                  s = new rm(n, r);
              var a = null;
              r.on(sw("0x72"), function (e, t, n) {
                n ? a = i.add(Hb(_this239.context.locale, sw("0x39"))) : (i.remove(a), a = null);
              }), this[sw("0x31")].set(n, s), this._viewToController[sw("0x14")](r, s);
              var l = new Yb(this[sw("0x66")][sw("0x5f")], r);
              l.bind(sw("0x27")).to(r), l[sw("0x3")](sw("0x90")).to(r, sw("0x90"), r, sw("0x27"), function (e, t) {
                return e || !t;
              }), l.bind("isActive").to(r), l[sw("0xc")] = "comment";
              var d = new Jb({
                view: l,
                target: t,
                type: sw("0x13")
              });
              o.add(d);
            }
          }, {
            key: _sw16,
            value: function value(e) {
              var t = this.context.plugins[sw("0x48")]("Users"),
                  _this$sw = this[sw("0x66")],
                  n = _this$sw.config,
                  i = _this$sw.locale,
                  o = mf(n.get(sw("0x5f")));
              return new (0, n[sw("0x48")](sw("0x74"))[sw("0x80")])(i, e, t.me, {
                editorConfig: n.get(sw("0x87")),
                maxCommentsWhenCollapsed: n[sw("0x48")](sw("0x11")),
                maxThreadTotalWeight: n[sw("0x48")](sw("0x1b")),
                maxCommentCharsWhenCollapsed: n[sw("0x48")]("comments.maxCommentCharsWhenCollapsed"),
                formatDateTime: o,
                CommentView: n[sw("0x48")](sw("0x74")).CommentView
              });
            }
          }, {
            key: _sw17,
            value: function value(_ref62) {
              var _this240 = this;

              var e = _ref62.threadId,
                  t = _ref62.isFromAdapter;
              var n = this[sw("0x7d")](e);
              if (!n) throw new c.a(sw("0x15"), this);
              if (this._detachCommentThread(e), this[sw("0x24")][sw("0x68")](e), !n[sw("0x27")] || t || !this[sw("0xa")] || sw("0x81") != typeof this[sw("0xa")].removeCommentThread) return Promise[sw("0x5c")]();
              var i = this[sw("0x66")][sw("0x78")].get(sw("0x3d")),
                  o = n.channelId,
                  r = i[sw("0x33")](Hb(this[sw("0x66")][sw("0x5f")], "PENDING_ACTION_COMMENT_THREAD"));
              return this[sw("0xa")][sw("0x2c")]({
                channelId: o,
                threadId: e
              }).then(function () {
                return i[sw("0x89")](r);
              })[sw("0x3b")](function (e) {
                throw console.error(e), new c.a(sw("0x2b"), _this240);
              });
            }
          }, {
            key: _sw18,
            value: function value(e) {
              var t = this[sw("0x66")][sw("0x78")][sw("0x48")](ow),
                  n = this[sw("0x7d")](e);

              if (this[sw("0x31")][sw("0x8e")](n)) {
                var _e304 = this._threadToController[sw("0x48")](n),
                    _i198 = _e304.view,
                    _o103 = t[sw("0x0")](_i198);

                this[sw("0x31")][sw("0x68")](n), this._viewToController[sw("0x68")](_i198), t[sw("0x89")](_o103), _e304.destroy(), _i198[sw("0x8b")]();
              }
            }
          }, {
            key: _sw19,
            value: function value(_ref63) {
              var _this241 = this;

              var e = _ref63.threadId,
                  _ref63$commentId = _ref63.commentId,
                  t = _ref63$commentId === void 0 ? s() : _ref63$commentId,
                  n = _ref63.content,
                  i = _ref63.authorId,
                  o = _ref63.createdAt,
                  r = _ref63.attributes,
                  a = _ref63.isFromAdapter;
              if (sw("0x8d") != typeof t) throw new c.a(sw("0x1a"));
              if (sw("0x8d") != typeof i) throw new c.a(sw("0x23"));
              if (sw("0x8d") != typeof n || !n[sw("0x18")]()) throw new c.a(sw("0x7"));
              var l = this[sw("0x7d")](e);
              if (!l) throw new c.a(sw("0x6e"), this);
              var d = this[sw("0x66")][sw("0x78")][sw("0x48")](em)[sw("0xe")](i);
              if (!d) throw new c.a(sw("0x4b"), null, {
                authorId: i
              });
              var u = new dw(this, {
                threadId: e,
                id: t,
                author: d,
                content: n,
                createdAt: o,
                attributes: r
              });
              if (l._add(u), a || !this[sw("0xa")] || "function" != typeof this[sw("0xa")][sw("0x1")]) return Promise[sw("0x5c")]();
              var h = this[sw("0x66")].plugins[sw("0x48")](sw("0x3d")),
                  g = l.channelId,
                  m = h.add(Hb(this[sw("0x66")][sw("0x5f")], sw("0x39")));
              return r || (r = {}), this[sw("0xa")][sw("0x1")]({
                channelId: g,
                threadId: e,
                commentId: t,
                content: n,
                attributes: r
              })[sw("0x76")](function (i) {
                if (h[sw("0x89")](m), _this241[sw("0x6f")](e)) i && i[sw("0x2a")] && _this241._updateComment({
                  threadId: e,
                  commentId: t,
                  createdAt: i[sw("0x2a")],
                  isFromAdapter: !0
                });else {
                  var _s37 = {
                    threadId: e,
                    commentId: t,
                    content: n,
                    attributes: r,
                    createdAt: i && i[sw("0x2a")] ? i[sw("0x2a")] : o,
                    authorId: d.id
                  };

                  _this241[sw("0x2f")]({
                    channelId: g,
                    threadId: e,
                    comments: [_s37],
                    isFromAdapter: !0
                  });
                }
              })["catch"](function (e) {
                throw console[sw("0x1f")](e), new c.a(sw("0x45"), _this241);
              });
            }
          }, {
            key: "_updateComment",
            value: function _updateComment(_ref64) {
              var _this242 = this;

              var e = _ref64.threadId,
                  t = _ref64.commentId,
                  n = _ref64.content,
                  i = _ref64.createdAt,
                  o = _ref64.attributes,
                  r = _ref64.isFromAdapter;
              if (void 0 !== n && (sw("0x8d") != typeof n || !n[sw("0x18")]().length)) throw new c.a(sw("0x6c"));
              var s = this[sw("0x7d")](e),
                  a = s[sw("0x7b")](t);
              if (!a) throw new c.a(sw("0x17"), this);
              var l = !1;
              if (n && n !== a[sw("0x69")] && (a[sw("0x7f")] || r) && (a[sw("0x69")] = n, l = !0), i && i !== a[sw("0x2a")] && (a[sw("0x2a")] = i, l = !0), o && !Wl(o, a[sw("0x34")]) && (a[sw("0x34")] = o, l = !0), !l) return Promise.resolve();
              if (s.fire(sw("0x84")), r || !this.adapter || "function" != typeof this[sw("0xa")].updateComment) return Promise[sw("0x5c")]();

              var d = this[sw("0x66")][sw("0x78")].get(sw("0x3d")),
                  _this$sw2 = this[sw("0x7d")](a[sw("0x20")]),
                  u = _this$sw2.channelId,
                  h = d[sw("0x33")](Hb(this[sw("0x66")].locale, sw("0x39")));

              return this[sw("0xa")].updateComment({
                channelId: u,
                threadId: e,
                commentId: t,
                content: n,
                attributes: o
              }).then(function () {
                return d.remove(h);
              })[sw("0x3b")](function (e) {
                throw console[sw("0x1f")](e), new c.a(sw("0x9"), _this242);
              });
            }
          }, {
            key: _sw20,
            value: function value(_ref65) {
              var _this243 = this;

              var e = _ref65.threadId,
                  t = _ref65.commentId,
                  n = _ref65.isFromAdapter;
              var i = this[sw("0x7d")](e),
                  o = i[sw("0x7b")](t);
              if (!o) throw new c.a(sw("0x61"), this);
              if (i[sw("0x93")](o), n || !this[sw("0xa")] || "function" != typeof this[sw("0xa")].removeComment) return Promise.resolve();
              var r = this[sw("0x66")][sw("0x78")][sw("0x48")](sw("0x3d")),
                  s = i.channelId,
                  a = r[sw("0x33")](Hb(this.context.locale, sw("0x39")));
              return this[sw("0xa")].removeComment({
                channelId: s,
                threadId: e,
                commentId: t
              })[sw("0x76")](function () {
                return r.remove(a);
              })[sw("0x3b")](function (e) {
                throw console[sw("0x1f")](e), new c.a(sw("0x35"), _this243);
              });
            }
          }], [{
            key: _sw,
            get: function get() {
              return [ow, em, $d];
            }
          }, {
            key: _sw2,
            get: function get() {
              return sw("0x5");
            }
          }]);

          return cw;
        }(Qi, sw("0x63"), sw("0x64"), sw("0x58"), sw("0x79"), sw("0xa"), sw("0xa"), sw("0x2f"), sw("0x6f"), sw("0x7d"), sw("0x5e"), sw("0x85"), sw("0x4"), sw("0x82"), sw("0x6a"), sw("0x40"), sw("0x10"), sw("0x83"), sw("0x42"), sw("0x2e"), sw("0x70"));

        var lw = /*#__PURE__*/function (_sw21, _sw22, _sw23, _sw24, _sw25, _sw26, _sw27, _sw28, _sw29) {
          function lw(e, t) {
            var _this244 = this;

            _classCallCheck(this, lw);

            this[sw("0x86")] = t[sw("0x86")], this.id = t.id, this[sw("0x14")]("isReadOnly", !1), this[sw("0x3")](sw("0x19")).to(e, sw("0x55"), function (e) {
              return !e[sw("0x8e")](_this244[sw("0x86")]);
            }), this[sw("0x74")] = new Hi(), this[sw("0x67")] = e, this[sw("0x12")] = !1;
          }

          _createClass(lw, [{
            key: _sw21,
            get: function get() {
              return Array.from(this[sw("0x74")]).reduce(function (e, t) {
                return e + t.weight;
              }, 0);
            }
          }, {
            key: "length",
            get: function get() {
              return this.comments[sw("0x27")];
            }
          }, {
            key: _sw22,
            get: function get() {
              return this[sw("0x12")];
            }
          }, {
            key: _sw23,
            value: function value() {
              var _ref66 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
                  _ref66$isFromAdapter = _ref66.isFromAdapter,
                  e = _ref66$isFromAdapter === void 0 ? !1 : _ref66$isFromAdapter;

              var t = this.channelId,
                  n = this.id;

              this._repository[sw("0x16")](uw(sw("0x2c"), t), {
                channelId: t,
                threadId: n,
                isFromAdapter: e
              });
            }
          }, {
            key: _sw24,
            value: function value(e) {
              this._repository[sw("0x40")]({
                threadId: this.id,
                target: e
              });
            }
          }, {
            key: _sw25,
            value: function value(e) {
              var t = this.channelId,
                  n = this.id;

              this._repository[sw("0x16")](uw("addComment", t, n), Object[sw("0x1c")]({
                channelId: t,
                threadId: n
              }, e));
            }
          }, {
            key: _sw26,
            value: function value(e) {
              if (sw("0x8d") != typeof e) throw new c.a(sw("0x3e"), null, {
                commentId: e
              });
              return this[sw("0x74")].get(e);
            }
          }, {
            key: _sw27,
            value: function value() {
              return {
                threadId: this.id,
                comments: this[sw("0x74")][sw("0x65")](function (e) {
                  return e[sw("0x43")]();
                })
              };
            }
          }, {
            key: "_add",
            value: function _add(e) {
              var _this245 = this;

              return this[sw("0x5a")](e, sw("0x4f"), function () {
                var t = _this245._findOptimalIndex(e),
                    n = _this245.comments;

                t - 1 != n[sw("0x30")](e) && t + 1 != n[sw("0x30")](e) && (_this245[sw("0x93")](e), _this245[sw("0x92")](e));
              }), e[sw("0x2a")] ? this[sw("0x74")][sw("0x33")](e, this[sw("0x54")](e)) : this[sw("0x74")][sw("0x33")](e);
            }
          }, {
            key: _sw28,
            value: function value(e) {
              return this[sw("0x7e")](e), e[sw("0x8b")](), this[sw("0x74")][sw("0x89")](e);
            }
          }, {
            key: _sw29,
            value: function value(e) {
              var t = this[sw("0x74")].find(function (t) {
                return new Date(t[sw("0x2a")])[sw("0x26")]() > new Date(e.createdAt).getTime();
              });
              return t ? this[sw("0x74")][sw("0x30")](t) : this.length;
            }
          }]);

          return lw;
        }(sw("0x22"), sw("0x36"), sw("0x89"), sw("0x6b"), sw("0x1"), sw("0x7b"), sw("0x43"), sw("0x93"), sw("0x54"));

        rt(lw, Ze);

        var dw = /*#__PURE__*/function (_sw30, _sw31, _sw32, _sw33, _sw34) {
          function dw(e, t) {
            _classCallCheck(this, dw);

            var n = e[sw("0x66")][sw("0x78")][sw("0x48")](sw("0x6d")).me,
                i = e[sw("0x7d")](t.threadId),
                o = 0 === i[sw("0x74")].length,
                r = n === t[sw("0x52")];
            this.id = t.id, this[sw("0x20")] = t[sw("0x20")], this[sw("0x52")] = t.author, this[sw("0x14")]("content", t[sw("0x69")]), this[sw("0x14")](sw("0x2a"), t.createdAt || new Date()), this[sw("0x14")]("attributes", t[sw("0x34")] || {}), this[sw("0x14")](sw("0x7f"), r), this[sw("0x3")]("isRemovable").to(i, "isRemovable", function (e) {
              return e && o || r;
            }), this[sw("0x3")](sw("0x82")).to(i, sw("0x82")), this._repository = e;
          }

          _createClass(dw, [{
            key: _sw30,
            get: function get() {
              return Math[sw("0x21")](function (e) {
                var t = document.createElement(sw("0x2d"));
                return t.innerHTML = e, t[sw("0x88")][sw("0x27")];
              }(this.content), 200);
            }
          }, {
            key: _sw31,
            value: function value(e) {
              var t = this.threadId,
                  n = this.id;
              if (!this._repository.hasCommentThread(t)) throw new c.a(sw("0x57"), this);

              var _this$sw$getCommentTh = this[sw("0x67")].getCommentThread(t),
                  i = _this$sw$getCommentTh.channelId;

              this[sw("0x67")].fire(uw("updateComment", i, t), Object[sw("0x1c")]({
                channelId: i,
                threadId: t,
                commentId: n
              }, e));
            }
          }, {
            key: _sw32,
            value: function value(e, t) {
              var n = Wc(this.attributes);
              qo(n, e, t), this[sw("0x60")]({
                attributes: n
              });
            }
          }, {
            key: "removeAttribute",
            value: function removeAttribute(e) {
              var t = Wc(this.attributes);
              Oo(t, e), this[sw("0x60")]({
                attributes: t
              });
            }
          }, {
            key: _sw33,
            value: function value() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
              if (!e.isFromAdapter && !this.isRemovable) return;
              var t = this.threadId,
                  n = this.id;
              if (!this[sw("0x67")][sw("0x6f")](t)) throw new c.a(sw("0x53"), this);

              var _this$_repository$sw = this._repository[sw("0x7d")](t),
                  i = _this$_repository$sw.channelId;

              this[sw("0x67")].fire(uw(sw("0x51"), i, t), Object.assign({
                channelId: i,
                threadId: t,
                commentId: n
              }, e));
            }
          }, {
            key: _sw34,
            value: function value() {
              return {
                commentId: this.id,
                content: this[sw("0x69")],
                createdAt: this[sw("0x2a")],
                authorId: this.author.id,
                attributes: this.attributes
              };
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this[sw("0x7e")]();
            }
          }]);

          return dw;
        }(sw("0x22"), sw("0x60"), sw("0x7a"), sw("0x89"), sw("0x43"));

        function uw(e) {
          for (var _len22 = arguments.length, t = new Array(_len22 > 1 ? _len22 - 1 : 0), _key22 = 1; _key22 < _len22; _key22++) {
            t[_key22 - 1] = arguments[_key22];
          }

          for (var _i199 = 0, _t270 = t; _i199 < _t270.length; _i199++) {
            var _n247 = _t270[_i199];
            sw("0x8d") == typeof _n247 && (e += ":" + _n247);
          }

          return e;
        }

        rt(dw, Ze);
        var hw = ["_hasContent", "document", "backward", "createRange", "refresh", "getLastMatchingPosition", "element", "textProxy", "addMarker", "getRanges", "substr", "start", "_itemIsContent", "isEnabled", "editor", "item", "isObject", "selection", "_trimToContent", "execute", "getItems", "model"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(hw, 469);

        var gw = function gw(e, t) {
          return hw[e -= 0];
        };

        var mw = /*#__PURE__*/function (_ct12, _gw, _gw2, _gw3, _gw4, _gw5) {
          _inherits(mw, _ct12);

          var _super144 = _createSuper(mw);

          function mw() {
            _classCallCheck(this, mw);

            return _super144.apply(this, arguments);
          }

          _createClass(mw, [{
            key: _gw,
            value: function value() {
              var e = this[gw("0x7")][gw("0xe")][gw("0x10")][gw("0xa")];

              var _iterator374 = _createForOfIteratorHelper(e[gw("0x2")]()),
                  _step374;

              try {
                for (_iterator374.s(); !(_step374 = _iterator374.n()).done;) {
                  var _t271 = _step374.value;
                  if (this._hasContent(_t271)) return void (this[gw("0x6")] = !0);
                }
              } catch (err) {
                _iterator374.e(err);
              } finally {
                _iterator374.f();
              }

              this.isEnabled = !1;
            }
          }, {
            key: _gw2,
            value: function value() {
              var _ref67 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
                  _ref67$threadId = _ref67.threadId,
                  e = _ref67$threadId === void 0 ? s() : _ref67$threadId;

              var t = this.editor[gw("0xe")],
                  n = [];

              var _iterator375 = _createForOfIteratorHelper(t[gw("0x10")][gw("0xa")].getRanges()),
                  _step375;

              try {
                for (_iterator375.s(); !(_step375 = _iterator375.n()).done;) {
                  var _e305 = _step375.value;
                  this[gw("0xf")](_e305) && n.push(this._trimToContent(_e305));
                }
              } catch (err) {
                _iterator375.e(err);
              } finally {
                _iterator375.f();
              }

              t.change(function (t) {
                var _iterator376 = _createForOfIteratorHelper(n),
                    _step376;

                try {
                  for (_iterator376.s(); !(_step376 = _iterator376.n()).done;) {
                    var _i200 = _step376.value;

                    var _n248 = s()[gw("0x3")](1, 5),
                        _o104 = "comment:" + e + ":" + _n248;

                    t[gw("0x1")](_o104, {
                      range: _i200,
                      usingOperation: !1,
                      affectData: !1
                    });
                  }
                } catch (err) {
                  _iterator376.e(err);
                } finally {
                  _iterator376.f();
                }
              });
            }
          }, {
            key: _gw3,
            value: function value(e) {
              var _iterator377 = _createForOfIteratorHelper(e[gw("0xd")]()),
                  _step377;

              try {
                for (_iterator377.s(); !(_step377 = _iterator377.n()).done;) {
                  var _t272 = _step377.value;
                  if (this[gw("0x5")](_t272)) return !0;
                }
              } catch (err) {
                _iterator377.e(err);
              } finally {
                _iterator377.f();
              }

              return !1;
            }
          }, {
            key: _gw4,
            value: function value(e) {
              return e.is(gw("0x0")) || this[gw("0x7")][gw("0xe")].schema[gw("0x9")](e) && !e.is(gw("0x15"), "tableCell");
            }
          }, {
            key: _gw5,
            value: function value(e) {
              var _this246 = this;

              var t = function t(e) {
                return !_this246._itemIsContent(e[gw("0x8")]);
              },
                  n = e[gw("0x4")][gw("0x14")](t),
                  i = e.end[gw("0x14")](t, {
                direction: gw("0x11")
              });

              return this[gw("0x7")].model[gw("0x12")](n, i);
            }
          }]);

          return mw;
        }(ct, gw("0x13"), gw("0xc"), gw("0xf"), gw("0x5"), gw("0xb"));

        var fw = ["values", "markerNameToElements", "name", "domConverter", "mapper", "view"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(fw, 435);

        var pw = function pw(e, t) {
          return fw[e -= 0];
        };

        function kw(e, t) {
          var n = Ja(e[pw("0x1")][pw("0x4")](t[pw("0x5")])[pw("0x3")]());
          return e[pw("0x2")][pw("0x0")].mapViewToDom(n);
        }

        var bw = ["afterInit", "addCommentThread", "has", "editor", "plugins", "enableCommand", "get", "RestrictedEditingModeEditing"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(bw, 145);

        var ww = function ww(e, t) {
          return bw[e -= 0];
        };

        var _w = /*#__PURE__*/function (_st32, _ww) {
          _inherits(_w, _st32);

          var _super145 = _createSuper(_w);

          function _w() {
            _classCallCheck(this, _w);

            return _super145.apply(this, arguments);
          }

          _createClass(_w, [{
            key: _ww,
            value: function value() {
              var e = this[ww("0x2")];
              e[ww("0x3")][ww("0x1")](ww("0x6")) && e[ww("0x3")][ww("0x5")]("RestrictedEditingModeEditing")[ww("0x4")](ww("0x0"));
            }
          }]);

          return _w;
        }(st, ww("0x7"));

        n(148);
        var vw = ["attachTo", "data", "dataDowncast", "updateMarker", "destroyed", "add", "state", "_detachCommentThread", "markerName", "once", "size", "removeMarker", "differ", "activeMarker", "getCommentThreads", "markerToData", "editor", "_handleMarkerAddAndRemove", "getMarkersGroup", "plugins", "removeCommentThread", "requires", "delete", "upcast", "rootName", "change", "then", "createRange", "CommentsEditing", "hasCommentThread", "from", "ck-comment-marker--active", "getAllMarkersForId", "_changedMarkers", "isThreadsLoadingPaused", "conversion", "listenTo", "hasMarkerForId", "comment:", "managedUsingOperations", "set", "push", "sort", "schema", "root", "addCommentThread", "get", "newRange", "change:isThreadsLoadingPaused", "config", "map", "pluginName", "_threads", "_attachedThreads", "openNewCommentThread", "fetchCommentThread", "low", "length", "editing", "name", "CommentsRepository", "_attachThreadToMarker", "_initializeMarkerConverters", "for", "editingDowncast", "document", "collaboration.channelId", "text", "addComment", "destroy", "change:isReadOnly", "start", "has", "comment", "view", "high", "markerToHighlight", "createElement", "getWalker", "getAttribute", "top", "ready", "ck-comment-marker", "init", "model", "render", "dataToMarker", "markers", "isCollapsed", "stop", "getCommentThread"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(vw, 154);

        var xw = function xw(e, t) {
          return vw[e -= 0];
        };

        var yw = /*#__PURE__*/function (_st33, _xw, _xw2, _xw3, _xw4, _xw5, _xw6, _xw7, _xw8, _xw9) {
          _inherits(yw, _st33);

          var _super146 = _createSuper(yw);

          function yw(e) {
            var _this247;

            _classCallCheck(this, yw);

            _this247 = _super146.call(this, e), _this247[xw("0x44")]("isThreadsLoadingPaused", !0), e[xw("0x1d")][xw("0x25")](xw("0x12"), function () {
              return _this247[xw("0x3e")] = !1;
            }), _this247[xw("0x44")](xw("0x29"), null), _this247.on("change:activeMarker", function (t, n, i, o) {
              e[xw("0x15")].change(function (e) {
                if (i) {
                  var _Tw = Tw(i),
                      _t273 = _Tw.id,
                      _n249 = _this247[xw("0x3c")](_t273);

                  var _iterator378 = _createForOfIteratorHelper(_n249),
                      _step378;

                  try {
                    for (_iterator378.s(); !(_step378 = _iterator378.n()).done;) {
                      var _t274 = _step378.value;
                      e[xw("0x1f")](_t274);
                    }
                  } catch (err) {
                    _iterator378.e(err);
                  } finally {
                    _iterator378.f();
                  }
                }

                if (o) {
                  var _Tw2 = Tw(o),
                      _t275 = _Tw2.id,
                      _n250 = _this247[xw("0x3c")](_t275);

                  var _iterator379 = _createForOfIteratorHelper(_n250),
                      _step379;

                  try {
                    for (_iterator379.s(); !(_step379 = _iterator379.n()).done;) {
                      var _t276 = _step379.value;
                      e.updateMarker(_t276);
                    }
                  } catch (err) {
                    _iterator379.e(err);
                  } finally {
                    _iterator379.f();
                  }
                }
              });
            }), _this247._attachedThreads = new Set();
            return _this247;
          }

          _createClass(yw, [{
            key: _xw3,
            value: function value() {
              var _this248 = this;

              var e = this[xw("0x2c")],
                  t = e.plugins[xw("0x4a")](xw("0x58")),
                  n = e.config[xw("0x4a")]("collaboration.channelId");
              e.commands[xw("0x21")](xw("0x49"), new mw(e)), this[xw("0x40")](e, xw("0x7"), function (n, i, o) {
                t.switchReadOnly(o, e[xw("0x4d")].get("collaboration.channelId"));
              }), this[xw("0x40")](t, Cw(xw("0x30"), n), function (n, _ref68) {
                var i = _ref68.threadId;
                e[xw("0x15")][xw("0x35")](function (e) {
                  var _iterator380 = _createForOfIteratorHelper(_this248.getAllMarkersForId(i)),
                      _step380;

                  try {
                    for (_iterator380.s(); !(_step380 = _iterator380.n()).done;) {
                      var _t277 = _step380.value;
                      e[xw("0x27")](_t277);
                    }
                  } catch (err) {
                    _iterator380.e(err);
                  } finally {
                    _iterator380.f();
                  }
                });
                var o = t[xw("0x1b")](i);
                t[xw("0x39")](i) && !o.length || n[xw("0x1a")]();
              }, {
                priority: xw("0xc")
              }), this[xw("0x40")](t, Cw(xw("0x5"), n), function (n, _ref69) {
                var i = _ref69.threadId,
                    o = _ref69.isFromAdapter;

                var r = _this248[xw("0x3c")](i);

                !o && 0 != r[xw("0x55")] && t[xw("0x39")](i) && 1 === t[xw("0x1b")](i)[xw("0x55")] && e[xw("0x15")][xw("0x35")](function (e) {
                  var _iterator381 = _createForOfIteratorHelper(r),
                      _step381;

                  try {
                    for (_iterator381.s(); !(_step381 = _iterator381.n()).done;) {
                      var _t278 = _step381.value;
                      e[xw("0x1f")](_t278, {
                        usingOperation: !0,
                        affectsData: !0
                      });
                    }
                  } catch (err) {
                    _iterator381.e(err);
                  } finally {
                    _iterator381.f();
                  }
                });
              }, {
                priority: xw("0x54")
              }), this[xw("0x5a")](), this._handleMarkerAddAndRemove();
            }
          }, {
            key: _xw4,
            value: function value() {
              var e = this.editor.plugins[xw("0x4a")](xw("0x58")),
                  t = this[xw("0x2c")][xw("0x4d")].get(xw("0x3"));

              var _iterator382 = _createForOfIteratorHelper(e[xw("0x2a")]({
                channelId: t
              })),
                  _step382;

              try {
                for (_iterator382.s(); !(_step382 = _iterator382.n()).done;) {
                  var _n251 = _step382.value;
                  e[xw("0x23")](_n251.id), e[xw("0x50")][xw("0x32")](_n251.id);
                }
              } catch (err) {
                _iterator382.e(err);
              } finally {
                _iterator382.f();
              }

              _get(_getPrototypeOf(yw.prototype), xw("0x6"), this).call(this);
            }
          }, {
            key: _xw5,
            value: function value(e) {
              return this.getAllMarkersForId(e).length > 0;
            }
          }, {
            key: _xw6,
            value: function value(e) {
              var t = this[xw("0x2c")][xw("0x15")].markers[xw("0x4a")](xw("0x42") + e);
              return t ? [t] : Array[xw("0x3a")](this[xw("0x2c")][xw("0x15")][xw("0x18")][xw("0x2e")](xw("0x42") + e));
            }
          }, {
            key: _xw7,
            value: function value() {
              var _this249 = this;

              var e = this[xw("0x2c")];
              e[xw("0x3f")][xw("0x0")](xw("0x1"))[xw("0xd")]({
                model: xw("0xa"),
                view: function view(e) {
                  var _Tw3 = Tw(e[xw("0x24")]),
                      t = _Tw3.id,
                      n = [xw("0x13")];

                  return _this249.activeMarker && Tw(_this249[xw("0x29")]).id === t && n[xw("0x45")](xw("0x3b")), {
                    classes: n,
                    attributes: {
                      "data-comment": t
                    }
                  };
                }
              }), e[xw("0x3f")][xw("0x0")](xw("0x1e"))[xw("0x2b")]({
                model: "comment",
                view: function view(t) {
                  var n = e[xw("0x15")].markers[xw("0x4a")](t),
                      _Tw4 = Tw(t),
                      i = _Tw4.id,
                      o = _Tw4.part;

                  return n && !n.affectsData ? null : {
                    group: xw("0xa"),
                    name: o ? i + ":" + o : i
                  };
                }
              }), e[xw("0x3f")]["for"](xw("0x33")).elementToElement({
                view: {
                  name: xw("0xa"),
                  attribute: {
                    id: /^\w/
                  }
                },
                model: function model(e, _ref70) {
                  var t = _ref70.writer;
                  return t[xw("0xe")]("$marker", {
                    "data-name": xw("0x42") + e[xw("0x10")]("id")
                  });
                }
              }), e.conversion[xw("0x0")](xw("0x33"))[xw("0x17")]({
                view: xw("0xa")
              });
            }
          }, {
            key: _xw8,
            value: function value() {
              var _this250 = this;

              var e = this[xw("0x2c")],
                  t = e[xw("0x2f")][xw("0x4a")](xw("0x58")),
                  n = new Set();
              e[xw("0x15")].document.registerPostFixer(function (t) {
                var i = !1;

                var _iterator383 = _createForOfIteratorHelper(e[xw("0x15")][xw("0x2")][xw("0x28")][xw("0x3d")]),
                    _step383;

                try {
                  for (_iterator383.s(); !(_step383 = _iterator383.n()).done;) {
                    var _step383$value = _slicedToArray(_step383.value, 2),
                        _o105 = _step383$value[0],
                        _r57 = _step383$value[1];

                    var _Tw5 = Tw(_o105),
                        _s38 = _Tw5.group,
                        _a23 = _Tw5.id;

                    var _c12 = _r57[xw("0x4b")];

                    if ("comment" !== _s38 || !_c12) continue;

                    var _l8 = "$graveyard" === _c12[xw("0x48")][xw("0x34")];

                    _l8 || !(_c12 = Aw(_c12, e.model)) || _c12.isEqual(_r57[xw("0x4b")]) ? !_c12 || !e[xw("0x15")].hasContent(_c12) || _this250._attachedThreads[xw("0x9")](_a23) && _l8 ? (t[xw("0x27")](_o105), i = !0) : _l8 || (_this250[xw("0x3e")] ? n[xw("0x21")](_a23) : _this250[xw("0x59")](_a23)) : (t[xw("0x1f")](_o105, {
                      range: _c12
                    }), i = !0);
                  }
                } catch (err) {
                  _iterator383.e(err);
                } finally {
                  _iterator383.f();
                }

                return i;
              }), this.on(xw("0x4c"), function (e, t, i) {
                if (!i && n[xw("0x26")]) {
                  var _iterator384 = _createForOfIteratorHelper(n),
                      _step384;

                  try {
                    for (_iterator384.s(); !(_step384 = _iterator384.n()).done;) {
                      var _e306 = _step384.value;
                      _this250[xw("0x59")](_e306), n[xw("0x32")](_e306);
                    }
                  } catch (err) {
                    _iterator384.e(err);
                  } finally {
                    _iterator384.f();
                  }
                }
              }), this[xw("0x40")](e[xw("0x15")][xw("0x18")], "update:comment", function (i, o, r, s) {
                if (s) return;

                var _Tw6 = Tw(o[xw("0x57")]),
                    a = _Tw6.id,
                    c = e[xw("0x2f")][xw("0x4a")](xw("0x58"))[xw("0x1b")](a);

                n[xw("0x32")](a), c && !_this250[xw("0x41")](a) && (_this250[xw("0x51")][xw("0x32")](a), t[xw("0x23")](a));
              });
            }
          }, {
            key: _xw9,
            value: function value(e) {
              var _this251 = this;

              if (this[xw("0x51")][xw("0x9")](e)) return;

              this._attachedThreads[xw("0x21")](e);

              var t = this[xw("0x2c")],
                  n = t[xw("0x2f")][xw("0x4a")](xw("0x58")),
                  i = t[xw("0x4d")][xw("0x4a")]("collaboration.channelId"),
                  o = function o() {
                var n = _this251[xw("0x3c")](e);

                if (0 == n[xw("0x55")]) return null;
                var i = n[xw("0x4e")](function (e) {
                  return kw(t[xw("0x56")], e);
                });
                return i[xw("0x46")](function (e, t) {
                  var n = new Wa(e),
                      i = new Wa(t),
                      o = n[xw("0x11")] - i.top;
                  return 0 == o ? n.left - i.left : o;
                }), i[0];
              };

              this[xw("0x3c")](e)[0][xw("0x43")] ? n[xw("0x53")]({
                channelId: i,
                threadId: e
              })[xw("0x36")](function (n) {
                if (xw("0x20") !== t[xw("0x22")]) if (n) n[xw("0x1c")](o);else {
                  var _n252 = _this251[xw("0x3c")](e);

                  t[xw("0x15")][xw("0x35")](function (e) {
                    var _iterator385 = _createForOfIteratorHelper(_n252),
                        _step385;

                    try {
                      for (_iterator385.s(); !(_step385 = _iterator385.n()).done;) {
                        var _t279 = _step385.value;
                        e[xw("0x27")](_t279);
                      }
                    } catch (err) {
                      _iterator385.e(err);
                    } finally {
                      _iterator385.f();
                    }
                  });
                }
              }) : t[xw("0x56")][xw("0xb")][xw("0x25")](xw("0x16"), function () {
                n[xw("0x52")]({
                  channelId: i,
                  threadId: e,
                  target: o
                });
              }, {
                priority: xw("0x54")
              });
            }
          }], [{
            key: _xw,
            get: function get() {
              return [cw, _w];
            }
          }, {
            key: _xw2,
            get: function get() {
              return xw("0x38");
            }
          }]);

          return yw;
        }(st, xw("0x31"), xw("0x4f"), xw("0x14"), xw("0x6"), xw("0x41"), xw("0x3c"), xw("0x5a"), xw("0x2d"), xw("0x59"));

        function Cw(e, t) {
          return t ? e + ":" + t : e;
        }

        function Tw(e) {
          var t = e.split(":");
          return {
            group: t[0],
            id: t[1],
            part: t[2]
          };
        }

        function Aw(e, t) {
          var n = t[xw("0x47")],
              i = t[xw("0x37")](e[xw("0x8")]);

          var _iterator386 = _createForOfIteratorHelper(e[xw("0xf")]()),
              _step386;

          try {
            for (_iterator386.s(); !(_step386 = _iterator386.n()).done;) {
              var _o106 = _step386.value;
              var _e307 = _o106.type,
                  _r58 = _o106.item,
                  _s39 = _o106.nextPosition;

              if (xw("0x4") === _e307 || n.isObject(_r58)) {
                var _e308 = t.createPositionBefore(_r58);

                i[xw("0x19")] && (i.start = _e308), i.end = _s39;
              }
            }
          } catch (err) {
            _iterator386.e(err);
          } finally {
            _iterator386.f();
          }

          return i[xw("0x19")] ? null : i;
        }

        var Ew = ["has", "set", "add", "EditorAnnotations", "fire", "change:isFocused", "isCollapsed", "refresh", "change:range", "range", "document", "addSourceCollector", "blur", "function", "init", "view", "remove", "getRanges", "_editorAnnotationsData", "refreshSelectedViews", "editor", "model", "update", "editing", "keys", "cancel", "sort", "uiUpdate", "delete", "listenTo", "_dataCollectors", "containsRange", "annotation", "map", "push", "from", "innerView", "collection", "element", "requires", "hasDomSelection", "focusTracker"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(Ew, 342);

        var Iw = function Iw(e, t) {
          return Ew[e -= 0];
        };

        var Sw = /*#__PURE__*/function (_st34, _Iw, _Iw2, _Iw3, _Iw4, _Iw5) {
          _inherits(Sw, _st34);

          var _super147 = _createSuper(Sw);

          function Sw(e) {
            var _this252;

            _classCallCheck(this, Sw);

            _this252 = _super147.call(this, e), _this252[Iw("0x18")] = new Set();
            return _this252;
          }

          _createClass(Sw, [{
            key: _Iw2,
            value: function value() {
              var _this253 = this;

              var e = this.editor,
                  t = e.plugins.get(ow),
                  n = e[Iw("0xf")].document.selection,
                  i = Ra(function () {
                return _this253.refreshSelectedViews();
              }, 10);
              n.on(Iw("0x2"), function (e, t) {
                t.directChange && (i[Iw("0x13")](), _this253[Iw("0xd")]());
              }), this[Iw("0x17")](e.editing.view[Iw("0x4")], "change:isFocused", function (e, t, n) {
                n && i();
              }), this.listenTo(e.ui[Iw("0x23")], Iw("0x29"), function (t, n, i) {
                i || e.isReadOnly || _this253[Iw("0x28")](Iw("0x6"), {
                  isAnnotationTracked: function isAnnotationTracked(e) {
                    return _this253[Iw("0xc")].has(e[Iw("0x1e")]);
                  }
                });
              }), this[Iw("0x17")](this[Iw("0xe")].ui, Iw("0x10"), function () {
                return _this253.fire(Iw("0x15"));
              });
              var o = new Set();
              this[Iw("0x17")](t[Iw("0x1f")], "add", function (t, n) {
                var _iterator387 = _createForOfIteratorHelper(_this253[Iw("0xc")][Iw("0x12")]()),
                    _step387;

                try {
                  for (_iterator387.s(); !(_step387 = _iterator387.n()).done;) {
                    var _t280 = _step387.value;

                    if (_t280 === n[Iw("0x1e")]) {
                      e.ui[Iw("0x23")].add(n[Iw("0x9")][Iw("0x20")]), o[Iw("0x26")](n.view);
                      break;
                    }
                  }
                } catch (err) {
                  _iterator387.e(err);
                } finally {
                  _iterator387.f();
                }
              }), this.listenTo(t[Iw("0x1f")], "remove", function (t, n) {
                o[Iw("0x24")](n[Iw("0x9")]) && (e.ui[Iw("0x23")][Iw("0xa")](n.view[Iw("0x20")]), o[Iw("0x16")](n[Iw("0x9")]));
              });
            }
          }, {
            key: "hasDomSelection",
            value: function hasDomSelection() {
              return this[Iw("0xe")][Iw("0x11")].view[Iw("0x22")];
            }
          }, {
            key: _Iw3,
            value: function value(e) {
              if (Iw("0x7") != typeof e) throw new c.a("editorannotations-invalid-source-callback");
              this[Iw("0x18")][Iw("0x26")](e);
            }
          }, {
            key: _Iw4,
            value: function value() {
              this[Iw("0x28")](Iw("0x1"));
            }
          }, {
            key: "getOrderedSelectedAnnotations",
            value: function getOrderedSelectedAnnotations(_ref71) {
              var e = _ref71.activeAnnotation,
                  t = _ref71.annotations;
              var n = [],
                  i = this.editor.model[Iw("0x4")].selection,
                  o = Array[Iw("0x1d")](i[Iw("0xb")]());

              var _iterator388 = _createForOfIteratorHelper(this[Iw("0xc")]),
                  _step388;

              try {
                for (_iterator388.s(); !(_step388 = _iterator388.n()).done;) {
                  var _step388$value = _slicedToArray(_step388.value, 2),
                      _e310 = _step388$value[0],
                      _i201 = _step388$value[1];

                  var _o107 = r(_i201),
                      _s40 = t.getByInnerView(_e310);

                  _o107 && _s40 && n[Iw("0x1c")]({
                    annotation: _s40,
                    range: _o107
                  });
                }
              } catch (err) {
                _iterator388.e(err);
              } finally {
                _iterator388.f();
              }

              function r(e) {
                var _iterator389 = _createForOfIteratorHelper(e),
                    _step389;

                try {
                  for (_iterator389.s(); !(_step389 = _iterator389.n()).done;) {
                    var _t281 = _step389.value;

                    var _iterator390 = _createForOfIteratorHelper(o),
                        _step390;

                    try {
                      for (_iterator390.s(); !(_step390 = _iterator390.n()).done;) {
                        var _e309 = _step390.value;
                        if (_t281[Iw("0x19")](_e309, !i[Iw("0x0")])) return _t281;
                      }
                    } catch (err) {
                      _iterator390.e(err);
                    } finally {
                      _iterator390.f();
                    }
                  }
                } catch (err) {
                  _iterator389.e(err);
                } finally {
                  _iterator389.f();
                }

                return null;
              }

              return n[Iw("0x14")](function (t, n) {
                var i = t[Iw("0x3")],
                    o = n.range;

                if (!i.isEqual(o)) {
                  if (i[Iw("0x19")](o, !0)) return 1;
                  if (o[Iw("0x19")](i, !0)) return -1;
                }

                return t[Iw("0x1a")] == e ? -1 : n[Iw("0x1a")] == e ? 1 : 0;
              })[Iw("0x1b")](function (e) {
                return e[Iw("0x1a")];
              });
            }
          }, {
            key: _Iw5,
            get: function get() {
              var e = new Map();

              for (var _i202 = 0, _Array$from7 = Array.from(this._dataCollectors); _i202 < _Array$from7.length; _i202++) {
                var _t282 = _Array$from7[_i202];

                var _iterator391 = _createForOfIteratorHelper(_t282()),
                    _step391;

                try {
                  for (_iterator391.s(); !(_step391 = _iterator391.n()).done;) {
                    var _step391$value = _slicedToArray(_step391.value, 2),
                        _n253 = _step391$value[0],
                        _i203 = _step391$value[1];

                    e[Iw("0x25")](_n253, _i203);
                  }
                } catch (err) {
                  _iterator391.e(err);
                } finally {
                  _iterator391.f();
                }
              }

              return e;
            }
          }], [{
            key: _Iw,
            get: function get() {
              return [ow];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return Iw("0x27");
            }
          }]);

          return Sw;
        }(st, Iw("0x21"), Iw("0x8"), Iw("0x5"), Iw("0xd"), Iw("0xc"));

        var Mw = n(13),
            Pw = n.n(Mw);

        var Rw = /*#__PURE__*/function (_st35) {
          _inherits(Rw, _st35);

          var _super148 = _createSuper(Rw);

          function Rw() {
            _classCallCheck(this, Rw);

            return _super148.apply(this, arguments);
          }

          _createClass(Rw, [{
            key: "init",
            value: function init() {
              var _this254 = this;

              var e = this.editor,
                  t = e.plugins.get(cw),
                  n = e.plugins.get(yw),
                  i = e.plugins.get(ow),
                  o = e.plugins.get(Sw);
              e.ui.componentFactory.add("comment", function () {
                return _this254._createUIButton();
              }), o.addSourceCollector(function () {
                var e = [];

                var _iterator392 = _createForOfIteratorHelper(t._threadToController),
                    _step392;

                try {
                  for (_iterator392.s(); !(_step392 = _iterator392.n()).done;) {
                    var _step392$value = _slicedToArray(_step392.value, 2),
                        _i204 = _step392$value[0],
                        _o108 = _step392$value[1];

                    var _t283 = n.getAllMarkersForId(_i204.id),
                        _r59 = _t283.map(function (e) {
                      return e.getRange();
                    });

                    _t283.length > 0 && e.push([_o108.view, _r59]);
                  }
                } catch (err) {
                  _iterator392.e(err);
                } finally {
                  _iterator392.f();
                }

                return e;
              }), this.listenTo(i, "change:activeAnnotations", function (e, i, o) {
                var r = Array.from(o).map(function (e) {
                  return e.innerView;
                }).find(function (e) {
                  return t._viewToController.has(e);
                });
                if (!r) return void (n.activeMarker = null);

                var s = t._viewToController.get(r).model.id,
                    a = "comment:" + s;

                n.hasMarkerForId(s) ? n.activeMarker = a : n.activeMarker && (n.activeMarker = null);
              }), this.listenTo(t, "removeCommentThread", function (t, _ref72) {
                var i = _ref72.threadId,
                    o = _ref72.isFromAdapter;
                !o && e.ui.focusTracker.isFocused && n.hasMarkerForId(i) && e.editing.view.focus();
              }, {
                priority: "highest"
              }), this.listenTo(t, "addComment", function (i, _ref73) {
                var o = _ref73.threadId,
                    r = _ref73.isFromAdapter;
                !r && n.hasMarkerForId(o) && t.hasCommentThread(o) && 1 === t.getCommentThread(o).length && (e.editing.view.focus(), i.stop());
              }, {
                priority: "low"
              });
            }
          }, {
            key: "_createUIButton",
            value: function _createUIButton() {
              var e = this.editor,
                  t = new Th(e.locale),
                  n = e.commands.get("addCommentThread"),
                  i = this.editor.locale.t;
              return t.label = i("Comment"), t.tooltip = i("Comment"), t.icon = Pw.a, t.bind("isEnabled").to(n), this.listenTo(t, "execute", function () {
                return n.execute();
              }), t;
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "CommentsUI";
            }
          }, {
            key: "requires",
            get: function get() {
              return [cw, yw, Sw, ow];
            }
          }]);

          return Rw;
        }(st);

        var Nw = ["addCommentThread", "view", "commentsOnlyMode", "get", "stopListening", "_disableCommentsOnlyMode", "isEnabled", "stop", "editor", "set", "listenTo", "commentsOnly", "editing", "affectsData", "requires", "CommentsOnly", "_enableCommentsOnlyMode", "document", "DragDrop", "clearForceDisabled", "plugins", "highest", "delete", "forceDisabled", "has", "pluginName", "commands"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(Nw, 406);

        var Ow = function Ow(e, t) {
          return Nw[e -= 0];
        };

        var Dw = /*#__PURE__*/function (_st36, _Ow, _Ow2, _Ow3) {
          _inherits(Dw, _st36);

          var _super149 = _createSuper(Dw);

          function Dw(e) {
            var _this255;

            _classCallCheck(this, Dw);

            _this255 = _super149.call(this, e), _this255[Ow("0x8")](Ow("0x5"), null), _this255.on("change:isEnabled", function (e, t, n) {
              n ? _this255[Ow("0xf")]() : _this255._disableCommentsOnlyMode();
            });
            return _this255;
          }

          _createClass(Dw, [{
            key: "afterInit",
            value: function afterInit() {
              null === this[Ow("0x5")] && (this[Ow("0x5")] = !!this.editor.config[Ow("0x2")](Ow("0xa")));
            }
          }, {
            key: "_enableCommentsOnlyMode",
            value: function _enableCommentsOnlyMode() {
              var _iterator393 = _createForOfIteratorHelper(this[Ow("0x7")][Ow("0x19")]),
                  _step393;

              try {
                for (_iterator393.s(); !(_step393 = _iterator393.n()).done;) {
                  var _step393$value = _slicedToArray(_step393.value, 2),
                      _e311 = _step393$value[0],
                      _t284 = _step393$value[1];

                  _t284[Ow("0xc")] && Ow("0x1a") !== _e311 && _t284[Ow("0x16")]("commentsOnlyMode");
                }
              } catch (err) {
                _iterator393.e(err);
              } finally {
                _iterator393.f();
              }

              this[Ow("0x7")][Ow("0x13")][Ow("0x17")]("DragDrop") && this[Ow("0x7")][Ow("0x13")][Ow("0x2")](Ow("0x11"))[Ow("0x16")](Ow("0x1"));
              var e = this[Ow("0x7")][Ow("0xb")][Ow("0x0")].document;
              this[Ow("0x9")](e, "cut", function (e) {
                return e[Ow("0x6")]();
              }, {
                priority: Ow("0x14")
              }), this.listenTo(e, "clipboardInput", function (e) {
                return e[Ow("0x6")]();
              }, {
                priority: Ow("0x14")
              }), this[Ow("0x9")](e, Ow("0x15"), function (e) {
                return e.stop();
              }, {
                priority: Ow("0x14")
              });
            }
          }, {
            key: _Ow3,
            value: function value() {
              var _iterator394 = _createForOfIteratorHelper(this.editor[Ow("0x19")]),
                  _step394;

              try {
                for (_iterator394.s(); !(_step394 = _iterator394.n()).done;) {
                  var _step394$value = _slicedToArray(_step394.value, 2),
                      _e312 = _step394$value[0],
                      _t285 = _step394$value[1];

                  _t285.affectsData && Ow("0x1a") !== _e312 && _t285[Ow("0x12")](Ow("0x1"));
                }
              } catch (err) {
                _iterator394.e(err);
              } finally {
                _iterator394.f();
              }

              this[Ow("0x3")](this[Ow("0x7")][Ow("0xb")].view[Ow("0x10")]);
            }
          }], [{
            key: _Ow,
            get: function get() {
              return Ow("0xe");
            }
          }, {
            key: _Ow2,
            get: function get() {
              return [yw];
            }
          }]);

          return Dw;
        }(st, Ow("0x18"), Ow("0xd"), Ow("0x4"));

        var Lw = ["size", "init", "activate", "_setSelectedAnnotations", "context", "requires", "deactivateAll", "detach", "add", "register", "activeUIs", "annotationsuis-register-already-registered", "_uisData", "deactivate", "annotationsuis-annotation-mismatch", "change:activeAnnotation", "length", "listenTo", "get", "_activateAnnotation", "set", "collection", "_deactivateAllAnnotations", "isActive", "attach", "annotationsuis-register-invalid-interface", "activeAnnotations", "hasActive", "push", "AnnotationsUIs", "setActiveAnnotation", "destroy", "filter", "plugins", "_uis", "delete", "_assertAnnotationDoesNotBelongToMultpleUI", "function", "pluginName", "has", "from", "stopListening"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(Lw, 478);

        var zw = function zw(e, t) {
          return Lw[e -= 0];
        };

        var Vw = /*#__PURE__*/function (_Qi7, _zw, _zw2, _zw3, _zw4, _zw5, _zw6, _zw7, _zw8, _zw9) {
          _inherits(Vw, _Qi7);

          var _super150 = _createSuper(Vw);

          function Vw(e) {
            var _this256;

            _classCallCheck(this, Vw);

            _this256 = _super150.call(this, e), _this256.activeUIs = new Set(), _this256[zw("0x12")] = new Map(), _this256[zw("0x26")] = new Map();
            return _this256;
          }

          _createClass(Vw, [{
            key: _zw3,
            value: function value() {
              var _this257 = this;

              var e = this.context.plugins[zw("0x2")](ow);
              this[zw("0x1")](e, zw("0x3"), function (e, t) {
                var _iterator395 = _createForOfIteratorHelper(_this257[zw("0x24")]),
                    _step395;

                try {
                  for (_iterator395.s(); !(_step395 = _iterator395.n()).done;) {
                    var _e313 = _step395.value;

                    var _n254 = _this257[zw("0x12")].get(_e313);

                    (0, _this257[zw("0x26")][zw("0x2")](_e313)[zw("0x10")])(t) && _n254[zw("0xe")](t);
                  }
                } catch (err) {
                  _iterator395.e(err);
                } finally {
                  _iterator395.f();
                }
              }), this.listenTo(e, zw("0x6"), function () {
                var _iterator396 = _createForOfIteratorHelper(_this257[zw("0x24")]),
                    _step396;

                try {
                  for (_iterator396.s(); !(_step396 = _iterator396.n()).done;) {
                    var _e314 = _step396.value;

                    _this257[zw("0x12")][zw("0x2")](_e314)[zw("0xe")](null);
                  }
                } catch (err) {
                  _iterator396.e(err);
                } finally {
                  _iterator396.f();
                }
              }), this[zw("0x1")](e.collection, zw("0x22"), function (e, t) {
                _this257[zw("0x14")](t);
              });
            }
          }, {
            key: _zw4,
            value: function value() {
              return this[zw("0x24")][zw("0x1a")] > 0;
            }
          }, {
            key: _zw5,
            value: function value(e) {
              return this[zw("0x24")].has(e);
            }
          }, {
            key: _zw6,
            value: function value(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {
                return !0;
              };
              var n = this.context[zw("0x11")][zw("0x2")](ow);
              if (!this[zw("0x12")].has(e)) throw new c.a("annotationsuis-activate-missing-ui", this, {
                uiName: e
              });
              this[zw("0x7")](e) && this[zw("0x27")](e), this[zw("0x24")].add(e);
              var i = new ew();
              (function (_ref74) {
                var e = _ref74.source,
                    t = _ref74.target,
                    n = _ref74.filter;

                var _iterator397 = _createForOfIteratorHelper(e),
                    _step397;

                try {
                  for (_iterator397.s(); !(_step397 = _iterator397.n()).done;) {
                    var _i205 = _step397.value;
                    n(_i205) && t[Zb("0x14")](_i205);
                  }
                } catch (err) {
                  _iterator397.e(err);
                } finally {
                  _iterator397.f();
                }

                t.listenTo(e, Zb("0x14"), function (e, i) {
                  n(i) && t[Zb("0x14")](i);
                }), t.listenTo(e, "remove", function (e, i) {
                  n(i) && t[Zb("0x20")](i);
                });
              })({
                source: n[zw("0x5")],
                target: i,
                filter: t
              }), this[zw("0x26")][zw("0x4")](e, {
                collection: i,
                filter: t
              });
              var o = this[zw("0x12")][zw("0x2")](e);
              o[zw("0x8")](i), this[zw("0x1")](o, zw("0x29"), function (e, t, i, o) {
                o && n._removeActiveAnnotation(o), i && n._addActiveAnnotation(i);
              });
            }
          }, {
            key: _zw7,
            value: function value(e) {
              this[zw("0x24")][zw("0x13")](e);
              var t = this[zw("0x12")][zw("0x2")](e);
              t[zw("0x21")](), this[zw("0x19")](t), this[zw("0x26")].get(e)[zw("0x5")][zw("0xf")](), this[zw("0x26")][zw("0x13")](e);
            }
          }, {
            key: "switchTo",
            value: function switchTo(e) {
              var t = this[zw("0x1e")][zw("0x11")].get(ow),
                  n = Array[zw("0x18")](t[zw("0xa")])[0] || null;
              this[zw("0x20")](), this[zw("0x1c")](e);

              var i = this._uis[zw("0x2")](e);

              i[zw("0xe")](n), i[zw("0x1d")] && n && i._setSelectedAnnotations([n]);
            }
          }, {
            key: "deactivateAll",
            value: function deactivateAll() {
              var _iterator398 = _createForOfIteratorHelper(this[zw("0x24")]),
                  _step398;

              try {
                for (_iterator398.s(); !(_step398 = _iterator398.n()).done;) {
                  var _e315 = _step398.value;
                  this[zw("0x27")](_e315);
                }
              } catch (err) {
                _iterator398.e(err);
              } finally {
                _iterator398.f();
              }
            }
          }, {
            key: _zw8,
            value: function value(e, t) {
              if (this[zw("0x12")][zw("0x17")](e)) throw new c.a(zw("0x25"));
              if (zw("0x15") != typeof t[zw("0x8")] || "function" != typeof t[zw("0x21")] || zw("0x15") != typeof t[zw("0xe")]) throw new c.a(zw("0x9"), null);
              this[zw("0x12")][zw("0x4")](e, t);
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this[zw("0x20")](), _get(_getPrototypeOf(Vw.prototype), zw("0xf"), this).call(this);
            }
          }, {
            key: _zw9,
            value: function value(e) {
              var t = [];

              var _iterator399 = _createForOfIteratorHelper(this[zw("0x24")]),
                  _step399;

              try {
                for (_iterator399.s(); !(_step399 = _iterator399.n()).done;) {
                  var _n255 = _step399.value;
                  (0, this._uisData[zw("0x2")](_n255)[zw("0x10")])(e) && t[zw("0xc")](_n255);
                }
              } catch (err) {
                _iterator399.e(err);
              } finally {
                _iterator399.f();
              }

              if (t[zw("0x0")] > 1) throw new c.a(zw("0x28"), null, {
                matchedUIs: t
              });
            }
          }], [{
            key: _zw,
            get: function get() {
              return [ow];
            }
          }, {
            key: _zw2,
            get: function get() {
              return zw("0xd");
            }
          }]);

          return Vw;
        }(Qi, zw("0x1f"), zw("0x16"), zw("0x1b"), zw("0xb"), zw("0x7"), zw("0x1c"), zw("0x27"), zw("0x23"), zw("0x14"));

        n(150);
        var Bw = ["list", "setTemplate", "class", "ck-sidebar", "minHeight", "createCollection", "set"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(Bw, 233);

        var Fw = function Fw(e, t) {
          return Bw[e -= 0];
        },
            jw = Qa("px");

        var Hw = /*#__PURE__*/function (_nh33) {
          _inherits(Hw, _nh33);

          var _super151 = _createSuper(Hw);

          function Hw(e) {
            var _this258;

            _classCallCheck(this, Hw);

            _this258 = _super151.call(this, e);
            var t = _this258.bindTemplate;
            _this258[Fw("0x4")]("minHeight", 0), _this258.set("class", ""), _this258[Fw("0x5")] = _this258[Fw("0x3")](), _this258[Fw("0x6")]({
              tag: "div",
              attributes: {
                "class": ["ck", Fw("0x1"), "ck-reset", t.to(Fw("0x0"))],
                style: {
                  minHeight: t.to(Fw("0x2"), function (e) {
                    return e ? jw(e + 10) : null;
                  })
                }
              },
              children: _this258.list
            });
            return _this258;
          }

          return Hw;
        }(nh);

        var Uw = ["_mutationObserver", "ck-sidebar-item--no-animation", "attach", "clientHeight", "set", "isAnimationDisabled", "content", "top", "_targetTop", "height", "setTemplate", "ck-sidebar-item", "destroy", "bottom", "updateHeight", "detach", "element", "createCollection"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(Uw, 369);

        var Ww = function Ww(e, t) {
          return Uw[e -= 0];
        },
            qw = Qa("px");

        var $w = /*#__PURE__*/function (_nh34, _Ww) {
          _inherits($w, _nh34);

          var _super152 = _createSuper($w);

          function $w(e) {
            var _this259;

            _classCallCheck(this, $w);

            _this259 = _super152.call(this, e), _this259[Ww("0xd")](Ww("0x10")), _this259[Ww("0xd")]("height", 0), _this259.bind(Ww("0x4")).to(_assertThisInitialized(_this259), "top", _assertThisInitialized(_this259), "height", function (e, t) {
              return (e || 0) + t;
            }), _this259[Ww("0xd")](Ww("0xe"), !1), _this259[Ww("0x9")] = qb(function () {
              return _this259[Ww("0x5")]();
            }), _this259[Ww("0x11")] = null, _this259[Ww("0xf")] = _this259[Ww("0x8")]();
            var t = _this259.bindTemplate;

            _this259[Ww("0x1")]({
              tag: "div",
              attributes: {
                "class": [Ww("0x2"), t.to("isAnimationDisabled", function (e) {
                  return e ? Ww("0xa") : "";
                })],
                style: {
                  top: t.to("top", qw)
                }
              },
              children: _this259[Ww("0xf")]
            });

            return _this259;
          }

          _createClass($w, [{
            key: "render",
            value: function render() {
              _get(_getPrototypeOf($w.prototype), "render", this).call(this), this[Ww("0x9")][Ww("0xb")](this[Ww("0x7")]);
            }
          }, {
            key: _Ww,
            value: function value() {
              var e = this.element[Ww("0xc")];
              e && (this[Ww("0x0")] = e);
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this.content.clear(), this[Ww("0x9")][Ww("0x6")](), _get(_getPrototypeOf($w.prototype), Ww("0x3"), this).call(this);
            }
          }]);

          return $w;
        }(nh, Ww("0x5"));

        var Gw = ["_getTargetTop", "add", "init", "pluginName", "isActive", "max", "config", "setContainer", "change:bottom", "change:_lastItem", "sidebar-attachtocontainer-missing-container", "_lastItem", "Sidebar", "_createSidebarView", "_destroySidebarItemView", "context", "define", "_activeAnnotation", "list", "isAnimationDisabled", "destroy", "last", "set", "_updateLastItem", "clear", "view", "_getItemBefore", "sidebar.container", "change:targetRect", "target", "_attachToContainer", "locale", "bottom", "render", "sidebar-setcontainer-invalid-element", "_sidebarItemViewToAnnotation", "remove", "_alignBeforeItem", "_alignToTargetRect", "getIndex", "class", "_getMaxAvailableTop", "top", "updateHeight", "element", "_setItemTop", "content", "getSidebarItemView", "_annotationToSidebarItemView", "change:top", "delete", "_targetTop", "targetRect", "container", "_spaceBetweenItems", "sidebar.preventScrollOutOfView", "get", "unbind", "stopListening", "_getItemAfter", "listenTo", "length", "_alignAfterItem", "appendChild", "minHeight", "refresh", "_annotations", "height"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(Gw, 347);

        var Yw = function Yw(e, t) {
          return Gw[e -= 0];
        };

        var Kw = /*#__PURE__*/function (_Qi8, _Yw, _Yw2, _Yw3, _Yw4, _Yw5, _Yw6, _Yw7, _Yw8, _Yw9, _Yw10, _Yw11, _Yw12, _Yw13, _Yw14, _Yw15, _Yw16, _Yw17) {
          _inherits(Kw, _Qi8);

          var _super153 = _createSuper(Kw);

          function Kw(e) {
            var _this260;

            _classCallCheck(this, Kw);

            _this260 = _super153.call(this, e), _this260[Yw("0xf")](Yw("0x4")), _this260[Yw("0x12")] = _this260[Yw("0x6")](), _this260.set(Yw("0x2e"), null), _this260[Yw("0x2f")] = 25, _this260._sidebarItemViewToAnnotation = new Map(), _this260._annotationToSidebarItemView = new Map(), _this260[Yw("0x8")][Yw("0x43")][Yw("0x9")]("sidebar.preventScrollOutOfView", !1), _this260[Yw("0x3b")] = null, _this260[Yw("0xa")] = null;
            return _this260;
          }

          _createClass(Kw, [{
            key: _Yw2,
            value: function value() {
              var e = this[Yw("0x8")][Yw("0x43")].get(Yw("0x14"));
              e && this.setContainer(e);
            }
          }, {
            key: _Yw3,
            value: function value(e) {
              if (!zi(e)) throw new c.a(Yw("0x1b"));
              this[Yw("0x2e")] = e;
            }
          }, {
            key: _Yw4,
            value: function value() {
              var _ref75 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
                  _ref75$viewClass = _ref75.viewClass,
                  e = _ref75$viewClass === void 0 ? "" : _ref75$viewClass,
                  _ref75$spaceBetweenIt = _ref75.spaceBetweenItems,
                  t = _ref75$spaceBetweenIt === void 0 ? 25 : _ref75$spaceBetweenIt;

              if (!zi(this[Yw("0x2e")])) throw new c.a(Yw("0x3"), this);
              this.container[Yw("0x38")](this[Yw("0x12")][Yw("0x25")]), this[Yw("0x12")][Yw("0x21")] = e, this[Yw("0x2f")] = t;
            }
          }, {
            key: "rearrange",
            value: function rearrange(_ref76) {
              var e = _ref76.removedAnnotation,
                  t = _ref76.previousAnnotation,
                  n = _ref76.nextAnnotation;
              var i = this.getSidebarItemView(e);
              this.view[Yw("0xb")][Yw("0x1d")](i), this[Yw("0x7")](e), t && this[Yw("0x1f")](this[Yw("0x28")](t)), n && this._alignToTargetRect(this.getSidebarItemView(n)), this[Yw("0x10")]();
            }
          }, {
            key: _Yw5,
            value: function value(_ref77) {
              var e = _ref77.blurredAnnotation,
                  t = _ref77.activatedAnnotation,
                  n = _ref77.disableAnimationOnActivatedAnnotation;

              if (this._activeAnnotation = t, e) {
                e[Yw("0x41")] = !1;

                var _t286 = this[Yw("0x28")](e);

                _t286 && n && (_t286[Yw("0xc")] = !1);
              }

              if (t) {
                var _e316 = this[Yw("0x28")](t);

                _e316 && (t[Yw("0x41")] = !0, n && (_e316[Yw("0xc")] = !0, _e316[Yw("0x23")] += 1), this[Yw("0x1f")](_e316));
              }
            }
          }, {
            key: "_detachFromContainer",
            value: function _detachFromContainer(e) {
              this[Yw("0x33")](), this[Yw("0x12")].element[Yw("0x1d")]();

              var _iterator400 = _createForOfIteratorHelper(e),
                  _step400;

              try {
                for (_iterator400.s(); !(_step400 = _iterator400.n()).done;) {
                  var _t287 = _step400.value;
                  this[Yw("0x7")](_t287);
                }
              } catch (err) {
                _iterator400.e(err);
              } finally {
                _iterator400.f();
              }

              this.view[Yw("0xb")][Yw("0x11")](), this.view["class"] = "", this._lastItem = null;
            }
          }, {
            key: "addAnnotation",
            value: function addAnnotation(e, t) {
              var _this261 = this;

              t || (t = e[Yw("0x12")]);
              var n = new $w(this.context[Yw("0x18")]);
              this[Yw("0x1c")][Yw("0xf")](n, e), this[Yw("0x29")][Yw("0xf")](e, n), n.content.add(t), this._alignToTargetRect(n), this[Yw("0x35")](e[Yw("0x12")], Yw("0x15"), function () {
                var e = _this261._getTargetTop(n);

                n[Yw("0x2c")] != e && (n._targetTop = e, _this261[Yw("0x26")](n, e));
              }), this[Yw("0x35")](n, Yw("0x2a"), lp(function () {
                if (!n[Yw("0x27")][Yw("0x36")]) return;

                var e = _this261._getItemBefore(n);

                if (!e) return;

                var t = _this261._sidebarItemViewToAnnotation[Yw("0x31")](e),
                    i = _this261[Yw("0xa")];

                i && i === t ? _this261[Yw("0x37")](e, n) : _this261._alignBeforeItem(n, e);
              }, 10, {
                leading: !1
              })), this[Yw("0x35")](n, Yw("0x1"), lp(function () {
                if (!n[Yw("0x27")][Yw("0x36")]) return;

                var e = _this261[Yw("0x34")](n);

                if (!e) return;

                var t = _this261[Yw("0x1c")][Yw("0x31")](e),
                    i = _this261[Yw("0x8")][Yw("0x43")][Yw("0x31")](Yw("0x30")),
                    o = _this261[Yw("0xa")];

                o && o === t && i ? (_this261[Yw("0x1e")](e, n), _this261[Yw("0x37")](n, e)) : o && o === t ? _this261[Yw("0x1e")](e, n) : _this261[Yw("0x37")](n, e);
              }, 10, {
                leading: !1
              }));
              var i = this[Yw("0x13")](n);
              return i && this[Yw("0x37")](i, n) || this[Yw("0x1f")](n), this._updateLastItem(), this[Yw("0x12")][Yw("0xb")][Yw("0x3e")](n), n;
            }
          }, {
            key: _Yw6,
            value: function value(e) {
              return this._annotationToSidebarItemView[Yw("0x31")](e);
            }
          }, {
            key: _Yw7,
            value: function value() {
              this[Yw("0x12")][Yw("0xd")]();
            }
          }, {
            key: _Yw8,
            value: function value(e) {
              var t = this[Yw("0x28")](e);
              this[Yw("0x33")](t), this[Yw("0x33")](e[Yw("0x12")]), t[Yw("0xd")](), this[Yw("0x29")][Yw("0x2b")](e), this[Yw("0x1c")][Yw("0x2b")](t);
            }
          }, {
            key: _Yw9,
            value: function value() {
              var e = new Hw(this[Yw("0x8")][Yw("0x18")]);
              return e[Yw("0x1a")](), this.on(Yw("0x2"), function (t, n, i, o) {
                o && e[Yw("0x32")](Yw("0x39")), i ? e.bind(Yw("0x39")).to(i, Yw("0x19")) : e.minHeight = null;
              }), e;
            }
          }, {
            key: _Yw10,
            value: function value() {
              this[Yw("0x4")] = this[Yw("0x28")](this[Yw("0x3b")][Yw("0xe")]);
            }
          }, {
            key: _Yw11,
            value: function value(e) {
              var t = this[Yw("0x1c")].get(e),
                  n = this._annotations[Yw("0x31")](this[Yw("0x3b")][Yw("0x20")](t) - 1);

              return n && this[Yw("0x28")](n);
            }
          }, {
            key: _Yw12,
            value: function value(e) {
              var t = this[Yw("0x1c")].get(e),
                  n = this[Yw("0x3b")].get(this[Yw("0x3b")][Yw("0x20")](t) + 1);
              return n && this[Yw("0x28")](n);
            }
          }, {
            key: _Yw13,
            value: function value(e, t) {
              e[Yw("0x24")]();
              var n = Qw(t.bottom + this[Yw("0x2f")], e[Yw("0x23")]);
              return !!n && (this._setItemTop(t, t[Yw("0x23")] - n), !0);
            }
          }, {
            key: _Yw14,
            value: function value(e, t) {
              e.updateHeight();
              var n = Qw(e[Yw("0x19")] + this[Yw("0x2f")], t.top);
              return !!n && (this[Yw("0x26")](t, t[Yw("0x23")] + n, !1), !0);
            }
          }, {
            key: _Yw15,
            value: function value(e) {
              var t = this[Yw("0x1c")][Yw("0x31")](e);
              if (!t || !t[Yw("0x16")]) return;

              var n = this._getTargetTop(e);

              this[Yw("0x26")](e, n);
            }
          }, {
            key: _Yw16,
            value: function value(e) {
              var t = this[Yw("0x1c")][Yw("0x31")](e);
              if (t[Yw("0x16")] instanceof Wa) return t[Yw("0x2d")][Yw("0x23")];
              {
                var _e317 = new Wa(this[Yw("0x12")][Yw("0x25")])[Yw("0x23")];
                return t[Yw("0x2d")][Yw("0x23")] - _e317;
              }
            }
          }, {
            key: _Yw17,
            value: function value(e, t) {
              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.context.config[Yw("0x31")](Yw("0x30"));
              n && (t = Math[Yw("0x42")](t, this[Yw("0x22")](e))), e[Yw("0x23")] = t;
            }
          }, {
            key: "_getMaxAvailableTop",
            value: function _getMaxAvailableTop(e) {
              var t = this[Yw("0x13")](e),
                  n = 0;

              for (; t;) {
                t[Yw("0x24")](), n += this[Yw("0x2f")] + t[Yw("0x3c")], t = this[Yw("0x13")](t);
              }

              return n;
            }
          }], [{
            key: _Yw,
            get: function get() {
              return Yw("0x5");
            }
          }]);

          return Kw;
        }(Qi, Yw("0x40"), Yw("0x3f"), Yw("0x0"), Yw("0x17"), Yw("0x3a"), Yw("0x28"), Yw("0xd"), Yw("0x7"), Yw("0x6"), Yw("0x10"), Yw("0x13"), Yw("0x34"), Yw("0x1e"), Yw("0x37"), Yw("0x1f"), Yw("0x3d"), Yw("0x26"));

        function Qw(e, t) {
          return Math[Yw("0x42")](e - t, 0);
        }

        var Jw = ["attach", "editors", "addAnnotation", "uiUpdate", "add", "stop", "widesidebar-detach-not-attached", "_editorAnnotations", "pluginName", "has", "rearrange", "wideSidebar", "_activeAnnotation", "EditorAnnotations", "detach", "WideSidebar", "ck-sidebar--wide", "Sidebar", "activeAnnotation", "_attachToContainer", "listenTo", "change:container", "stopListening", "blur", "removeEventListener", "get", "set", "focus", "_throttledPositioningRefresh", "addEventListener", "plugins", "context", "refresh", "isAttached", "_destroyEditorAnnotationsIntegration", "switchTo", "setActiveAnnotation", "_integrateWithEditorAnnotations", "hasDomSelection", "remove", "high", "requires", "refreshPositioning", "off", "cancel", "ready", "register", "from", "_annotations", "set:container", "_detachFromContainer", "widesidebar-attach-already-attached", "destroy", "resize"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(Jw, 152);

        var Xw = function Xw(e, t) {
          return Jw[e -= 0];
        };

        var Zw = /*#__PURE__*/function (_Qi9, _Xw, _Xw2, _Xw3, _Xw4, _Xw5, _Xw6, _Xw7) {
          _inherits(Zw, _Qi9);

          var _super154 = _createSuper(Zw);

          function Zw(e) {
            var _this262;

            _classCallCheck(this, Zw);

            _this262 = _super154.call(this, e), _this262[Xw("0x2b")] = !1, _this262[Xw("0x24")](Xw("0x1c"), null), _this262._annotations = null, _this262[Xw("0x11")] = new Hi(), _this262._throttledPositioningRefresh = lp(function () {
              _this262[Xw("0x4")].refreshPositioning();
            }, 400, {
              leading: !1
            });
            return _this262;
          }

          _createClass(Zw, [{
            key: "init",
            value: function init() {
              var e = this[Xw("0x29")].plugins[Xw("0x23")](Vw),
                  t = this[Xw("0x29")][Xw("0x28")][Xw("0x23")](Kw);
              e[Xw("0x2")](Xw("0x15"), this), t.container && e[Xw("0x2d")](Xw("0x15"));
            }
          }, {
            key: _Xw3,
            value: function value(e) {
              if (e === this.activeAnnotation) return;
              var t = this.context[Xw("0x28")][Xw("0x23")](Kw);
              t[Xw("0x16")] = e;
              var n = this[Xw("0x1c")];
              this[Xw("0x1c")] = e, t.refresh({
                blurredAnnotation: n,
                activatedAnnotation: this[Xw("0x1c")]
              });
            }
          }, {
            key: _Xw4,
            value: function value(e) {
              var _this263 = this;

              this[Xw("0x4")] = e;
              var t = this.context[Xw("0x28")][Xw("0x23")](Xw("0x1b"));
              if (t[Xw("0x4")] = e, this.isAttached) throw new c.a(Xw("0x7"), this);
              this[Xw("0x2b")] = !0, this.listenTo(t, Xw("0x5"), function () {
                _this263[Xw("0x18")](), _this263[Xw("0x1e")](t, Xw("0x1f"), function (t) {
                  t[Xw("0x35")](), _this263[Xw("0xa")](e);
                });
              }), t[Xw("0x1d")]({
                viewClass: Xw("0x1a")
              });

              var n = function n(e) {
                e.updateTargetRect(), t[Xw("0xc")](e);
              };

              var _iterator401 = _createForOfIteratorHelper(e),
                  _step401;

              try {
                for (_iterator401.s(); !(_step401 = _iterator401.n()).done;) {
                  var _t288 = _step401.value;
                  n(_t288);
                }
              } catch (err) {
                _iterator401.e(err);
              } finally {
                _iterator401.f();
              }

              this.listenTo(e, Xw("0xe"), function (e, t) {
                n(t);
              }), this[Xw("0x1e")](e, Xw("0x31"), function (n, i, o) {
                t[Xw("0x14")]({
                  removedAnnotation: i,
                  previousAnnotation: e[Xw("0x23")](o - 1),
                  nextAnnotation: e[Xw("0x23")](o + 1)
                }), i === _this263[Xw("0x1c")] && _this263.setActiveAnnotation(null);
              }, {
                priority: Xw("0x32")
              }), this.listenTo(e, Xw("0x25"), function (e, t) {
                _this263[Xw("0x2e")](t);
              }), this[Xw("0x1e")](e, "blur", function () {
                _this263[Xw("0x2e")](null);
              });
              var i = this.context.editors ? this[Xw("0x29")][Xw("0xb")] : new Hi([this[Xw("0x29")]]);

              var _iterator402 = _createForOfIteratorHelper(i),
                  _step402;

              try {
                for (_iterator402.s(); !(_step402 = _iterator402.n()).done;) {
                  var _e318 = _step402.value;
                  this[Xw("0x2f")](_e318);
                }
              } catch (err) {
                _iterator402.e(err);
              } finally {
                _iterator402.f();
              }

              this[Xw("0x1e")](i, Xw("0xe"), function (e, t) {
                _this263[Xw("0x1e")](t, Xw("0x1"), function () {
                  _this263[Xw("0x2f")](t);
                });
              }), this[Xw("0x1e")](i, Xw("0x31"), function (e, t) {
                t[Xw("0x28")][Xw("0x13")](Xw("0x17")) && _this263._destroyEditorAnnotationsIntegration(t[Xw("0x28")].get("EditorAnnotations"));
              }), window[Xw("0x27")](Xw("0x9"), this[Xw("0x26")]), this[Xw("0x4")].refreshPositioning();
            }
          }, {
            key: _Xw5,
            value: function value() {
              if (!this.isAttached) throw new c.a(Xw("0x10"), this);
              this[Xw("0x2e")](null);
              var e = this[Xw("0x29")][Xw("0x28")].get(Kw);
              e[Xw("0x6")](this[Xw("0x4")]), this[Xw("0x20")](e), this[Xw("0x20")](this[Xw("0x4")]), this[Xw("0x20")](this.context[Xw("0xb")]);

              var _iterator403 = _createForOfIteratorHelper(Array[Xw("0x3")](this[Xw("0x11")])),
                  _step403;

              try {
                for (_iterator403.s(); !(_step403 = _iterator403.n()).done;) {
                  var _e319 = _step403.value;
                  this[Xw("0x2c")](_e319);
                }
              } catch (err) {
                _iterator403.e(err);
              } finally {
                _iterator403.f();
              }

              window[Xw("0x22")]("resize", this[Xw("0x26")]), this[Xw("0x26")][Xw("0x0")](), this[Xw("0x1c")] = null, this[Xw("0x2b")] = !1;
            }
          }, {
            key: _Xw6,
            value: function value() {
              this[Xw("0x2b")] && this[Xw("0x18")]();
            }
          }, {
            key: _Xw7,
            value: function value(e) {
              var _this264 = this;

              var t = e[Xw("0x28")][Xw("0x23")]("EditorAnnotations");
              if (!t) return;

              var n = function n() {
                var e = t.getOrderedSelectedAnnotations({
                  annotations: _this264._annotations,
                  activeAnnotation: _this264[Xw("0x1c")]
                });

                _this264.setActiveAnnotation(e[0] || null);
              };

              this[Xw("0x1e")](t, Xw("0x2a"), n), this.listenTo(t, Xw("0x21"), function (e, _ref78) {
                var t = _ref78.isAnnotationTracked;
                _this264[Xw("0x1c")] && t(_this264.activeAnnotation) && _this264.setActiveAnnotation(null);
              }), this[Xw("0x1e")](t, Xw("0xd"), function () {
                _this264[Xw("0x4")][Xw("0x34")]();
              }), this.listenTo(this[Xw("0x4")], Xw("0x21"), function (e) {
                t[Xw("0x30")]() && (n(), e[Xw("0xf")]());
              }, {
                priority: Xw("0x32")
              }), this[Xw("0x11")].add(t);
            }
          }, {
            key: "_destroyEditorAnnotationsIntegration",
            value: function _destroyEditorAnnotationsIntegration(e) {
              e && (this.stopListening(e), this._editorAnnotations[Xw("0x31")](e));
            }
          }], [{
            key: _Xw,
            get: function get() {
              return [Kw, Vw];
            }
          }, {
            key: _Xw2,
            get: function get() {
              return Xw("0x19");
            }
          }]);

          return Zw;
        }(Qi, Xw("0x33"), Xw("0x12"), Xw("0x2e"), Xw("0xa"), Xw("0x18"), Xw("0x8"), Xw("0x2f"));

        var e_ = ["children", "add", "ck-annotation-counter__badge--", "ck-annotation-counter__badge--edit-mode", "extendTemplate", "bind", "set", "...", "setTemplate", "annotationType", "isDirty", "number", "ck-annotation-counter__badge", "ck-annotation-counter", "counterView", "_badge", "icon"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(e_, 108);

        var t_ = function t_(e, t) {
          return e_[e -= 0];
        };

        var n_ = /*#__PURE__*/function (_Th3) {
          _inherits(n_, _Th3);

          var _super155 = _createSuper(n_);

          function n_(e) {
            var _this265;

            _classCallCheck(this, n_);

            _this265 = _super155.call(this, e);
            var t = _this265.bindTemplate;
            _this265[t_("0x0")](t_("0x4"), !1), _this265[t_("0x0")](t_("0x5"), 0), _this265[t_("0x10")](t_("0x9")).to(_assertThisInitialized(_this265), "isDirty", _assertThisInitialized(_this265), t_("0x5"), function (e, t) {
              return e ? t_("0x1") : t;
            }), _this265.set(t_("0x3"), ""), _this265[t_("0xa")] = Pw.a, _this265[t_("0xf")]({
              attributes: {
                "class": [t_("0x7")]
              }
            }), _this265[t_("0x8")] = new nh(), _this265[t_("0x8")][t_("0x2")]({
              tag: "span",
              attributes: {
                "class": [t_("0x6"), t.to("annotationType", function (e) {
                  return t_("0xd") + e;
                }), t["if"](t_("0x4"), t_("0xe"))]
              },
              children: [{
                text: t.to(t_("0x9"))
              }]
            }), _this265[t_("0xb")][t_("0xc")](_this265[t_("0x8")]);
            return _this265;
          }

          return n_;
        }(Th);

        n(152);
        var i_ = ["_manuallyClosedAnnotationViews", "get", "change:container", "esc", "set", "_updateBalloonPosition", "stopListening", "_editorAnnotations", "locale", "uiUpdate", "rearrange", "southArrowNorthWest", "NarrowSidebar", "_integrateWithEditorAnnotations", "attachToDom", "off", "register", "_showBalloon", "delete", "northArrowSouthEast", "_destroyEditorAnnotationsIntegration", "_annotations", "has", "keyCode", "EditorAnnotations", "refreshPositioning", "southArrowNorthEast", "getSidebarItemView", "_attachToContainer", "_refreshPositioning", "_domEmitter", "isDirty", "from", "target", "editors", "annotationType", "clear", "bind", "bodyCollection", "detach", "balloonPanelView", "unpin", "create", "southArrowNorth", "remove", "contains", "preventDefault", "stop", "first", "detachFromDom", "focus", "plugins", "add", "narrowSidebar", "number", "init", "addAnnotation", "_attachListeners", "Esc", "isAttached", "execute", "keydown", "isVisible", "set:container", "Sidebar", "defaultPositions", "hasDomSelection", "mousedown", "listenTo", "values", "_throttledRefreshPositioning", "getByView", "content", "getOrderedSelectedAnnotations", "northArrowSouthWest", "activeAnnotation", "destroy", "requires", "blur", "removeEventListener", "cancel", "ck-sidebar--narrow", "view", "_annotationToNarrowView", "_setSelectedAnnotations", "ready", "narrowsidebar-detach-not-attached", "pin", "setActiveAnnotation", "resize", "_detachListeners", "preventClosingBalloon", "_hideBalloon", "high", "refresh", "element", "context", "_selectedAnnotations", "northArrowSouth"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(i_, 381);

        var o_ = function o_(e, t) {
          return i_[e -= 0];
        };

        var r_ = /*#__PURE__*/function (_Qi10, _o_, _o_2, _o_3, _o_4, _o_5, _o_6, _o_7, _o_8, _o_9, _o_10, _o_11, _o_12) {
          _inherits(r_, _Qi10);

          var _super156 = _createSuper(r_);

          function r_(e) {
            var _this266;

            _classCallCheck(this, r_);

            _this266 = _super156.call(this, e), _this266[o_("0x4a")] = !1, _this266._manuallyClosedAnnotationViews = new Set(), _this266[o_("0x2d")] = Object[o_("0x39")](Ts), _this266._annotationToNarrowView = new Map(), _this266[o_("0x13")](o_("0x5a"), null), _this266._annotations = null, _this266[o_("0xd")] = [], _this266[o_("0x16")] = new Hi(), _this266[o_("0x55")] = lp(function () {
              _this266._refreshPositioning();
            }, 400, {
              leading: !1
            });
            return _this266;
          }

          _createClass(r_, [{
            key: _o_2,
            value: function value() {
              this[o_("0xc")][o_("0x42")][o_("0x10")](Vw)[o_("0x1f")](o_("0x44"), this), this[o_("0x35")] = new xh(this[o_("0xc")][o_("0x17")]), this[o_("0x37")] = new ug(this[o_("0xc")][o_("0x17")]), this[o_("0x35")][o_("0x1d")](), this[o_("0x35")][o_("0x43")](this[o_("0x37")]);
            }
          }, {
            key: "attach",
            value: function attach(e) {
              var _this267 = this;

              this[o_("0x24")] = e;
              var t = this[o_("0xc")][o_("0x42")][o_("0x10")](Kw),
                  n = this.balloonPanelView;
              if (t._annotations = e, this[o_("0x4a")]) throw new c.a("narrowsidebar-attach-already-attached", this);
              this[o_("0x4a")] = !0, this[o_("0x53")](t, o_("0x4e"), function () {
                _this267[o_("0x36")](), _this267[o_("0x53")](t, o_("0x11"), function (t) {
                  t[o_("0x1e")](), _this267.attach(e);
                });
              }), t[o_("0x2b")]({
                viewClass: o_("0x60"),
                spaceBetweenItems: 5
              });

              var i = function i(e) {
                var i = new n_(_this267.context.locale);
                t[o_("0x47")](e, i), _this267._annotationToNarrowView[o_("0x13")](e, i), i[o_("0x34")](o_("0x2e"), o_("0x32"), o_("0x45")).to(e[o_("0x61")], "isDirty", "type", "length"), i.on(o_("0x4b"), function () {
                  _this267[o_("0xf")][o_("0x33")](), n[o_("0x57")][o_("0x3f")] !== e[o_("0x61")] ? (_this267[o_("0x20")](e), e[o_("0x61")][o_("0xb")][o_("0x41")](), _this267.setActiveAnnotation(e)) : _this267.setActiveAnnotation(null);
                });
              };

              var _iterator404 = _createForOfIteratorHelper(e),
                  _step404;

              try {
                for (_iterator404.s(); !(_step404 = _iterator404.n()).done;) {
                  var _t289 = _step404.value;
                  i(_t289);
                }
              } catch (err) {
                _iterator404.e(err);
              } finally {
                _iterator404.f();
              }

              this[o_("0x53")](e, o_("0x43"), function (e, t) {
                i(t);
              }), this[o_("0x53")](e, o_("0x3b"), function (n, i, o) {
                _this267[o_("0x62")].get(i).destroy(), _this267[o_("0x62")][o_("0x21")](i), t[o_("0x19")]({
                  removedAnnotation: i,
                  previousAnnotation: e[o_("0x10")](o - 1),
                  nextAnnotation: e.get(o + 1)
                }), i === _this267[o_("0x5a")] && _this267[o_("0x4")](null);
              }, {
                priority: "low"
              }), this[o_("0x53")](e, o_("0x41"), function (e, t) {
                _this267[o_("0x4")](t);
              }), this[o_("0x53")](e, o_("0x5d"), function () {
                _this267[o_("0x4")](null);
              }), this[o_("0x2d")][o_("0x53")](document, o_("0x4c"), function (e, t) {
                t[o_("0x26")] === Er[o_("0x12")] && n[o_("0x4d")] && (_this267[o_("0xf")][o_("0x43")](n[o_("0x57")][o_("0x3f")]), _this267._hideBalloon(), t.stopPropagation(), t[o_("0x3d")]());
              }), this._domEmitter[o_("0x53")](document, o_("0x52"), function (e, i) {
                var o = i[o_("0x30")];
                n[o_("0x4d")] && n[o_("0xb")].contains(o) || t[o_("0x61")][o_("0xb")][o_("0x3c")](o) || e[o_("0x7")] || (_this267[o_("0xf")][o_("0x33")](), _this267[o_("0x8")](), _this267[o_("0x4")](null));
              });
              var o = this[o_("0xc")].editors ? this.context[o_("0x31")] : new Hi([this[o_("0xc")]]);

              var _iterator405 = _createForOfIteratorHelper(o),
                  _step405;

              try {
                for (_iterator405.s(); !(_step405 = _iterator405.n()).done;) {
                  var _e320 = _step405.value;
                  this[o_("0x1c")](_e320);
                }
              } catch (err) {
                _iterator405.e(err);
              } finally {
                _iterator405.f();
              }

              this[o_("0x53")](o, o_("0x43"), function (e, t) {
                _this267.listenTo(t, o_("0x1"), function () {
                  _this267[o_("0x1c")](t);
                });
              }), this[o_("0x53")](o, o_("0x3b"), function (e, t) {
                t[o_("0x42")][o_("0x25")]("EditorAnnotations") && _this267._destroyEditorAnnotationsIntegration(t[o_("0x42")].get(o_("0x27")));
              }), window.addEventListener(o_("0x5"), this[o_("0x55")]), this[o_("0x2c")]();
            }
          }, {
            key: _o_3,
            value: function value(e) {
              if (e === this.activeAnnotation) return;
              var t = this[o_("0xc")][o_("0x42")][o_("0x10")](o_("0x4f"));
              t.refresh({
                blurredAnnotation: this[o_("0x5a")],
                activatedAnnotation: e,
                disableAnimationOnActivatedAnnotation: !0
              }), e && t[o_("0x2a")](e) ? this[o_("0x20")](e) : this[o_("0x8")](), this[o_("0x5a")] = e;
            }
          }, {
            key: _o_4,
            value: function value() {
              if (!this[o_("0x4a")]) throw new c.a(o_("0x2"), this);
              this[o_("0x4")](null);
              var e = this.context[o_("0x42")][o_("0x10")](o_("0x4f"));
              this._hideBalloon(), Array[o_("0x2f")](this[o_("0x62")][o_("0x54")](), function (e) {
                return e[o_("0x5b")]();
              }), this[o_("0x62")].clear(), e._detachFromContainer(this[o_("0x24")]), this[o_("0x15")](), this[o_("0x2d")][o_("0x15")](), this[o_("0x15")](this[o_("0xc")].editors);

              var _iterator406 = _createForOfIteratorHelper(Array[o_("0x2f")](this._editorAnnotations)),
                  _step406;

              try {
                for (_iterator406.s(); !(_step406 = _iterator406.n()).done;) {
                  var _e321 = _step406.value;
                  this[o_("0x23")](_e321);
                }
              } catch (err) {
                _iterator406.e(err);
              } finally {
                _iterator406.f();
              }

              window[o_("0x5e")](o_("0x5"), this[o_("0x55")]), this[o_("0x55")][o_("0x5f")](), this._selectedAnnotations = [], this[o_("0x4a")] = !1, this[o_("0x24")] = null;
            }
          }, {
            key: _o_5,
            value: function value() {
              this[o_("0x4a")] && this[o_("0x36")](), this[o_("0x35")][o_("0x40")]();
            }
          }, {
            key: "_integrateWithEditorAnnotations",
            value: function _integrateWithEditorAnnotations(e) {
              var _this268 = this;

              var t = e[o_("0x42")][o_("0x10")](o_("0x27")),
                  n = this[o_("0xc")][o_("0x42")][o_("0x10")](Kw),
                  i = this._annotations,
                  o = this[o_("0x37")],
                  r = function r() {
                var e = t[o_("0x58")]({
                  activeAnnotation: _this268.activeAnnotation,
                  annotations: _this268[o_("0x24")]
                });
                _this268[o_("0x0")](e), _this268.setActiveAnnotation(e[0] || null);
              };

              this.listenTo(t, o_("0xa"), r), this[o_("0x53")](t, "blur", function (e, _ref79) {
                var t = _ref79.isAnnotationTracked;
                _this268.activeAnnotation && t(_this268[o_("0x5a")]) && (_this268[o_("0x0")]([]), _this268[o_("0x4")](null));
              }), this[o_("0x53")](t, o_("0x18"), function () {
                _this268[o_("0x55")]();
              }), this.listenTo(i, o_("0x5d"), function (e) {
                t.hasDomSelection() && e[o_("0x3e")]();
              }, {
                priority: o_("0x9")
              }), this[o_("0x2d")][o_("0x53")](document, o_("0x52"), function (e, i) {
                var s = i[o_("0x30")];
                o.isVisible && o[o_("0xb")][o_("0x3c")](s) || n[o_("0x61")].element.contains(s) || _this268[o_("0x5a")] && t[o_("0x51")]() && (r(), e[o_("0x7")] = !0);
              }, {
                priority: "high"
              }), this[o_("0x16")].add(t);
            }
          }, {
            key: _o_6,
            value: function value(e) {
              e && (this[o_("0x15")](e), this[o_("0x16")][o_("0x3b")](e));
            }
          }, {
            key: _o_7,
            value: function value(e) {
              var _iterator407 = _createForOfIteratorHelper(this[o_("0xd")]),
                  _step407;

              try {
                for (_iterator407.s(); !(_step407 = _iterator407.n()).done;) {
                  var _t290 = _step407.value;
                  e.includes(_t290) || this[o_("0xf")][o_("0x21")](_t290.view);
                }
              } catch (err) {
                _iterator407.e(err);
              } finally {
                _iterator407.f();
              }

              this._selectedAnnotations = e;
            }
          }, {
            key: _o_8,
            value: function value() {
              var e = this.balloonPanelView;
              this._annotations[o_("0x28")](), e[o_("0x4d")] && this[o_("0x14")]();
            }
          }, {
            key: _o_9,
            value: function value(e) {
              if (this._manuallyClosedAnnotationViews[o_("0x25")](e.view)) return;
              var t = this[o_("0x37")].content.first;
              t !== e[o_("0x61")] ? (t && this._detachListeners(t), this[o_("0x48")](e[o_("0x61")]), this[o_("0x37")][o_("0x57")][o_("0x33")](), this.balloonPanelView.content[o_("0x43")](e[o_("0x61")]), this[o_("0x14")]()) : this[o_("0x14")]();
            }
          }, {
            key: "_updateBalloonPosition",
            value: function _updateBalloonPosition() {
              var e = this.balloonPanelView[o_("0x57")].first,
                  t = this[o_("0x24")][o_("0x56")](e);
              if (!this[o_("0x62")][o_("0x25")](t)) return;

              var n = this._annotationToNarrowView[o_("0x10")](t).element,
                  i = function () {
                var e = ug[o_("0x50")];
                return [e[o_("0x29")], e[o_("0x22")], e[o_("0x3a")], e[o_("0xe")], e[o_("0x1a")], e[o_("0x59")]];
              }();

              this.balloonPanelView[o_("0x3")]({
                target: n,
                positions: i
              });
            }
          }, {
            key: _o_10,
            value: function value() {
              var e = this[o_("0x37")],
                  t = e[o_("0x57")][o_("0x3f")];
              t && (this[o_("0x6")](t), e[o_("0x38")](), e[o_("0x57")][o_("0x33")]());
            }
          }, {
            key: _o_11,
            value: function value(e) {
              var _this269 = this;

              this[o_("0x53")](e, "change:height", function () {
                return _this269[o_("0x14")]();
              }), this.listenTo(e, o_("0x49"), function (t, n) {
                _this269[o_("0xf")][o_("0x43")](e), _this269._hideBalloon(), n();
              });
            }
          }, {
            key: _o_12,
            value: function value(e) {
              this[o_("0x15")](e);
            }
          }], [{
            key: _o_,
            get: function get() {
              return [Kw, Vw];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return o_("0x1b");
            }
          }]);

          return r_;
        }(Qi, o_("0x5c"), o_("0x46"), o_("0x4"), o_("0x36"), o_("0x5b"), o_("0x23"), o_("0x0"), o_("0x2c"), o_("0x20"), o_("0x8"), o_("0x48"), o_("0x6"));

        n(154);
        var s_ = ["change:height", "inline", "_selectedAnnotations", "editableElement", "isActive", "_addedAnnotations", "plugins", "_removeAnnotationFromBalloon", "addObserver", "isAttached", "hasActive", "requires", "includes", "clear", "Esc", "getSelection", "destroy", "set", "getOrderedSelectedAnnotations", "getByView", "updatePosition", "editing", "selection", "EditorAnnotations", "remove", "isFocused", "setActiveAnnotation", "register", "detach", "view", "focusTracker", "_annotations", "visibleView", "afterInit", "context", "blur", "targetRect", "InlineAnnotations", "change:visibleView", "has", "activeAnnotation", "delete", "_balloon", "mousedown", "add", "init", "refresh", "focus", "get", "attach", "_setSelectedAnnotations", "inlineannotations-attach-already-attached", "hasView", "_manuallyClosed", "bind", "_addAnnotationToBalloon", "inlineannotations-detach-not-attached", "listenTo", "keystrokes", "stopListening", "editor"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(s_, 203);

        var a_ = function a_(e, t) {
          return s_[e -= 0];
        };

        var c_ = /*#__PURE__*/function (_st37, _a_, _a_2, _a_3, _a_4, _a_5, _a_6, _a_7, _a_8) {
          _inherits(c_, _st37);

          var _super157 = _createSuper(c_);

          function c_(e) {
            var _this270;

            _classCallCheck(this, c_);

            _this270 = _super157.call(this, e), e[a_("0x1")][a_("0x9")][a_("0x31")](Ug), _this270[a_("0x32")] = !1, _this270[a_("0x3a")]("activeAnnotation", null), _this270[a_("0xb")] = null, _this270._manuallyClosed = new Set(), _this270._balloon = e[a_("0x2f")][a_("0x1c")](_g), _this270[a_("0x2e")] = new Set(), _this270._selectedAnnotations = [];
            return _this270;
          }

          _createClass(c_, [{
            key: _a_2,
            value: function value() {
              var _this271 = this;

              var e = this[a_("0x28")][a_("0x2f")].get(Vw);
              e[a_("0xe")] === this[a_("0x28")] && (e[a_("0x7")](a_("0x2a"), this), this[a_("0x28")][a_("0x26")][a_("0x3a")](a_("0x37"), function (e, t) {
                var n = _this271[a_("0x16")];

                if (_this271[a_("0x32")] && n[a_("0xc")]) {
                  var _e322 = _this271[a_("0xb")][a_("0x3c")](n[a_("0xc")]);

                  _this271[a_("0x21")].add(_e322), _this271._removeAnnotationFromBalloon(_e322), t();
                }
              }));
            }
          }, {
            key: _a_3,
            value: function value() {
              var e = this[a_("0x28")][a_("0x2f")][a_("0x1c")](Vw);
              e[a_("0xe")] === this.editor && (e[a_("0x33")]() || e.switchTo(a_("0x2a")));
            }
          }, {
            key: _a_4,
            value: function value(e) {
              e !== this[a_("0x14")] && (this.activeAnnotation && (this.activeAnnotation[a_("0x2d")] = !1), e && this[a_("0x28")].ui[a_("0xa")].isFocused && (this[a_("0x23")](e, !0), e[a_("0x2d")] = !0), e || this[a_("0x1e")]([]), this[a_("0x14")] = e);
            }
          }, {
            key: _a_5,
            value: function value(e) {
              var _this272 = this;

              this[a_("0xb")] = e;
              var t = this[a_("0x28")][a_("0x2f")][a_("0x1c")](Vw),
                  n = this[a_("0x16")];
              if (this[a_("0x32")]) throw new c.a(a_("0x1f"), this);
              if (t[a_("0xe")] !== this[a_("0x28")]) throw new c.a("inlineannotations-not-allowed-with-context", this);
              var i = this[a_("0x28")][a_("0x2f")][a_("0x1c")](a_("0x3"));
              this[a_("0x25")](i, a_("0x1a"), function () {
                var e = i[a_("0x3b")]({
                  activeAnnotation: this[a_("0x14")],
                  annotations: this[a_("0xb")]
                });
                this[a_("0x1e")](e), this[a_("0x6")](e[0] || null);
              }[a_("0x22")](this)), this.listenTo(i, a_("0xf"), function (e, _ref80) {
                var t = _ref80.isAnnotationTracked;
                _this272.activeAnnotation && t(_this272[a_("0x14")]) && (_this272._setSelectedAnnotations([]), _this272[a_("0x6")](null));
              }), this[a_("0x25")](this[a_("0x28")].ui[a_("0xa")], "change:isFocused", function (e, t, n) {
                n || _this272[a_("0x6")](null);
              }), this[a_("0x25")](e, "remove", function (e, t) {
                _this272[a_("0x30")](t), t === _this272[a_("0x14")] && _this272.setActiveAnnotation(null);
              }), this.listenTo(n, a_("0x12"), function (t, i, o, r) {
                if (r && _this272[a_("0x27")](r), !o || !e.getByView(o)) return;
                var s = e.getByView(o);
                _this272.listenTo(o, a_("0x29"), function () {
                  n[a_("0x0")]();
                }), _this272[a_("0x25")](o, a_("0x37"), function () {
                  _this272[a_("0x21")][a_("0x18")](s), _this272[a_("0x30")](s), _this272[a_("0x28")][a_("0x1")].view[a_("0x1b")]();
                }), _this272.activeAnnotation !== s && _this272[a_("0x6")](s);
              }), this[a_("0x25")](this[a_("0x28")].ui, "update", function () {
                n.visibleView && e[a_("0x3c")](n[a_("0xc")]) && n.updatePosition();
              }), this[a_("0x25")](this.editor[a_("0x1")][a_("0x9")].document, a_("0x17"), function () {
                _this272[a_("0x21")][a_("0x36")]();
              }), this[a_("0x28")][a_("0x1")][a_("0x9")].document[a_("0x2")][a_("0x2c")] && this.editor[a_("0x1")][a_("0x9")].focus(), this.isAttached = !0;
            }
          }, {
            key: _a_6,
            value: function value() {
              if (!this[a_("0x32")]) throw new c.a(a_("0x24"), this);
              this[a_("0x6")](null);

              var _iterator408 = _createForOfIteratorHelper(this[a_("0x2e")]),
                  _step408;

              try {
                for (_iterator408.s(); !(_step408 = _iterator408.n()).done;) {
                  var _e323 = _step408.value;
                  this[a_("0x30")](_e323);
                }
              } catch (err) {
                _iterator408.e(err);
              } finally {
                _iterator408.f();
              }

              this[a_("0x27")](), this.isAttached = !1;
            }
          }, {
            key: _a_7,
            value: function value() {
              this[a_("0x32")] && this[a_("0x8")]();
            }
          }, {
            key: "_setSelectedAnnotations",
            value: function _setSelectedAnnotations(e) {
              var t = this[a_("0x2b")];

              var _iterator409 = _createForOfIteratorHelper(t),
                  _step409;

              try {
                for (_iterator409.s(); !(_step409 = _iterator409.n()).done;) {
                  var _n256 = _step409.value;
                  e[a_("0x35")](_n256) || this[a_("0x21")]["delete"](_n256);
                }
              } catch (err) {
                _iterator409.e(err);
              } finally {
                _iterator409.f();
              }

              var _iterator410 = _createForOfIteratorHelper(this[a_("0xb")]),
                  _step410;

              try {
                for (_iterator410.s(); !(_step410 = _iterator410.n()).done;) {
                  var _t292 = _step410.value;
                  e.includes(_t292) || this[a_("0x30")](_t292);
                }
              } catch (err) {
                _iterator410.e(err);
              } finally {
                _iterator410.f();
              }

              if (this[a_("0x28")].ui.focusTracker[a_("0x5")]) {
                var _iterator411 = _createForOfIteratorHelper(e),
                    _step411;

                try {
                  for (_iterator411.s(); !(_step411 = _iterator411.n()).done;) {
                    var _t291 = _step411.value;
                    this[a_("0x23")](_t291);
                  }
                } catch (err) {
                  _iterator411.e(err);
                } finally {
                  _iterator411.f();
                }
              }

              this._selectedAnnotations = e;
            }
          }, {
            key: _a_8,
            value: function value(e, t) {
              this[a_("0x21")][a_("0x13")](e) || (this._addedAnnotations[a_("0x13")](e) || this._balloon[a_("0x20")](e[a_("0x9")]) || (this._addedAnnotations.add(e), this[a_("0x16")][a_("0x18")]({
                stackId: e.view.id,
                view: e[a_("0x9")],
                position: {
                  target: function target() {
                    return e.target || e[a_("0x10")] || document[a_("0x38")]().getRangeAt(0);
                  }
                }
              })), t && this[a_("0x16")].showStack(e[a_("0x9")].id));
            }
          }, {
            key: "_removeAnnotationFromBalloon",
            value: function _removeAnnotationFromBalloon(e) {
              this._addedAnnotations[a_("0x13")](e) && this[a_("0x16")][a_("0x20")](e[a_("0x9")]) && (this[a_("0x2e")][a_("0x15")](e), this[a_("0x16")][a_("0x4")](e[a_("0x9")]));
            }
          }], [{
            key: _a_,
            get: function get() {
              return [Sw, _g, Vw];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return a_("0x11");
            }
          }]);

          return c_;
        }(st, a_("0x34"), a_("0x19"), a_("0xd"), a_("0x6"), a_("0x1d"), a_("0x8"), a_("0x39"), a_("0x23"));

        var l_ = ["pluginName", "requires"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(l_, 106);

        var d_ = function d_(e, t) {
          return l_[e -= 0];
        };

        var u_ = /*#__PURE__*/function (_st38, _d_, _d_2) {
          _inherits(u_, _st38);

          var _super158 = _createSuper(u_);

          function u_() {
            _classCallCheck(this, u_);

            return _super158.apply(this, arguments);
          }

          _createClass(u_, null, [{
            key: _d_,
            get: function get() {
              return [cw, yw, Rw, Dw, Zw, r_, c_];
            }
          }, {
            key: _d_2,
            get: function get() {
              return "Comments";
            }
          }]);

          return u_;
        }(st, d_("0x1"), d_("0x0"));

        var h_ = ["_enableCommands", "_enabledCommands", "TrackChangesCommand", "isEnabled", "clearForceDisabled", "_disableUnsupportedCommands", "has", "editor", "value", "affectsData", "refresh", "execute", "commands", "forceDisabled"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(h_, 207);

        var g_ = function g_(e, t) {
          return h_[e -= 0];
        };

        var m_ = /*#__PURE__*/function (_ct13, _g_, _g_2, _g_3, _g_4) {
          _inherits(m_, _ct13);

          var _super159 = _createSuper(m_);

          function m_(e, t) {
            var _this273;

            _classCallCheck(this, m_);

            _this273 = _super159.call(this, e), _this273[g_("0x4")] = t, _this273[g_("0xb")] = !1, _this273[g_("0xd")]();
            return _this273;
          }

          _createClass(m_, [{
            key: _g_,
            value: function value() {
              this[g_("0x6")] = !0;
            }
          }, {
            key: _g_2,
            value: function value() {
              this[g_("0xb")] = !this[g_("0xb")], this[g_("0xb")] ? this[g_("0x8")]() : this[g_("0x3")]();
            }
          }, {
            key: _g_3,
            value: function value() {
              var _iterator412 = _createForOfIteratorHelper(this.editor[g_("0x1")][g_("0x1")]()),
                  _step412;

              try {
                for (_iterator412.s(); !(_step412 = _iterator412.n()).done;) {
                  var _e324 = _step412.value;
                  _e324[g_("0xc")] && !this[g_("0x4")][g_("0x9")](_e324) && _e324[g_("0x2")](g_("0x5"));
                }
              } catch (err) {
                _iterator412.e(err);
              } finally {
                _iterator412.f();
              }
            }
          }, {
            key: _g_4,
            value: function value() {
              var _iterator413 = _createForOfIteratorHelper(this[g_("0xa")][g_("0x1")].commands()),
                  _step413;

              try {
                for (_iterator413.s(); !(_step413 = _iterator413.n()).done;) {
                  var _e325 = _step413.value;
                  _e325[g_("0xc")] && !this._enabledCommands[g_("0x9")](_e325) && _e325[g_("0x7")]("TrackChangesCommand");
                }
              } catch (err) {
                _iterator413.e(err);
              } finally {
                _iterator413.f();
              }
            }
          }]);

          return m_;
        }(ct, g_("0xd"), g_("0x0"), g_("0x8"), g_("0x3"));

        var f_ = ["plugins", "get", "TrackChangesEditing", "track-changes-accept-suggestion-not-found", "editor", "isEnabled", "_suggestions", "execute", "refresh"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(f_, 270);

        var p_ = function p_(e, t) {
          return f_[e -= 0];
        };

        var k_ = /*#__PURE__*/function (_ct14, _p_, _p_2) {
          _inherits(k_, _ct14);

          var _super160 = _createSuper(k_);

          function k_(e, t) {
            var _this274;

            _classCallCheck(this, k_);

            _this274 = _super160.call(this, e), _this274._suggestions = t, _this274[p_("0x8")]();
            return _this274;
          }

          _createClass(k_, [{
            key: _p_,
            value: function value() {
              this[p_("0x5")] = !0;
            }
          }, {
            key: _p_2,
            value: function value(e) {
              var t = this[p_("0x6")].get(e);
              if (!t) throw new c.a(p_("0x3"), this);
              this[p_("0x4")][p_("0x0")][p_("0x1")](p_("0x2")).acceptSuggestion(t);
            }
          }]);

          return k_;
        }(ct, p_("0x8"), p_("0x7"));

        var b_ = ["track-changes-discard-suggestion-not-found", "discardSuggestion", "TrackChangesEditing", "get", "_suggestions", "execute", "refresh"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(b_, 179);

        var w_ = function w_(e, t) {
          return b_[e -= 0];
        };

        var __ = /*#__PURE__*/function (_ct15, _w_, _w_2) {
          _inherits(__, _ct15);

          var _super161 = _createSuper(__);

          function __(e, t) {
            var _this275;

            _classCallCheck(this, __);

            _this275 = _super161.call(this, e), _this275._suggestions = t, _this275[w_("0x2")]();
            return _this275;
          }

          _createClass(__, [{
            key: _w_,
            value: function value() {
              this.isEnabled = !0;
            }
          }, {
            key: _w_2,
            value: function value(e) {
              var t = this[w_("0x0")][w_("0x6")](e);
              if (!t) throw new c.a(w_("0x3"), this);
              this.editor.plugins[w_("0x6")](w_("0x5"))[w_("0x4")](t);
            }
          }]);

          return __;
        }(ct, w_("0x2"), w_("0x1"));

        var v_ = ["type", "deletion"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(v_, 236);

        var x_ = function x_(e, t) {
          return v_[e -= 0];
        };

        function y_(e) {
          return e.sort(function (e, t) {
            return x_("0x1") == e[x_("0x0")] && "deletion" != t[x_("0x0")] ? -1 : x_("0x1") != e[x_("0x0")] && "deletion" == t[x_("0x0")] ? 1 : 0;
          });
        }

        var C_ = ["_acceptSuggestionCommand", "isInContent", "change", "refresh", "some", "isEnabled", "execute", "_suggestions", "editor", "values", "from", "model"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(C_, 439);

        var T_ = function T_(e, t) {
          return C_[e -= 0];
        };

        var A_ = /*#__PURE__*/function (_ct16, _T_, _T_2) {
          _inherits(A_, _ct16);

          var _super162 = _createSuper(A_);

          function A_(e, t, n) {
            var _this276;

            _classCallCheck(this, A_);

            _this276 = _super162.call(this, e), _this276[T_("0x5")] = t, _this276[T_("0x0")] = n, _this276[T_("0x8")]();
            return _this276;
          }

          _createClass(A_, [{
            key: _T_,
            value: function value() {
              var e = this[T_("0x5")];
              this[T_("0xa")] = e[T_("0xa")] && Array[T_("0x3")](this._suggestions[T_("0x2")]())[T_("0x9")](function (e) {
                return e.isInContent;
              });
            }
          }, {
            key: _T_2,
            value: function value() {
              var _this277 = this;

              this[T_("0x1")][T_("0x4")][T_("0x7")](function () {
                var e = y_(Array[T_("0x3")](_this277._suggestions[T_("0x2")]()));

                var _iterator414 = _createForOfIteratorHelper(e),
                    _step414;

                try {
                  for (_iterator414.s(); !(_step414 = _iterator414.n()).done;) {
                    var _t293 = _step414.value;
                    _t293[T_("0x6")] && _this277._acceptSuggestionCommand.execute(_t293.id);
                  }
                } catch (err) {
                  _iterator414.e(err);
                } finally {
                  _iterator414.f();
                }
              });
            }
          }]);

          return A_;
        }(ct, T_("0x8"), T_("0xb"));

        var E_ = ["isTouching", "getRanges", "isCollapsed", "next", "start", "isIntersecting", "isMultiRange", "end"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(E_, 465);

        var I_ = function I_(e, t) {
          return E_[e -= 0];
        };

        function S_(e, t) {
          var n = Array.from(e[I_("0x0")]()),
              i = new Set();

          var _iterator415 = _createForOfIteratorHelper(t),
              _step415;

          try {
            for (_iterator415.s(); !(_step415 = _iterator415.n()).done;) {
              var _o109 = _step415.value;

              if (_o109.isInContent) {
                var _iterator416 = _createForOfIteratorHelper(n),
                    _step416;

                try {
                  for (_iterator416.s(); !(_step416 = _iterator416.n()).done;) {
                    var _t294 = _step416.value;

                    var _iterator417 = _createForOfIteratorHelper(_o109.getMarkers()),
                        _step417;

                    try {
                      for (_iterator417.s(); !(_step417 = _iterator417.n()).done;) {
                        var _n257 = _step417.value;

                        var _r60 = _n257.getRange();

                        (_t294[I_("0x4")](_r60) || e[I_("0x1")] && !_o109[I_("0x5")] && _o109[I_("0x2")] && _r60[I_("0x6")][I_("0x7")](_t294[I_("0x3")])) && i.add(_o109);
                      }
                    } catch (err) {
                      _iterator417.e(err);
                    } finally {
                      _iterator417.f();
                    }
                  }
                } catch (err) {
                  _iterator416.e(err);
                } finally {
                  _iterator416.f();
                }
              }
            }
          } catch (err) {
            _iterator415.e(err);
          } finally {
            _iterator415.f();
          }

          return i;
        }

        var M_ = ["size", "_suggestions", "document", "_selectedSuggestions", "values", "change", "from", "refresh", "editor", "model", "_acceptSuggestionCommand", "isEnabled", "execute"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(M_, 140);

        var P_ = function P_(e, t) {
          return M_[e -= 0];
        };

        var R_ = /*#__PURE__*/function (_ct17, _P_) {
          _inherits(R_, _ct17);

          var _super163 = _createSuper(R_);

          function R_(e, t, n) {
            var _this278;

            _classCallCheck(this, R_);

            _this278 = _super163.call(this, e), _this278[P_("0x0")] = t, _this278[P_("0x4")] = n, _this278[P_("0x6")] = new Set(), _this278.refresh();
            return _this278;
          }

          _createClass(R_, [{
            key: _P_,
            value: function value() {
              var e = this[P_("0x0")],
                  t = this[P_("0xb")][P_("0xc")][P_("0x5")].selection,
                  n = Array[P_("0x9")](this[P_("0x4")][P_("0x7")]());
              this[P_("0x6")] = S_(t, n), this[P_("0x1")] = e[P_("0x1")] && !!this._selectedSuggestions[P_("0x3")];
            }
          }, {
            key: "execute",
            value: function execute() {
              var _this279 = this;

              this.editor[P_("0xc")][P_("0x8")](function () {
                var e = y_(Array[P_("0x9")](_this279[P_("0x6")]));

                var _iterator418 = _createForOfIteratorHelper(e),
                    _step418;

                try {
                  for (_iterator418.s(); !(_step418 = _iterator418.n()).done;) {
                    var _t295 = _step418.value;

                    _this279[P_("0x0")][P_("0x2")](_t295.id);
                  }
                } catch (err) {
                  _iterator418.e(err);
                } finally {
                  _iterator418.f();
                }
              });
            }
          }]);

          return R_;
        }(ct, P_("0xa"));

        var N_ = ["model", "refresh", "isEnabled", "isInContent", "_discardSuggestionCommand", "_suggestions", "some", "values", "editor", "execute"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(N_, 495);

        var O_ = function O_(e, t) {
          return N_[e -= 0];
        };

        var D_ = /*#__PURE__*/function (_ct18, _O_, _O_2) {
          _inherits(D_, _ct18);

          var _super164 = _createSuper(D_);

          function D_(e, t, n) {
            var _this280;

            _classCallCheck(this, D_);

            _this280 = _super164.call(this, e), _this280[O_("0x9")] = t, _this280[O_("0x0")] = n, _this280[O_("0x6")]();
            return _this280;
          }

          _createClass(D_, [{
            key: _O_,
            value: function value() {
              var e = this[O_("0x9")];
              this[O_("0x7")] = e[O_("0x7")] && Array.from(this[O_("0x0")][O_("0x2")]())[O_("0x1")](function (e) {
                return e[O_("0x8")];
              });
            }
          }, {
            key: _O_2,
            value: function value() {
              var _this281 = this;

              this[O_("0x3")][O_("0x5")].change(function () {
                var _iterator419 = _createForOfIteratorHelper(_this281[O_("0x0")][O_("0x2")]()),
                    _step419;

                try {
                  for (_iterator419.s(); !(_step419 = _iterator419.n()).done;) {
                    var _e326 = _step419.value;
                    _e326.isInContent && _this281[O_("0x9")][O_("0x4")](_e326.id);
                  }
                } catch (err) {
                  _iterator419.e(err);
                } finally {
                  _iterator419.f();
                }
              });
            }
          }]);

          return D_;
        }(ct, O_("0x6"), O_("0x4"));

        var L_ = ["size", "isEnabled", "_selectedSuggestions", "_discardSuggestionCommand", "from", "execute", "refresh", "change", "editor", "document", "model", "values", "_suggestions"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(L_, 158);

        var z_ = function z_(e, t) {
          return L_[e -= 0];
        };

        var V_ = /*#__PURE__*/function (_ct19, _z_) {
          _inherits(V_, _ct19);

          var _super165 = _createSuper(V_);

          function V_(e, t, n) {
            var _this282;

            _classCallCheck(this, V_);

            _this282 = _super165.call(this, e), _this282[z_("0x1")] = t, _this282[z_("0xa")] = n, _this282[z_("0x0")] = new Set(), _this282[z_("0x4")]();
            return _this282;
          }

          _createClass(V_, [{
            key: _z_,
            value: function value() {
              var e = this[z_("0x1")],
                  t = this[z_("0x6")][z_("0x8")][z_("0x7")].selection,
                  n = Array[z_("0x2")](this[z_("0xa")][z_("0x9")]());
              this[z_("0x0")] = S_(t, n), this.isEnabled = e[z_("0xc")] && !!this[z_("0x0")][z_("0xb")];
            }
          }, {
            key: "execute",
            value: function execute() {
              var _this283 = this;

              this[z_("0x6")][z_("0x8")][z_("0x5")](function () {
                var _iterator420 = _createForOfIteratorHelper(_this283[z_("0x0")]),
                    _step420;

                try {
                  for (_iterator420.s(); !(_step420 = _iterator420.n()).done;) {
                    var _e327 = _step420.value;

                    _this283[z_("0x1")][z_("0x3")](_e327.id);
                  }
                } catch (err) {
                  _iterator420.e(err);
                } finally {
                  _iterator420.f();
                }
              });
            }
          }]);

          return V_;
        }(ct, z_("0x4"));

        var B_ = ["get", "from", "hasComments", "removeMarker", "_markerNames", "removeMarkers", "removeAttribute", "decorate", "addMarkerName", "_model", "subType", "onAccept", "nodeBefore", "markers", "end", "set", "change", "commentThread", "onAttributesChange", "previous", "attributes", "isIntersecting", "start", "author", "onDiscard", "map", "setAttribute", "getRanges", "reduce", "_saved", "getRange", "_onDiscard", "getItems", "discard", "split", "addMarker", "suggestion:", "_onAccept", "nodeAfter", "getMarkers", "next", "data", "getMarkerNames", "type", "push", "substr", "getFirstMarker", "add", "isIntersectingWithRange", "clear", "head", "createdAt", "length", "delete", "_onAttributesChange", "getMultiRangeId", "accept", "getContainedElement", "isInContent"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(B_, 115);

        var F_ = function F_(e, t) {
          return B_[e -= 0];
        };

        var j_ = /*#__PURE__*/function (_F_, _F_2, _F_3, _F_4, _F_5, _F_6, _F_7, _F_8, _F_9, _F_10, _F_11, _F_12, _F_13, _F_14, _F_15, _F_16, _F_17) {
          function j_(e, t) {
            _classCallCheck(this, j_);

            this.id = t.id, this.type = t.type, this.subType = t.subType || null, this.author = t[F_("0x1a")], this[F_("0x2c")] = null, this[F_("0xc")] = e, this[F_("0x28")] = t[F_("0xe")], this._onDiscard = t[F_("0x1b")], this[F_("0x39")] = t[F_("0x15")], this[F_("0x7")] = new Set(), this[F_("0x12")](F_("0x36"), null), this[F_("0x12")]("attributes", t[F_("0x17")] || {}), this[F_("0x12")]("previous", null), this.set(F_("0x2b"), null), this[F_("0x12")]("commentThread", null), this.set(F_("0x20"), !1), this[F_("0xa")](F_("0x0")), this[F_("0xa")](F_("0x24"));
          }

          _createClass(j_, [{
            key: _F_,
            get: function get() {
              var e = this;

              for (; e[F_("0x16")];) {
                e = e[F_("0x16")];
              }

              return e;
            }
          }, {
            key: _F_2,
            get: function get() {
              return !!this[F_("0x14")] && this[F_("0x14")][F_("0x37")] > 0;
            }
          }, {
            key: "isMultiRange",
            get: function get() {
              return 0 != this[F_("0x7")].size && 6 == Array[F_("0x4")](this[F_("0x7")])[0][F_("0x25")](":")[F_("0x37")];
            }
          }, {
            key: _F_3,
            get: function get() {
              return null !== this[F_("0x31")]();
            }
          }, {
            key: _F_4,
            value: function value(e) {
              this[F_("0x7")][F_("0x32")](e);
            }
          }, {
            key: _F_5,
            value: function value() {
              return Array[F_("0x4")](this._markerNames);
            }
          }, {
            key: _F_6,
            value: function value() {
              var _this284 = this;

              return this[F_("0x2d")]()[F_("0x1c")](function (e) {
                return _this284[F_("0xc")][F_("0x10")][F_("0x3")](e);
              }).filter(function (e) {
                return e;
              });
            }
          }, {
            key: _F_7,
            value: function value() {
              return this.getMarkers()[0] || null;
            }
          }, {
            key: _F_8,
            value: function value() {
              var _this285 = this;

              this[F_("0xc")][F_("0x13")](function (e) {
                var _iterator421 = _createForOfIteratorHelper(_this285[F_("0x2a")]()),
                    _step421;

                try {
                  for (_iterator421.s(); !(_step421 = _iterator421.n()).done;) {
                    var _t296 = _step421.value;
                    e[F_("0x6")](_t296);
                  }
                } catch (err) {
                  _iterator421.e(err);
                } finally {
                  _iterator421.f();
                }
              }), this[F_("0x7")][F_("0x34")]();
            }
          }, {
            key: _F_9,
            value: function value(e) {
              this[F_("0xc")][F_("0x13")](function (t) {
                t[F_("0x6")](e);
              }), this[F_("0x7")][F_("0x38")](e);
            }
          }, {
            key: "addRange",
            value: function addRange(e) {
              var t = F_("0x27") + this[F_("0x2e")] + ":" + this[F_("0xd")] + ":" + this.id + ":" + this[F_("0x1a")].id + ":" + j_.getMultiRangeId();
              this[F_("0xb")](t), this[F_("0xc")].change(function (n) {
                n[F_("0x26")](t, {
                  range: e,
                  usingOperation: !0,
                  affectsData: !0
                });
              });
            }
          }, {
            key: _F_10,
            value: function value(e) {
              var _iterator422 = _createForOfIteratorHelper(this.getRanges()),
                  _step422;

              try {
                for (_iterator422.s(); !(_step422 = _iterator422.n()).done;) {
                  var _t297 = _step422.value;
                  if (_t297[F_("0x18")](e)) return !0;
                }
              } catch (err) {
                _iterator422.e(err);
              } finally {
                _iterator422.f();
              }

              return !1;
            }
          }, {
            key: _F_11,
            value: function value() {
              return this[F_("0x2a")]()[F_("0x1c")](function (e) {
                return e[F_("0x21")]();
              });
            }
          }, {
            key: "getItems",
            value: function getItems() {
              return this[F_("0x1e")]()[F_("0x1f")](function (e, t) {
                return [].concat(_toConsumableArray(e), _toConsumableArray(t[F_("0x23")]()));
              }, []);
            }
          }, {
            key: "getFirstRange",
            value: function getFirstRange() {
              return this[F_("0x31")]()[F_("0x21")]();
            }
          }, {
            key: _F_12,
            value: function value() {
              var e = this[F_("0x1e")]();
              if (1 != e[F_("0x37")]) return null;
              var t = e[0],
                  n = t[F_("0x19")][F_("0x29")],
                  i = t[F_("0x11")][F_("0xf")];
              return n instanceof pc ? n != i ? null : n : null;
            }
          }, {
            key: _F_13,
            value: function value() {
              this[F_("0x28")](this[F_("0x1e")](), this[F_("0x2c")], this[F_("0x17")]), this.removeMarkers();
            }
          }, {
            key: _F_14,
            value: function value() {
              this[F_("0x22")](this[F_("0x1e")](), this.data, this[F_("0x17")]), this[F_("0x8")]();
            }
          }, {
            key: "getAllAdjacentSuggestions",
            value: function getAllAdjacentSuggestions() {
              var e = [];
              var t = this[F_("0x35")];

              for (; t;) {
                e[F_("0x2f")](t), t = t[F_("0x2b")];
              }

              return e;
            }
          }, {
            key: _F_15,
            value: function value(e, t) {
              var n = Wc(this[F_("0x17")]);
              qo(n, e, t), Wl(n, this[F_("0x17")]) || (this.attributes = n, this[F_("0x39")](n));
            }
          }, {
            key: _F_16,
            value: function value(e) {
              var t = Wc(this.attributes);
              Oo(t, e), Wl(t, this[F_("0x17")]) || (this.attributes = t, this[F_("0x39")](this[F_("0x17")]));
            }
          }, {
            key: "toJSON",
            value: function toJSON() {
              return {
                id: this.id,
                type: this[F_("0xd")] ? this.type + ":" + this[F_("0xd")] : this.type,
                authorId: this[F_("0x1a")].id,
                createdAt: this.createdAt,
                hasComments: this[F_("0x5")],
                data: this[F_("0x2c")],
                attributes: this.attributes
              };
            }
          }], [{
            key: _F_17,
            value: function value() {
              return s()[F_("0x30")](1, 5);
            }
          }]);

          return j_;
        }(F_("0x35"), F_("0x5"), F_("0x2"), F_("0xb"), F_("0x2d"), F_("0x2a"), F_("0x31"), F_("0x8"), F_("0x6"), F_("0x33"), F_("0x1e"), F_("0x1"), F_("0x0"), F_("0x24"), F_("0x1d"), F_("0x9"), F_("0x3a"));

        rt(j_, Ze);

        var H_ = /*#__PURE__*/function () {
          function H_(e, t) {
            _classCallCheck(this, H_);

            this._customCallbacks = [], this._itemLabels = new Map(), this._schema = e, this._locale = t;
          }

          _createClass(H_, [{
            key: "getDescriptions",
            value: function getDescriptions(e) {
              var t = [];

              for (var _n258 = 0; _n258 < e.length; _n258++) {
                var _i206 = e[_n258];
                if (!_i206.isInContent) continue;

                var _o110 = !1;

                var _iterator423 = _createForOfIteratorHelper(this._customCallbacks),
                    _step423;

                try {
                  for (_iterator423.s(); !(_step423 = _iterator423.n()).done;) {
                    var _e329 = _step423.value;

                    var _n260 = _e329(_i206);

                    if (_n260) {
                      _n260.type && t.push(_n260), _o110 = !0;
                      break;
                    }
                  }
                } catch (err) {
                  _iterator423.e(err);
                } finally {
                  _iterator423.f();
                }

                if (!_o110) {
                  this._addDescriptionItems(t, _i206);

                  var _o111 = e[_n258 + 1];

                  if (_o111 && !_i206.getFirstRange().end.isEqual(_o111.getFirstRange().start)) {
                    var _e328 = t[t.length - 1],
                        _n259 = "insertion" == _i206.type ? "add" : "remove";

                    _e328 && "text" == _e328.type && (_e328[_n259] += "\n");
                  }
                }
              }

              return this._resolveDescriptionItems(t);
            }
          }, {
            key: "registerDescriptionCallback",
            value: function registerDescriptionCallback(e) {
              this._customCallbacks.push(e);
            }
          }, {
            key: "registerElementLabel",
            value: function registerElementLabel(e, t) {
              this._itemLabels.set(e, t);
            }
          }, {
            key: "getItemLabel",
            value: function getItemLabel(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;
              var n = this._itemLabels.get(e) || e;
              return "function" == typeof n ? n(t) : 1 !== t ? t + " " + n + "s" : "" + n;
            }
          }, {
            key: "_addDescriptionItems",
            value: function _addDescriptionItems(e, t) {
              var _this286 = this;

              var n = t.getFirstRange().getWalker(),
                  i = "insertion" == t.type ? "add" : "remove";

              var _iterator424 = _createForOfIteratorHelper(n),
                  _step424;

              try {
                var _loop6 = function _loop6() {
                  var t = _step424.value;
                  var o = t.item,
                      r = e[e.length - 1];
                  if (o.is("textProxy")) r && r.type.indexOf("Container") > -1 && e.pop(), r && "text" == r.type ? r[i] += o.data : e.push({
                    type: "text",
                    add: "add" == i ? o.data : "",
                    remove: "remove" == i ? o.data : ""
                  });else if (_this286._schema.isObject(o)) {
                    if (r && r.type.indexOf("Container") > -1 && e.pop(), "elementEnd" == t.type) return "continue";
                    r && r.type == i + "Object" && r.name == o.name ? r.quantity++ : e.push({
                      type: i + "Object",
                      name: o.name,
                      quantity: 1
                    }), n.skip(function (e) {
                      return !("elementEnd" == e.type && e.item == o);
                    });
                  } else if (_this286._schema.checkChild(o, "$text") || o.is("element", "softBreak")) {
                    if ("add" == i && "elementStart" == t.type || "remove" == i && "elementEnd" == t.type) return "continue";

                    if (r && -1 == r.type.indexOf("Container")) {
                      "text" == r.type && (r[i] += "\n");
                      return "continue";
                    }

                    var _n261;

                    if (_n261 = "add" == i ? o.nextSibling && !_this286._schema.isObject(o.nextSibling) ? o.nextSibling : null : o.previousSibling && !_this286._schema.isObject(o.previousSibling) ? o.previousSibling : null, o.isEmpty || _n261 && _n261.isEmpty) {
                      var _t298 = _n261 && _n261.isEmpty ? _n261.name : o.name;

                      r && r.type == i + "EmptyContainer" && r.name == _t298 ? r.quantity++ : e.push({
                        type: i + "EmptyContainer",
                        name: _t298,
                        quantity: 1
                      });
                    } else e.push({
                      type: i + "Container",
                      name: o.name
                    });
                  }
                };

                for (_iterator424.s(); !(_step424 = _iterator424.n()).done;) {
                  var _ret3 = _loop6();

                  if (_ret3 === "continue") continue;
                }
              } catch (err) {
                _iterator424.e(err);
              } finally {
                _iterator424.f();
              }
            }
          }, {
            key: "_resolveDescriptionItems",
            value: function _resolveDescriptionItems(e) {
              var t = this._locale.t,
                  n = [];

              var _iterator425 = _createForOfIteratorHelper(e),
                  _step425;

              try {
                for (_iterator425.s(); !(_step425 = _iterator425.n()).done;) {
                  var _i207 = _step425.value;

                  switch (_i207.type) {
                    case "text":
                      if (_i207.add = _i207.add.replace(/(\S)\u000A+(\S)/g, "$1 $2").replace(/\u000A/g, ""), _i207.remove = _i207.remove.replace(/(\S)\u000A+(\S)/g, "$1 $2").replace(/\u000A/g, ""), "" != _i207.add && "" != _i207.remove) {
                        n.push({
                          type: "replace",
                          content: t({
                            string: "*Replace:* %0 *with* %1",
                            id: "REPLACE_TEXT"
                          }, ['"' + _i207.remove + '"', '"' + _i207.add + '"'])
                        });
                        continue;
                      }

                      if (null != _i207.add.match(/^ +$/)) {
                        n.push({
                          type: "insertion",
                          content: t("*Insert:* %0", t({
                            string: "space",
                            plural: "%0 spaces",
                            id: "ELEMENT_SPACE"
                          }, _i207.add.length))
                        });
                        continue;
                      }

                      if (null != _i207.remove.match(/^ +$/)) {
                        n.push({
                          type: "deletion",
                          content: t("*Remove:* %0", t({
                            string: "space",
                            plural: "%0 spaces",
                            id: "ELEMENT_SPACE"
                          }, _i207.remove.length))
                        });
                        continue;
                      }

                      if ("" != _i207.add) {
                        n.push({
                          type: "insertion",
                          content: t("*Insert:* %0", '"' + _i207.add + '"')
                        });
                        continue;
                      }

                      n.push({
                        type: "deletion",
                        content: t("*Remove:* %0", '"' + _i207.remove + '"')
                      });
                      continue;

                    case "addEmptyContainer":
                    case "addObject":
                      n.push({
                        type: "insertion",
                        content: t("*Insert:* %0", this.getItemLabel(_i207.name, _i207.quantity))
                      });
                      continue;

                    case "removeEmptyContainer":
                    case "removeObject":
                      n.push({
                        type: "deletion",
                        content: t("*Remove:* %0", this.getItemLabel(_i207.name, _i207.quantity))
                      });
                      continue;

                    case "addContainer":
                      n.push({
                        type: "insertion",
                        content: t("*Split:* %0", this.getItemLabel(_i207.name, _i207.quantity))
                      });
                      continue;

                    case "removeContainer":
                      n.push({
                        type: "deletion",
                        content: t("*Merge:* %0", this.getItemLabel(_i207.name, _i207.quantity))
                      });
                      continue;
                  }

                  n.push(_i207);
                }
              } catch (err) {
                _iterator425.e(err);
              } finally {
                _iterator425.f();
              }

              return n;
            }
          }]);

          return H_;
        }();

        n(19), n(20);

        var U_ = /*#__PURE__*/function (_st39) {
          _inherits(U_, _st39);

          var _super166 = _createSuper(U_);

          function U_() {
            _classCallCheck(this, U_);

            return _super166.apply(this, arguments);
          }

          _createClass(U_, [{
            key: "afterInit",
            value: function afterInit() {
              var _this287 = this;

              var e = this.editor,
                  t = e.locale.t;
              if (!e.plugins.has("AlignmentEditing")) return;
              var n = e.plugins.get("TrackChangesEditing");
              n.enableCommand("alignment", function (t) {
                var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
                var o = i.value;
                i.value || (o = "ltr" === e.locale.contentLanguageDirection ? "left" : "right");
                var r = Array.from(_this287.editor.model.document.selection.getSelectedBlocks()).filter(function (e) {
                  return function (e, t, n) {
                    var i = e.getAttribute("alignment") || null;
                    return t.checkAttribute(e, "alignment") && n != i;
                  }(e, _this287.editor.model.schema, o);
                });
                e.model.change(function () {
                  var _iterator426 = _createForOfIteratorHelper(r),
                      _step426;

                  try {
                    for (_iterator426.s(); !(_step426 = _iterator426.n()).done;) {
                      var _e330 = _step426.value;
                      n.markBlockFormat(_e330, {
                        commandName: "alignment",
                        commandParams: [{
                          value: o
                        }]
                      });
                    }
                  } catch (err) {
                    _iterator426.e(err);
                  } finally {
                    _iterator426.f();
                  }
                });
              }), n._descriptionFactory.registerDescriptionCallback(function (e) {
                var n = e.data;

                if (n && "alignment" == n.commandName) {
                  var _e331 = n.commandParams[0].value;
                  return {
                    type: "format",
                    content: t("*Format:* %0", function (n) {
                      switch (_e331) {
                        case "left":
                          return t({
                            string: "align to left",
                            id: "FORMAT_ALIGN_TO_LEFT"
                          });

                        case "right":
                          return t({
                            string: "align to right",
                            id: "FORMAT_ALIGN_TO_RIGHT"
                          });

                        case "center":
                          return t({
                            string: "align to center",
                            id: "FORMAT_ALIGN_TO_CENTER"
                          });

                        case "justify":
                          return t({
                            string: "justify",
                            id: "FORMAT_JUSTIFY_TEXT"
                          });
                      }
                    }())
                  };
                }
              });
            }
          }]);

          return U_;
        }(st);

        var W_ = ["mapper", "previousPosition", "getAttribute", "span", "element", "createUIElement", "addClass", "item", "nextSibling", "writer", "markerName", "elementEnd", "test", "insert", "getWalker", "getItems", "name", "type", "isContent", "ck-suggestion-marker--active", "consumable", "schema", "listItem", "listIndent", "start", "activeMarkers", "plugins", "parent", "toViewElement", "bindElementToMarker", "isBlock", "markerRange"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(W_, 487);

        var q_ = function q_(e, t) {
          return W_[e -= 0];
        };

        function $_(e, t, n) {
          var i = [];

          var _iterator427 = _createForOfIteratorHelper(t[q_("0x8")]()),
              _step427;

          try {
            for (_iterator427.s(); !(_step427 = _iterator427.n()).done;) {
              var _o112 = _step427.value;
              _o112.hasAttribute(e) && i.push(n.createRangeOn(_o112));
            }
          } catch (err) {
            _iterator427.e(err);
          } finally {
            _iterator427.f();
          }

          return i;
        }

        function G_(e) {
          var t = [];

          if (e.is(q_("0x1d"), q_("0xf"))) {
            var _n262 = e[q_("0x1")];

            for (; _n262 && _n262.is(q_("0x1d"), q_("0xf")) && _n262[q_("0x1b")](q_("0x10")) > 0;) {
              t.push(_n262), _n262 = _n262[q_("0x1")];
            }
          }

          return t;
        }

        function Y_(e, t) {
          var _ref81 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},
              _ref81$showActiveMark = _ref81.showActiveMarker,
              n = _ref81$showActiveMark === void 0 ? !0 : _ref81$showActiveMark;

          var i = e[q_("0x13")].get("TrackChangesEditing");
          return function (o, r, s) {
            if (!s[q_("0xd")][q_("0x5")](r.markerRange, o[q_("0x9")])) return;
            var a = r[q_("0x18")][q_("0x7")](),
                c = r[q_("0x18")][q_("0x11")],
                l = e.model[q_("0xe")];
            var d = null,
                u = null,
                h = !1,
                g = !1;

            var _iterator428 = _createForOfIteratorHelper(a),
                _step428;

            try {
              for (_iterator428.s(); !(_step428 = _iterator428.n()).done;) {
                var _e332 = _step428.value;

                var _t299 = _e332[q_("0x0")];

                h = h || l[q_("0xb")](_t299);

                var _n263 = s.mapper[q_("0x15")](_t299);

                if (_n263 && _n263.getCustomProperty("addHighlight")) return;
                q_("0x4") == _e332[q_("0xa")] && l[q_("0x17")](_t299) && !l.isLimit(_t299) && (_t299.nextSibling || c.isAtEnd ? d && d[q_("0x14")] == _t299 || (d = _t299, m(_e332[q_("0x1a")]), g = !0) : u = u || _e332[q_("0x1a")]);
              }
            } catch (err) {
              _iterator428.e(err);
            } finally {
              _iterator428.f();
            }

            function m(e) {
              var o = s.writer[q_("0x1e")](q_("0x1c"), {
                "class": "ck-suggestion-marker-" + t
              }),
                  a = s[q_("0x19")].toViewPosition(e);
              n && i[q_("0x12")].includes(r[q_("0x3")]) && s.writer[q_("0x1f")](q_("0xc"), o), s[q_("0x2")][q_("0x6")](a, o), s[q_("0x19")][q_("0x16")](o, r.markerName);
            }

            h || g || !u || m(u);
          };
        }

        var K_ = ["BoldEditing", "ItalicEditing", "UnderlineEditing", "CodeEditing", "StrikethroughEditing", "SubscriptEditing", "SuperscriptEditing"];

        var Q_ = /*#__PURE__*/function (_st40) {
          _inherits(Q_, _st40);

          var _super167 = _createSuper(Q_);

          function Q_() {
            _classCallCheck(this, Q_);

            return _super167.apply(this, arguments);
          }

          _createClass(Q_, [{
            key: "afterInit",
            value: function afterInit() {
              var e = this.editor,
                  t = e.model,
                  n = e.plugins.get("TrackChangesEditing"),
                  i = e.locale.t;

              var _iterator429 = _createForOfIteratorHelper(K_),
                  _step429;

              try {
                var _loop7 = function _loop7() {
                  var i = _step429.value;
                  if (!e.plugins.has(i)) return "continue";
                  var o = i.slice(0, -7).toLowerCase(),
                      r = e.commands.get(o);
                  n.enableCommand(o, function (e) {
                    var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
                    var s = t.document.selection;
                    if (s.isCollapsed) return void e(i);
                    var a = void 0 !== i.forceValue ? i.forceValue : !r.value;
                    t.change(function () {
                      var e = Array.from(s.getRanges());

                      for (var _i208 = 0, _e333 = e; _i208 < _e333.length; _i208++) {
                        var _i209 = _e333[_i208];

                        var _e334 = a ? [_i209] : $_(o, _i209, t);

                        var _iterator430 = _createForOfIteratorHelper(_e334),
                            _step430;

                        try {
                          for (_iterator430.s(); !(_step430 = _iterator430.n()).done;) {
                            var _t300 = _step430.value;
                            n.markInlineFormat(_t300, {
                              commandName: o,
                              commandParams: [{
                                forceValue: a
                              }]
                            });
                          }
                        } catch (err) {
                          _iterator430.e(err);
                        } finally {
                          _iterator430.f();
                        }
                      }
                    });
                  });
                };

                for (_iterator429.s(); !(_step429 = _iterator429.n()).done;) {
                  var _ret4 = _loop7();

                  if (_ret4 === "continue") continue;
                }
              } catch (err) {
                _iterator429.e(err);
              } finally {
                _iterator429.f();
              }

              function o(e, t) {
                n._descriptionFactory.registerDescriptionCallback(function (n) {
                  var o = n.data;
                  if (o && o.commandName === e) return o.commandParams[0].forceValue ? {
                    type: "format",
                    content: i("*Format:* %0", t)
                  } : {
                    type: "format",
                    content: i("*Remove format:* %0", t)
                  };
                });
              }

              o("bold", i({
                string: "bold",
                id: "FORMAT_BOLD"
              })), o("italic", i({
                string: "italic",
                id: "FORMAT_ITALIC"
              })), o("underline", i({
                string: "underline",
                id: "FORMAT_UNDERLINE"
              })), o("code", i({
                string: "code",
                id: "FORMAT_CODE"
              })), o("strikethrough", i({
                string: "strikethrough",
                id: "FORMAT_STRIKETHROUGH"
              })), o("subscript", i({
                string: "subscript",
                id: "FORMAT_SUBSCRIPT"
              })), o("superscript", i({
                string: "superscript",
                id: "FORMAT_SUPERSCRIPT"
              }));
            }
          }]);

          return Q_;
        }(st);

        var J_ = /*#__PURE__*/function (_st41) {
          _inherits(J_, _st41);

          var _super168 = _createSuper(J_);

          function J_() {
            _classCallCheck(this, J_);

            return _super168.apply(this, arguments);
          }

          _createClass(J_, [{
            key: "afterInit",
            value: function afterInit() {
              var _this288 = this;

              var e = this.editor,
                  t = e.locale.t;
              if (!e.plugins.has("BlockQuoteEditing")) return;
              var n = e.plugins.get("TrackChangesEditing"),
                  i = this.editor.commands.get("blockQuote");
              n.enableCommand("blockQuote", function (t) {
                var o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
                var r = _this288.editor.model.document.selection,
                    s = o && void 0 !== o.forceValue ? o.forceValue : !i.value;
                var a = [];

                if (s) {
                  var _t301 = Array.from(r.getSelectedBlocks()).filter(function (e) {
                    return X_(e) || function (e, t) {
                      var n = t.checkChild(e.parent, "blockQuote"),
                          i = t.checkChild(["$root", "blockQuote"], e);
                      return n && i;
                    }(e, _this288.editor.model.schema);
                  });

                  a = Z_(_t301, e.model);
                } else {
                  var _t302 = Array.from(r.getSelectedBlocks()).filter(function (e) {
                    return X_(e);
                  });

                  a = Z_(_t302, e.model);
                }

                e.model.change(function () {
                  var _iterator431 = _createForOfIteratorHelper(a),
                      _step431;

                  try {
                    for (_iterator431.s(); !(_step431 = _iterator431.n()).done;) {
                      var _e335 = _step431.value;
                      n.markBlockFormat(_e335, {
                        commandName: "blockQuote",
                        commandParams: [{
                          forceValue: s
                        }]
                      });
                    }
                  } catch (err) {
                    _iterator431.e(err);
                  } finally {
                    _iterator431.f();
                  }
                });
              }), n._descriptionFactory.registerDescriptionCallback(function (e) {
                var n = e.data;

                if (n && "blockQuote" == n.commandName) {
                  var _e336 = t({
                    string: "block quote",
                    id: "ELEMENT_BLOCK_QUOTE"
                  });

                  return n.commandParams[0].forceValue ? {
                    type: "format",
                    content: t("*Format:* %0", _e336)
                  } : {
                    type: "format",
                    content: t("*Remove format:* %0", _e336)
                  };
                }
              });
            }
          }]);

          return J_;
        }(st);

        function X_(e) {
          return "blockQuote" == e.parent.name;
        }

        function Z_(e, t) {
          var n,
              i = 0;
          var o = [],
              r = t.schema;

          for (; i < e.length;) {
            var _s41 = e[i],
                _a24 = e[i + 1];
            n || (n = t.createPositionBefore(_s41)), ev(t, _s41, _a24) || (o.push(t.createRange(n, r.isObject(_s41) ? t.createPositionAfter(_s41) : t.createPositionAt(_s41, "end"))), n = null), i++;
          }

          return o;
        }

        function ev(e, t, n) {
          if (!n) return !1;
          var i = e.createPositionAfter(t),
              o = e.createPositionBefore(n),
              r = new kc({
            boundaries: e.createRange(i, o)
          });

          var _iterator432 = _createForOfIteratorHelper(r),
              _step432;

          try {
            for (_iterator432.s(); !(_step432 = _iterator432.n()).done;) {
              var _t303 = _step432.value;
              if ("text" == _t303.type || e.schema.isLimit(_t303.item)) return !1;
            }
          } catch (err) {
            _iterator432.e(err);
          } finally {
            _iterator432.f();
          }

          return !0;
        }

        var tv = /*#__PURE__*/function (_st42) {
          _inherits(tv, _st42);

          var _super169 = _createSuper(tv);

          function tv() {
            _classCallCheck(this, tv);

            return _super169.apply(this, arguments);
          }

          _createClass(tv, [{
            key: "afterInit",
            value: function afterInit() {
              var e = this.editor,
                  t = e.locale.t;
              e.plugins.has("CodeBlock") && e.plugins.get("TrackChangesEditing")._descriptionFactory.registerElementLabel("codeBlock", function (e) {
                return t({
                  string: "code block",
                  plural: "%0 code blocks",
                  id: "ELEMENT_CODE_BLOCK"
                }, e);
              });
            }
          }]);

          return tv;
        }(st);

        var nv = ["requires", "editor", "enableCommand", "addCommentThread"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(nv, 315);

        var iv = function iv(e, t) {
          return nv[e -= 0];
        };

        var ov = /*#__PURE__*/function (_st43, _iv) {
          _inherits(ov, _st43);

          var _super170 = _createSuper(ov);

          function ov() {
            _classCallCheck(this, ov);

            return _super170.apply(this, arguments);
          }

          _createClass(ov, [{
            key: "init",
            value: function init() {
              this[iv("0x2")].plugins.get("TrackChangesEditing")[iv("0x3")](iv("0x0"));
            }
          }], [{
            key: _iv,
            get: function get() {
              return [yw];
            }
          }]);

          return ov;
        }(st, iv("0x1"));

        var rv = ["model", "showSuggestionHighlights", "selection", "plugins", "mapper", "init", "remove", "deleteForward", "buffer", "getFirstRange", "merge", "enqueueChange", "fromRange", "unlock", "unit", "forward", "markerName", "get", "writer", "TrackChangesEditing", "unbindElementFromMarkerName", "batch", "createSelection", "commands", "document", "enableCommand", "removeMarker:suggestion:deletion", "markerNameToElements", "options", "lock", "start", "createRange", "editing", "end", "root", "editor", "requires", "addMarker:suggestion:deletion", "high", "data", "downcastDispatcher", "uiElement"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(rv, 427);

        var sv = function sv(e, t) {
          return rv[e -= 0];
        };

        var av = /*#__PURE__*/function (_st44, _sv, _sv2) {
          _inherits(av, _st44);

          var _super171 = _createSuper(av);

          function av() {
            _classCallCheck(this, av);

            return _super171.apply(this, arguments);
          }

          _createClass(av, [{
            key: _sv2,
            value: function value() {
              var e = this[sv("0x1c")],
                  t = e[sv("0x26")].get(sv("0xc"));
              t[sv("0x12")]("delete");
              var n = e[sv("0x10")][sv("0xa")](sv("0x0"));
              t[sv("0x12")]("deleteForward", function (t) {
                var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
                var o = e[sv("0x23")][sv("0xf")](e[sv("0x23")][sv("0x11")][sv("0x25")]);
                o.isCollapsed && e.model.modifySelection(o, {
                  direction: sv("0x8"),
                  unit: i[sv("0x7")]
                });
                var r = o[sv("0x2")](),
                    s = Lc[sv("0x5")](r);
                var a;
                t(i), a = "$graveyard" == s[sv("0x1b")].rootName ? e[sv("0x23")][sv("0x18")](r[sv("0x17")]) : e[sv("0x23")][sv("0x18")](s[sv("0x17")], s[sv("0x1a")]), s.detach(), e.model[sv("0x4")](n.buffer[sv("0xe")], function (e) {
                  n[sv("0x1")][sv("0x16")](), e.setSelection(e[sv("0x18")](a[sv("0x1a")])), n.buffer[sv("0x6")]();
                });
              }), e[sv("0x19")].downcastDispatcher.on(sv("0x1e"), Y_(e, sv("0x3")), {
                priority: sv("0x1f")
              }), e[sv("0x20")][sv("0x21")].on(sv("0x1e"), function (t, n, i) {
                i[sv("0x15")][sv("0x24")] && Y_(e, sv("0x3"), {
                  showActiveMarker: !1
                })(t, n, i);
              }, {
                priority: sv("0x1f")
              }), e[sv("0x19")][sv("0x21")].on(sv("0x13"), function (e, t, n) {
                var i = n[sv("0x27")][sv("0x14")](t[sv("0x9")]);

                if (i) {
                  var _iterator433 = _createForOfIteratorHelper(i),
                      _step433;

                  try {
                    for (_iterator433.s(); !(_step433 = _iterator433.n()).done;) {
                      var _e337 = _step433.value;
                      _e337.is(sv("0x22")) && (n[sv("0x27")][sv("0xd")](_e337, t[sv("0x9")]), n[sv("0xb")][sv("0x29")](_e337));
                    }
                  } catch (err) {
                    _iterator433.e(err);
                  } finally {
                    _iterator433.f();
                  }
                }
              }, {
                priority: sv("0x1f")
              });
            }
          }], [{
            key: _sv,
            get: function get() {
              return [Pf];
            }
          }]);

          return av;
        }(st, sv("0x1d"), sv("0x28"));

        var cv = ["fromRange", "data", "markerNameToElements", "high", "editing", "getFirstPosition", "createRange", "get", "mapper", "markInsertion", "enableCommand", "model", "createPositionAt", "downcastDispatcher", "change", "schema", "addMarker:suggestion:insertion", "selection", "setSelection", "isAtEnd", "document", "nextSibling", "enter", "showSuggestionHighlights", "removeMarker:suggestion:insertion", "TrackChangesEditing", "editor", "parent", "start", "isCollapsed", "options", "detach", "requires", "end", "markerName"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(cv, 116);

        var lv = function lv(e, t) {
          return cv[e -= 0];
        };

        var dv = /*#__PURE__*/function (_st45, _lv) {
          _inherits(dv, _st45);

          var _super172 = _createSuper(dv);

          function dv() {
            _classCallCheck(this, dv);

            return _super172.apply(this, arguments);
          }

          _createClass(dv, [{
            key: "init",
            value: function init() {
              var e = this[lv("0xf")],
                  t = e.plugins[lv("0x1f")](lv("0xe"));
              t[lv("0x22")](lv("0xb"), function (n) {
                e[lv("0x0")][lv("0x3")](function (i) {
                  var o = e[lv("0x0")][lv("0x9")][lv("0x6")],
                      r = o[lv("0x1d")](),
                      s = o[lv("0x12")],
                      a = Lc[lv("0x18")](o.getFirstRange()),
                      c = a[lv("0x11")][lv("0x10")],
                      l = a[lv("0x16")][lv("0x10")],
                      d = !(a[lv("0x11")].isAtStart && a[lv("0x16")][lv("0x8")]),
                      u = c == l,
                      h = !(e[lv("0x0")][lv("0x4")].isLimit(c) || e[lv("0x0")][lv("0x4")].isLimit(l)) && (s || d && u);

                  if (n(), h) {
                    var _n264 = e.model[lv("0x1")](r[lv("0x10")][lv("0xa")], 0),
                        _o113 = i[lv("0x1e")](r, _n264);

                    t[lv("0x21")](_o113);
                  } else i[lv("0x7")](i.createRange(a[lv("0x16")]));

                  a[lv("0x14")]();
                });
              }), e[lv("0x1c")][lv("0x2")].on("addMarker:suggestion:insertion", Y_(e, "split"), {
                priority: lv("0x1b")
              }), e[lv("0x1c")].downcastDispatcher.on(lv("0xd"), function (e, t, n) {
                var i = n[lv("0x20")][lv("0x1a")](t.markerName);

                if (i) {
                  var _iterator434 = _createForOfIteratorHelper(i),
                      _step434;

                  try {
                    for (_iterator434.s(); !(_step434 = _iterator434.n()).done;) {
                      var _e338 = _step434.value;
                      _e338.hasClass("ck-suggestion-marker-split") && (n[lv("0x20")].unbindElementFromMarkerName(_e338, t[lv("0x17")]), n.writer.remove(_e338));
                    }
                  } catch (err) {
                    _iterator434.e(err);
                  } finally {
                    _iterator434.f();
                  }
                }
              }, {
                priority: "high"
              }), e[lv("0x19")][lv("0x2")].on(lv("0x5"), function (t, n, i) {
                i[lv("0x13")][lv("0xc")] && Y_(e, "split", {
                  showActiveMarker: !1
                })(t, n, i);
              }, {
                priority: "high"
              });
            }
          }], [{
            key: _lv,
            get: function get() {
              return [Ef];
            }
          }]);

          return dv;
        }(st, lv("0x15"));

        function uv(e) {
          return e.map(function (e) {
            return function (e) {
              if (function (e) {
                return "object" == typeof e && e.title && e.model && e.view;
              }(e)) return gv(e);

              var t = function (e) {
                return hv[e] || hv[e.model];
              }(e);

              if (t) return gv(t);
              if ("default" === e) return {
                model: void 0,
                title: "Default"
              };
              if (function (e) {
                var t;

                if ("object" == typeof e) {
                  if (!e.model) throw new c.a("font-size-invalid-definition", null, e);
                  t = parseFloat(e.model);
                } else t = parseFloat(e);

                return isNaN(t);
              }(e)) return;
              return function (e) {
                "number" != typeof e && "string" != typeof e || (e = {
                  title: String(e),
                  model: "".concat(parseFloat(e), "px")
                });
                return e.view = {
                  name: "span",
                  styles: {
                    "font-size": e.model
                  }
                }, gv(e);
              }(e);
            }(e);
          }).filter(function (e) {
            return !!e;
          });
        }

        var hv = {
          get tiny() {
            return {
              title: "Tiny",
              model: "tiny",
              view: {
                name: "span",
                classes: "text-tiny",
                priority: 7
              }
            };
          },

          get small() {
            return {
              title: "Small",
              model: "small",
              view: {
                name: "span",
                classes: "text-small",
                priority: 7
              }
            };
          },

          get big() {
            return {
              title: "Big",
              model: "big",
              view: {
                name: "span",
                classes: "text-big",
                priority: 7
              }
            };
          },

          get huge() {
            return {
              title: "Huge",
              model: "huge",
              view: {
                name: "span",
                classes: "text-huge",
                priority: 7
              }
            };
          }

        };

        function gv(e) {
          return e.view.priority || (e.view.priority = 7), e;
        }

        var mv = [{
          pluginName: "FontSizeEditing",
          commandName: "fontSize"
        }, {
          pluginName: "FontFamilyEditing",
          commandName: "fontFamily"
        }, {
          pluginName: "FontColorEditing",
          commandName: "fontColor"
        }, {
          pluginName: "FontBackgroundColorEditing",
          commandName: "fontBackgroundColor"
        }];

        var fv = /*#__PURE__*/function (_st46) {
          _inherits(fv, _st46);

          var _super173 = _createSuper(fv);

          function fv() {
            _classCallCheck(this, fv);

            return _super173.apply(this, arguments);
          }

          _createClass(fv, [{
            key: "afterInit",
            value: function afterInit() {
              var _this289 = this;

              var e = this.editor.locale.t;

              var _iterator435 = _createForOfIteratorHelper(mv),
                  _step435;

              try {
                for (_iterator435.s(); !(_step435 = _iterator435.n()).done;) {
                  var _step435$value = _step435.value,
                      _e339 = _step435$value.pluginName,
                      _t308 = _step435$value.commandName;
                  this.editor.plugins.has(_e339) && this._enableCommand(_t308);
                }
              } catch (err) {
                _iterator435.e(err);
              } finally {
                _iterator435.f();
              }

              this.editor.plugins.get("TrackChangesEditing")._descriptionFactory.registerDescriptionCallback(function (t) {
                var n = t.data;

                if (null != n) {
                  if ("fontSize" == n.commandName) {
                    var _t304 = n.commandParams[0].value;

                    if (_t304) {
                      var _n265 = uv(_this289.editor.config.get("fontSize.options")).find(function (e) {
                        return e.model == _t304;
                      }).title,
                          _i210 = _this289.editor.locale._t(_n265).toLowerCase();

                      return {
                        type: "format",
                        content: e("*Set font size:* %0", _i210)
                      };
                    }

                    return {
                      type: "format",
                      content: e("*Reset font size*")
                    };
                  }

                  if ("fontFamily" == n.commandName) {
                    var _t305 = n.commandParams[0].value;
                    return _t305 ? {
                      type: "format",
                      content: e("*Set font family:* %0", _t305)
                    } : {
                      type: "format",
                      content: e("*Reset font family*")
                    };
                  }

                  if ("fontColor" == n.commandName) {
                    var _t306 = n.commandParams[0].value;

                    if (_t306) {
                      var _n266 = Eh(_this289.editor.config.get("fontColor.colors")).find(function (e) {
                        return e.model == _t306;
                      }).label,
                          _i211 = _this289.editor.locale._t(_n266).toLowerCase();

                      return {
                        type: "format",
                        content: e("*Set font color:* %0", _i211)
                      };
                    }

                    return {
                      type: "format",
                      content: e("*Reset font color*")
                    };
                  }

                  if ("fontBackgroundColor" == n.commandName) {
                    var _t307 = n.commandParams[0].value;

                    if (_t307) {
                      var _n267 = Eh(_this289.editor.config.get("fontBackgroundColor.colors")).find(function (e) {
                        return e.model == _t307;
                      }).label,
                          _i212 = _this289.editor.locale._t(_n267).toLowerCase();

                      return {
                        type: "format",
                        content: e("*Set font background color:* %0", _i212)
                      };
                    }

                    return {
                      type: "format",
                      content: e("*Reset font background color*")
                    };
                  }
                }
              });
            }
          }, {
            key: "_enableCommand",
            value: function _enableCommand(e) {
              var t = this.editor;
              t.plugins.get("TrackChangesEditing").enableCommand(e, function (n) {
                var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
                var o = t.model.document.selection,
                    r = i.value;
                o.isCollapsed ? n(i) : t.model.change(function () {
                  var n = Array.from(o.getRanges());

                  for (var _i213 = 0, _n268 = n; _i213 < _n268.length; _i213++) {
                    var _i214 = _n268[_i213];

                    var _n269 = r ? [_i214] : $_(e, _i214, t.model);

                    var _iterator436 = _createForOfIteratorHelper(_n269),
                        _step436;

                    try {
                      for (_iterator436.s(); !(_step436 = _iterator436.n()).done;) {
                        var _i215 = _step436.value;
                        t.plugins.get("TrackChangesEditing").markInlineFormat(_i215, {
                          commandName: e,
                          commandParams: [{
                            value: r
                          }]
                        });
                      }
                    } catch (err) {
                      _iterator436.e(err);
                    } finally {
                      _iterator436.f();
                    }
                  }
                });
              });
            }
          }]);

          return fv;
        }(st);

        var pv = /*#__PURE__*/function (_st47) {
          _inherits(pv, _st47);

          var _super174 = _createSuper(pv);

          function pv() {
            _classCallCheck(this, pv);

            return _super174.apply(this, arguments);
          }

          _createClass(pv, [{
            key: "afterInit",
            value: function afterInit() {
              var _this290 = this;

              var e = this.editor,
                  t = e.locale.t,
                  n = e.config.get("heading.options");
              if (!e.plugins.has("HeadingEditing")) return;
              var i = e.plugins.get("TrackChangesEditing");
              i.enableCommand("heading", function (t, n) {
                var o = n.value,
                    r = Array.from(_this290.editor.model.document.selection.getSelectedBlocks()).filter(function (e) {
                  return function (e, t, n) {
                    return n.checkChild(e.parent, t) && !n.isObject(e) && e.name != t;
                  }(e, o, _this290.editor.model.schema);
                });
                e.model.change(function () {
                  var _iterator437 = _createForOfIteratorHelper(r),
                      _step437;

                  try {
                    for (_iterator437.s(); !(_step437 = _iterator437.n()).done;) {
                      var _e340 = _step437.value;
                      i.markBlockFormat(_e340, {
                        commandName: "heading",
                        commandParams: [n],
                        formatGroupId: "blockName"
                      }, G_(_e340));
                    }
                  } catch (err) {
                    _iterator437.e(err);
                  } finally {
                    _iterator437.f();
                  }
                });
              });

              var _iterator438 = _createForOfIteratorHelper(n),
                  _step438;

              try {
                var _loop8 = function _loop8() {
                  var e = _step438.value;
                  "paragraph" != e.model && i._descriptionFactory.registerElementLabel(e.model, function (t) {
                    var n = kv(e.model);
                    return null !== n ? o(t, n) : r(t, e.title);
                  });
                };

                for (_iterator438.s(); !(_step438 = _iterator438.n()).done;) {
                  _loop8();
                }
              } catch (err) {
                _iterator438.e(err);
              } finally {
                _iterator438.f();
              }

              function o(e, n) {
                return t({
                  string: "heading (level %1)",
                  plural: "%0 headings (level %1)",
                  id: "ELEMENT_HEADING"
                }, [e, n]);
              }

              function r(e, n) {
                return t({
                  string: "heading (%1)",
                  plural: "%0 headings (%1)",
                  id: "ELEMENT_HEADING_CUSTOM"
                }, [e, n]);
              }

              i._descriptionFactory.registerDescriptionCallback(function (e) {
                var i = e.type,
                    s = e.data;

                if ("formatBlock" == i && s && "heading" == s.commandName) {
                  var _e341 = s.commandParams[0].value,
                      _i216 = kv(_e341);

                  if (null !== _i216) return {
                    type: "format",
                    content: t("*Change to:* %0", o(1, _i216))
                  };
                  var _a25 = n.find(function (t) {
                    return t.model === _e341;
                  }).title;
                  return {
                    type: "format",
                    content: t("*Change to:* %0", r(1, _a25))
                  };
                }
              });
            }
          }]);

          return pv;
        }(st);

        function kv(e) {
          var t = e.match(/^heading(\d+)$/);
          return t ? t[1] : null;
        }

        var bv = /*#__PURE__*/function (_st48) {
          _inherits(bv, _st48);

          var _super175 = _createSuper(bv);

          function bv() {
            _classCallCheck(this, bv);

            return _super175.apply(this, arguments);
          }

          _createClass(bv, [{
            key: "afterInit",
            value: function afterInit() {
              var e = this.editor;
              if (!e.plugins.has("HighlightEditing")) return;
              var t = e.plugins.get("TrackChangesEditing");
              t.enableCommand("highlight", function (n) {
                var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
                var o = e.model.document.selection,
                    r = o.getAttribute("highlight");
                var s = i.value,
                    a = [];

                if (o.isCollapsed) {
                  var _t309 = o.getFirstPosition();

                  if (!o.hasAttribute("highlight")) return void n(i);
                  {
                    var _n270 = function _n270(e) {
                      return e.item.getAttribute("highlight") === r;
                    },
                        _i217 = _t309.getLastMatchingPosition(_n270, {
                      direction: "backward"
                    }),
                        _o114 = _t309.getLastMatchingPosition(_n270);

                    a = [e.model.createRange(_i217, _o114)], s == r && (s = null);
                  }
                } else {
                  var _iterator439 = _createForOfIteratorHelper(o.getRanges()),
                      _step439;

                  try {
                    for (_iterator439.s(); !(_step439 = _iterator439.n()).done;) {
                      var _a26;

                      var _t310 = _step439.value;
                      s ? a.push(_t310) : (_a26 = a).push.apply(_a26, _toConsumableArray($_("highlight", _t310, e.model)));
                    }
                  } catch (err) {
                    _iterator439.e(err);
                  } finally {
                    _iterator439.f();
                  }
                }

                e.model.change(function () {
                  var _iterator440 = _createForOfIteratorHelper(a),
                      _step440;

                  try {
                    for (_iterator440.s(); !(_step440 = _iterator440.n()).done;) {
                      var _e342 = _step440.value;
                      t.markInlineFormat(_e342, {
                        commandName: "highlight",
                        commandParams: [{
                          value: s
                        }]
                      });
                    }
                  } catch (err) {
                    _iterator440.e(err);
                  } finally {
                    _iterator440.f();
                  }
                });
              });
              var n = e.locale.t;

              t._descriptionFactory.registerDescriptionCallback(function (t) {
                var i = t.type,
                    o = t.data;

                if ("formatInline" == i && o && "highlight" == o.commandName) {
                  var _t311 = o.commandParams[0].value;

                  if (_t311) {
                    var _i218 = e.config.get("highlight.options").find(function (e) {
                      return e.model == _t311;
                    }).title,
                        _o115 = e.locale._t(_i218).toLowerCase();

                    return {
                      type: "format",
                      content: n("*Format:* %0", n({
                        string: "%0 highlight",
                        id: "FORMAT_CUSTOM_HIGHLIGHT"
                      }, _o115))
                    };
                  }

                  return {
                    type: "format",
                    content: n("*Remove format:* %0", n({
                      string: "highlight",
                      id: "FORMAT_HIGHLIGHT"
                    }))
                  };
                }
              });
            }
          }]);

          return bv;
        }(st);

        n(158);

        var wv = /*#__PURE__*/function (_st49) {
          _inherits(wv, _st49);

          var _super176 = _createSuper(wv);

          function wv() {
            _classCallCheck(this, wv);

            return _super176.apply(this, arguments);
          }

          _createClass(wv, [{
            key: "afterInit",
            value: function afterInit() {
              var e = this.editor;
              if (!e.plugins.has("HorizontalLineEditing")) return;
              e.plugins.get("TrackChangesEditing").enableCommand("horizontalLine");
              var t = e.plugins.get("TrackChangesEditing"),
                  n = e.locale.t;
              t._descriptionFactory.registerElementLabel("horizontalLine", function (e) {
                return n({
                  string: "horizontal line",
                  plural: "%0 horizontal lines",
                  id: "ELEMENT_HORIZONTAL_LINE"
                }, e);
              }), e.conversion["for"]("dataDowncast").elementToElement({
                model: "horizontalLine",
                view: function view(e, _ref82) {
                  var t = _ref82.writer,
                      n = _ref82.options;
                  if (!n.showSuggestionHighlights) return;
                  var i = t.createContainerElement("div"),
                      o = t.createEmptyElement("hr");
                  return t.addClass("ck-horizontal-line", i), t.insert(t.createPositionAt(i, 0), o), i;
                },
                converterPriority: "high"
              });
            }
          }]);

          return wv;
        }(st);

        function _v(e) {
          var _iterator441 = _createForOfIteratorHelper(e.getChildren()),
              _step441;

          try {
            for (_iterator441.s(); !(_step441 = _iterator441.n()).done;) {
              var _t312 = _step441.value;
              if (_t312 && _t312.is("element", "caption")) return _t312;
            }
          } catch (err) {
            _iterator441.e(err);
          } finally {
            _iterator441.f();
          }

          return null;
        }

        function vv(e, t) {
          var n = t.getFirstPosition().findAncestor("caption");
          return n && e.isBlockImage(n.parent) ? n : null;
        }

        n(160);

        var xv = /*#__PURE__*/function (_st50) {
          _inherits(xv, _st50);

          var _super177 = _createSuper(xv);

          function xv() {
            _classCallCheck(this, xv);

            return _super177.apply(this, arguments);
          }

          _createClass(xv, [{
            key: "afterInit",
            value: function afterInit() {
              var e = this.editor;
              if (!e.plugins.has("ImageEditing")) return;
              var t = e.plugins.get("TrackChangesEditing"),
                  n = e.plugins.get("ImageUtils"),
                  i = {},
                  o = e.locale.t;

              if (t.enableCommand("insertImage"), t._descriptionFactory.registerElementLabel("imageBlock", function (e) {
                return o({
                  string: "image",
                  plural: "%0 images",
                  id: "ELEMENT_IMAGE"
                }, e);
              }), t._descriptionFactory.registerElementLabel("imageInline", function (e) {
                return o({
                  string: "image",
                  plural: "%0 images",
                  id: "ELEMENT_INLINE_IMAGE"
                }, e);
              }), t._descriptionFactory.registerElementLabel("caption", o({
                string: "caption",
                id: "ELEMENT_CAPTION"
              })), e.plugins.has("ImageUploadEditing") && t.enableCommand("uploadImage"), e.plugins.has("ImageBlockEditing") && e.plugins.has("ImageInlineEditing") && (t.enableCommand("imageTypeInline", function (i, o) {
                var r = n.getClosestSelectedImageElement(e.model.document.selection);
                e.model.change(function () {
                  t.markBlockFormat(r, {
                    commandName: "imageTypeInline",
                    commandParams: [o]
                  }, [], "convertBlockImageToInline");
                });
              }), t.enableCommand("imageTypeBlock", function (i, o) {
                e.model.change(function (r) {
                  var s = n.getClosestSelectedImageElement(e.model.document.selection),
                      a = r.createRangeOn(s);
                  var c = xd.fromPosition(a.start, "toPrevious"),
                      l = xd.fromPosition(a.end, "toNext");
                  t.forceDefaultExecution(function () {
                    return i(o);
                  }), s = n.getClosestSelectedImageElement(e.model.document.selection), a = r.createRangeOn(s);
                  var d = r.createRange(c, l);
                  c.detach(), l.detach(), t.markBlockFormat(s, {
                    commandName: "imageTypeInline"
                  }, [], "convertInlineImageToBlock"), d.start.isBefore(a.start) && t.markInsertion(r.createRange(d.start, a.start), "convertInlineImageToBlock"), a.end.isBefore(d.end) && t.markInsertion(r.createRange(a.end, d.end), "convertInlineImageToBlock");
                });
              }), t._suggestionFactory.registerCustomCallback("formatBlock", "convertInlineImageToBlock", "join", function () {}), t._suggestionFactory.registerCustomCallback("formatBlock", "convertInlineImageToBlock", "accept", function () {}), t._suggestionFactory.registerCustomCallback("formatBlock", "convertInlineImageToBlock", "discard", t._suggestionFactory.getSuggestionCallback("formatBlock", "", "accept")), t._suggestionFactory.registerCustomCallback("insertion", "convertInlineImageToBlock", "join", function () {}), t._suggestionFactory.registerCustomCallback("insertion", "convertInlineImageToBlock", "discard", function (_ref83) {
                var _ref84 = _slicedToArray(_ref83, 1),
                    n = _ref84[0];

                var i = t._suggestionFactory.getSuggestionCallback("insertion", "", "discard");

                var o = n.start,
                    r = n.end;
                var s = e.model.schema.getNearestSelectionRange(o, "backward"),
                    a = e.model.schema.getNearestSelectionRange(r, "forward");
                s.isCollapsed && (o = s.start), a.isCollapsed && (r = a.end), i([e.model.createRange(o, r)]);
              }), t._suggestionFactory.registerCustomCallback("formatBlock", "convertInlineImageToBlock", "chain", c), t._suggestionFactory.registerCustomCallback("insertion", "convertInlineImageToBlock", "chain", c)), e.plugins.has("ImageCaptionEditing") && (t.enableCommand("toggleImageCaption", function (i, o) {
                var r = n.getClosestSelectedImageElement(e.model.document.selection),
                    s = _v(r);

                e.model.change(function () {
                  if (s) return void t.markDeletion(e.model.createRangeOn(s));
                  var a = n.isBlockImage(r);
                  i(o), r = n.getClosestSelectedImageElement(e.model.document.selection), s = _v(r), t.markInsertion(e.model.createRangeOn(s), a ? null : "imageCaption");
                });
              }), t._suggestionFactory.registerCustomCallback("insertion", "imageCaption", "chain", c)), e.plugins.has("ImageStyleEditing")) {
                t.enableCommand("imageStyle", function (i, o) {
                  var r = e.plugins.get("Users").me,
                      a = e.commands.get("imageStyle");
                  var c = n.getClosestSelectedImageElement(e.model.document.selection),
                      l = e.model.createRangeOn(c),
                      d = a.value;
                  if (d == o.value) return;
                  var u = {
                    commandName: "imageStyle",
                    commandParams: [o],
                    formatGroupId: s()
                  };
                  e.model.change(function () {
                    if (t.getSuggestions().filter(function (e) {
                      return e.isInContent && r == e.author && ("formatBlock" == e.type || "formatInline" == e.type) && ("imageStylePreApply" == e.subType || "imageStylePostApply" == e.subType) && e.getFirstRange().isEqual(l);
                    }).forEach(function (e) {
                      return t.discardSuggestion(e.head);
                    }), c = n.getClosestSelectedImageElement(e.model.document.selection), l = e.model.createRangeOn(c), a.refresh(), e.commands.get("imageTypeInline").refresh(), e.commands.get("imageTypeBlock").refresh(), (d = a.value) != o.value) return n.isInlineImage(c) && a.shouldConvertImageType(o.value, c) ? (i(o), c = n.getClosestSelectedImageElement(e.model.document.selection), void t.markBlockFormat(c, _objectSpread(_objectSpread({}, u), {}, {
                      commandReversedParams: [{
                        value: d || null
                      }]
                    }), [], "imageStylePreApply")) : void (n.isBlockImage(c) ? t.markBlockFormat(c, u, [], "imageStylePostApply") : t.markInlineFormat(l, u, "imageStylePostApply"));
                  });
                });

                var _iterator442 = _createForOfIteratorHelper(e.plugins.get("ImageStyleEditing").normalizedStyles),
                    _step442;

                try {
                  for (_iterator442.s(); !(_step442 = _iterator442.n()).done;) {
                    var _t313 = _step442.value;
                    i[_t313.name] = _t313.title.toLowerCase();
                  }
                } catch (err) {
                  _iterator442.e(err);
                } finally {
                  _iterator442.f();
                }

                t._suggestionFactory.registerCustomCallback("formatBlock", "imageStylePreApply", "join", function () {}), t._suggestionFactory.registerCustomCallback("formatBlock", "imageStylePostApply", "join", function () {}), t._suggestionFactory.registerCustomCallback("formatInline", "imageStylePostApply", "join", function () {}), t._suggestionFactory.registerCustomCallback("formatBlock", "imageStylePreApply", "accept", function () {}), t._suggestionFactory.registerCustomCallback("formatBlock", "imageStylePreApply", "discard", function (e, n) {
                  t._suggestionFactory.getSuggestionCallback("formatBlock", "", "accept")(e, {
                    commandName: n.commandName,
                    commandParams: n.commandReversedParams
                  });
                }), t._suggestionFactory.registerCustomCallback("formatBlock", "imageStylePreApply", "chain", c);
              }

              var r = [{
                type: "formatBlock",
                subType: "imageStylePreApply"
              }, {
                type: "insertion",
                subType: "imageCaption"
              }, {
                type: "formatBlock",
                subType: "convertInlineImageToBlock"
              }, {
                type: "insertion",
                subType: "convertInlineImageToBlock"
              }];

              function a(e, i) {
                var o = r.findIndex(function (_ref85) {
                  var t = _ref85.type,
                      n = _ref85.subType;
                  return e.type == t && e.subType == n;
                }),
                    s = r.findIndex(function (_ref86) {
                  var e = _ref86.type,
                      t = _ref86.subType;
                  return i.type == e && i.subType == t;
                });
                if (o < 0 || s < 0) return !1;
                var a = e.getFirstRange(),
                    c = i.getFirstRange();
                if ((0 == o || 1 == o) && 2 == s && a.isIntersecting(c)) return !0;

                if (2 == o && 3 == s) {
                  var _e343 = t._findSuggestions(a, "insertion").filter(function (_ref87) {
                    var e = _ref87.suggestion,
                        t = _ref87.meta;
                    return t.isOwn && "convertInlineImageToBlock" == e.subType;
                  });

                  if (_e343.length > 1 && c.end.isEqual(a.start)) return !0;
                  if (1 == _e343.length && (a.start.isEqual(c.end) || a.end.isEqual(c.start))) return !0;
                }

                if (3 == o && 3 == s && a.start.isBefore(c.start)) {
                  var _e344 = a.end.nodeAfter,
                      _t314 = c.start.nodeBefore;
                  return n.isBlockImage(_e344) && _e344 === _t314;
                }

                return !1;
              }

              function c(e, t) {
                return a(e, t) ? [e, t] : a(t, e) ? [t, e] : null;
              }

              e.model.document.registerPostFixer(function () {
                var i = !1;
                var o = Array.from(e.model.document.differ.getChangedMarkers());

                for (var _i219 = 0, _o116 = o; _i219 < _o116.length; _i219++) {
                  var _o116$_i = _o116[_i219],
                      _e345 = _o116$_i.name,
                      _r61 = _o116$_i.data;

                  var _t$_splitMarkerName = t._splitMarkerName(_e345),
                      _o117 = _t$_splitMarkerName.group,
                      _s42 = _t$_splitMarkerName.type,
                      _a27 = _t$_splitMarkerName.subType,
                      _c13 = _t$_splitMarkerName.id;

                  if ("suggestion" == _o117 && t.hasSuggestion(_c13)) {
                    if ("formatBlock" == _s42 && ("imageStylePreApply" == _a27 || "imageStylePostApply" == _a27)) {
                      var _e346 = t.getSuggestion(_c13);

                      if (_r61.newRange) {
                        var _o118 = _e346.getFirstRange().getContainedElement();

                        if (n.isBlockImage(_o118)) continue;
                        t.discardSuggestion(_e346), i = !0;
                      }
                    }

                    if ("insertion" == _s42 && "imageCaption" == _a27 && !_r61.newRange) {
                      var _e347 = t.getSuggestion(_c13);

                      _e347.next && _e347.next.isInContent && (t.discardSuggestion(_e347.next), i = !0);
                    }
                  }
                }

                return i;
              }), e.plugins.has("ImageResize") && t.enableCommand("resizeImage", function (i, o) {
                var r = n.getClosestSelectedImageElement(e.model.document.selection);
                r.getAttribute("width") != o.width && e.model.change(function () {
                  t.markBlockFormat(r, {
                    commandName: "resizeImage",
                    commandParams: [o]
                  });
                });
              }), e.plugins.has("ImageTextAlternativeEditing") && t.enableCommand("imageTextAlternative", function (i, o) {
                var r = n.getClosestSelectedImageElement(e.model.document.selection);
                (r.hasAttribute("alt") ? r.getAttribute("alt") : "") != o.newValue && e.model.change(function () {
                  t.markBlockFormat(r, {
                    commandName: "imageTextAlternative",
                    commandParams: [o]
                  });
                });
              }), t._descriptionFactory.registerDescriptionCallback(function (e) {
                if (r.find(function (_ref88) {
                  var t = _ref88.type,
                      n = _ref88.subType;
                  return e.type == t && e.subType == n;
                })) return e.previous ? {} : void 0;
              }), t._descriptionFactory.registerDescriptionCallback(function (e) {
                if ("insertion" == e.type || "deletion" == e.type) {
                  var _t315 = e.getContainedElement();

                  if (_t315 && _t315.is("element", "caption")) return {
                    type: "insertion" == e.type ? "addObject" : "removeObject",
                    name: _t315.name,
                    quantity: 1
                  };
                }
              }), t._descriptionFactory.registerDescriptionCallback(function (e) {
                return "formatBlock" == e.type && "convertInlineImageToBlock" == e.subType ? {
                  type: "format",
                  content: "Inline image to block image"
                } : "formatBlock" == e.type && "convertBlockImageToInline" == e.subType ? {
                  type: "format",
                  content: "Block image to inline image"
                } : void 0;
              }), t._descriptionFactory.registerDescriptionCallback(function (e) {
                var t = e.data;

                if (t) {
                  if ("imageStyle" == t.commandName) {
                    var _e348 = t.commandParams[0].value;
                    return function (e) {
                      return {
                        type: "format",
                        content: o("*Format:* %0", e)
                      };
                    }("side" === _e348 ? o({
                      string: "side image",
                      id: "FORMAT_SIDE_IMAGE"
                    }) : i[_e348] || _e348);
                  }

                  if ("imageTextAlternative" == t.commandName) {
                    var _e349 = t.commandParams[0].newValue;
                    return _e349 ? {
                      type: "format",
                      content: o("*Set image text alternative:* %0", '"' + _e349 + '"')
                    } : {
                      type: "format",
                      content: o("*Remove image text alternative*")
                    };
                  }

                  if ("resizeImage" == t.commandName) {
                    var _e350 = t.commandParams[0].width;
                    return _e350 ? {
                      type: "format",
                      content: o("*Set image width:* %0", _e350)
                    } : {
                      type: "format",
                      content: o("*Reset image width*")
                    };
                  }
                }
              });
            }
          }]);

          return xv;
        }(st);

        var yv = /*#__PURE__*/function (_st51) {
          _inherits(yv, _st51);

          var _super178 = _createSuper(yv);

          function yv() {
            _classCallCheck(this, yv);

            return _super178.apply(this, arguments);
          }

          _createClass(yv, [{
            key: "afterInit",
            value: function afterInit() {
              var _this291 = this;

              var e = this.editor,
                  t = e.plugins.get("TrackChangesEditing");
              e.plugins.has("IndentEditing") && (t.enableCommand("indent"), t.enableCommand("outdent"));
              var n = e.locale.t;

              if (e.plugins.has("IndentBlock")) {
                var _loop9 = function _loop9() {
                  var n = _arr3[_i220];
                  t.enableCommand(n, function () {
                    var i = Array.from(_this291.editor.model.document.selection.getSelectedBlocks()).filter(function (e) {
                      return _this291.editor.model.schema.checkAttribute(e, "blockIndent");
                    });
                    e.model.change(function () {
                      var _iterator443 = _createForOfIteratorHelper(i),
                          _step443;

                      try {
                        for (_iterator443.s(); !(_step443 = _iterator443.n()).done;) {
                          var _e351 = _step443.value;
                          t.markBlockFormat(_e351, {
                            commandName: n,
                            commandParams: [{
                              value: ""
                            }],
                            formatGroupId: "indentBlock"
                          });
                        }
                      } catch (err) {
                        _iterator443.e(err);
                      } finally {
                        _iterator443.f();
                      }
                    });
                  });
                };

                for (var _i220 = 0, _arr3 = ["indentBlock", "outdentBlock"]; _i220 < _arr3.length; _i220++) {
                  _loop9();
                }

                t._descriptionFactory.registerDescriptionCallback(function (e) {
                  var i = e.data;
                  if (!i) return;
                  if ("indentBlock" != i.commandName && "outdentBlock" != i.commandName) return;

                  var o = e.getItems()[0],
                      r = t._descriptionFactory.getItemLabel(o.name);

                  return "indentBlock" == i.commandName ? {
                    type: "format",
                    content: n("*Indent:* %0", r)
                  } : "outdentBlock" == i.commandName ? {
                    type: "format",
                    content: n("*Outdent:* %0", r)
                  } : void 0;
                });
              }
            }
          }]);

          return yv;
        }(st);

        var Cv = ["requires", "editor", "plugins", "TrackChangesEditing", "enableCommand", "get"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(Cv, 258);

        var Tv = function Tv(e, t) {
          return Cv[e -= 0];
        };

        var Av = /*#__PURE__*/function (_st52, _Tv) {
          _inherits(Av, _st52);

          var _super179 = _createSuper(Av);

          function Av() {
            _classCallCheck(this, Av);

            return _super179.apply(this, arguments);
          }

          _createClass(Av, [{
            key: "init",
            value: function init() {
              this[Tv("0x1")][Tv("0x2")][Tv("0x5")](Tv("0x3"))[Tv("0x4")]("input");
            }
          }], [{
            key: _Tv,
            get: function get() {
              return [Dp];
            }
          }]);

          return Av;
        }(st, Tv("0x0"));

        var Ev = /*#__PURE__*/function (_st53) {
          _inherits(Ev, _st53);

          var _super180 = _createSuper(Ev);

          function Ev() {
            _classCallCheck(this, Ev);

            return _super180.apply(this, arguments);
          }

          _createClass(Ev, [{
            key: "afterInit",
            value: function afterInit() {
              var _this292 = this;

              var e = this.editor;
              if (!e.plugins.has("LinkEditing")) return;
              var t = e.plugins.get("TrackChangesEditing");
              t.enableCommand("link", function (n, i) {
                var o = e.model.document.selection;
                var r = [];

                if (o.isCollapsed) {
                  if (!o.hasAttribute("linkHref")) return void n(i);
                  {
                    var _t316 = $p(o.getFirstPosition(), "linkHref", o.getAttribute("linkHref"), e.model);

                    r = [_t316];
                  }
                } else r = Array.from(o.getRanges());

                e.model.change(function () {
                  var _iterator444 = _createForOfIteratorHelper(r),
                      _step444;

                  try {
                    for (_iterator444.s(); !(_step444 = _iterator444.n()).done;) {
                      var _e352 = _step444.value;
                      t.markInlineFormat(_e352, {
                        commandName: "link",
                        commandParams: [i]
                      });
                    }
                  } catch (err) {
                    _iterator444.e(err);
                  } finally {
                    _iterator444.f();
                  }
                });
              }), t.enableCommand("unlink", function () {
                var n = _this292.editor.model,
                    i = n.document.selection;
                n.change(function () {
                  var n = [];
                  n = i.isCollapsed ? [$p(i.getFirstPosition(), "linkHref", i.getAttribute("linkHref"), e.model)] : $_("linkHref", i.getFirstRange(), e.model);

                  var _iterator445 = _createForOfIteratorHelper(n),
                      _step445;

                  try {
                    for (_iterator445.s(); !(_step445 = _iterator445.n()).done;) {
                      var _e353 = _step445.value;
                      t.markInlineFormat(_e353, {
                        commandName: "unlink",
                        commandParams: []
                      });
                    }
                  } catch (err) {
                    _iterator445.e(err);
                  } finally {
                    _iterator445.f();
                  }
                });
              }), t._descriptionFactory.registerDescriptionCallback(function (t) {
                var n = t.data,
                    i = e.locale.t;
                if (n) return "link" == n.commandName ? {
                  type: "format",
                  content: i("*Set link:* %0", '"' + n.commandParams[0] + '"')
                } : "unlink" == n.commandName ? {
                  type: "format",
                  content: i("*Remove link*")
                } : void 0;
              });
            }
          }]);

          return Ev;
        }(st);

        var Iv = /*#__PURE__*/function (_st54) {
          _inherits(Iv, _st54);

          var _super181 = _createSuper(Iv);

          function Iv() {
            _classCallCheck(this, Iv);

            return _super181.apply(this, arguments);
          }

          _createClass(Iv, [{
            key: "afterInit",
            value: function afterInit() {
              var e = this.editor;
              if (!e.plugins.has("ListEditing")) return;
              var t = e.plugins.get("TrackChangesEditing"),
                  n = e.plugins.has("TodoListEditing");

              function i(n) {
                return function () {
                  var i = e.model.document.selection,
                      o = e.commands.get(n);
                  if (o.value) return void e.execute("paragraph", {});

                  var r = n.slice(0, -4),
                      s = function (e, t, n) {
                    var i = Array.from(e).filter(function (e) {
                      return function (e, t) {
                        return t.checkChild(e.parent, "listItem") && !t.isObject(e);
                      }(e, n);
                    });
                    i = i.filter(function (e) {
                      return !e.is("element", "listItem") || e.getAttribute("listType") != t;
                    });
                    var o = new Set();

                    var _iterator446 = _createForOfIteratorHelper(i),
                        _step446;

                    try {
                      for (_iterator446.s(); !(_step446 = _iterator446.n()).done;) {
                        var _e354 = _step446.value;
                        _e354.is("element", "listItem") ? o.add(Sv(_e354)) : o.add(_e354);
                      }
                    } catch (err) {
                      _iterator446.e(err);
                    } finally {
                      _iterator446.f();
                    }

                    return Array.from(o);
                  }(i.getSelectedBlocks(), r, e.model.schema);

                  e.model.change(function () {
                    var _iterator447 = _createForOfIteratorHelper(s),
                        _step447;

                    try {
                      for (_iterator447.s(); !(_step447 = _iterator447.n()).done;) {
                        var _e355 = _step447.value;
                        t.markBlockFormat(_e355, {
                          commandName: n,
                          commandParams: [{
                            forceValue: !o.value
                          }],
                          formatGroupId: "blockName"
                        }, Mv(_e355));
                      }
                    } catch (err) {
                      _iterator447.e(err);
                    } finally {
                      _iterator447.f();
                    }
                  });
                };
              }

              function o(n) {
                return function () {
                  var i = function (e) {
                    var t = (e = Array.from(e)).findIndex(function (e) {
                      return "listItem" != e.name;
                    });
                    return t > -1 && (e = e.slice(0, t)), e;
                  }(e.model.document.selection.getSelectedBlocks()),
                      o = e.model.createRange(e.model.createPositionAt(i[0], "before"), e.model.createPositionAt(i[i.length - 1], "end"));

                  e.model.change(function () {
                    t.markBlockFormat(o, {
                      commandName: n,
                      commandParams: [],
                      formatGroupId: "listIndent"
                    }, function (e) {
                      var t = new Set();

                      var _iterator448 = _createForOfIteratorHelper(e),
                          _step448;

                      try {
                        for (_iterator448.s(); !(_step448 = _iterator448.n()).done;) {
                          var _n271 = _step448.value;
                          var _e356 = _n271.nextSibling;

                          for (; _e356 && _e356.getAttribute("listIndent") > _n271.getAttribute("listIndent");) {
                            t.add(_e356), _e356 = _e356.nextSibling;
                          }
                        }
                      } catch (err) {
                        _iterator448.e(err);
                      } finally {
                        _iterator448.f();
                      }

                      return Array.from(t);
                    }(i));
                  });
                };
              }

              t.enableCommand("numberedList", i("numberedList")), t.enableCommand("bulletedList", i("bulletedList")), n && t.enableCommand("todoList", i("todoList")), t.enableCommand("indentList", o("indentList")), t.enableCommand("outdentList", o("outdentList")), n && t.enableCommand("checkTodoList", function () {
                var n = e.commands.get("checkTodoList"),
                    i = Array.from(n._selectedElements);
                i.filter(function (e) {
                  return e.getAttribute("todoListChecked") != n.value;
                }), e.model.change(function () {
                  var _iterator449 = _createForOfIteratorHelper(i),
                      _step449;

                  try {
                    for (_iterator449.s(); !(_step449 = _iterator449.n()).done;) {
                      var _e357 = _step449.value;
                      t.markBlockFormat(_e357, {
                        commandName: "checkTodoList",
                        commandParams: [{
                          forceValue: !n.value
                        }]
                      });
                    }
                  } catch (err) {
                    _iterator449.e(err);
                  } finally {
                    _iterator449.f();
                  }
                });
              });
              var r = e.locale.t;
              t._descriptionFactory.registerElementLabel("listItem", function (e) {
                return r({
                  string: "list item",
                  plural: "%0 list items",
                  id: "ELEMENT_LIST_ITEM"
                }, e);
              }), t._descriptionFactory.registerDescriptionCallback(function (e) {
                var t = e.data;

                if (t) {
                  if ("numberedList" == t.commandName || "bulletedList" == t.commandName || "todoList" == t.commandName) switch (t.commandName.replace("List", "")) {
                    case "bulleted":
                      return n(r({
                        string: "bulleted list",
                        id: "ELEMENT_BULLETED_LIST"
                      }));

                    case "numbered":
                      return n(r({
                        string: "numbered list",
                        id: "ELEMENT_NUMBERED_LIST"
                      }));

                    case "todo":
                      return n(r({
                        string: "to-do list",
                        id: "ELEMENT_TODO_LIST"
                      }));
                  }
                  if ("indentList" == t.commandName) return {
                    type: "format",
                    content: r("*Indent:* %0", r({
                      string: "list item",
                      id: "ELEMENT_LIST_ITEM"
                    }))
                  };
                  if ("outdentList" == t.commandName) return {
                    type: "format",
                    content: r("*Outdent:* %0", r({
                      string: "list item",
                      id: "ELEMENT_LIST_ITEM"
                    }))
                  };
                  if ("checkTodoList" == t.commandName) return t.commandParams[0].forceValue ? {
                    type: "format",
                    content: r("*Check item*")
                  } : {
                    type: "format",
                    content: r("*Uncheck item*")
                  };
                }

                function n(e) {
                  return {
                    type: "format",
                    content: r("*Change to:* %0", e)
                  };
                }
              });
            }
          }]);

          return Iv;
        }(st);

        function Sv(e) {
          var t = e.getAttribute("listIndent");
          if (0 == t) return e;
          var n = e;

          for (; e.previousSibling && e.previousSibling.is("element", "listItem");) {
            var _i221 = e.previousSibling.getAttribute("listIndent");

            if (_i221 == t) n = e.previousSibling;else if (_i221 < t) break;
            e = e.previousSibling;
          }

          return n;
        }

        function Mv(e) {
          var t = [];

          if (e.is("element", "listItem") && e.getAttribute("listIndent") > 0) {
            var _n272 = e.nextSibling;

            for (; _n272 && "listItem" == _n272.name && _n272.getAttribute("listIndent") == e.getAttribute("listIndent");) {
              t.push(_n272), _n272 = _n272.nextSibling;
            }
          }

          return t;
        }

        n(162);

        var Pv = /*#__PURE__*/function (_st55) {
          _inherits(Pv, _st55);

          var _super182 = _createSuper(Pv);

          function Pv() {
            _classCallCheck(this, Pv);

            return _super182.apply(this, arguments);
          }

          _createClass(Pv, [{
            key: "afterInit",
            value: function afterInit() {
              var e = this.editor;
              if (!e.plugins.has("MediaEmbedEditing")) return;
              var t = e.plugins.get("TrackChangesEditing"),
                  n = e.locale.t;
              t.enableCommand("mediaEmbed"), t._descriptionFactory.registerElementLabel("media", function (e) {
                return n({
                  string: "media item",
                  plural: "%0 media items",
                  id: "ELEMENT_MEDIA"
                }, e);
              }), e.conversion["for"]("dataDowncast").elementToElement({
                model: "media",
                view: function view(e, _ref89) {
                  var t = _ref89.writer,
                      n = _ref89.options;
                  if (n.showSuggestionHighlights) return t.createEmptyElement("div");
                },
                converterPriority: "high"
              }), e.data.downcastDispatcher.on("attribute:url:media", function (e, t, n) {
                n.options.showSuggestionHighlights && e.stop();
              }, {
                priority: "high"
              });
            }
          }]);

          return Pv;
        }(st);

        var Rv = ["plugins", "has", "enableCommand", "editor", "MentionEditing", "mention", "TrackChangesEditing"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(Rv, 291);

        var Nv = function Nv(e, t) {
          return Rv[e -= 0];
        };

        var Ov = /*#__PURE__*/function (_st56) {
          _inherits(Ov, _st56);

          var _super183 = _createSuper(Ov);

          function Ov() {
            _classCallCheck(this, Ov);

            return _super183.apply(this, arguments);
          }

          _createClass(Ov, [{
            key: "afterInit",
            value: function afterInit() {
              var e = this[Nv("0x6")];
              e[Nv("0x3")][Nv("0x4")](Nv("0x0")) && e.plugins.get(Nv("0x2"))[Nv("0x5")](Nv("0x1"));
            }
          }]);

          return Ov;
        }(st);

        n(164);

        var Dv = /*#__PURE__*/function (_st57) {
          _inherits(Dv, _st57);

          var _super184 = _createSuper(Dv);

          function Dv() {
            _classCallCheck(this, Dv);

            return _super184.apply(this, arguments);
          }

          _createClass(Dv, [{
            key: "afterInit",
            value: function afterInit() {
              var e = this.editor;
              if (!e.plugins.has("PageBreakEditing")) return;
              e.plugins.get("TrackChangesEditing").enableCommand("pageBreak");
              var t = e.plugins.get("TrackChangesEditing"),
                  n = e.locale.t;

              t._descriptionFactory.registerElementLabel("pageBreak", function (e) {
                return n({
                  string: "page break",
                  plural: "%0 page breaks",
                  id: "ELEMENT_PAGE_BREAK"
                }, e);
              });
            }
          }]);

          return Dv;
        }(st);

        var Lv = /*#__PURE__*/function (_st58) {
          _inherits(Lv, _st58);

          var _super185 = _createSuper(Lv);

          function Lv() {
            _classCallCheck(this, Lv);

            return _super185.apply(this, arguments);
          }

          _createClass(Lv, [{
            key: "afterInit",
            value: function afterInit() {
              var _this293 = this;

              var e = this.editor;
              if (!e.plugins.has("Paragraph")) return;
              var t = e.locale.t,
                  n = e.plugins.get("TrackChangesEditing");
              n._descriptionFactory.registerElementLabel("paragraph", function (e) {
                return t({
                  string: "paragraph",
                  plural: "%0 paragraphs",
                  id: "ELEMENT_PARAGRAPH"
                }, e);
              }), n.enableCommand("paragraph", function (t) {
                var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
                var o = e.model.document,
                    r = i.selection || o.selection,
                    s = Array.from(r.getSelectedBlocks()).filter(function (e) {
                  return function (e, t) {
                    return t.checkChild(e.parent, "paragraph") && !t.isObject(e) && "paragraph" != e.name;
                  }(e, _this293.editor.model.schema);
                });
                e.model.change(function () {
                  var _iterator450 = _createForOfIteratorHelper(s),
                      _step450;

                  try {
                    for (_iterator450.s(); !(_step450 = _iterator450.n()).done;) {
                      var _e358 = _step450.value;
                      n.markBlockFormat(_e358, {
                        commandName: "paragraph",
                        commandParams: [],
                        formatGroupId: "blockName"
                      }, G_(_e358));
                    }
                  } catch (err) {
                    _iterator450.e(err);
                  } finally {
                    _iterator450.f();
                  }
                });
              }), n._descriptionFactory.registerDescriptionCallback(function (e) {
                var n = e.data;
                if (n && "paragraph" == n.commandName) return {
                  type: "format",
                  content: t("*Change to:* %0", t({
                    string: "paragraph",
                    plural: "%0 paragraphs",
                    id: "ELEMENT_PARAGRAPH"
                  }))
                };
              }), n.enableCommand("insertParagraph"), e.editing.downcastDispatcher.on("addMarker:suggestion:insertion", zv(e), {
                priority: "highest"
              }), e.data.downcastDispatcher.on("addMarker:suggestion:insertion", function (t, n, i) {
                i.options.showSuggestionHighlights && zv(e, {
                  showActiveMarker: !1
                })(t, n, i);
              }, {
                priority: "highest"
              });
              var i = n._descriptionFactory;
              i.registerDescriptionCallback(function (n) {
                if ("insertion" !== n.type) return;

                var _n$getFirstRange = n.getFirstRange(),
                    o = _n$getFirstRange.start,
                    r = _n$getFirstRange.end;

                if (!o.isTouching(r) || !o.nodeAfter) return;
                var s = e.model.schema,
                    a = o.nodeAfter;
                return s.isBlock(a) && !s.isLimit(a) && s.checkChild(a, "$text") ? {
                  type: "insertion",
                  content: t("*Insert:* %0", i.getItemLabel(a.name, 1))
                } : void 0;
              });
            }
          }]);

          return Lv;
        }(st);

        function zv(e) {
          var _ref90 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
              _ref90$showActiveMark = _ref90.showActiveMarker,
              t = _ref90$showActiveMark === void 0 ? !0 : _ref90$showActiveMark;

          return function (n, i, o) {
            var r = e.plugins.get("TrackChangesEditing"),
                s = i.markerRange.start,
                a = i.markerRange.end,
                c = e.model.schema;
            if (!s.isTouching(a) || !s.nodeAfter) return;
            var l = s.nodeAfter;

            if (c.isBlock(l) && !c.isLimit(l) && c.checkChild(l, "$text")) {
              if (!o.consumable.consume(i.markerRange, n.name)) return;

              var _e359 = o.writer.createUIElement("span", {
                "class": "ck-suggestion-marker-split"
              }),
                  _s43 = o.mapper.toViewPosition(a);

              t && r.activeMarkers.includes(i.markerName) && o.writer.addClass("ck-suggestion-marker--active", _e359), o.writer.insert(_s43, _e359), o.mapper.bindElementToMarker(_e359, i.markerName);
            }
          };
        }

        var Vv = /*#__PURE__*/function (_st59) {
          _inherits(Vv, _st59);

          var _super186 = _createSuper(Vv);

          function Vv() {
            _classCallCheck(this, Vv);

            return _super186.apply(this, arguments);
          }

          _createClass(Vv, [{
            key: "afterInit",
            value: function afterInit() {
              var e = this.editor;
              if (!e.plugins.has("RemoveFormatEditing")) return;
              var t = e.plugins.get("TrackChangesEditing");
              t.enableCommand("removeFormat", function (n) {
                var i = e.model.document.selection;
                i.isCollapsed ? n() : e.model.change(function () {
                  var n = Array.from(i.getRanges());

                  for (var _i222 = 0, _n273 = n; _i222 < _n273.length; _i222++) {
                    var _i223 = _n273[_i222];

                    var _iterator451 = _createForOfIteratorHelper(_i223.getItems()),
                        _step451;

                    try {
                      for (_iterator451.s(); !(_step451 = _iterator451.n()).done;) {
                        var _n274 = _step451.value;
                        Bv(_n274, e.model.schema) && t.markInlineFormat(e.model.createRangeOn(_n274), {
                          commandName: "removeFormat",
                          commandParams: []
                        });
                      }
                    } catch (err) {
                      _iterator451.e(err);
                    } finally {
                      _iterator451.f();
                    }
                  }
                });
              });
              var n = e.locale.t;

              t._descriptionFactory.registerDescriptionCallback(function (e) {
                var t = e.data;
                if (t && "removeFormat" == t.commandName) return {
                  type: "format",
                  content: n("*Remove all formatting*")
                };
              });
            }
          }]);

          return Vv;
        }(st);

        function Bv(e, t) {
          var _iterator452 = _createForOfIteratorHelper(e.getAttributes()),
              _step452;

          try {
            for (_iterator452.s(); !(_step452 = _iterator452.n()).done;) {
              var _step452$value = _slicedToArray(_step452.value, 1),
                  _n275 = _step452$value[0];

              var _e360 = t.getAttributeProperties(_n275);

              if (_e360 && _e360.isFormatting) return !0;
            }
          } catch (err) {
            _iterator452.e(err);
          } finally {
            _iterator452.f();
          }

          return !1;
        }

        var Fv = ["discardSelectedSuggestions", "afterInit", "goToPreviousRestrictedEditingException", "has", "enableCommand", "acceptSuggestion", "discardAllSuggestions", "plugins", "acceptAllSuggestions", "goToNextRestrictedEditingException", "RestrictedEditingModeEditing", "TrackChangesEditing", "editor"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(Fv, 263);

        var jv = function jv(e, t) {
          return Fv[e -= 0];
        };

        var Hv = /*#__PURE__*/function (_st60, _jv) {
          _inherits(Hv, _st60);

          var _super187 = _createSuper(Hv);

          function Hv() {
            _classCallCheck(this, Hv);

            return _super187.apply(this, arguments);
          }

          _createClass(Hv, [{
            key: _jv,
            value: function value() {
              var e = this[jv("0x9")];
              if (!e[jv("0x4")][jv("0x0")]("RestrictedEditingModeEditing")) return;
              var t = e[jv("0x4")].get(jv("0x8"));
              t[jv("0x1")](jv("0xc")), t[jv("0x1")](jv("0x6"));
              var n = e[jv("0x4")].get(jv("0x7"));
              n[jv("0x1")]("trackChanges"), n.enableCommand(jv("0x2")), n[jv("0x1")]("discardSuggestion"), n[jv("0x1")](jv("0x5")), n[jv("0x1")](jv("0x3")), n.enableCommand("acceptSelectedSuggestions"), n[jv("0x1")](jv("0xa"));
            }
          }]);

          return Hv;
        }(st, jv("0xb"));

        var Uv = /*#__PURE__*/function (_st61) {
          _inherits(Uv, _st61);

          var _super188 = _createSuper(Uv);

          function Uv() {
            _classCallCheck(this, Uv);

            return _super188.apply(this, arguments);
          }

          _createClass(Uv, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = e.plugins.get("TrackChangesEditing"),
                  n = e.t;
              t.enableCommand("shiftEnter"), e.editing.downcastDispatcher.on("addMarker:suggestion:insertion", Wv(e), {
                priority: "high"
              }), e.editing.downcastDispatcher.on("addMarker:suggestion:deletion", Wv(e), {
                priority: "high"
              }), e.data.downcastDispatcher.on("addMarker:suggestion", function (t, n, i) {
                i.options.showSuggestionHighlights && Wv(e, {
                  showActiveMarker: !1
                })(t, n, i);
              }), t._descriptionFactory.registerElementLabel("softBreak", function (e) {
                return n({
                  id: "ELEMENT_LINE_BREAK",
                  string: "line break",
                  plural: "%0 line breaks"
                }, e);
              });
            }
          }], [{
            key: "requires",
            get: function get() {
              return [_p];
            }
          }]);

          return Uv;
        }(st);

        function Wv(e) {
          var _ref91 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
              _ref91$showActiveMark = _ref91.showActiveMarker,
              t = _ref91$showActiveMark === void 0 ? !0 : _ref91$showActiveMark;

          return function (n, i, o) {
            var r = e.plugins.get("TrackChangesEditing");
            if (!o.consumable.test(i.markerRange, n.name)) return;
            var s = e.model;

            var _iterator453 = _createForOfIteratorHelper(i.markerRange.getItems()),
                _step453;

            try {
              for (_iterator453.s(); !(_step453 = _iterator453.n()).done;) {
                var _e361 = _step453.value;
                if (!_e361.is("element", "softBreak")) continue;

                var _n276 = "deletion" == i.markerName.split(":")[1] ? "merge" : "split",
                    _a28 = o.writer.createUIElement("span", {
                  "class": "ck-suggestion-marker-" + _n276
                }),
                    _c14 = o.mapper.toViewPosition(s.createPositionBefore(_e361));

                t && r.activeMarkers.includes(i.markerName) && o.writer.addClass("ck-suggestion-marker--active", _a28), o.writer.insert(_c14, _a28), o.mapper.bindElementToMarker(_a28, i.markerName);
              }
            } catch (err) {
              _iterator453.e(err);
            } finally {
              _iterator453.f();
            }
          };
        }

        var qv = /*#__PURE__*/function (_st62) {
          _inherits(qv, _st62);

          var _super189 = _createSuper(qv);

          function qv() {
            _classCallCheck(this, qv);

            return _super189.apply(this, arguments);
          }

          _createClass(qv, [{
            key: "afterInit",
            value: function afterInit() {
              var e = this.editor,
                  t = e.model;
              if (!e.plugins.has("StandardEditingModeEditing")) return;
              var n = e.plugins.get("TrackChangesEditing"),
                  i = "restrictedEditingException",
                  o = e.commands.get(i);
              n.enableCommand(i, function (e) {
                var r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
                var s = t.document.selection;
                if (s.isCollapsed) return void e(r);
                var a = void 0 !== r.forceValue ? r.forceValue : !o.value;
                t.change(function () {
                  var e = Array.from(s.getRanges());

                  for (var _i224 = 0, _e362 = e; _i224 < _e362.length; _i224++) {
                    var _o119 = _e362[_i224];

                    var _e363 = a ? [_o119] : $_(i, _o119, t);

                    var _iterator454 = _createForOfIteratorHelper(_e363),
                        _step454;

                    try {
                      for (_iterator454.s(); !(_step454 = _iterator454.n()).done;) {
                        var _t317 = _step454.value;
                        n.markInlineFormat(_t317, {
                          commandName: i,
                          commandParams: [{
                            forceValue: a
                          }]
                        });
                      }
                    } catch (err) {
                      _iterator454.e(err);
                    } finally {
                      _iterator454.f();
                    }
                  }
                });
              });
              var r = e.t;

              n._descriptionFactory.registerDescriptionCallback(function (e) {
                var t = e.data;
                if (t && t.commandName == i) return t.commandParams[0].forceValue ? {
                  type: "format",
                  content: r({
                    string: "*Enable in restricted editing mode*",
                    id: "FORMAT_RESTRICTED_ENABLED"
                  })
                } : {
                  type: "format",
                  content: r({
                    string: "*Disable in restricted editing mode*",
                    id: "FORMAT_RESTRICTED_DISABLED"
                  })
                };
              });
            }
          }]);

          return qv;
        }(st);

        var $v = /*#__PURE__*/function (_Symbol$iterator14) {
          function $v(e) {
            var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

            _classCallCheck(this, $v);

            this._table = e, this._startRow = void 0 !== t.row ? t.row : t.startRow || 0, this._endRow = void 0 !== t.row ? t.row : t.endRow, this._startColumn = void 0 !== t.column ? t.column : t.startColumn || 0, this._endColumn = void 0 !== t.column ? t.column : t.endColumn, this._includeAllSlots = !!t.includeAllSlots, this._skipRows = new Set(), this._row = 0, this._rowIndex = 0, this._column = 0, this._cellIndex = 0, this._spannedCells = new Map(), this._nextCellAtColumn = -1;
          }

          _createClass($v, [{
            key: _Symbol$iterator14,
            value: function value() {
              return this;
            }
          }, {
            key: "next",
            value: function next() {
              var e = this._table.getChild(this._rowIndex);

              if (!e || this._isOverEndRow()) return {
                done: !0
              };
              if (!e.is("element", "tableRow")) return this._rowIndex++, this.next();
              if (this._isOverEndColumn()) return this._advanceToNextRow();
              var t = null;

              var n = this._getSpanned();

              if (n) this._includeAllSlots && !this._shouldSkipSlot() && (t = this._formatOutValue(n.cell, n.row, n.column));else {
                var _n277 = e.getChild(this._cellIndex);

                if (!_n277) return this._advanceToNextRow();

                var _i225 = parseInt(_n277.getAttribute("colspan") || 1),
                    _o120 = parseInt(_n277.getAttribute("rowspan") || 1);

                (_i225 > 1 || _o120 > 1) && this._recordSpans(_n277, _o120, _i225), this._shouldSkipSlot() || (t = this._formatOutValue(_n277)), this._nextCellAtColumn = this._column + _i225;
              }
              return this._column++, this._column == this._nextCellAtColumn && this._cellIndex++, t || this.next();
            }
          }, {
            key: "skipRow",
            value: function skipRow(e) {
              this._skipRows.add(e);
            }
          }, {
            key: "_advanceToNextRow",
            value: function _advanceToNextRow() {
              return this._row++, this._rowIndex++, this._column = 0, this._cellIndex = 0, this._nextCellAtColumn = -1, this.next();
            }
          }, {
            key: "_isOverEndRow",
            value: function _isOverEndRow() {
              return void 0 !== this._endRow && this._row > this._endRow;
            }
          }, {
            key: "_isOverEndColumn",
            value: function _isOverEndColumn() {
              return void 0 !== this._endColumn && this._column > this._endColumn;
            }
          }, {
            key: "_formatOutValue",
            value: function _formatOutValue(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._row;
              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this._column;
              return {
                done: !1,
                value: new Gv(this, e, t, n)
              };
            }
          }, {
            key: "_shouldSkipSlot",
            value: function _shouldSkipSlot() {
              var e = this._skipRows.has(this._row),
                  t = this._row < this._startRow,
                  n = this._column < this._startColumn,
                  i = void 0 !== this._endColumn && this._column > this._endColumn;

              return e || t || n || i;
            }
          }, {
            key: "_getSpanned",
            value: function _getSpanned() {
              var e = this._spannedCells.get(this._row);

              return e && e.get(this._column) || null;
            }
          }, {
            key: "_recordSpans",
            value: function _recordSpans(e, t, n) {
              var i = {
                cell: e,
                row: this._row,
                column: this._column
              };

              for (var _e364 = this._row; _e364 < this._row + t; _e364++) {
                for (var _t318 = this._column; _t318 < this._column + n; _t318++) {
                  _e364 == this._row && _t318 == this._column || this._markSpannedCell(_e364, _t318, i);
                }
              }
            }
          }, {
            key: "_markSpannedCell",
            value: function _markSpannedCell(e, t, n) {
              this._spannedCells.has(e) || this._spannedCells.set(e, new Map()), this._spannedCells.get(e).set(t, n);
            }
          }]);

          return $v;
        }(Symbol.iterator);

        var Gv = /*#__PURE__*/function () {
          function Gv(e, t, n, i) {
            _classCallCheck(this, Gv);

            this.cell = t, this.row = e._row, this.column = e._column, this.cellAnchorRow = n, this.cellAnchorColumn = i, this._cellIndex = e._cellIndex, this._rowIndex = e._rowIndex, this._table = e._table;
          }

          _createClass(Gv, [{
            key: "isAnchor",
            get: function get() {
              return this.row === this.cellAnchorRow && this.column === this.cellAnchorColumn;
            }
          }, {
            key: "cellWidth",
            get: function get() {
              return parseInt(this.cell.getAttribute("colspan") || 1);
            }
          }, {
            key: "cellHeight",
            get: function get() {
              return parseInt(this.cell.getAttribute("rowspan") || 1);
            }
          }, {
            key: "rowIndex",
            get: function get() {
              return this._rowIndex;
            }
          }, {
            key: "getPositionBefore",
            value: function getPositionBefore() {
              return this._table.root.document.model.createPositionAt(this._table.getChild(this.row), this._cellIndex);
            }
          }]);

          return Gv;
        }();

        function Yv(e) {
          var t = [];

          var _iterator455 = _createForOfIteratorHelper(ex(e.getRanges())),
              _step455;

          try {
            for (_iterator455.s(); !(_step455 = _iterator455.n()).done;) {
              var _n278 = _step455.value;

              var _e365 = _n278.getContainedElement();

              _e365 && _e365.is("element", "tableCell") && t.push(_e365);
            }
          } catch (err) {
            _iterator455.e(err);
          } finally {
            _iterator455.f();
          }

          return t;
        }

        function Kv(e) {
          var t = [];

          var _iterator456 = _createForOfIteratorHelper(e.getRanges()),
              _step456;

          try {
            for (_iterator456.s(); !(_step456 = _iterator456.n()).done;) {
              var _n279 = _step456.value;

              var _e366 = _n279.start.findAncestor("tableCell");

              _e366 && t.push(_e366);
            }
          } catch (err) {
            _iterator456.e(err);
          } finally {
            _iterator456.f();
          }

          return t;
        }

        function Qv(e) {
          var t = Yv(e);
          return t.length ? t : Kv(e);
        }

        function Jv(e) {
          return tx(e.map(function (e) {
            return e.parent.index;
          }));
        }

        function Xv(e) {
          var t = e[0].findAncestor("table");
          return tx(_toConsumableArray(new $v(t)).filter(function (t) {
            return e.includes(t.cell);
          }).map(function (e) {
            return e.column;
          }));
        }

        function Zv(e, t) {
          if (e.length < 2 || !function (e) {
            var t = e[0].findAncestor("table"),
                n = Jv(e),
                i = parseInt(t.getAttribute("headingRows") || 0);
            if (!ix(n, i)) return !1;
            var o = parseInt(t.getAttribute("headingColumns") || 0);
            return ix(Xv(e), o);
          }(e)) return !1;
          var n = new Set(),
              i = new Set();
          var o = 0;

          var _iterator457 = _createForOfIteratorHelper(e),
              _step457;

          try {
            for (_iterator457.s(); !(_step457 = _iterator457.n()).done;) {
              var _r62 = _step457.value;

              var _t$getCellLocation = t.getCellLocation(_r62),
                  _e367 = _t$getCellLocation.row,
                  _s44 = _t$getCellLocation.column,
                  _a29 = parseInt(_r62.getAttribute("rowspan") || 1),
                  _c15 = parseInt(_r62.getAttribute("colspan") || 1);

              n.add(_e367), i.add(_s44), _a29 > 1 && n.add(_e367 + _a29 - 1), _c15 > 1 && i.add(_s44 + _c15 - 1), o += _a29 * _c15;
            }
          } catch (err) {
            _iterator457.e(err);
          } finally {
            _iterator457.f();
          }

          return function (e, t) {
            var n = Array.from(e.values()),
                i = Array.from(t.values()),
                o = Math.max.apply(Math, _toConsumableArray(n)),
                r = Math.min.apply(Math, _toConsumableArray(n)),
                s = Math.max.apply(Math, _toConsumableArray(i)),
                a = Math.min.apply(Math, _toConsumableArray(i));
            return (o - r + 1) * (s - a + 1);
          }(n, i) == o;
        }

        function ex(e) {
          return Array.from(e).sort(nx);
        }

        function tx(e) {
          var t = e.sort(function (e, t) {
            return e - t;
          });
          return {
            first: t[0],
            last: t[t.length - 1]
          };
        }

        function nx(e, t) {
          var n = e.start,
              i = t.start;
          return n.isBefore(i) ? -1 : 1;
        }

        function ix(_ref92, n) {
          var e = _ref92.first,
              t = _ref92.last;
          return e < n === t < n;
        }

        n(166);

        var ox = /*#__PURE__*/function (_st63) {
          _inherits(ox, _st63);

          var _super190 = _createSuper(ox);

          function ox() {
            _classCallCheck(this, ox);

            return _super190.apply(this, arguments);
          }

          _createClass(ox, [{
            key: "init",
            value: function init() {
              var _this294 = this;

              var e = this.editor;

              if (e.plugins.has("BalloonToolbar")) {
                var _t319 = e.plugins.get("BalloonToolbar");

                this.listenTo(_t319, "show", function (t) {
                  (function (e) {
                    var t = e.getSelectedElement();
                    return !(!t || !Ff(t));
                  })(e.editing.view.document.selection) && t.stop();
                }, {
                  priority: "high"
                });
              }

              this._toolbarDefinitions = new Map(), this._balloon = this.editor.plugins.get("ContextualBalloon"), this.on("change:isEnabled", function () {
                _this294._updateToolbarsVisibility();
              }), this.listenTo(e.ui, "update", function () {
                _this294._updateToolbarsVisibility();
              }), this.listenTo(e.ui.focusTracker, "change:isFocused", function () {
                _this294._updateToolbarsVisibility();
              }, {
                priority: "low"
              });
            }
          }, {
            key: "destroy",
            value: function destroy() {
              _get(_getPrototypeOf(ox.prototype), "destroy", this).call(this);

              var _iterator458 = _createForOfIteratorHelper(this._toolbarDefinitions.values()),
                  _step458;

              try {
                for (_iterator458.s(); !(_step458 = _iterator458.n()).done;) {
                  var _e368 = _step458.value;

                  _e368.view.destroy();
                }
              } catch (err) {
                _iterator458.e(err);
              } finally {
                _iterator458.f();
              }
            }
          }, {
            key: "register",
            value: function register(e, _ref93) {
              var t = _ref93.ariaLabel,
                  n = _ref93.items,
                  i = _ref93.getRelatedElement,
                  _ref93$balloonClassNa = _ref93.balloonClassName,
                  o = _ref93$balloonClassNa === void 0 ? "ck-toolbar-container" : _ref93$balloonClassNa;
              if (!n.length) return void Object(c.b)("widget-toolbar-no-items", {
                toolbarId: e
              });
              var r = this.editor,
                  s = r.t,
                  a = new Uh(r.locale);
              if (a.ariaLabel = t || s("Widget toolbar"), this._toolbarDefinitions.has(e)) throw new c.a("widget-toolbar-duplicated", this, {
                toolbarId: e
              });
              a.fillFromConfig(n, r.ui.componentFactory), this._toolbarDefinitions.set(e, {
                view: a,
                getRelatedElement: i,
                balloonClassName: o
              });
            }
          }, {
            key: "_updateToolbarsVisibility",
            value: function _updateToolbarsVisibility() {
              var e = 0,
                  t = null,
                  n = null;

              var _iterator459 = _createForOfIteratorHelper(this._toolbarDefinitions.values()),
                  _step459;

              try {
                for (_iterator459.s(); !(_step459 = _iterator459.n()).done;) {
                  var _i226 = _step459.value;

                  var _o121 = _i226.getRelatedElement(this.editor.editing.view.document.selection);

                  if (this.isEnabled && _o121) {
                    if (this.editor.ui.focusTracker.isFocused) {
                      var _r63 = _o121.getAncestors().length;

                      _r63 > e && (e = _r63, t = _o121, n = _i226);
                    } else this._isToolbarVisible(_i226) && this._hideToolbar(_i226);
                  } else this._isToolbarInBalloon(_i226) && this._hideToolbar(_i226);
                }
              } catch (err) {
                _iterator459.e(err);
              } finally {
                _iterator459.f();
              }

              n && this._showToolbar(n, t);
            }
          }, {
            key: "_hideToolbar",
            value: function _hideToolbar(e) {
              this._balloon.remove(e.view), this.stopListening(this._balloon, "change:visibleView");
            }
          }, {
            key: "_showToolbar",
            value: function _showToolbar(e, t) {
              var _this295 = this;

              this._isToolbarVisible(e) ? rx(this.editor, t) : this._isToolbarInBalloon(e) || (this._balloon.add({
                view: e.view,
                position: sx(this.editor, t),
                balloonClassName: e.balloonClassName
              }), this.listenTo(this._balloon, "change:visibleView", function () {
                var _iterator460 = _createForOfIteratorHelper(_this295._toolbarDefinitions.values()),
                    _step460;

                try {
                  for (_iterator460.s(); !(_step460 = _iterator460.n()).done;) {
                    var _e369 = _step460.value;

                    if (_this295._isToolbarVisible(_e369)) {
                      var _t320 = _e369.getRelatedElement(_this295.editor.editing.view.document.selection);

                      rx(_this295.editor, _t320);
                    }
                  }
                } catch (err) {
                  _iterator460.e(err);
                } finally {
                  _iterator460.f();
                }
              }));
            }
          }, {
            key: "_isToolbarVisible",
            value: function _isToolbarVisible(e) {
              return this._balloon.visibleView === e.view;
            }
          }, {
            key: "_isToolbarInBalloon",
            value: function _isToolbarInBalloon(e) {
              return this._balloon.hasView(e.view);
            }
          }], [{
            key: "requires",
            get: function get() {
              return [_g];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "WidgetToolbarRepository";
            }
          }]);

          return ox;
        }(st);

        function rx(e, t) {
          var n = e.plugins.get("ContextualBalloon"),
              i = sx(e, t);
          n.updatePosition(i);
        }

        function sx(e, t) {
          var n = e.editing.view,
              i = ug.defaultPositions;
          return {
            target: n.domConverter.mapViewToDom(t),
            positions: [i.northArrowSouth, i.northArrowSouthWest, i.northArrowSouthEast, i.southArrowNorth, i.southArrowNorthWest, i.southArrowNorthEast, i.viewportStickyNorth]
          };
        }

        var ax = /*#__PURE__*/function () {
          function ax(e) {
            _classCallCheck(this, ax);

            this.set("activeHandlePosition", null), this.set("proposedWidthPercents", null), this.set("proposedWidth", null), this.set("proposedHeight", null), this.set("proposedHandleHostWidth", null), this.set("proposedHandleHostHeight", null), this._options = e, this._referenceCoordinates = null;
          }

          _createClass(ax, [{
            key: "begin",
            value: function begin(e, t, n) {
              var i = new Wa(t);
              this.activeHandlePosition = function (e) {
                var t = ["top-left", "top-right", "bottom-right", "bottom-left"];

                for (var _i227 = 0, _t321 = t; _i227 < _t321.length; _i227++) {
                  var _n280 = _t321[_i227];
                  if (e.classList.contains(cx(_n280))) return _n280;
                }
              }(e), this._referenceCoordinates = function (e, t) {
                var n = new Wa(e),
                    i = t.split("-"),
                    o = {
                  x: "right" == i[1] ? n.right : n.left,
                  y: "bottom" == i[0] ? n.bottom : n.top
                };
                return o.x += e.ownerDocument.defaultView.scrollX, o.y += e.ownerDocument.defaultView.scrollY, o;
              }(t, function (e) {
                var t = e.split("-"),
                    n = {
                  top: "bottom",
                  bottom: "top",
                  left: "right",
                  right: "left"
                };
                return "".concat(n[t[0]], "-").concat(n[t[1]]);
              }(this.activeHandlePosition)), this.originalWidth = i.width, this.originalHeight = i.height, this.aspectRatio = i.width / i.height;
              var o = n.style.width;
              o && o.match(/^\d+(\.\d*)?%$/) ? this.originalWidthPercents = parseFloat(o) : this.originalWidthPercents = function (e, t) {
                var n = e.parentElement,
                    i = parseFloat(n.ownerDocument.defaultView.getComputedStyle(n).width);
                return t.width / i * 100;
              }(n, i);
            }
          }, {
            key: "update",
            value: function update(e) {
              this.proposedWidth = e.width, this.proposedHeight = e.height, this.proposedWidthPercents = e.widthPercents, this.proposedHandleHostWidth = e.handleHostWidth, this.proposedHandleHostHeight = e.handleHostHeight;
            }
          }]);

          return ax;
        }();

        function cx(e) {
          return "ck-widget__resizer__handle-".concat(e);
        }

        rt(ax, Ze);

        var lx = /*#__PURE__*/function (_nh35) {
          _inherits(lx, _nh35);

          var _super191 = _createSuper(lx);

          function lx() {
            var _this296;

            _classCallCheck(this, lx);

            _this296 = _super191.call(this);
            var e = _this296.bindTemplate;

            _this296.setTemplate({
              tag: "div",
              attributes: {
                "class": ["ck", "ck-size-view", e.to("_viewPosition", function (e) {
                  return e ? "ck-orientation-".concat(e) : "";
                })],
                style: {
                  display: e["if"]("_isVisible", "none", function (e) {
                    return !e;
                  })
                }
              },
              children: [{
                text: e.to("_label")
              }]
            });

            return _this296;
          }

          _createClass(lx, [{
            key: "_bindToState",
            value: function _bindToState(e, t) {
              this.bind("_isVisible").to(t, "proposedWidth", t, "proposedHeight", function (e, t) {
                return null !== e && null !== t;
              }), this.bind("_label").to(t, "proposedHandleHostWidth", t, "proposedHandleHostHeight", t, "proposedWidthPercents", function (t, n, i) {
                return "px" === e.unit ? "".concat(t, "\xD7").concat(n) : "".concat(i, "%");
              }), this.bind("_viewPosition").to(t, "activeHandlePosition", t, "proposedHandleHostWidth", t, "proposedHandleHostHeight", function (e, t, n) {
                return t < 50 || n < 50 ? "above-center" : e;
              });
            }
          }, {
            key: "_dismiss",
            value: function _dismiss() {
              this.unbind(), this._isVisible = !1;
            }
          }]);

          return lx;
        }(nh);

        var dx = /*#__PURE__*/function () {
          function dx(e) {
            var _this297 = this;

            _classCallCheck(this, dx);

            this._options = e, this._viewResizerWrapper = null, this.set("isEnabled", !0), this.decorate("begin"), this.decorate("cancel"), this.decorate("commit"), this.decorate("updateSize"), this.on("commit", function (e) {
              _this297.state.proposedWidth || _this297.state.proposedWidthPercents || (_this297._cleanup(), e.stop());
            }, {
              priority: "high"
            }), this.on("change:isEnabled", function () {
              _this297.isEnabled && _this297.redraw();
            });
          }

          _createClass(dx, [{
            key: "attach",
            value: function attach() {
              var _this298 = this;

              var e = this,
                  t = this._options.viewElement;

              this._options.editor.editing.view.change(function (n) {
                var i = n.createUIElement("div", {
                  "class": "ck ck-reset_all ck-widget__resizer"
                }, function (t) {
                  var n = this.toDomElement(t);
                  return e._appendHandles(n), e._appendSizeUI(n), e.on("change:isEnabled", function (e, t, i) {
                    n.style.display = i ? "" : "none";
                  }), n.style.display = e.isEnabled ? "" : "none", n;
                });
                n.insert(n.createPositionAt(t, "end"), i), n.addClass("ck-widget_with-resizer", t), _this298._viewResizerWrapper = i;
              });
            }
          }, {
            key: "begin",
            value: function begin(e) {
              this.state = new ax(this._options), this._sizeView._bindToState(this._options, this.state), this._initialViewWidth = this._options.viewElement.getStyle("width"), this.state.begin(e, this._getHandleHost(), this._getResizeHost());
            }
          }, {
            key: "updateSize",
            value: function updateSize(e) {
              var _this299 = this;

              var t = this._proposeNewSize(e);

              this._options.editor.editing.view.change(function (e) {
                var n = _this299._options.unit || "%",
                    i = ("%" === n ? t.widthPercents : t.width) + n;
                e.setStyle("width", i, _this299._options.viewElement);
              });

              var n = this._getHandleHost(),
                  i = new Wa(n);

              t.handleHostWidth = Math.round(i.width), t.handleHostHeight = Math.round(i.height);
              var o = new Wa(n);
              t.width = Math.round(o.width), t.height = Math.round(o.height), this.redraw(i), this.state.update(t);
            }
          }, {
            key: "commit",
            value: function commit() {
              var _this300 = this;

              var e = this._options.unit || "%",
                  t = ("%" === e ? this.state.proposedWidthPercents : this.state.proposedWidth) + e;

              this._options.editor.editing.view.change(function () {
                _this300._cleanup(), _this300._options.onCommit(t);
              });
            }
          }, {
            key: "cancel",
            value: function cancel() {
              this._cleanup();
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this.cancel();
            }
          }, {
            key: "redraw",
            value: function redraw(e) {
              var t = this._domResizerWrapper;
              if (!function (e) {
                return e && e.ownerDocument && e.ownerDocument.contains(e);
              }(t)) return;

              var n = t.parentElement,
                  i = this._getHandleHost(),
                  o = this._viewResizerWrapper,
                  r = [o.getStyle("width"), o.getStyle("height"), o.getStyle("left"), o.getStyle("top")];

              var s;

              if (n.isSameNode(i)) {
                var _t322 = e || new Wa(i);

                s = [_t322.width + "px", _t322.height + "px", void 0, void 0];
              } else s = [i.offsetWidth + "px", i.offsetHeight + "px", i.offsetLeft + "px", i.offsetTop + "px"];

              "same" !== Ji(r, s) && this._options.editor.editing.view.change(function (e) {
                e.setStyle({
                  width: s[0],
                  height: s[1],
                  left: s[2],
                  top: s[3]
                }, o);
              });
            }
          }, {
            key: "containsHandle",
            value: function containsHandle(e) {
              return this._domResizerWrapper.contains(e);
            }
          }, {
            key: "_cleanup",
            value: function _cleanup() {
              var _this301 = this;

              this._sizeView._dismiss(), this._options.editor.editing.view.change(function (e) {
                e.setStyle("width", _this301._initialViewWidth, _this301._options.viewElement);
              });
            }
          }, {
            key: "_proposeNewSize",
            value: function _proposeNewSize(e) {
              var t = this.state,
                  n = function (e) {
                return {
                  x: e.pageX,
                  y: e.pageY
                };
              }(e),
                  i = !this._options.isCentered || this._options.isCentered(this),
                  o = {
                x: t._referenceCoordinates.x - (n.x + t.originalWidth),
                y: n.y - t.originalHeight - t._referenceCoordinates.y
              };

              i && t.activeHandlePosition.endsWith("-right") && (o.x = n.x - (t._referenceCoordinates.x + t.originalWidth)), i && (o.x *= 2);
              var r = {
                width: Math.abs(t.originalWidth + o.x),
                height: Math.abs(t.originalHeight + o.y)
              };
              r.dominant = r.width / t.aspectRatio > r.height ? "width" : "height", r.max = r[r.dominant];
              var s = {
                width: r.width,
                height: r.height
              };
              return "width" == r.dominant ? s.height = s.width / t.aspectRatio : s.width = s.height * t.aspectRatio, {
                width: Math.round(s.width),
                height: Math.round(s.height),
                widthPercents: Math.min(Math.round(t.originalWidthPercents / t.originalWidth * s.width * 100) / 100, 100)
              };
            }
          }, {
            key: "_getResizeHost",
            value: function _getResizeHost() {
              var e = this._domResizerWrapper.parentElement;
              return this._options.getResizeHost(e);
            }
          }, {
            key: "_getHandleHost",
            value: function _getHandleHost() {
              var e = this._domResizerWrapper.parentElement;
              return this._options.getHandleHost(e);
            }
          }, {
            key: "_domResizerWrapper",
            get: function get() {
              return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper);
            }
          }, {
            key: "_appendHandles",
            value: function _appendHandles(e) {
              var t = ["top-left", "top-right", "bottom-right", "bottom-left"];

              for (var _i228 = 0, _t323 = t; _i228 < _t323.length; _i228++) {
                var _n281 = _t323[_i228];
                e.appendChild(new oh({
                  tag: "div",
                  attributes: {
                    "class": "ck-widget__resizer__handle ".concat(ux(_n281))
                  }
                }).render());
              }
            }
          }, {
            key: "_appendSizeUI",
            value: function _appendSizeUI(e) {
              this._sizeView = new lx(), this._sizeView.render(), e.appendChild(this._sizeView.element);
            }
          }], [{
            key: "isResizeHandle",
            value: function isResizeHandle(e) {
              return e.classList.contains("ck-widget__resizer__handle");
            }
          }]);

          return dx;
        }();

        function ux(e) {
          return "ck-widget__resizer__handle-".concat(e);
        }

        rt(dx, Ze);
        n(168);

        var hx = /*#__PURE__*/function (_st64) {
          _inherits(hx, _st64);

          var _super192 = _createSuper(hx);

          function hx() {
            _classCallCheck(this, hx);

            return _super192.apply(this, arguments);
          }

          _createClass(hx, [{
            key: "init",
            value: function init() {
              var _this302 = this;

              var e = this.editor.editing,
                  t = fs.window.document;
              this.set("visibleResizer", null), this.set("_activeResizer", null), this._resizers = new Map(), e.view.addObserver(Ug), this._observer = Object.create(Ts), this.listenTo(e.view.document, "mousedown", this._mouseDownListener.bind(this), {
                priority: "high"
              }), this._observer.listenTo(t, "mousemove", this._mouseMoveListener.bind(this)), this._observer.listenTo(t, "mouseup", this._mouseUpListener.bind(this));

              var n = function n() {
                _this302.visibleResizer && _this302.visibleResizer.redraw();
              };

              this._redrawFocusedResizerThrottled = lp(n, 200), this.on("change:visibleResizer", n), this.editor.ui.on("update", this._redrawFocusedResizerThrottled), this.editor.model.document.on("change", function () {
                var _iterator461 = _createForOfIteratorHelper(_this302._resizers),
                    _step461;

                try {
                  for (_iterator461.s(); !(_step461 = _iterator461.n()).done;) {
                    var _step461$value = _slicedToArray(_step461.value, 2),
                        _e370 = _step461$value[0],
                        _t324 = _step461$value[1];

                    _e370.isAttached() || (_this302._resizers["delete"](_e370), _t324.destroy());
                  }
                } catch (err) {
                  _iterator461.e(err);
                } finally {
                  _iterator461.f();
                }
              }, {
                priority: "lowest"
              }), this._observer.listenTo(fs.window, "resize", this._redrawFocusedResizerThrottled);
              var i = this.editor.editing.view.document.selection;
              i.on("change", function () {
                var e = i.getSelectedElement();
                _this302.visibleResizer = _this302.getResizerByViewElement(e) || null;
              });
            }
          }, {
            key: "destroy",
            value: function destroy() {
              this._observer.stopListening();

              var _iterator462 = _createForOfIteratorHelper(this._resizers.values()),
                  _step462;

              try {
                for (_iterator462.s(); !(_step462 = _iterator462.n()).done;) {
                  var _e371 = _step462.value;

                  _e371.destroy();
                }
              } catch (err) {
                _iterator462.e(err);
              } finally {
                _iterator462.f();
              }

              this._redrawFocusedResizerThrottled.cancel();
            }
          }, {
            key: "attachTo",
            value: function attachTo(e) {
              var t = new dx(e),
                  n = this.editor.plugins;

              if (t.attach(), n.has("WidgetToolbarRepository")) {
                var _e372 = n.get("WidgetToolbarRepository");

                t.on("begin", function () {
                  _e372.forceDisabled("resize");
                }, {
                  priority: "lowest"
                }), t.on("cancel", function () {
                  _e372.clearForceDisabled("resize");
                }, {
                  priority: "highest"
                }), t.on("commit", function () {
                  _e372.clearForceDisabled("resize");
                }, {
                  priority: "highest"
                });
              }

              this._resizers.set(e.viewElement, t);

              var i = this.editor.editing.view.document.selection.getSelectedElement();
              return this.getResizerByViewElement(i) == t && (this.visibleResizer = t), t;
            }
          }, {
            key: "getResizerByViewElement",
            value: function getResizerByViewElement(e) {
              return this._resizers.get(e);
            }
          }, {
            key: "_getResizerByHandle",
            value: function _getResizerByHandle(e) {
              var _iterator463 = _createForOfIteratorHelper(this._resizers.values()),
                  _step463;

              try {
                for (_iterator463.s(); !(_step463 = _iterator463.n()).done;) {
                  var _t325 = _step463.value;
                  if (_t325.containsHandle(e)) return _t325;
                }
              } catch (err) {
                _iterator463.e(err);
              } finally {
                _iterator463.f();
              }
            }
          }, {
            key: "_mouseDownListener",
            value: function _mouseDownListener(e, t) {
              var n = t.domTarget;
              dx.isResizeHandle(n) && (this._activeResizer = this._getResizerByHandle(n), this._activeResizer && (this._activeResizer.begin(n), e.stop(), t.preventDefault()));
            }
          }, {
            key: "_mouseMoveListener",
            value: function _mouseMoveListener(e, t) {
              this._activeResizer && this._activeResizer.updateSize(t);
            }
          }, {
            key: "_mouseUpListener",
            value: function _mouseUpListener() {
              this._activeResizer && (this._activeResizer.commit(), this._activeResizer = null);
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "WidgetResize";
            }
          }]);

          return hx;
        }(st);

        rt(hx, Ze);

        var gx = /*#__PURE__*/function (_st65) {
          _inherits(gx, _st65);

          var _super193 = _createSuper(gx);

          function gx(e) {
            var _this303;

            _classCallCheck(this, gx);

            _this303 = _super193.call(this, e), _this303._tablePostFixingSubtypes = ["tableRow", "tableColumn"];
            return _this303;
          }

          _createClass(gx, [{
            key: "afterInit",
            value: function afterInit() {
              var _this304 = this;

              var e = this.editor,
                  t = e.model.document.selection;
              if (!e.plugins.has("TableEditing")) return;
              var n = e.locale.t,
                  i = e.plugins.get("TrackChangesEditing"),
                  o = e.plugins.get("TableUtils");
              i._descriptionFactory.registerElementLabel("table", function (e) {
                return n({
                  string: "table",
                  plural: "%0 tables",
                  id: "ELEMENT_TABLE"
                }, e);
              }), this._setupColumnsRowsFixing(), i.enableCommand("insertTable"), i.enableCommand("selectTableRow"), i.enableCommand("selectTableColumn");

              var _loop10 = function _loop10() {
                var n = _arr4[_i229];
                var o = e.commands.get(n);
                i.enableCommand(n, function (n) {
                  e.model.change(function (e) {
                    n();
                    var r = "above" === o.order,
                        s = Qv(t),
                        a = Jv(s),
                        c = r ? a.first - 1 : a.last + 1,
                        l = s[0].findAncestor("table"),
                        d = new $v(l, {
                      startRow: c,
                      endRow: c
                    }),
                        u = Array.from(d).map(function (t) {
                      return e.createRangeOn(t.cell);
                    });
                    i.markMultiRangeInsertion(u, "tableRow");
                  });
                });
              };

              for (var _i229 = 0, _arr4 = ["insertTableRowAbove", "insertTableRowBelow"]; _i229 < _arr4.length; _i229++) {
                _loop10();
              }

              var _loop11 = function _loop11() {
                var n = _arr5[_i230];
                var o = e.commands.get(n);
                i.enableCommand(n, function (n) {
                  e.model.change(function (e) {
                    n();
                    var r = "left" === o.order,
                        s = Qv(t),
                        a = Xv(s),
                        c = r ? a.first - 1 : a.last + 1,
                        l = s[0].findAncestor("table"),
                        d = new $v(l, {
                      startRow: 0,
                      column: c,
                      includeAllSlots: !1
                    }),
                        u = Array.from(d).map(function (t) {
                      return e.createRangeOn(t.cell);
                    });
                    i.markMultiRangeInsertion(u, "tableColumn");
                  });
                });
              };

              for (var _i230 = 0, _arr5 = ["insertTableColumnLeft", "insertTableColumnRight"]; _i230 < _arr5.length; _i230++) {
                _loop11();
              }

              var _loop12 = function _loop12() {
                var n = _arr6[_i231];
                var r = n.substr(11),
                    s = r.toLowerCase(),
                    a = s.substr(0, 3) + "span",
                    c = "table" + r,
                    l = "min" + r,
                    d = "max" + r;
                i.enableCommand(n, function () {
                  e.model.change(function (e) {
                    var r = Qv(t),
                        u = r[0].findAncestor("table");
                    var h;

                    if ("removeTableRow" == n) {
                      var _e373 = Jv(r);

                      h = {
                        startRow: _e373.first,
                        endRow: _e373.last,
                        includeAllSlots: !0
                      };
                    } else {
                      var _e374 = Xv(r);

                      h = {
                        startColumn: _e374.first,
                        endColumn: _e374.last,
                        includeAllSlots: !0
                      };
                    }

                    var g = new $v(u, h),
                        m = Array.from(g).map(function (_ref94) {
                      var e = _ref94.cell;
                      return e;
                    }),
                        f = mx(m.filter(function (e) {
                      return e.hasAttribute(a);
                    })),
                        p = mx(m.filter(function (e) {
                      return !e.hasAttribute(a);
                    })).map(function (t) {
                      return e.createRangeOn(t);
                    }),
                        k = i.markMultiRangeDeletion(p, c);

                    if (k && ("tableRow" == k.subType || "tableColumn" == k.subType)) {
                      var _t326 = _this304._getSuggestionCoords(k);

                      var _iterator464 = _createForOfIteratorHelper(f),
                          _step464;

                      try {
                        for (_iterator464.s(); !(_step464 = _iterator464.n()).done;) {
                          var _n282 = _step464.value;

                          var _i232 = e.createRangeOn(_n282),
                              _r64 = o.getCellLocation(_n282),
                              _c16 = _n282.getAttribute(a) - 1,
                              _u3 = _t326[l],
                              _h3 = _t326[d];

                          _u3 <= _r64[s] && _r64[s] + _c16 <= _h3 && k.addRange(_i232);
                        }
                      } catch (err) {
                        _iterator464.e(err);
                      } finally {
                        _iterator464.f();
                      }
                    }
                  });
                });
              };

              for (var _i231 = 0, _arr6 = ["removeTableRow", "removeTableColumn"]; _i231 < _arr6.length; _i231++) {
                _loop12();
              }

              function r(n) {
                var i = Array.from(t.getRanges()).map(function (e) {
                  return Lc.fromRange(e);
                });
                e.model.change(function (t) {
                  var o = t.batch;
                  n = n.filter(function (e) {
                    return "$graveyard" != e.root.rootName;
                  }), t.setSelection(n), e.commands.get("removeTableRow").refresh(), e.execute("removeTableRow", {
                    forceDefaultExecution: !0
                  }), e.model.enqueueChange(function () {
                    e.model.enqueueChange(o, function (e) {
                      var t = i.filter(function (e) {
                        return "$graveyard" != e.root.rootName;
                      });
                      t.length > 0 && e.setSelection(t);

                      var _iterator465 = _createForOfIteratorHelper(i),
                          _step465;

                      try {
                        for (_iterator465.s(); !(_step465 = _iterator465.n()).done;) {
                          var _e375 = _step465.value;

                          _e375.detach();
                        }
                      } catch (err) {
                        _iterator465.e(err);
                      } finally {
                        _iterator465.f();
                      }
                    });
                  });
                });
              }

              function s(n) {
                e.model.change(function (i) {
                  var o = Array.from(t.getRanges()).map(function (e) {
                    return Lc.fromRange(e);
                  }),
                      r = [];

                  var _iterator466 = _createForOfIteratorHelper(n),
                      _step466;

                  try {
                    for (_iterator466.s(); !(_step466 = _iterator466.n()).done;) {
                      var _e376 = _step466.value;

                      var _iterator468 = _createForOfIteratorHelper(_e376.getItems({
                        shallow: !0
                      })),
                          _step468;

                      try {
                        for (_iterator468.s(); !(_step468 = _iterator468.n()).done;) {
                          var _t328 = _step468.value;
                          r.push(_t328);
                        }
                      } catch (err) {
                        _iterator468.e(err);
                      } finally {
                        _iterator468.f();
                      }
                    }
                  } catch (err) {
                    _iterator466.e(err);
                  } finally {
                    _iterator466.f();
                  }

                  for (var _i233 = 0, _r65 = r; _i233 < _r65.length; _i233++) {
                    var _t327 = _r65[_i233];
                    "$graveyard" != _t327.root.rootName && (i.setSelection(i.createPositionAt(_t327, 0)), e.commands.get("removeTableColumn").refresh(), e.execute("removeTableColumn", {
                      forceDefaultExecution: !0
                    }));
                  }

                  var s = o.filter(function (e) {
                    return "$graveyard" != e.root.rootName;
                  });
                  s.length > 0 && i.setSelection(s);

                  var _iterator467 = _createForOfIteratorHelper(o),
                      _step467;

                  try {
                    for (_iterator467.s(); !(_step467 = _iterator467.n()).done;) {
                      var _e377 = _step467.value;

                      _e377.detach();
                    }
                  } catch (err) {
                    _iterator467.e(err);
                  } finally {
                    _iterator467.f();
                  }
                });
              }

              function a(e, t) {
                return t.every(function (t) {
                  return e.some(function (e) {
                    return e.end.isEqual(t.start) || t.end.isEqual(e.start);
                  });
                });
              }

              function c(e, t) {
                return e.some(function (e) {
                  return t.some(function (t) {
                    return e.end.isTouching(t.start);
                  });
                });
              }

              e.data.downcastDispatcher.on("addMarker:suggestion", function (e, t, n) {
                if (!n.options.showSuggestionHighlights) return;
                var i = t.item;
                if (!i) return;
                var o = n.mapper.toViewElement(i);

                function r(e) {
                  return Array.isArray(e) ? e : [e];
                }

                o && "tableCell" === i.name && Hf(o, n.writer, function (e, t, n) {
                  return n.addClass(r(t.classes), e);
                }, function (e, t, n) {
                  return n.removeClass(r(t.classes), e);
                });
              }, {
                priority: "highest"
              }), i._descriptionFactory.registerDescriptionCallback(function (e) {
                if ("insertion" != e.type && "deletion" != e.type) return;
                var t = e.getContainedElement();

                if (null != t && t.is("element", "table")) {
                  if ("insertion" == e.type) {
                    var _t329 = e.getItems().filter(function (e) {
                      return e.is("textProxy");
                    }).map(function (e) {
                      return e.data;
                    });

                    if (_t329.length) return {
                      type: "insertion",
                      content: n("*Insert:* %0", n({
                        string: "table *with text* %0",
                        id: "ELEMENT_TABLE_WITH_TEXT"
                      }, '"' + _t329.join(" ") + '"'))
                    };
                  }

                  if ("deletion" == e.type) {
                    var _t330 = e.getItems().filter(function (e) {
                      return e.is("textProxy");
                    }).map(function (e) {
                      return e.data;
                    });

                    if (_t330.length) return {
                      type: "deletion",
                      content: n("*Remove:* %0", n({
                        string: "table *with text* %0",
                        id: "ELEMENT_TABLE_WITH_TEXT"
                      }, '"' + _t330.join(" ") + '"'))
                    };
                  }
                }
              }), i._descriptionFactory.registerDescriptionCallback(function (e) {
                if ("tableRow" == e.subType) {
                  var _t331 = e.getItems().filter(function (e) {
                    return e.is("textProxy");
                  }).map(function (e) {
                    return e.data;
                  }),
                      _i234 = _this304._getSuggestionCoords(e),
                      _o122 = _i234.maxRow - _i234.minRow + 1;

                  if ("insertion" == e.type) return _t331.length ? {
                    type: "insertion",
                    content: n("*Insert:* %0", n({
                      string: "table row *with text* %1",
                      plural: "%0 table rows *with text* %1",
                      id: "ELEMENT_TABLE_ROW_WITH_TEXT"
                    }, [_o122, '"' + _t331.join(" ") + '"']))
                  } : {
                    type: "insertion",
                    content: n("*Insert:* %0", n({
                      string: "table row",
                      plural: "%0 table rows",
                      id: "ELEMENT_TABLE_ROW"
                    }, _o122))
                  };
                  if ("deletion" == e.type) return _t331.length ? {
                    type: "deletion",
                    content: n("*Remove:* %0", n({
                      string: "table row *with text* %1",
                      plural: "%0 table rows *with text* %1",
                      id: "ELEMENT_TABLE_ROW_WITH_TEXT"
                    }, [_o122, '"' + _t331.join(" ") + '"']))
                  } : {
                    type: "deletion",
                    content: n("*Remove:* %0", n({
                      string: "table row",
                      plural: "%0 table rows",
                      id: "ELEMENT_TABLE_ROW"
                    }, _o122))
                  };
                }

                if ("tableColumn" == e.subType) {
                  var _t332 = e.getItems().filter(function (e) {
                    return e.is("textProxy");
                  }).map(function (e) {
                    return e.data;
                  }),
                      _i235 = _this304._getSuggestionCoords(e),
                      _o123 = _i235.maxColumn - _i235.minColumn + 1;

                  if ("insertion" == e.type) return _t332.length ? {
                    type: "insertion",
                    content: n("*Insert:* %0", n({
                      string: "table column *with text* %1",
                      plural: "%0 table columns *with text* %1",
                      id: "ELEMENT_TABLE_COLUMN_WITH_TEXT"
                    }, [_o123, '"' + _t332.join(" ") + '"']))
                  } : {
                    type: "insertion",
                    content: n("*Insert:* %0", n({
                      string: "table column",
                      plural: "%0 table columns",
                      id: "ELEMENT_TABLE_COLUMN"
                    }, _o123))
                  };
                  if ("deletion" == e.type) return _t332.length ? {
                    type: "deletion",
                    content: n("*Remove:* %0", n({
                      string: "table column *with text* %1",
                      plural: "%0 table columns *with text* %1",
                      id: "ELEMENT_TABLE_COLUMN_WITH_TEXT"
                    }, [_o123, '"' + _t332.join(" ") + '"']))
                  } : {
                    type: "deletion",
                    content: n("*Remove:* %0", n({
                      string: "table column",
                      plural: "%0 table columns",
                      id: "ELEMENT_TABLE_COLUMN"
                    }, _o123))
                  };
                }
              }), i._suggestionFactory.registerCustomCallback("insertion", "tableRow", "discard", r), i._suggestionFactory.registerCustomCallback("deletion", "tableRow", "accept", r), i._suggestionFactory.registerCustomCallback("insertion", "tableColumn", "discard", s), i._suggestionFactory.registerCustomCallback("deletion", "tableColumn", "accept", s), i._suggestionFactory.registerCustomCallback("insertion", "tableColumn", "join", a), i._suggestionFactory.registerCustomCallback("deletion", "tableColumn", "join", a), i._suggestionFactory.registerCustomCallback("insertion", "tableRow", "join", c), i._suggestionFactory.registerCustomCallback("deletion", "tableRow", "join", c);
            }
          }, {
            key: "_acceptFormatSuggestionCallbackFactory",
            value: function _acceptFormatSuggestionCallbackFactory() {
              var e = this.editor,
                  t = e.model.document.selection;
              return function (n, i) {
                e.model.change(function (o) {
                  var r = i.commandName,
                      s = i.commandParams;
                  var a = n[0].end.nodeBefore;
                  s && s[0] && !1 === s[0].forceValue && (a = n[0].start.nodeAfter);
                  var c = o.createRangeIn(a);
                  if ("$graveyard" == c.root.rootName) return;
                  var l = Array.from(t.getRanges()).map(function (e) {
                    return Lc.fromRange(e);
                  });
                  o.setSelection(c), e.commands.get(r).refresh(), s.push({
                    forceDefaultExecution: !0
                  }), e.execute.apply(e, [r].concat(_toConsumableArray(s)));
                  var d = l.filter(function (e) {
                    return "$graveyard" != e.root.rootName;
                  });
                  d.length > 0 && o.setSelection(d);

                  var _iterator469 = _createForOfIteratorHelper(l),
                      _step469;

                  try {
                    for (_iterator469.s(); !(_step469 = _iterator469.n()).done;) {
                      var _e378 = _step469.value;

                      _e378.detach();
                    }
                  } catch (err) {
                    _iterator469.e(err);
                  } finally {
                    _iterator469.f();
                  }
                });
              };
            }
          }, {
            key: "_getCoordsForCells",
            value: function _getCoordsForCells(e) {
              var t = this.editor.plugins.get("TableUtils");
              var n = Number.MAX_SAFE_INTEGER,
                  i = Number.MIN_SAFE_INTEGER,
                  o = Number.MAX_SAFE_INTEGER,
                  r = Number.MIN_SAFE_INTEGER;

              var _iterator470 = _createForOfIteratorHelper(e),
                  _step470;

              try {
                for (_iterator470.s(); !(_step470 = _iterator470.n()).done;) {
                  var _s45 = _step470.value;
                  if ("$graveyard" == _s45.root.rootName) continue;

                  var _t$getCellLocation2 = t.getCellLocation(_s45),
                      _e379 = _t$getCellLocation2.row,
                      _a30 = _t$getCellLocation2.column,
                      _c17 = _s45.hasAttribute("rowspan") ? _s45.getAttribute("rowspan") - 1 : 0,
                      _l9 = _s45.hasAttribute("colspan") ? _s45.getAttribute("colspan") - 1 : 0;

                  n = _e379 < n ? _e379 : n, i = _e379 + _c17 > i ? _e379 + _c17 : i, o = _a30 < o ? _a30 : o, r = _a30 + _l9 > r ? _a30 + _l9 : r;
                }
              } catch (err) {
                _iterator470.e(err);
              } finally {
                _iterator470.f();
              }

              return {
                minRow: n,
                maxRow: i,
                minColumn: o,
                maxColumn: r
              };
            }
          }, {
            key: "_setupColumnsRowsFixing",
            value: function _setupColumnsRowsFixing() {
              var _this305 = this;

              var e = this.editor,
                  t = e.plugins.get("TrackChangesEditing"),
                  n = e.plugins.get("TableUtils");
              this._tableSuggestions = new Set(), e.model.document.on("change:data", function () {
                var n = Array.from(e.model.document.differ.getChangedMarkers());

                for (var _i236 = 0, _n283 = n; _i236 < _n283.length; _i236++) {
                  var _n283$_i = _n283[_i236],
                      _e380 = _n283$_i.name,
                      _i237 = _n283$_i.data;

                  var _t$_splitMarkerName2 = t._splitMarkerName(_e380),
                      _n284 = _t$_splitMarkerName2.group,
                      _o124 = _t$_splitMarkerName2.id,
                      _r66 = _t$_splitMarkerName2.subType;

                  if ("suggestion" != _n284) continue;
                  if (null != _i237.oldRange) continue;

                  var _s46 = t.getSuggestion(_o124);

                  _this305._tablePostFixingSubtypes.includes(_r66) && _this305._tableSuggestions.add(_s46);
                }
              }, {
                priority: "low"
              });

              var i = function i(e, t) {
                var i = !1;
                var o = t.createRangeOn(e),
                    r = e.findAncestor("table"),
                    s = n.getCellLocation(e);

                var _iterator471 = _createForOfIteratorHelper(_this305._tableSuggestions),
                    _step471;

                try {
                  for (_iterator471.s(); !(_step471 = _iterator471.n()).done;) {
                    var _t333 = _step471.value;

                    var _n285 = _t333.subType,
                        _a31 = _n285.startsWith("tablePaste"),
                        _c18 = _n285.substr(_a31 ? 10 : 5),
                        _l10 = _c18.toLowerCase(),
                        _d5 = _l10.substr(0, 3) + "span",
                        _u4 = "min" + _c18,
                        _h4 = "max" + _c18;

                    if (!_t333.isInContent) continue;
                    if (r != _t333.getFirstRange().start.findAncestor("table")) continue;
                    if (_t333.isIntersectingWithRange(o)) continue;

                    var _g3 = e.hasAttribute(_d5) ? e.getAttribute(_d5) - 1 : 0,
                        _m3 = _this305._getSuggestionCoords(_t333),
                        _f2 = _m3[_u4],
                        _p2 = _m3[_h4];

                    _f2 <= s[_l10] && s[_l10] + _g3 <= _p2 && (_t333.addRange(o), i = !0);
                  }
                } catch (err) {
                  _iterator471.e(err);
                } finally {
                  _iterator471.f();
                }

                return i;
              };

              e.model.document.registerPostFixer(function (t) {
                var n = !1;

                var _iterator472 = _createForOfIteratorHelper(e.model.document.differ.getChanges()),
                    _step472;

                try {
                  for (_iterator472.s(); !(_step472 = _iterator472.n()).done;) {
                    var _o125 = _step472.value;
                    if ("insert" == _o125.type) if ("tableRow" == _o125.name) {
                      var _iterator473 = _createForOfIteratorHelper(_o125.position.nodeAfter.getChildren()),
                          _step473;

                      try {
                        for (_iterator473.s(); !(_step473 = _iterator473.n()).done;) {
                          var _e381 = _step473.value;
                          n = n || i(_e381, t);
                        }
                      } catch (err) {
                        _iterator473.e(err);
                      } finally {
                        _iterator473.f();
                      }
                    } else "tableCell" == _o125.name && (n = n || i(_o125.position.nodeAfter, t));
                  }
                } catch (err) {
                  _iterator472.e(err);
                } finally {
                  _iterator472.f();
                }

                return n;
              });
            }
          }, {
            key: "_getSuggestionCoords",
            value: function _getSuggestionCoords(e) {
              return this._getCoordsForCells(e.getRanges().map(function (e) {
                return e.start.nodeAfter;
              }));
            }
          }]);

          return gx;
        }(st);

        function mx(e) {
          return Array.from(new Set(e).values());
        }

        var fx = /*#__PURE__*/function (_st66) {
          _inherits(fx, _st66);

          var _super194 = _createSuper(fx);

          function fx() {
            _classCallCheck(this, fx);

            return _super194.apply(this, arguments);
          }

          _createClass(fx, [{
            key: "afterInit",
            value: function afterInit() {
              var _this306 = this;

              var e = this.editor,
                  t = e.model.document.selection;
              if (!e.plugins.has("TableEditing")) return;
              var n = e.locale.t,
                  i = e.plugins.get("TrackChangesEditing"),
                  o = e.plugins.get("TableUtils"),
                  r = e.plugins.get(gx);
              r._tablePostFixingSubtypes.push("mergeTableCells"), i.enableCommand("mergeTableCells", function () {
                var t = Qv(e.model.document.selection);
                e.model.change(function () {
                  i.markMultiRangeBlockFormat(t, {
                    commandName: "mergeTableCells",
                    commandParams: []
                  }, [], "mergeTableCells");
                });
              }), e.commands.get("mergeTableCells").on("execute", function (t, n) {
                e.commands.get("trackChanges").value && (n.length > 0 && n[n.length - 1] && n[n.length - 1].forceDefaultExecution || i._isForcedDefaultExecutionBlock || _this306._areSelectedCellsMergable() || t.stop());
              }, {
                priority: "highest"
              });

              var _loop13 = function _loop13() {
                var t = _arr7[_i238];
                var n = e.commands.get(t);
                i.enableCommand(t, function () {
                  var t = e.model.document.selection.getFirstPosition().getAncestors().find(function (e) {
                    return e.is("element", "tableCell");
                  }),
                      o = n.value;
                  e.model.change(function () {
                    i.markMultiRangeBlockFormat([t, o], {
                      commandName: "mergeTableCells",
                      commandParams: []
                    }, [], "mergeTableCells");
                  });
                });
              };

              for (var _i238 = 0, _arr7 = ["mergeTableCellUp", "mergeTableCellRight", "mergeTableCellDown", "mergeTableCellLeft"]; _i238 < _arr7.length; _i238++) {
                _loop13();
              }

              var _loop14 = function _loop14() {
                var t = _arr8[_i239];
                var n = e.commands.get(t);
                i.enableCommand(t, function () {
                  var r = Qv(e.model.document.selection)[0],
                      s = r.findAncestor("table"),
                      _o$getCellLocation = o.getCellLocation(r),
                      a = _o$getCellLocation.column,
                      c = _o$getCellLocation.row;

                  var l = [];

                  if ("horizontally" == n.direction) {
                    var _e382 = new $v(s, {
                      startRow: c,
                      endRow: c,
                      includeAllSlots: !0
                    });

                    l = Array.from(_e382).map(function (e) {
                      return e.cell;
                    });
                  } else {
                    var _e383 = new $v(s, {
                      column: a,
                      includeAllSlots: !0
                    });

                    l = Array.from(_e383).map(function (e) {
                      return e.cell;
                    });
                  }

                  e.model.change(function (e) {
                    i.markBlockFormat(e.createRangeOn(r), {
                      commandName: t,
                      commandParams: []
                    }, l, t);
                  });
                });
              };

              for (var _i239 = 0, _arr8 = ["splitTableCellVertically", "splitTableCellHorizontally"]; _i239 < _arr8.length; _i239++) {
                _loop14();
              }

              i._descriptionFactory.registerDescriptionCallback(function (e) {
                var t = e.data;
                if (t) return "mergeTableCells" == t.commandName ? {
                  type: "format",
                  content: n("*Merge cells*")
                } : void 0;
              }), i._descriptionFactory.registerDescriptionCallback(function (e) {
                var t = e.data;
                if (t) return "splitTableCellVertically" == t.commandName ? {
                  type: "format",
                  content: n("*Split cell:* vertically")
                } : "splitTableCellHorizontally" == t.commandName ? {
                  type: "format",
                  content: n("*Split cell:* horizontally")
                } : void 0;
              });

              var s = r._acceptFormatSuggestionCallbackFactory();

              for (var _i240 = 0, _arr9 = ["mergeTableCellUp", "mergeTableCellRight", "mergeTableCellDown", "mergeTableCellLeft"]; _i240 < _arr9.length; _i240++) {
                var _e384 = _arr9[_i240];

                i._suggestionFactory.registerCustomCallback("formatBlock", _e384, "accept", s);
              }

              for (var _i241 = 0, _arr10 = ["splitTableCellVertically", "splitTableCellHorizontally"]; _i241 < _arr10.length; _i241++) {
                var _e385 = _arr10[_i241];

                i._suggestionFactory.registerCustomCallback("formatBlock", _e385, "accept", s);
              }

              i._suggestionFactory.registerCustomCallback("formatBlock", "mergeTableCells", "accept", function (n) {
                e.model.change(function (i) {
                  var o = Array.from(t.getRanges()).map(function (e) {
                    return Lc.fromRange(e);
                  });
                  i.setSelection(n), e.commands.get("mergeTableCells").refresh(), e.execute("mergeTableCells", {
                    forceDefaultExecution: !0
                  });
                  var r = o.filter(function (e) {
                    return "$graveyard" != e.root.rootName;
                  });
                  r.length > 0 && i.setSelection(r);

                  var _iterator474 = _createForOfIteratorHelper(o),
                      _step474;

                  try {
                    for (_iterator474.s(); !(_step474 = _iterator474.n()).done;) {
                      var _e386 = _step474.value;

                      _e386.detach();
                    }
                  } catch (err) {
                    _iterator474.e(err);
                  } finally {
                    _iterator474.f();
                  }
                });
              });

              var _loop15 = function _loop15() {
                var t = _arr11[_i242];
                var n = e.commands.get(t);
                n.on("set:isEnabled", function (t, i, o) {
                  if (o) {
                    var _i243 = e.model.document.selection.getFirstPosition().getAncestors().find(function (e) {
                      return e.is("element", "tableCell");
                    });

                    _this306._areMergableCells(n.value, _i243) || (t["return"] = !1, t.stop());
                  }
                }, {
                  priority: "low"
                });
              };

              for (var _i242 = 0, _arr11 = ["mergeTableCellUp", "mergeTableCellDown", "mergeTableCellLeft", "mergeTableCellRight"]; _i242 < _arr11.length; _i242++) {
                _loop15();
              }
            }
          }, {
            key: "_areSelectedCellsMergable",
            value: function _areSelectedCellsMergable() {
              if (!this.editor.commands.get("mergeTableCells").isEnabled) return !1;
              var e = Qv(this.editor.model.document.selection);

              var _iterator475 = _createForOfIteratorHelper(e),
                  _step475;

              try {
                for (_iterator475.s(); !(_step475 = _iterator475.n()).done;) {
                  var _t334 = _step475.value;

                  var _iterator476 = _createForOfIteratorHelper(e),
                      _step476;

                  try {
                    for (_iterator476.s(); !(_step476 = _iterator476.n()).done;) {
                      var _n286 = _step476.value;
                      if (_t334 != _n286 && !this._areMergableCells(_t334, _n286)) return !1;
                    }
                  } catch (err) {
                    _iterator476.e(err);
                  } finally {
                    _iterator476.f();
                  }
                }
              } catch (err) {
                _iterator475.e(err);
              } finally {
                _iterator475.f();
              }

              return !0;
            }
          }, {
            key: "_areMergableCells",
            value: function _areMergableCells(e, t) {
              var n = this.editor.plugins.get("TrackChangesEditing"),
                  i = this.editor.model.createRangeOn(e),
                  o = this.editor.model.createRangeOn(t),
                  r = new Set(),
                  s = new Set();

              var _iterator477 = _createForOfIteratorHelper(n.getSuggestions()),
                  _step477;

              try {
                for (_iterator477.s(); !(_step477 = _iterator477.n()).done;) {
                  var _e387 = _step477.value;

                  if (("insertion" == _e387.type || "deletion" == _e387.type || "mergeTableCells" == _e387.subType) && _e387.isInContent) {
                    var _iterator479 = _createForOfIteratorHelper(_e387.getRanges()),
                        _step479;

                    try {
                      for (_iterator479.s(); !(_step479 = _iterator479.n()).done;) {
                        var _t335 = _step479.value;
                        _t335.containsRange(i, !0) && r.add(_e387.type + ":" + _e387.author.id), _t335.containsRange(o, !0) && s.add(_e387.type + ":" + _e387.author.id);
                      }
                    } catch (err) {
                      _iterator479.e(err);
                    } finally {
                      _iterator479.f();
                    }
                  }
                }
              } catch (err) {
                _iterator477.e(err);
              } finally {
                _iterator477.f();
              }

              if (r.size != s.size) return !1;

              var _iterator478 = _createForOfIteratorHelper(r),
                  _step478;

              try {
                for (_iterator478.s(); !(_step478 = _iterator478.n()).done;) {
                  var _e388 = _step478.value;
                  if (!s.has(_e388)) return !1;
                }
              } catch (err) {
                _iterator478.e(err);
              } finally {
                _iterator478.f();
              }

              return !0;
            }
          }], [{
            key: "requires",
            get: function get() {
              return [gx];
            }
          }]);

          return fx;
        }(st);

        var px = /*#__PURE__*/function (_st67) {
          _inherits(px, _st67);

          var _super195 = _createSuper(px);

          function px() {
            _classCallCheck(this, px);

            return _super195.apply(this, arguments);
          }

          _createClass(px, [{
            key: "afterInit",
            value: function afterInit() {
              var e = this.editor;
              if (!e.plugins.has("TableEditing")) return;
              var t = e.locale.t,
                  n = e.plugins.get("TrackChangesEditing"),
                  i = e.plugins.get("TableUtils"),
                  o = e.plugins.get(gx);

              function r() {
                var _ref95 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
                    _ref95$showActiveMark = _ref95.showActiveMarker,
                    e = _ref95$showActiveMark === void 0 ? !0 : _ref95$showActiveMark,
                    _ref95$setDataAttribu = _ref95.setDataAttribute,
                    t = _ref95$setDataAttribu === void 0 ? !0 : _ref95$setDataAttribu;

                return function (o, r, s) {
                  var _n$_splitMarkerName = n._splitMarkerName(r.markerName),
                      a = _n$_splitMarkerName.type,
                      c = _n$_splitMarkerName.id,
                      l = n.getSuggestion(c);

                  if (!l.data || "setTableColumnHeader" != l.data.commandName) return;
                  if (r.item) return void o.stop();
                  if (!s.consumable.consume(r.markerRange, o.name)) return;

                  var d = r.markerRange.start.nodeAfter,
                      u = r.markerRange.end.nodeBefore,
                      h = d.parent.parent,
                      _i$getCellLocation = i.getCellLocation(d),
                      g = _i$getCellLocation.column,
                      _i$getCellLocation2 = i.getCellLocation(u),
                      m = _i$getCellLocation2.column;

                  for (var _i244 = g; _i244 <= m; _i244++) {
                    var _o126 = new $v(h, {
                      column: _i244,
                      includeAllSlots: !1
                    });

                    var _iterator480 = _createForOfIteratorHelper(_o126),
                        _step480;

                    try {
                      for (_iterator480.s(); !(_step480 = _iterator480.n()).done;) {
                        var _i245 = _step480.value;

                        var _o127 = _i245.cell,
                            _l11 = s.mapper.toViewElement(_o127);

                        s.writer.addClass("ck-suggestion-marker-" + a, _l11), t && s.writer.setAttribute("data-suggestion", c, _l11), s.mapper.bindElementToMarker(_l11, r.markerName), e && (n.activeMarkers.includes(r.markerName) ? s.writer.addClass("ck-suggestion-marker--active", _l11) : s.writer.removeClass("ck-suggestion-marker--active", _l11));
                      }
                    } catch (err) {
                      _iterator480.e(err);
                    } finally {
                      _iterator480.f();
                    }
                  }
                };
              }

              n.enableCommand("setTableRowHeader", function (t, i) {
                var o = Qv(e.model.document.selection),
                    r = Jv(o),
                    s = o[0].findAncestor("table"),
                    a = s.getAttribute("headingRows") || 0,
                    c = i && null !== i.forceValue ? i.forceValue : !e.commands.get("setTableRowHeader").value,
                    l = c ? r.last : r.first,
                    d = s.getChild(l);
                var u;

                if (c) {
                  var _t336 = s.getChild(a);

                  if (d.index < _t336.index) return;
                  u = e.model.createRange(e.model.createPositionBefore(_t336.getChild(0)), e.model.createPositionAfter(d.getChild(d.childCount - 1)));
                } else {
                  var _t337 = s.getChild(a - 1);

                  if (!_t337) return;
                  u = e.model.createRange(e.model.createPositionBefore(d.getChild(0)), e.model.createPositionAfter(_t337.getChild(_t337.childCount - 1)));
                }

                e.model.change(function () {
                  n.markBlockFormat(u, {
                    commandName: "setTableRowHeader",
                    commandParams: [{
                      forceValue: c
                    }]
                  }, [], "setTableRowHeader");
                });
              }), n.enableCommand("setTableColumnHeader", function (t, i) {
                var o = Qv(e.model.document.selection),
                    r = Xv(o),
                    s = o[0].findAncestor("table"),
                    a = s.getAttribute("headingColumns") || 0,
                    c = i && null !== i.forceValue ? i.forceValue : !e.commands.get("setTableColumnHeader").value;
                var l;
                var d = s.getChild(0),
                    u = c ? r.last : r.first,
                    h = new $v(s, {
                  startRow: 0,
                  column: u,
                  includeAllSlots: !1
                }),
                    g = Array.from(h)[0].cell;

                if (c) {
                  var _t338 = d.getChild(a);

                  if (g.isBefore(_t338)) return;
                  l = e.model.createRange(e.model.createPositionBefore(_t338), e.model.createPositionAfter(g));
                } else {
                  var _t339 = d.getChild(a - 1);

                  if (!_t339) return;
                  l = e.model.createRange(e.model.createPositionBefore(g), e.model.createPositionAfter(_t339));
                }

                e.model.change(function () {
                  n.markBlockFormat(l, {
                    commandName: "setTableColumnHeader",
                    commandParams: [{
                      forceValue: c
                    }]
                  }, [], "setTableColumnHeader");
                });
              }), e.editing.downcastDispatcher.on("addMarker:suggestion", r(), {
                priority: "highest"
              }), e.data.downcastDispatcher.on("addMarker:suggestion", function (e, t, n) {
                n.options.showSuggestionHighlights && r({
                  showActiveMarker: !1,
                  setDataAttribute: !1
                })(e, t, n);
              }, {
                priority: "highest"
              }), e.editing.downcastDispatcher.on("removeMarker:suggestion", function (e, t, i) {
                var _n$_splitMarkerName2 = n._splitMarkerName(t.markerName),
                    o = _n$_splitMarkerName2.type,
                    r = _n$_splitMarkerName2.id,
                    s = n.getSuggestion(r);

                if (!s.data || "setTableColumnHeader" != s.data.commandName) return;
                var a = i.mapper.markerNameToElements(t.markerName);

                if (a) {
                  var _iterator481 = _createForOfIteratorHelper(a),
                      _step481;

                  try {
                    for (_iterator481.s(); !(_step481 = _iterator481.n()).done;) {
                      var _e389 = _step481.value;
                      i.writer.removeClass("ck-suggestion-marker-" + o, _e389), i.writer.removeClass("ck-suggestion-marker--active", _e389), i.writer.removeAttribute("data-suggestion", _e389), i.mapper.unbindElementFromMarkerName(_e389, t.markerName);
                    }
                  } catch (err) {
                    _iterator481.e(err);
                  } finally {
                    _iterator481.f();
                  }
                }
              }, {
                priority: "highest"
              }), n._descriptionFactory.registerDescriptionCallback(function (e) {
                var n = e.data;

                if (n) {
                  if ("setTableRowHeader" == n.commandName) {
                    var _e390 = n.commandParams[0].forceValue;
                    return i(t(_e390 ? {
                      string: "header row",
                      id: "FORMAT_HEADER_ROW"
                    } : {
                      string: "regular row",
                      id: "FORMAT_REGULAR_ROW"
                    }));
                  }

                  if ("setTableColumnHeader" == n.commandName) {
                    var _e391 = n.commandParams[0].forceValue;
                    return i(t(_e391 ? {
                      string: "header column",
                      id: "FORMAT_HEADER_COLUMN"
                    } : {
                      string: "regular column",
                      id: "FORMAT_REGULAR_COLUMN"
                    }));
                  }
                }

                function i(e) {
                  return {
                    type: "format",
                    content: t("*Format:* %0", e)
                  };
                }
              });

              var s = o._acceptFormatSuggestionCallbackFactory();

              n._suggestionFactory.registerCustomCallback("formatBlock", "setTableRowHeader", "accept", s), n._suggestionFactory.registerCustomCallback("formatBlock", "setTableColumnHeader", "accept", s);
            }
          }], [{
            key: "requires",
            get: function get() {
              return [gx];
            }
          }]);

          return px;
        }(st);

        function kx(e, t, n, i) {
          var o = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;
          t > o ? i.setAttribute(e, t, n) : i.removeAttribute(e, n);
        }

        function bx(e, t) {
          var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
          var i = e.createElement("tableCell", n);
          return e.insertElement("paragraph", i), e.insert(i, t), i;
        }

        function wx(e, t) {
          var n = t.parent.parent,
              i = parseInt(n.getAttribute("headingColumns") || 0),
              _e$getCellLocation = e.getCellLocation(t),
              o = _e$getCellLocation.column;

          return !!i && o < i;
        }

        function _x(e, t, n) {
          var i = t.startRow,
              o = t.startColumn,
              r = t.endRow,
              s = t.endColumn,
              a = n.createElement("table"),
              c = r - i + 1;

          for (var _e392 = 0; _e392 < c; _e392++) {
            n.insertElement("tableRow", a, "end");
          }

          var l = _toConsumableArray(new $v(e, {
            startRow: i,
            endRow: r,
            startColumn: o,
            endColumn: s,
            includeAllSlots: !0
          }));

          var _iterator482 = _createForOfIteratorHelper(l),
              _step482;

          try {
            for (_iterator482.s(); !(_step482 = _iterator482.n()).done;) {
              var _step482$value = _step482.value,
                  _e393 = _step482$value.row,
                  _t342 = _step482$value.column,
                  _c19 = _step482$value.cell,
                  _d6 = _step482$value.isAnchor,
                  _u5 = _step482$value.cellAnchorRow,
                  _h5 = _step482$value.cellAnchorColumn;

              var _l12 = _e393 - i,
                  _g4 = a.getChild(_l12);

              if (_d6) {
                var _i246 = n.cloneElement(_c19);

                n.append(_i246, _g4), Tx(_i246, _e393, _t342, r, s, n);
              } else (_u5 < i || _h5 < o) && bx(n, n.createPositionAt(_g4, "end"));
            }
          } catch (err) {
            _iterator482.e(err);
          } finally {
            _iterator482.f();
          }

          return function (e, t, n, i, o) {
            var r = parseInt(t.getAttribute("headingRows") || 0);

            if (r > 0) {
              var _t340 = r - n;

              kx("headingRows", _t340, e, o, 0);
            }

            var s = parseInt(t.getAttribute("headingColumns") || 0);

            if (s > 0) {
              var _t341 = s - i;

              kx("headingColumns", _t341, e, o, 0);
            }
          }(a, e, i, o, n), a;
        }

        function vx(e, t) {
          var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
          var i = [],
              o = new $v(e, {
            startRow: n,
            endRow: t - 1
          });

          var _iterator483 = _createForOfIteratorHelper(o),
              _step483;

          try {
            for (_iterator483.s(); !(_step483 = _iterator483.n()).done;) {
              var _e394 = _step483.value;
              var _n287 = _e394.row,
                  _o128 = _e394.cellHeight;
              _n287 < t && t <= _n287 + _o128 - 1 && i.push(_e394);
            }
          } catch (err) {
            _iterator483.e(err);
          } finally {
            _iterator483.f();
          }

          return i;
        }

        function xx(e, t, n) {
          var i = e.parent,
              o = i.parent,
              r = i.index,
              s = t - r,
              a = {},
              c = parseInt(e.getAttribute("rowspan")) - s;
          c > 1 && (a.rowspan = c);
          var l = parseInt(e.getAttribute("colspan") || 1);
          l > 1 && (a.colspan = l);

          var d = r + s,
              u = _toConsumableArray(new $v(o, {
            startRow: r,
            endRow: d,
            includeAllSlots: !0
          }));

          var h,
              g = null;

          var _iterator484 = _createForOfIteratorHelper(u),
              _step484;

          try {
            for (_iterator484.s(); !(_step484 = _iterator484.n()).done;) {
              var _t343 = _step484.value;
              var _i247 = _t343.row,
                  _o129 = _t343.column,
                  _r67 = _t343.cell;
              _r67 === e && void 0 === h && (h = _o129), void 0 !== h && h === _o129 && _i247 === d && (g = bx(n, _t343.getPositionBefore(), a));
            }
          } catch (err) {
            _iterator484.e(err);
          } finally {
            _iterator484.f();
          }

          return kx("rowspan", s, e, n), g;
        }

        function yx(e, t) {
          var n = [],
              i = new $v(e);

          var _iterator485 = _createForOfIteratorHelper(i),
              _step485;

          try {
            for (_iterator485.s(); !(_step485 = _iterator485.n()).done;) {
              var _e395 = _step485.value;
              var _i248 = _e395.column,
                  _o130 = _e395.cellWidth;
              _i248 < t && t <= _i248 + _o130 - 1 && n.push(_e395);
            }
          } catch (err) {
            _iterator485.e(err);
          } finally {
            _iterator485.f();
          }

          return n;
        }

        function Cx(e, t, n, i) {
          var o = n - t,
              r = {},
              s = parseInt(e.getAttribute("colspan")) - o;
          s > 1 && (r.colspan = s);
          var a = parseInt(e.getAttribute("rowspan") || 1);
          a > 1 && (r.rowspan = a);
          var c = bx(i, i.createPositionAfter(e), r);
          return kx("colspan", o, e, i), c;
        }

        function Tx(e, t, n, i, o, r) {
          var s = parseInt(e.getAttribute("colspan") || 1),
              a = parseInt(e.getAttribute("rowspan") || 1);

          if (n + s - 1 > o) {
            kx("colspan", o - n + 1, e, r, 1);
          }

          if (t + a - 1 > i) {
            kx("rowspan", i - t + 1, e, r, 1);
          }
        }

        function Ax(e, t) {
          var n = t.getColumns(e),
              i = new Array(n).fill(0);

          var _iterator486 = _createForOfIteratorHelper(new $v(e)),
              _step486;

          try {
            for (_iterator486.s(); !(_step486 = _iterator486.n()).done;) {
              var _t344 = _step486.value.column;
              i[_t344]++;
            }
          } catch (err) {
            _iterator486.e(err);
          } finally {
            _iterator486.f();
          }

          var o = i.reduce(function (e, t, n) {
            return t ? e : [].concat(_toConsumableArray(e), [n]);
          }, []);

          if (o.length > 0) {
            var _n288 = o[o.length - 1];
            return t.removeColumns(e, {
              at: _n288
            }), !0;
          }

          return !1;
        }

        function Ex(e, t) {
          var n = [],
              i = t.getRows(e);

          for (var _t345 = 0; _t345 < i; _t345++) {
            e.getChild(_t345).isEmpty && n.push(_t345);
          }

          if (n.length > 0) {
            var _i249 = n[n.length - 1];
            return t.removeRows(e, {
              at: _i249
            }), !0;
          }

          return !1;
        }

        function Ix(e, t) {
          Ax(e, t) || Ex(e, t);
        }

        function Sx(e, t) {
          var n = Array.from(new $v(e, {
            startColumn: t.firstColumn,
            endColumn: t.lastColumn,
            row: t.lastRow
          }));
          if (n.every(function (_ref96) {
            var e = _ref96.cellHeight;
            return 1 === e;
          })) return t.lastRow;
          var i = n[0].cellHeight - 1;
          return t.lastRow + i;
        }

        function Mx(e, t) {
          var n = Array.from(new $v(e, {
            startRow: t.firstRow,
            endRow: t.lastRow,
            column: t.lastColumn
          }));
          if (n.every(function (_ref97) {
            var e = _ref97.cellWidth;
            return 1 === e;
          })) return t.lastColumn;
          var i = n[0].cellWidth - 1;
          return t.lastColumn + i;
        }

        var Px = /*#__PURE__*/function (_st68) {
          _inherits(Px, _st68);

          var _super196 = _createSuper(Px);

          function Px() {
            _classCallCheck(this, Px);

            return _super196.apply(this, arguments);
          }

          _createClass(Px, [{
            key: "init",
            value: function init() {
              this.decorate("insertColumns"), this.decorate("insertRows");
            }
          }, {
            key: "getCellLocation",
            value: function getCellLocation(e) {
              var t = e.parent,
                  n = t.parent,
                  i = n.getChildIndex(t),
                  o = new $v(n, {
                row: i
              });

              var _iterator487 = _createForOfIteratorHelper(o),
                  _step487;

              try {
                for (_iterator487.s(); !(_step487 = _iterator487.n()).done;) {
                  var _step487$value = _step487.value,
                      _t346 = _step487$value.cell,
                      _n289 = _step487$value.row,
                      _i250 = _step487$value.column;
                  if (_t346 === e) return {
                    row: _n289,
                    column: _i250
                  };
                }
              } catch (err) {
                _iterator487.e(err);
              } finally {
                _iterator487.f();
              }
            }
          }, {
            key: "createTable",
            value: function createTable(e, t) {
              var n = e.createElement("table"),
                  i = parseInt(t.rows) || 2,
                  o = parseInt(t.columns) || 2;
              return Rx(e, n, 0, i, o), t.headingRows && kx("headingRows", Math.min(t.headingRows, i), n, e, 0), t.headingColumns && kx("headingColumns", Math.min(t.headingColumns, o), n, e, 0), n;
            }
          }, {
            key: "insertRows",
            value: function insertRows(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
              var n = this.editor.model,
                  i = t.at || 0,
                  o = t.rows || 1,
                  r = void 0 !== t.copyStructureFromAbove,
                  s = t.copyStructureFromAbove ? i - 1 : i,
                  a = this.getRows(e),
                  l = this.getColumns(e);
              if (i > a) throw new c.a("tableutils-insertrows-insert-out-of-range", this, {
                options: t
              });
              n.change(function (t) {
                var n = e.getAttribute("headingRows") || 0;
                if (n > i && kx("headingRows", n + o, e, t, 0), !r && (0 === i || i === a)) return void Rx(t, e, i, o, l);
                var c = r ? Math.max(i, s) : i,
                    d = new $v(e, {
                  endRow: c
                }),
                    u = new Array(l).fill(1);

                var _iterator488 = _createForOfIteratorHelper(d),
                    _step488;

                try {
                  for (_iterator488.s(); !(_step488 = _iterator488.n()).done;) {
                    var _step488$value = _step488.value,
                        _e397 = _step488$value.row,
                        _n292 = _step488$value.column,
                        _a32 = _step488$value.cellHeight,
                        _c20 = _step488$value.cellWidth,
                        _l13 = _step488$value.cell;

                    var _d7 = _e397 + _a32 - 1,
                        _h6 = _e397 <= s && s <= _d7;

                    _e397 < i && i <= _d7 ? (t.setAttribute("rowspan", _a32 + o, _l13), u[_n292] = -_c20) : r && _h6 && (u[_n292] = _c20);
                  }
                } catch (err) {
                  _iterator488.e(err);
                } finally {
                  _iterator488.f();
                }

                for (var _n290 = 0; _n290 < o; _n290++) {
                  var _n291 = t.createElement("tableRow");

                  t.insert(_n291, e, i);

                  for (var _e396 = 0; _e396 < u.length; _e396++) {
                    var _i251 = u[_e396],
                        _o131 = t.createPositionAt(_n291, "end");

                    _i251 > 0 && bx(t, _o131, _i251 > 1 ? {
                      colspan: _i251
                    } : null), _e396 += Math.abs(_i251) - 1;
                  }
                }
              });
            }
          }, {
            key: "insertColumns",
            value: function insertColumns(e) {
              var _this307 = this;

              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
              var n = this.editor.model,
                  i = t.at || 0,
                  o = t.columns || 1;
              n.change(function (t) {
                var n = e.getAttribute("headingColumns");
                i < n && t.setAttribute("headingColumns", n + o, e);

                var r = _this307.getColumns(e);

                if (0 === i || r === i) {
                  var _iterator489 = _createForOfIteratorHelper(e.getChildren()),
                      _step489;

                  try {
                    for (_iterator489.s(); !(_step489 = _iterator489.n()).done;) {
                      var _n293 = _step489.value;
                      _n293.is("element", "tableRow") && Nx(o, t, t.createPositionAt(_n293, i ? "end" : 0));
                    }
                  } catch (err) {
                    _iterator489.e(err);
                  } finally {
                    _iterator489.f();
                  }

                  return;
                }

                var s = new $v(e, {
                  column: i,
                  includeAllSlots: !0
                });

                var _iterator490 = _createForOfIteratorHelper(s),
                    _step490;

                try {
                  for (_iterator490.s(); !(_step490 = _iterator490.n()).done;) {
                    var _e398 = _step490.value;
                    var _n294 = _e398.row,
                        _r68 = _e398.cell,
                        _a33 = _e398.cellAnchorColumn,
                        _c21 = _e398.cellAnchorRow,
                        _l14 = _e398.cellWidth,
                        _d8 = _e398.cellHeight;

                    if (_a33 < i) {
                      t.setAttribute("colspan", _l14 + o, _r68);

                      var _e399 = _c21 + _d8 - 1;

                      for (var _t347 = _n294; _t347 <= _e399; _t347++) {
                        s.skipRow(_t347);
                      }
                    } else Nx(o, t, _e398.getPositionBefore());
                  }
                } catch (err) {
                  _iterator490.e(err);
                } finally {
                  _iterator490.f();
                }
              });
            }
          }, {
            key: "removeRows",
            value: function removeRows(e, t) {
              var _this308 = this;

              var n = this.editor.model,
                  i = t.rows || 1,
                  o = this.getRows(e),
                  r = t.at,
                  s = r + i - 1;
              if (s > o - 1) throw new c.a("tableutils-removerows-row-index-out-of-range", this, {
                table: e,
                options: t
              });
              n.change(function (t) {
                var _ref98 = function (e, t, n) {
                  var i = new Map(),
                      o = [];

                  var _iterator491 = _createForOfIteratorHelper(new $v(e, {
                    endRow: n
                  })),
                      _step491;

                  try {
                    for (_iterator491.s(); !(_step491 = _iterator491.n()).done;) {
                      var _step491$value = _step491.value,
                          _r69 = _step491$value.row,
                          _s47 = _step491$value.column,
                          _a34 = _step491$value.cellHeight,
                          _c22 = _step491$value.cell;

                      var _e400 = _r69 + _a34 - 1,
                          _l15 = _r69 >= t && _r69 <= n && _e400 > n;

                      if (_l15) {
                        var _e401 = n - _r69 + 1,
                            _t348 = _a34 - _e401;

                        i.set(_s47, {
                          cell: _c22,
                          rowspan: _t348
                        });
                      }

                      var _d9 = _r69 < t && _e400 >= t;

                      if (_d9) {
                        var _i252 = void 0;

                        _i252 = _e400 >= n ? n - t + 1 : _e400 - t + 1, o.push({
                          cell: _c22,
                          rowspan: _a34 - _i252
                        });
                      }
                    }
                  } catch (err) {
                    _iterator491.e(err);
                  } finally {
                    _iterator491.f();
                  }

                  return {
                    cellsToMove: i,
                    cellsToTrim: o
                  };
                }(e, r, s),
                    n = _ref98.cellsToMove,
                    i = _ref98.cellsToTrim;

                if (n.size) {
                  !function (e, t, n, i) {
                    var o = _toConsumableArray(new $v(e, {
                      includeAllSlots: !0,
                      row: t
                    })),
                        r = e.getChild(t);

                    var s;

                    var _iterator492 = _createForOfIteratorHelper(o),
                        _step492;

                    try {
                      for (_iterator492.s(); !(_step492 = _iterator492.n()).done;) {
                        var _step492$value = _step492.value,
                            _e402 = _step492$value.column,
                            _t349 = _step492$value.cell,
                            _a35 = _step492$value.isAnchor;

                        if (n.has(_e402)) {
                          var _n$get = n.get(_e402),
                              _t350 = _n$get.cell,
                              _o132 = _n$get.rowspan,
                              _a36 = s ? i.createPositionAfter(s) : i.createPositionAt(r, 0);

                          i.move(i.createRangeOn(_t350), _a36), kx("rowspan", _o132, _t350, i), s = _t350;
                        } else _a35 && (s = _t349);
                      }
                    } catch (err) {
                      _iterator492.e(err);
                    } finally {
                      _iterator492.f();
                    }
                  }(e, s + 1, n, t);
                }

                for (var _n295 = s; _n295 >= r; _n295--) {
                  t.remove(e.getChild(_n295));
                }

                var _iterator493 = _createForOfIteratorHelper(i),
                    _step493;

                try {
                  for (_iterator493.s(); !(_step493 = _iterator493.n()).done;) {
                    var _step493$value = _step493.value,
                        _e403 = _step493$value.rowspan,
                        _n296 = _step493$value.cell;
                    kx("rowspan", _e403, _n296, t);
                  }
                } catch (err) {
                  _iterator493.e(err);
                } finally {
                  _iterator493.f();
                }

                !function (e, t, n, i) {
                  var o = e.getAttribute("headingRows") || 0;

                  if (t < o) {
                    var _r70 = n < o ? o - (n - t + 1) : t;

                    kx("headingRows", _r70, e, i, 0);
                  }
                }(e, r, s, t), Ax(e, _this308) || Ex(e, _this308);
              });
            }
          }, {
            key: "removeColumns",
            value: function removeColumns(e, t) {
              var _this309 = this;

              var n = this.editor.model,
                  i = t.at,
                  o = t.columns || 1,
                  r = t.at + o - 1;
              n.change(function (t) {
                !function (e, t, n) {
                  var i = e.getAttribute("headingColumns") || 0;

                  if (i && t.first < i) {
                    var _o133 = Math.min(i - 1, t.last) - t.first + 1;

                    n.setAttribute("headingColumns", i - _o133, e);
                  }
                }(e, {
                  first: i,
                  last: r
                }, t);

                for (var _n297 = r; _n297 >= i; _n297--) {
                  for (var _i253 = 0, _arr12 = _toConsumableArray(new $v(e)); _i253 < _arr12.length; _i253++) {
                    var _arr12$_i = _arr12[_i253],
                        _i254 = _arr12$_i.cell,
                        _o134 = _arr12$_i.column,
                        _r71 = _arr12$_i.cellWidth;
                    _o134 <= _n297 && _r71 > 1 && _o134 + _r71 > _n297 ? kx("colspan", _r71 - 1, _i254, t) : _o134 === _n297 && t.remove(_i254);
                  }
                }

                Ex(e, _this309) || Ax(e, _this309);
              });
            }
          }, {
            key: "splitCellVertically",
            value: function splitCellVertically(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;
              var n = this.editor.model,
                  i = e.parent.parent,
                  o = parseInt(e.getAttribute("rowspan") || 1),
                  r = parseInt(e.getAttribute("colspan") || 1);
              n.change(function (n) {
                if (r > 1) {
                  var _Ox = Ox(r, t),
                      _i255 = _Ox.newCellsSpan,
                      _s48 = _Ox.updatedSpan;

                  kx("colspan", _s48, e, n);
                  var _a37 = {};
                  _i255 > 1 && (_a37.colspan = _i255), o > 1 && (_a37.rowspan = o), Nx(r > t ? t - 1 : r - 1, n, n.createPositionAfter(e), _a37);
                }

                if (r < t) {
                  var _s49 = t - r,
                      _a38 = _toConsumableArray(new $v(i)),
                      _a38$find = _a38.find(function (_ref99) {
                    var t = _ref99.cell;
                    return t === e;
                  }),
                      _c23 = _a38$find.column,
                      _l16 = _a38.filter(function (_ref100) {
                    var t = _ref100.cell,
                        n = _ref100.cellWidth,
                        i = _ref100.column;
                    return t !== e && i === _c23 || i < _c23 && i + n > _c23;
                  });

                  var _iterator494 = _createForOfIteratorHelper(_l16),
                      _step494;

                  try {
                    for (_iterator494.s(); !(_step494 = _iterator494.n()).done;) {
                      var _step494$value = _step494.value,
                          _e404 = _step494$value.cell,
                          _t351 = _step494$value.cellWidth;
                      n.setAttribute("colspan", _t351 + _s49, _e404);
                    }
                  } catch (err) {
                    _iterator494.e(err);
                  } finally {
                    _iterator494.f();
                  }

                  var _d10 = {};
                  o > 1 && (_d10.rowspan = o), Nx(_s49, n, n.createPositionAfter(e), _d10);

                  var _u6 = i.getAttribute("headingColumns") || 0;

                  _u6 > _c23 && kx("headingColumns", _u6 + _s49, i, n);
                }
              });
            }
          }, {
            key: "splitCellHorizontally",
            value: function splitCellHorizontally(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;
              var n = this.editor.model,
                  i = e.parent,
                  o = i.parent,
                  r = o.getChildIndex(i),
                  s = parseInt(e.getAttribute("rowspan") || 1),
                  a = parseInt(e.getAttribute("colspan") || 1);
              n.change(function (n) {
                if (s > 1) {
                  var _i256 = _toConsumableArray(new $v(o, {
                    startRow: r,
                    endRow: r + s - 1,
                    includeAllSlots: !0
                  })),
                      _Ox2 = Ox(s, t),
                      _c24 = _Ox2.newCellsSpan,
                      _l17 = _Ox2.updatedSpan;

                  kx("rowspan", _l17, e, n);

                  var _i256$find = _i256.find(function (_ref101) {
                    var t = _ref101.cell;
                    return t === e;
                  }),
                      _d11 = _i256$find.column,
                      _u7 = {};

                  _c24 > 1 && (_u7.rowspan = _c24), a > 1 && (_u7.colspan = a);

                  for (var _i258 = 0, _i257 = _i256; _i258 < _i257.length; _i258++) {
                    var _e405 = _i257[_i258];
                    var _t352 = _e405.column,
                        _i259 = _e405.row;
                    _i259 >= r + _l17 && _t352 === _d11 && (_i259 + r + _l17) % _c24 == 0 && Nx(1, n, _e405.getPositionBefore(), _u7);
                  }
                }

                if (s < t) {
                  var _i260 = t - s,
                      _c25 = _toConsumableArray(new $v(o, {
                    startRow: 0,
                    endRow: r
                  }));

                  var _iterator495 = _createForOfIteratorHelper(_c25),
                      _step495;

                  try {
                    for (_iterator495.s(); !(_step495 = _iterator495.n()).done;) {
                      var _step495$value = _step495.value,
                          _t353 = _step495$value.cell,
                          _o135 = _step495$value.cellHeight,
                          _s50 = _step495$value.row;

                      if (_t353 !== e && _s50 + _o135 > r) {
                        var _e406 = _o135 + _i260;

                        n.setAttribute("rowspan", _e406, _t353);
                      }
                    }
                  } catch (err) {
                    _iterator495.e(err);
                  } finally {
                    _iterator495.f();
                  }

                  var _l18 = {};
                  a > 1 && (_l18.colspan = a), Rx(n, o, r + 1, _i260, 1, _l18);

                  var _d12 = o.getAttribute("headingRows") || 0;

                  _d12 > r && kx("headingRows", _d12 + _i260, o, n);
                }
              });
            }
          }, {
            key: "getColumns",
            value: function getColumns(e) {
              return _toConsumableArray(e.getChild(0).getChildren()).reduce(function (e, t) {
                return e + parseInt(t.getAttribute("colspan") || 1);
              }, 0);
            }
          }, {
            key: "getRows",
            value: function getRows(e) {
              return Array.from(e.getChildren()).reduce(function (e, t) {
                return t.is("element", "tableRow") ? e + 1 : e;
              }, 0);
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "TableUtils";
            }
          }]);

          return Px;
        }(st);

        function Rx(e, t, n, i, o) {
          var r = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};

          for (var _s51 = 0; _s51 < i; _s51++) {
            var _i261 = e.createElement("tableRow");

            e.insert(_i261, t, n), Nx(o, e, e.createPositionAt(_i261, "end"), r);
          }
        }

        function Nx(e, t, n) {
          var i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};

          for (var _o136 = 0; _o136 < e; _o136++) {
            bx(t, n, i);
          }
        }

        function Ox(e, t) {
          if (e < t) return {
            newCellsSpan: 1,
            updatedSpan: 1
          };
          var n = Math.floor(e / t);
          return {
            newCellsSpan: n,
            updatedSpan: e - n * t + n
          };
        }

        n(170);

        var Dx = /*#__PURE__*/function (_st69) {
          _inherits(Dx, _st69);

          var _super197 = _createSuper(Dx);

          function Dx() {
            _classCallCheck(this, Dx);

            return _super197.apply(this, arguments);
          }

          _createClass(Dx, [{
            key: "init",
            value: function init() {
              var _this310 = this;

              var e = this.editor.model;
              this.listenTo(e, "deleteContent", function (e, t) {
                return _this310._handleDeleteContent(e, t);
              }, {
                priority: "high"
              }), this._defineSelectionConverter(), this._enablePluginDisabling();
            }
          }, {
            key: "getSelectedTableCells",
            value: function getSelectedTableCells() {
              var e = Yv(this.editor.model.document.selection);
              return 0 == e.length ? null : e;
            }
          }, {
            key: "getSelectionAsFragment",
            value: function getSelectionAsFragment() {
              var _this311 = this;

              var e = this.getSelectedTableCells();
              return e ? this.editor.model.change(function (t) {
                var n = t.createDocumentFragment(),
                    i = _this311.editor.plugins.get("TableUtils"),
                    _Xv = Xv(e),
                    o = _Xv.first,
                    r = _Xv.last,
                    _Jv = Jv(e),
                    s = _Jv.first,
                    a = _Jv.last,
                    c = e[0].findAncestor("table");

                var l = a,
                    d = r;

                if (Zv(e, i)) {
                  var _e407 = {
                    firstColumn: o,
                    lastColumn: r,
                    firstRow: s,
                    lastRow: a
                  };
                  l = Sx(c, _e407), d = Mx(c, _e407);
                }

                var u = _x(c, {
                  startRow: s,
                  startColumn: o,
                  endRow: l,
                  endColumn: d
                }, t);

                return t.insert(u, n, 0), n;
              }) : null;
            }
          }, {
            key: "setCellSelection",
            value: function setCellSelection(e, t) {
              var n = this._getCellsToSelect(e, t);

              this.editor.model.change(function (e) {
                e.setSelection(n.cells.map(function (t) {
                  return e.createRangeOn(t);
                }), {
                  backward: n.backward
                });
              });
            }
          }, {
            key: "getFocusCell",
            value: function getFocusCell() {
              var e = _toConsumableArray(this.editor.model.document.selection.getRanges()).pop().getContainedElement();

              return e && e.is("element", "tableCell") ? e : null;
            }
          }, {
            key: "getAnchorCell",
            value: function getAnchorCell() {
              var e = Ja(this.editor.model.document.selection.getRanges()).getContainedElement();
              return e && e.is("element", "tableCell") ? e : null;
            }
          }, {
            key: "_defineSelectionConverter",
            value: function _defineSelectionConverter() {
              var _this312 = this;

              var e = this.editor,
                  t = new Set();
              e.conversion["for"]("editingDowncast").add(function (e) {
                return e.on("selection", function (e, n, i) {
                  var o = i.writer;
                  !function (e) {
                    var _iterator496 = _createForOfIteratorHelper(t),
                        _step496;

                    try {
                      for (_iterator496.s(); !(_step496 = _iterator496.n()).done;) {
                        var _n298 = _step496.value;
                        e.removeClass("ck-editor__editable_selected", _n298);
                      }
                    } catch (err) {
                      _iterator496.e(err);
                    } finally {
                      _iterator496.f();
                    }

                    t.clear();
                  }(o);

                  var r = _this312.getSelectedTableCells();

                  if (!r) return;

                  var _iterator497 = _createForOfIteratorHelper(r),
                      _step497;

                  try {
                    for (_iterator497.s(); !(_step497 = _iterator497.n()).done;) {
                      var _e408 = _step497.value;

                      var _n299 = i.mapper.toViewElement(_e408);

                      o.addClass("ck-editor__editable_selected", _n299), t.add(_n299);
                    }
                  } catch (err) {
                    _iterator497.e(err);
                  } finally {
                    _iterator497.f();
                  }

                  var s = i.mapper.toViewElement(r[r.length - 1]);
                  o.setSelection(s, 0);
                }, {
                  priority: "lowest"
                });
              });
            }
          }, {
            key: "_enablePluginDisabling",
            value: function _enablePluginDisabling() {
              var _this313 = this;

              var e = this.editor;
              this.on("change:isEnabled", function () {
                if (!_this313.isEnabled) {
                  var _t354 = _this313.getSelectedTableCells();

                  if (!_t354) return;
                  e.model.change(function (n) {
                    var i = n.createPositionAt(_t354[0], 0),
                        o = e.model.schema.getNearestSelectionRange(i);
                    n.setSelection(o);
                  });
                }
              });
            }
          }, {
            key: "_handleDeleteContent",
            value: function _handleDeleteContent(e, t) {
              var _t355 = _slicedToArray(t, 2),
                  n = _t355[0],
                  i = _t355[1],
                  o = this.editor.model,
                  r = !i || "backward" == i.direction,
                  s = Yv(n);

              s.length && (e.stop(), o.change(function (e) {
                var t = s[r ? s.length - 1 : 0];
                o.change(function (e) {
                  var _iterator498 = _createForOfIteratorHelper(s),
                      _step498;

                  try {
                    for (_iterator498.s(); !(_step498 = _iterator498.n()).done;) {
                      var _t356 = _step498.value;
                      o.deleteContent(e.createSelection(_t356, "in"));
                    }
                  } catch (err) {
                    _iterator498.e(err);
                  } finally {
                    _iterator498.f();
                  }
                });
                var i = o.schema.getNearestSelectionRange(e.createPositionAt(t, 0));
                n.is("documentSelection") ? e.setSelection(i) : n.setTo(i);
              }));
            }
          }, {
            key: "_getCellsToSelect",
            value: function _getCellsToSelect(e, t) {
              var n = this.editor.plugins.get("TableUtils"),
                  i = n.getCellLocation(e),
                  o = n.getCellLocation(t),
                  r = Math.min(i.row, o.row),
                  s = Math.max(i.row, o.row),
                  a = Math.min(i.column, o.column),
                  c = Math.max(i.column, o.column),
                  l = new Array(s - r + 1).fill(null).map(function () {
                return [];
              }),
                  d = {
                startRow: r,
                endRow: s,
                startColumn: a,
                endColumn: c
              };

              var _iterator499 = _createForOfIteratorHelper(new $v(e.findAncestor("table"), d)),
                  _step499;

              try {
                for (_iterator499.s(); !(_step499 = _iterator499.n()).done;) {
                  var _step499$value = _step499.value,
                      _t357 = _step499$value.row,
                      _n300 = _step499$value.cell;

                  l[_t357 - r].push(_n300);
                }
              } catch (err) {
                _iterator499.e(err);
              } finally {
                _iterator499.f();
              }

              var u = o.row < i.row,
                  h = o.column < i.column;
              return u && l.reverse(), h && l.forEach(function (e) {
                return e.reverse();
              }), {
                cells: l.flat(),
                backward: u || h
              };
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "TableSelection";
            }
          }, {
            key: "requires",
            get: function get() {
              return [Px];
            }
          }]);

          return Dx;
        }(st);

        var Lx = /*#__PURE__*/function (_st70) {
          _inherits(Lx, _st70);

          var _super198 = _createSuper(Lx);

          function Lx() {
            _classCallCheck(this, Lx);

            return _super198.apply(this, arguments);
          }

          _createClass(Lx, [{
            key: "init",
            value: function init() {
              var _this314 = this;

              var e = this.editor,
                  t = e.editing.view.document;
              this.listenTo(t, "copy", function (e, t) {
                return _this314._onCopyCut(e, t);
              }), this.listenTo(t, "cut", function (e, t) {
                return _this314._onCopyCut(e, t);
              }), this.listenTo(e.model, "insertContent", function (e, t) {
                return _this314._onInsertContent.apply(_this314, [e].concat(_toConsumableArray(t)));
              }, {
                priority: "high"
              }), this.decorate("_replaceTableSlotCell");
            }
          }, {
            key: "_onCopyCut",
            value: function _onCopyCut(e, t) {
              var n = this.editor.plugins.get(Dx);
              if (!n.getSelectedTableCells()) return;
              if ("cut" == e.name && this.editor.isReadOnly) return;
              t.preventDefault(), e.stop();
              var i = this.editor.data,
                  o = this.editor.editing.view.document,
                  r = i.toView(n.getSelectionAsFragment());
              o.fire("clipboardOutput", {
                dataTransfer: t.dataTransfer,
                content: r,
                method: e.name
              });
            }
          }, {
            key: "_onInsertContent",
            value: function _onInsertContent(e, t, n) {
              var _this315 = this;

              if (n && !n.is("documentSelection")) return;
              var i = this.editor.model,
                  o = this.editor.plugins.get(Px);
              var r = zx(t, i);
              if (!r) return;
              var s = Qv(i.document.selection);
              s.length ? (e.stop(), i.change(function (e) {
                var t = {
                  width: o.getColumns(r),
                  height: o.getRows(r)
                },
                    n = function (e, t, n, i) {
                  var o = e[0].findAncestor("table"),
                      r = Xv(e),
                      s = Jv(e),
                      a = {
                    firstColumn: r.first,
                    lastColumn: r.last,
                    firstRow: s.first,
                    lastRow: s.last
                  },
                      c = 1 === e.length;
                  c && (a.lastRow += t.height - 1, a.lastColumn += t.width - 1, function (e, t, n, i) {
                    var o = i.getColumns(e),
                        r = i.getRows(e);
                    n > o && i.insertColumns(e, {
                      at: o,
                      columns: n - o
                    });
                    t > r && i.insertRows(e, {
                      at: r,
                      rows: t - r
                    });
                  }(o, a.lastRow + 1, a.lastColumn + 1, i));
                  c || !Zv(e, i) ? function (e, t, n) {
                    var i = t.firstRow,
                        o = t.lastRow,
                        r = t.firstColumn,
                        s = t.lastColumn,
                        a = {
                      first: i,
                      last: o
                    },
                        c = {
                      first: r,
                      last: s
                    };
                    Bx(e, r, a, n), Bx(e, s + 1, a, n), Vx(e, i, c, n), Vx(e, o + 1, c, n, i);
                  }(o, a, n) : (a.lastRow = Sx(o, a), a.lastColumn = Mx(o, a));
                  return a;
                }(s, t, e, o),
                    i = n.lastRow - n.firstRow + 1,
                    a = n.lastColumn - n.firstColumn + 1,
                    c = {
                  startRow: 0,
                  startColumn: 0,
                  endRow: Math.min(i, t.height) - 1,
                  endColumn: Math.min(a, t.width) - 1
                };

                r = _x(r, c, e);

                var l = s[0].findAncestor("table"),
                    d = _this315._replaceSelectedCellsWithPasted(r, t, l, n, e);

                if (_this315.editor.plugins.get("TableSelection").isEnabled) {
                  var _t358 = ex(d.map(function (t) {
                    return e.createRangeOn(t);
                  }));

                  e.setSelection(_t358);
                } else e.setSelection(d[0], 0);
              })) : Ix(r, o);
            }
          }, {
            key: "_replaceSelectedCellsWithPasted",
            value: function _replaceSelectedCellsWithPasted(e, t, n, i, o) {
              var r = t.width,
                  s = t.height,
                  a = function (e, t, n) {
                var i = new Array(n).fill(null).map(function () {
                  return new Array(t).fill(null);
                });

                var _iterator500 = _createForOfIteratorHelper(new $v(e)),
                    _step500;

                try {
                  for (_iterator500.s(); !(_step500 = _iterator500.n()).done;) {
                    var _step500$value = _step500.value,
                        _t359 = _step500$value.column,
                        _n301 = _step500$value.row,
                        _o137 = _step500$value.cell;
                    i[_n301][_t359] = _o137;
                  }
                } catch (err) {
                  _iterator500.e(err);
                } finally {
                  _iterator500.f();
                }

                return i;
              }(e, r, s),
                  c = _toConsumableArray(new $v(n, {
                startRow: i.firstRow,
                endRow: i.lastRow,
                startColumn: i.firstColumn,
                endColumn: i.lastColumn,
                includeAllSlots: !0
              })),
                  l = [];

              var d;

              for (var _i262 = 0, _c26 = c; _i262 < _c26.length; _i262++) {
                var _e409 = _c26[_i262];
                var _t360 = _e409.row,
                    _n302 = _e409.column;
                _n302 === i.firstColumn && (d = _e409.getPositionBefore());

                var _c27 = _t360 - i.firstRow,
                    _u8 = _n302 - i.firstColumn,
                    _h7 = a[_c27 % s][_u8 % r],
                    _g5 = _h7 ? o.cloneElement(_h7) : null,
                    _m4 = this._replaceTableSlotCell(_e409, _g5, d, o);

                _m4 && (Tx(_m4, _t360, _n302, i.lastRow, i.lastColumn, o), l.push(_m4), d = o.createPositionAfter(_m4));
              }

              var u = parseInt(n.getAttribute("headingRows") || 0),
                  h = parseInt(n.getAttribute("headingColumns") || 0),
                  g = i.firstRow < u && u <= i.lastRow,
                  m = i.firstColumn < h && h <= i.lastColumn;

              if (g) {
                var _e410 = Vx(n, u, {
                  first: i.firstColumn,
                  last: i.lastColumn
                }, o, i.firstRow);

                l.push.apply(l, _toConsumableArray(_e410));
              }

              if (m) {
                var _e411 = Bx(n, h, {
                  first: i.firstRow,
                  last: i.lastRow
                }, o);

                l.push.apply(l, _toConsumableArray(_e411));
              }

              return l;
            }
          }, {
            key: "_replaceTableSlotCell",
            value: function _replaceTableSlotCell(e, t, n, i) {
              var o = e.cell,
                  r = e.isAnchor;
              return r && i.remove(o), t ? (i.insert(t, n), t) : null;
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "TableClipboard";
            }
          }, {
            key: "requires",
            get: function get() {
              return [Dx, Px];
            }
          }]);

          return Lx;
        }(st);

        function zx(e, t) {
          if (!e.is("documentFragment") && !e.is("element")) return null;
          if (e.is("element", "table")) return e;
          if (1 == e.childCount && e.getChild(0).is("element", "table")) return e.getChild(0);
          var n = t.createRangeIn(e);

          var _iterator501 = _createForOfIteratorHelper(n.getItems()),
              _step501;

          try {
            for (_iterator501.s(); !(_step501 = _iterator501.n()).done;) {
              var _e412 = _step501.value;

              if (_e412.is("element", "table")) {
                var _i263 = t.createRange(n.start, t.createPositionBefore(_e412));

                if (t.hasContent(_i263, {
                  ignoreWhitespaces: !0
                })) return null;

                var _o138 = t.createRange(t.createPositionAfter(_e412), n.end);

                return t.hasContent(_o138, {
                  ignoreWhitespaces: !0
                }) ? null : _e412;
              }
            }
          } catch (err) {
            _iterator501.e(err);
          } finally {
            _iterator501.f();
          }

          return null;
        }

        function Vx(e, t, n, i) {
          var o = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;
          if (t < 1) return;
          return vx(e, t, o).filter(function (_ref102) {
            var e = _ref102.column,
                t = _ref102.cellWidth;
            return Fx(e, t, n);
          }).map(function (_ref103) {
            var e = _ref103.cell;
            return xx(e, t, i);
          });
        }

        function Bx(e, t, n, i) {
          if (t < 1) return;
          return yx(e, t).filter(function (_ref104) {
            var e = _ref104.row,
                t = _ref104.cellHeight;
            return Fx(e, t, n);
          }).map(function (_ref105) {
            var e = _ref105.cell,
                n = _ref105.column;
            return Cx(e, n, t, i);
          });
        }

        function Fx(e, t, n) {
          var i = e + t - 1,
              o = n.first,
              r = n.last;
          return e >= o && e <= r || e < o && i >= o;
        }

        var jx = ["borderWidth", "borderColor", "borderStyle", "horizontalAlignment", "verticalAlignment", "backgroundColor", "padding"],
            Hx = Object.fromEntries(jx.map(function (e) {
          return [e, null];
        }));

        var Ux = /*#__PURE__*/function (_st71) {
          _inherits(Ux, _st71);

          var _super199 = _createSuper(Ux);

          function Ux() {
            _classCallCheck(this, Ux);

            return _super199.apply(this, arguments);
          }

          _createClass(Ux, [{
            key: "afterInit",
            value: function afterInit() {
              var _this316 = this;

              var e = this.editor;
              if (!e.plugins.has("TableClipboard")) return;
              var t = e.locale.t,
                  n = e.plugins.get("TrackChangesEditing"),
                  i = e.plugins.get("TableUtils"),
                  o = e.plugins.get(gx);
              o._tablePostFixingSubtypes.push("tablePasteRow", "tablePasteColumn"), e.model.schema.register("tableCellSuggestion", {
                allowIn: "tableCell",
                allowContentOf: "tableCell",
                isLimit: !0
              }), e.conversion.elementToElement({
                model: "tableCellSuggestion",
                view: "suggestion-td"
              });
              var r = null;
              e.model.on("insertContent", function (t, o) {
                var _o139 = _slicedToArray(o, 2),
                    a = _o139[0],
                    c = _o139[1],
                    l = o[o.length - 1];

                l && l.forceDefaultExecution || n._isForcedDefaultExecutionBlock || _this316.editor.commands.get("trackChanges").value && function (e, t, n, i) {
                  if (t && !t.is("documentSelection")) return !1;
                  var o = zx(e, n);
                  if (!o || !qx(o)) return !1;
                  var r = Qv(n.document.selection);
                  if (!r.length) return !1;
                  var s = r[0].findAncestor("table"),
                      a = Jv(r),
                      c = Xv(r),
                      l = {
                    startRow: a.first,
                    endRow: a.last,
                    startColumn: c.first,
                    endColumn: c.last
                  };
                  return 1 == r.length && (l.endRow += i.getRows(o) - 1, l.endColumn += i.getColumns(o) - 1), qx(s, l);
                }(a, c, e.model, i) && (t.stop(), r = {
                  cells: [],
                  insertionRanges: [],
                  deletionRanges: [],
                  rowInsertionRanges: [],
                  rowInsertionIndexes: [],
                  columnInsertionRanges: [],
                  columnInsertionIndexes: []
                }, e.model.change(function () {
                  e.model.insertContent(o[0], o[1], o[2], o[3], {
                    forceDefaultExecution: !0
                  });
                  var t = s(),
                      _r72 = r,
                      i = _r72.rowInsertionRanges,
                      a = _r72.columnInsertionRanges,
                      c = _r72.insertionRanges,
                      l = _r72.deletionRanges,
                      d = _r72.cells;
                  i.length && n.markMultiRangeInsertion(i, "tablePasteRow", {
                    tablePasteChainId: t
                  }), a.length && n.markMultiRangeInsertion(a, "tablePasteColumn", {
                    tablePasteChainId: t
                  }), c.length && n.markMultiRangeInsertion(c, "tablePaste", {
                    tablePasteChainId: t,
                    skipNestingCheck: !0
                  }), l.length && n.markMultiRangeDeletion(l, "tablePaste", {
                    tablePasteChainId: t,
                    skipNestingCheck: !0
                  });
                  var u = n.markMultiRangeBlockFormat(d.map(function (_ref106) {
                    var e = _ref106.element;
                    return e;
                  }), {
                    formatGroupId: s()
                  }, [], "tablePasteCell", {
                    tablePasteChainId: t
                  });

                  if (u) {
                    var _t361 = u.getMarkers(),
                        _n303 = [];

                    var _iterator502 = _createForOfIteratorHelper(d),
                        _step502;

                    try {
                      var _loop16 = function _loop16() {
                        var _step502$value = _step502.value,
                            i = _step502$value.element,
                            o = _step502$value.attributes;
                        if (!o) return "continue";

                        var r = e.model.createRangeOn(i),
                            s = _t361.find(function (e) {
                          return e.getRange().isEqual(r);
                        });

                        s && _n303.push([s.name, o]);
                      };

                      for (_iterator502.s(); !(_step502 = _iterator502.n()).done;) {
                        var _ret5 = _loop16();

                        if (_ret5 === "continue") continue;
                      }
                    } catch (err) {
                      _iterator502.e(err);
                    } finally {
                      _iterator502.f();
                    }

                    _n303.length && u.setAttribute("markerAttributes", Object.fromEntries(_n303));
                  }

                  r = null;
                }));
              }, {
                priority: a.high + 10
              }), e.plugins.get("TableClipboard").on("_replaceTableSlotCell", function (e, t) {
                var _t362 = _slicedToArray(t, 4),
                    n = _t362[0],
                    i = _t362[1],
                    o = _t362[3];

                if (!r) return;
                e.stop();
                var s = n.cell,
                    a = i,
                    c = Wx(s),
                    l = Wx(a);
                e["return"] = s;
                var d = null,
                    u = null;
                if (l || c) {
                  if (c && !l) {
                    o.remove(s.getChild(0));

                    for (var _i264 = 0, _Array$from8 = Array.from(a.getChildren()); _i264 < _Array$from8.length; _i264++) {
                      var _e414 = _Array$from8[_i264];
                      o.insert(_e414, s, "end");
                    }

                    var _e413 = r.rowInsertionIndexes.includes(n.row),
                        _t363 = r.columnInsertionIndexes.includes(n.column);

                    _e413 || _t363 || (d = o.createRangeIn(s));
                  } else l && !c && (u = o.createRangeIn(s));
                } else {
                  var _e415 = o.createElement("tableCellSuggestion"),
                      _t364 = o.createElement("tableCellSuggestion");

                  o.wrap(o.createRangeIn(s), _t364), o.insert(_e415, s, 0);

                  for (var _i265 = 0, _Array$from9 = Array.from(a.getChildren()); _i265 < _Array$from9.length; _i265++) {
                    var _t365 = _Array$from9[_i265];
                    o.insert(_t365, _e415, "end");
                  }

                  d = o.createRangeOn(_e415), u = o.createRangeOn(_t364);
                }
                var h = Array.from(a.getAttributes()).filter(function (_ref107) {
                  var _ref108 = _slicedToArray(_ref107, 1),
                      e = _ref108[0];

                  return jx.includes(e);
                });
                r.cells.push({
                  element: s,
                  attributes: h.length ? Object.fromEntries(h) : null
                }), d && r.insertionRanges.push(d), u && r.deletionRanges.push(u);
              }, {
                priority: "high"
              }), i.on("insertColumns", function (t, n) {
                var _n304 = _slicedToArray(n, 2),
                    i = _n304[0],
                    _n304$ = _n304[1],
                    o = _n304$ === void 0 ? {} : _n304$;

                if (!r) return;
                var s = o.at || 0,
                    a = o.columns || 1;
                r.columnInsertionIndexes = new Array(a).fill(s).map(function (e, t) {
                  return e + t;
                });

                var _iterator503 = _createForOfIteratorHelper(new $v(i, {
                  startColumn: s,
                  endColumn: s + a - 1
                })),
                    _step503;

                try {
                  for (_iterator503.s(); !(_step503 = _iterator503.n()).done;) {
                    var _t366 = _step503.value.cell;
                    r.columnInsertionRanges.push(e.model.createRangeOn(_t366));
                  }
                } catch (err) {
                  _iterator503.e(err);
                } finally {
                  _iterator503.f();
                }
              }, {
                priority: "low"
              }), i.on("insertRows", function (t, n) {
                var _n305 = _slicedToArray(n, 2),
                    i = _n305[0],
                    _n305$ = _n305[1],
                    o = _n305$ === void 0 ? {} : _n305$;

                if (!r) return;
                var s = o.at || 0,
                    a = o.rows || 1;
                r.rowInsertionIndexes = new Array(a).fill(s).map(function (e, t) {
                  return e + t;
                });

                var _iterator504 = _createForOfIteratorHelper(new $v(i, {
                  startRow: s,
                  endRow: s + a - 1
                })),
                    _step504;

                try {
                  for (_iterator504.s(); !(_step504 = _iterator504.n()).done;) {
                    var _t367 = _step504.value.cell;
                    r.rowInsertionRanges.push(e.model.createRangeOn(_t367));
                  }
                } catch (err) {
                  _iterator504.e(err);
                } finally {
                  _iterator504.f();
                }
              }, {
                priority: "low"
              }), n._descriptionFactory.registerDescriptionCallback(function (e) {
                if (e.subType && e.subType.startsWith("tablePaste")) return e.previous ? {} : {
                  type: "insertion",
                  content: t("*Replace table cells*")
                };
              });

              var c = function c() {};

              for (var _i266 = 0, _arr13 = ["tablePaste", "tablePasteColumn", "tablePasteRow", "tablePasteCell"]; _i266 < _arr13.length; _i266++) {
                var _e416 = _arr13[_i266];
                n._suggestionFactory.registerCustomCallback("insertion", _e416, "join", c), n._suggestionFactory.registerCustomCallback("deletion", _e416, "join", c);
              }

              n._suggestionFactory.registerCustomCallback("formatBlock", "tablePasteCell", "discard", c), n._suggestionFactory.registerCustomCallback("formatBlock", "tablePasteCell", "accept", function (t, n, i) {
                var o = t.map(function (e) {
                  return e.getContainedElement();
                }).filter(function (e) {
                  return e;
                }),
                    s = new Map(o.map(function (e) {
                  return [e, null];
                }));

                if (r) {
                  var _iterator505 = _createForOfIteratorHelper(r.cells),
                      _step505;

                  try {
                    for (_iterator505.s(); !(_step505 = _iterator505.n()).done;) {
                      var _step505$value = _step505.value,
                          _e417 = _step505$value.element,
                          _t368 = _step505$value.attributes;
                      _t368 && s.set(_e417, _t368);
                    }
                  } catch (err) {
                    _iterator505.e(err);
                  } finally {
                    _iterator505.f();
                  }
                } else if (i && i.markerAttributes) for (var _i267 = 0, _Object$entries2 = Object.entries(i.markerAttributes); _i267 < _Object$entries2.length; _i267++) {
                  var _Object$entries2$_i = _slicedToArray(_Object$entries2[_i267], 2),
                      _t369 = _Object$entries2$_i[0],
                      _n306 = _Object$entries2$_i[1];

                  var _i268 = e.model.markers.get(_t369),
                      _o140 = _i268 ? _i268.getRange().getContainedElement() : null;

                  _o140 && s.set(_o140, _n306);
                }

                e.model.change(function (e) {
                  var _iterator506 = _createForOfIteratorHelper(s),
                      _step506;

                  try {
                    for (_iterator506.s(); !(_step506 = _iterator506.n()).done;) {
                      var _step506$value = _slicedToArray(_step506.value, 2),
                          _t370 = _step506$value[0],
                          _n307 = _step506$value[1];

                      e.setAttributes(_objectSpread(_objectSpread({}, Hx), _n307), _t370);
                    }
                  } catch (err) {
                    _iterator506.e(err);
                  } finally {
                    _iterator506.f();
                  }
                });
              });

              var l = function l(t, i) {
                n._suggestionFactory.registerCustomCallback(t, "tablePaste", i, function (o, r, s) {
                  e.model.change(function (e) {
                    var a = [];

                    var _iterator507 = _createForOfIteratorHelper(o),
                        _step507;

                    try {
                      for (_iterator507.s(); !(_step507 = _iterator507.n()).done;) {
                        var _e418 = _step507.value;
                        var _t372 = _e418.start.nodeAfter;
                        _t372.is("element", "tableCellSuggestion") && a.push(_t372);
                      }
                    } catch (err) {
                      _iterator507.e(err);
                    } finally {
                      _iterator507.f();
                    }

                    n._suggestionFactory.getSuggestionCallback(t, null, i)(o, r, s);

                    for (var _i269 = 0, _a39 = a; _i269 < _a39.length; _i269++) {
                      var _t371 = _a39[_i269];
                      "$graveyard" != _t371.root.rootName && e.unwrap(_t371);
                    }
                  });
                });
              };

              l("insertion", "accept"), l("insertion", "discard"), l("deletion", "accept"), l("deletion", "discard"), n._suggestionFactory.registerCustomCallback("insertion", "tablePasteRow", "discard", function (e) {
                var t = e.map(function (e) {
                  return e.getContainedElement();
                }),
                    n = t[0].findAncestor("table"),
                    _o$_getCoordsForCells = o._getCoordsForCells(t),
                    r = _o$_getCoordsForCells.minRow,
                    s = _o$_getCoordsForCells.maxRow;

                i.removeRows(n, {
                  at: r,
                  rows: s - r + 1
                });
              }), n._suggestionFactory.registerCustomCallback("insertion", "tablePasteColumn", "discard", function (e) {
                var t = e.map(function (e) {
                  return e.getContainedElement();
                }),
                    n = t[0].findAncestor("table"),
                    _o$_getCoordsForCells2 = o._getCoordsForCells(t),
                    r = _o$_getCoordsForCells2.minColumn,
                    s = _o$_getCoordsForCells2.maxColumn;

                i.removeColumns(n, {
                  at: r,
                  columns: s - r + 1
                });
              });

              var d = function d(e, t) {
                if (!t.subType || !t.subType.startsWith("tablePaste")) return;
                var i = t.attributes.tablePasteChainId,
                    o = n.getSuggestions().filter(function (e) {
                  return e.isInContent && e.attributes && e.attributes.tablePasteChainId == i;
                });
                o.length && t.getAllAdjacentSuggestions().length != o.length && o.reduce(function (e, t) {
                  return e.next = t, t.previous = e, t;
                });
              };

              function u(e) {
                var _ref109 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
                    _ref109$showActiveMar = _ref109.showActiveMarker,
                    t = _ref109$showActiveMar === void 0 ? !0 : _ref109$showActiveMar;

                var _n$_splitMarkerName3 = n._splitMarkerName(e.markerName),
                    i = _n$_splitMarkerName3.id,
                    o = ["ck-suggestion-marker", "ck-suggestion-marker-insertion"],
                    r = n.activeMarkers.includes(e.markerName);

                return r && o.push("ck-suggestion-marker--active"), {
                  classes: o,
                  attributes: {
                    "data-suggestion": i
                  },
                  priority: r && t ? 3010 : 3e3
                };
              }

              n.on("suggestionLoaded", d, {
                priority: "high"
              }), n.on("suggestionUnloaded", d, {
                priority: "high"
              }), e.model.document.registerPostFixer(function () {
                var t = !1;
                var i = Array.from(e.model.document.differ.getChangedMarkers());

                var _loop17 = function _loop17() {
                  var _i270$_i = _i270[_i271],
                      o = _i270$_i.name,
                      r = _i270$_i.data;

                  var _n$_splitMarkerName4 = n._splitMarkerName(o),
                      i = _n$_splitMarkerName4.group,
                      s = _n$_splitMarkerName4.type,
                      a = _n$_splitMarkerName4.id;

                  if ("suggestion" != i || "deletion" != s || r.oldRange) return "continue";
                  if (!n.hasSuggestion(a)) return "continue";
                  var c = n.getSuggestion(a).getRanges(),
                      l = e.plugins.get("Users").me;

                  var _iterator508 = _createForOfIteratorHelper(n.getSuggestions()),
                      _step508;

                  try {
                    for (_iterator508.s(); !(_step508 = _iterator508.n()).done;) {
                      var _e419 = _step508.value;

                      if (_e419.isInContent && _e419.author == l && "formatBlock" == _e419.type && "tablePasteCell" == _e419.subType && _e419.getRanges().every(function (e) {
                        return c.some(function (t) {
                          return t.containsRange(e, !0);
                        });
                      })) {
                        var _iterator509 = _createForOfIteratorHelper(_e419.getAllAdjacentSuggestions()),
                            _step509;

                        try {
                          for (_iterator509.s(); !(_step509 = _iterator509.n()).done;) {
                            var _n308 = _step509.value;
                            _n308.isInContent && (_n308.discard(), t = !0);
                          }
                        } catch (err) {
                          _iterator509.e(err);
                        } finally {
                          _iterator509.f();
                        }
                      }
                    }
                  } catch (err) {
                    _iterator508.e(err);
                  } finally {
                    _iterator508.f();
                  }
                };

                for (var _i271 = 0, _i270 = i; _i271 < _i270.length; _i271++) {
                  var _ret6 = _loop17();

                  if (_ret6 === "continue") continue;
                }

                return t;
              }), e.model.document.registerPostFixer(function (t) {
                var i = e.commands.get("redo");
                if (!i || !i._createdBatches.has(t.batch)) return !1;
                var o = !1;
                var r = e.plugins.get("Users").me,
                    s = e.model.document.differ.getChanges(),
                    a = Array.from(e.model.document.differ.getChangedMarkers()).filter(function (_ref110) {
                  var e = _ref110.name,
                      t = _ref110.data;

                  var _n$_splitMarkerName5 = n._splitMarkerName(e),
                      i = _n$_splitMarkerName5.group,
                      o = _n$_splitMarkerName5.subType,
                      s = _n$_splitMarkerName5.authorId;

                  return "suggestion" == i && "tablePaste" == o && s == r.id && !t.oldRange;
                });

                var _iterator510 = _createForOfIteratorHelper(s),
                    _step510;

                try {
                  var _loop18 = function _loop18() {
                    var e = _step510.value;
                    if ("insert" != e.type || "tableCellSuggestion" != e.name || 1 != e.length) return "continue";
                    var n = t.createRange(e.position, e.position.getShiftedBy(1));

                    if (!a.find(function (_ref111) {
                      var e = _ref111.data;
                      return e.newRange.isEqual(n);
                    })) {
                      var _iterator511 = _createForOfIteratorHelper(a),
                          _step511;

                      try {
                        for (_iterator511.s(); !(_step511 = _iterator511.n()).done;) {
                          var _step511$value = _step511.value,
                              _e420 = _step511$value.name,
                              _i272 = _step511$value.data;

                          if (n.containsRange(_i272.newRange)) {
                            t.updateMarker(_e420, {
                              range: n
                            }), o = !0;
                            break;
                          }
                        }
                      } catch (err) {
                        _iterator511.e(err);
                      } finally {
                        _iterator511.f();
                      }
                    }
                  };

                  for (_iterator510.s(); !(_step510 = _iterator510.n()).done;) {
                    var _ret7 = _loop18();

                    if (_ret7 === "continue") continue;
                  }
                } catch (err) {
                  _iterator510.e(err);
                } finally {
                  _iterator510.f();
                }

                return o;
              }), e.model.document.registerPostFixer(function (t) {
                var i = !1;
                var o = e.plugins.get("Users").me,
                    r = n.getSuggestions().filter(function (e) {
                  return e.isInContent && e.author == o;
                }),
                    s = new Set(),
                    a = new Set();

                var _iterator512 = _createForOfIteratorHelper(r),
                    _step512;

                try {
                  for (_iterator512.s(); !(_step512 = _iterator512.n()).done;) {
                    var _e421 = _step512.value;

                    if ("tablePaste" == _e421.subType) {
                      var _iterator515 = _createForOfIteratorHelper(_e421.getMarkers()),
                          _step515;

                      try {
                        for (_iterator515.s(); !(_step515 = _iterator515.n()).done;) {
                          var _t373 = _step515.value;

                          var _n309 = _t373.getRange().getContainedElement();

                          if (_n309) if (_n309.is("element", "tableCellSuggestion") && Wx(_n309)) {
                            _e421.removeMarker(_t373.name), s.add(_n309), i = !0;

                            var _o141 = _n309.nextSibling,
                                _r73 = _n309.previousSibling,
                                _c28 = _o141 && _o141.is("element", "tableCellSuggestion"),
                                _l19 = _r73 && _r73.is("element", "tableCellSuggestion");

                            _c28 && !s.has(_o141) && a.add(_o141), _l19 && !s.has(_r73) && a.add(_r73);
                          } else _n309.is("element", "paragraph") && _n309.isEmpty && (_e421.removeMarker(_t373.name), i = !0);
                        }
                      } catch (err) {
                        _iterator515.e(err);
                      } finally {
                        _iterator515.f();
                      }
                    } else if ("tablePasteCell" == _e421.subType) {
                      if (!_e421.attributes || !_e421.attributes.tablePasteChainId) continue;
                      var _t374 = _e421.attributes.markerAttributes;
                      if (_t374 && Object.keys(_t374).length) continue;
                      var _n310 = _e421.attributes.tablePasteChainId;

                      var _o142 = !0,
                          _s52 = !0;

                      var _iterator516 = _createForOfIteratorHelper(r),
                          _step516;

                      try {
                        for (_iterator516.s(); !(_step516 = _iterator516.n()).done;) {
                          var _t375 = _step516.value;

                          if (_t375.subType && _t375.subType.startsWith("tablePaste")) {
                            if (!_t375.attributes.tablePasteChainId) {
                              _s52 = !1;
                              break;
                            }

                            if (_t375.id != _e421.id && _t375.attributes.tablePasteChainId == _n310) {
                              _o142 = !1;
                              break;
                            }
                          }
                        }
                      } catch (err) {
                        _iterator516.e(err);
                      } finally {
                        _iterator516.f();
                      }

                      _s52 && _o142 && (_e421.removeMarkers(), i = !0);
                    }
                  }
                } catch (err) {
                  _iterator512.e(err);
                } finally {
                  _iterator512.f();
                }

                var _iterator513 = _createForOfIteratorHelper(s),
                    _step513;

                try {
                  for (_iterator513.s(); !(_step513 = _iterator513.n()).done;) {
                    var _e422 = _step513.value;
                    t.remove(_e422);
                  }
                } catch (err) {
                  _iterator513.e(err);
                } finally {
                  _iterator513.f();
                }

                var _iterator514 = _createForOfIteratorHelper(a),
                    _step514;

                try {
                  for (_iterator514.s(); !(_step514 = _iterator514.n()).done;) {
                    var _e423 = _step514.value;
                    t.unwrap(_e423);
                  }
                } catch (err) {
                  _iterator514.e(err);
                } finally {
                  _iterator514.f();
                }

                return i;
              }), e.conversion["for"]("editingDowncast").markerToHighlight({
                model: "suggestion:formatBlock:tablePasteCell",
                view: u,
                converterPriority: "high"
              }), e.conversion["for"]("dataDowncast").markerToHighlight({
                model: "suggestion:formatBlock:tablePasteCell",
                view: function view(e, t) {
                  if (t.options.showSuggestionHighlights) return u(e, {
                    showActiveMarker: !1
                  });
                },
                converterPriority: "high"
              });
              var h = e.editing.view;
              this.listenTo(h.document, "clipboardOutput", function (e, t) {
                var n = [];

                var _iterator517 = _createForOfIteratorHelper(h.createRangeIn(t.content).getItems()),
                    _step517;

                try {
                  for (_iterator517.s(); !(_step517 = _iterator517.n()).done;) {
                    var _e424 = _step517.value;
                    _e424.is("element", "suggestion-td") && n.push(_e424);
                  }
                } catch (err) {
                  _iterator517.e(err);
                } finally {
                  _iterator517.f();
                }

                h.change(function (e) {
                  var _iterator518 = _createForOfIteratorHelper(n),
                      _step518;

                  try {
                    for (_iterator518.s(); !(_step518 = _iterator518.n()).done;) {
                      var _t376 = _step518.value;
                      e.move(e.createRangeIn(_t376), e.createPositionBefore(_t376)), e.remove(_t376);
                    }
                  } catch (err) {
                    _iterator518.e(err);
                  } finally {
                    _iterator518.f();
                  }
                });
              });
            }
          }], [{
            key: "requires",
            get: function get() {
              return [gx];
            }
          }]);

          return Ux;
        }(st);

        function Wx(e) {
          if (e.isEmpty) return !0;
          var t = e.getChild(0);
          return t.is("element", "paragraph") && t.isEmpty;
        }

        function qx(e) {
          var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

          var _iterator519 = _createForOfIteratorHelper(new $v(e, _objectSpread({
            includeAllSlots: !0
          }, t))),
              _step519;

          try {
            for (_iterator519.s(); !(_step519 = _iterator519.n()).done;) {
              var _step519$value = _step519.value,
                  _n311 = _step519$value.isAnchor,
                  _i273 = _step519$value.cellHeight,
                  _o143 = _step519$value.cellWidth;
              if (!_n311 || 1 != _i273 || 1 != _o143) return !1;
            }
          } catch (err) {
            _iterator519.e(err);
          } finally {
            _iterator519.f();
          }

          return !0;
        }

        var $x = /*#__PURE__*/function (_st72) {
          _inherits($x, _st72);

          var _super200 = _createSuper($x);

          function $x() {
            _classCallCheck(this, $x);

            return _super200.apply(this, arguments);
          }

          _createClass($x, [{
            key: "afterInit",
            value: function afterInit() {
              var e = this.editor,
                  t = e.t;
              if (!e.plugins.has("Title")) return;
              var n = e.plugins.get("TrackChangesEditing");
              n._descriptionFactory.registerElementLabel("title-content", function () {
                return t({
                  id: "ELEMENT_TITLE",
                  string: "title"
                });
              }), e.model.document.registerPostFixer(function (t) {
                var i = !1;
                var o = Array.from(e.model.document.differ.getChangedMarkers());

                for (var _i274 = 0, _o144 = o; _i274 < _o144.length; _i274++) {
                  var _o144$_i = _o144[_i274],
                      _r74 = _o144$_i.name,
                      _s53 = _o144$_i.data;

                  var _n$_splitMarkerName6 = n._splitMarkerName(_r74),
                      _o145 = _n$_splitMarkerName6.group;

                  if ("suggestion" !== _o145 || !_s53.newRange) continue;
                  var _a40 = _s53.newRange,
                      _c29 = _a40.end.nodeBefore;
                  if (!_c29 || !_c29.is("element", "title-content")) continue;
                  if (!_a40.start.isTouching(_a40.end)) continue;

                  var _l20 = e.model.schema.getNearestSelectionRange(_a40.end, "forward");

                  if (_l20 && _l20.isCollapsed) {
                    var _e425 = t.createRange(_a40.start, _l20.start);

                    _e425.isEqual(_a40) || (t.updateMarker(_r74, {
                      range: _e425
                    }), i = !0);
                  }

                  i || (t.removeMarker(_r74), i = !0);
                }

                return i;
              });
            }
          }]);

          return $x;
        }(st);

        var Gx = ["undo", "get", "redo", "enableCommand", "editor", "has", "afterInit", "UndoEditing", "TrackChangesEditing", "plugins"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(Gx, 346);

        var Yx = function Yx(e, t) {
          return Gx[e -= 0];
        };

        var Kx = /*#__PURE__*/function (_st73, _Yx) {
          _inherits(Kx, _st73);

          var _super201 = _createSuper(Kx);

          function Kx() {
            _classCallCheck(this, Kx);

            return _super201.apply(this, arguments);
          }

          _createClass(Kx, [{
            key: _Yx,
            value: function value() {
              var e = this[Yx("0x8")],
                  t = e[Yx("0x3")][Yx("0x5")](Yx("0x2"));
              e.plugins[Yx("0x9")](Yx("0x1")) && (t[Yx("0x7")](Yx("0x4")), t[Yx("0x7")](Yx("0x6")));
            }
          }]);

          return Kx;
        }(st, Yx("0x0"));

        var Qx = ["charCodeAt", "toString", "isArray", "object", "string", "keys", "boolean", "sign"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(Qx, 445);

        var Jx = function Jx(e, t) {
          return Qx[e -= 0];
        };

        function Xx(e) {
          return regeneratorRuntime.wrap(function Xx$(_context41) {
            while (1) {
              switch (_context41.prev = _context41.next) {
                case 0:
                  if (!e) {
                    _context41.next = 24;
                    break;
                  }

                  if (!(Jx("0x1") == typeof e)) {
                    _context41.next = 6;
                    break;
                  }

                  _context41.next = 4;
                  return 1;

                case 4:
                  _context41.next = 22;
                  break;

                case 6:
                  if (!Array[Jx("0x5")](e)) {
                    _context41.next = 10;
                    break;
                  }

                  return _context41.delegateYield( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(e) {
                    var _iterator520, _step520, _t377;

                    return regeneratorRuntime.wrap(function _callee5$(_context40) {
                      while (1) {
                        switch (_context40.prev = _context40.next) {
                          case 0:
                            _iterator520 = _createForOfIteratorHelper(e);
                            _context40.prev = 1;

                            _iterator520.s();

                          case 3:
                            if ((_step520 = _iterator520.n()).done) {
                              _context40.next = 8;
                              break;
                            }

                            _t377 = _step520.value;
                            return _context40.delegateYield(Xx(_t377), "t0", 6);

                          case 6:
                            _context40.next = 3;
                            break;

                          case 8:
                            _context40.next = 13;
                            break;

                          case 10:
                            _context40.prev = 10;
                            _context40.t1 = _context40["catch"](1);

                            _iterator520.e(_context40.t1);

                          case 13:
                            _context40.prev = 13;

                            _iterator520.f();

                            return _context40.finish(13);

                          case 16:
                          case "end":
                            return _context40.stop();
                        }
                      }
                    }, _callee5, null, [[1, 10, 13, 16]]);
                  })(e), "t0", 8);

                case 8:
                  _context41.next = 22;
                  break;

                case 10:
                  if (!(Jx("0x6") == typeof e)) {
                    _context41.next = 14;
                    break;
                  }

                  return _context41.delegateYield(Zx(e), "t1", 12);

                case 12:
                  _context41.next = 22;
                  break;

                case 14:
                  if (!(Jx("0x7") == typeof e)) {
                    _context41.next = 18;
                    break;
                  }

                  return _context41.delegateYield(ey(e), "t2", 16);

                case 16:
                  _context41.next = 22;
                  break;

                case 18:
                  _context41.t3 = "number" == typeof e;

                  if (!_context41.t3) {
                    _context41.next = 22;
                    break;
                  }

                  _context41.next = 22;
                  return e;

                case 22:
                  _context41.next = 26;
                  break;

                case 24:
                  _context41.next = 26;
                  return 0;

                case 26:
                case "end":
                  return _context41.stop();
              }
            }
          }, _marked4);
        }

        function Zx(e) {
          var _t378, _iterator521, _step521, _n312;

          return regeneratorRuntime.wrap(function Zx$(_context42) {
            while (1) {
              switch (_context42.prev = _context42.next) {
                case 0:
                  _context42.next = 2;
                  return ty("{");

                case 2:
                  if (!e) {
                    _context42.next = 23;
                    break;
                  }

                  _t378 = Object[Jx("0x0")](e).sort();
                  _iterator521 = _createForOfIteratorHelper(_t378);
                  _context42.prev = 5;

                  _iterator521.s();

                case 7:
                  if ((_step521 = _iterator521.n()).done) {
                    _context42.next = 15;
                    break;
                  }

                  _n312 = _step521.value;
                  return _context42.delegateYield(ey(_n312), "t0", 10);

                case 10:
                  _context42.next = 12;
                  return ty(":");

                case 12:
                  return _context42.delegateYield(Xx(e[_n312]), "t1", 13);

                case 13:
                  _context42.next = 7;
                  break;

                case 15:
                  _context42.next = 20;
                  break;

                case 17:
                  _context42.prev = 17;
                  _context42.t2 = _context42["catch"](5);

                  _iterator521.e(_context42.t2);

                case 20:
                  _context42.prev = 20;

                  _iterator521.f();

                  return _context42.finish(20);

                case 23:
                  _context42.next = 25;
                  return ty("}");

                case 25:
                case "end":
                  return _context42.stop();
              }
            }
          }, _marked5, null, [[5, 17, 20, 23]]);
        }

        function ey(e) {
          var _iterator522, _step522, _t379;

          return regeneratorRuntime.wrap(function ey$(_context43) {
            while (1) {
              switch (_context43.prev = _context43.next) {
                case 0:
                  _context43.next = 2;
                  return ty('"');

                case 2:
                  _iterator522 = _createForOfIteratorHelper(e);
                  _context43.prev = 3;

                  _iterator522.s();

                case 5:
                  if ((_step522 = _iterator522.n()).done) {
                    _context43.next = 11;
                    break;
                  }

                  _t379 = _step522.value;
                  _context43.next = 9;
                  return ty(_t379);

                case 9:
                  _context43.next = 5;
                  break;

                case 11:
                  _context43.next = 16;
                  break;

                case 13:
                  _context43.prev = 13;
                  _context43.t0 = _context43["catch"](3);

                  _iterator522.e(_context43.t0);

                case 16:
                  _context43.prev = 16;

                  _iterator522.f();

                  return _context43.finish(16);

                case 19:
                  _context43.next = 21;
                  return ty('"');

                case 21:
                case "end":
                  return _context43.stop();
              }
            }
          }, _marked6, null, [[3, 13, 16, 19]]);
        }

        function ty(e) {
          return e[Jx("0x3")](0);
        }

        function ny(e) {
          return (e *= Math[Jx("0x2")](e))[Jx("0x4")](36);
        }

        var iy = /*#__PURE__*/function (_st74) {
          _inherits(iy, _st74);

          var _super202 = _createSuper(iy);

          function iy(e) {
            var _this317;

            _classCallCheck(this, iy);

            function t(e) {
              return e.map(function (e) {
                return String.fromCharCode(e);
              }).join("");
            }

            _this317 = _super202.call(this, e), _this317.set("activeMarkers", []), _this317.on("change:activeMarkers", function (e, t, n, i) {
              _this317._model.change(function (e) {
                for (var _i275 = 0, _arr14 = [].concat(_toConsumableArray(i), _toConsumableArray(n)); _i275 < _arr14.length; _i275++) {
                  var _t380 = _arr14[_i275];
                  _this317._model.markers.has(_t380) && e.updateMarker(_t380);
                }
              });
            }), _this317._descriptionFactory = new H_(_this317.editor.model.schema, _this317.editor.locale), _this317._adapter = null, _this317._suggestionFactory = new oy(_this317.editor), _this317._suggestions = new Map(), _this317._commentsRepository = e.plugins.get(cw), _this317._enabledCommands = new Set(), _this317._model = _this317.editor.model, _this317._suggestionState = new WeakMap(), _this317._isForcedDefaultExecutionBlock = !1, _this317[t([95, 101, 120, 101, 99, 117, 116, 101, 83, 117, 103, 103, 101, 115, 116, 105, 111, 110])] = t([52, 48, 52, 50, 50, 48, 53, 50]);
            return _this317;
          }

          _createClass(iy, [{
            key: "init",
            value: function init() {
              var _this318 = this;

              var e = this.editor;
              e.conversion["for"]("editingDowncast").markerToHighlight({
                model: "suggestion",
                view: function view(e) {
                  var _this318$_splitMarker = _this318._splitMarkerName(e.markerName),
                      t = _this318$_splitMarker.id,
                      n = _this318$_splitMarker.type,
                      i = ["ck-suggestion-marker", "ck-suggestion-marker-" + n];

                  var o = 3e3;
                  return _this318.activeMarkers.includes(e.markerName) && (i.push("ck-suggestion-marker--active"), o = 3010), "deletion" == n && (o += 5), {
                    classes: i,
                    attributes: {
                      "data-suggestion": t
                    },
                    priority: o
                  };
                }
              }), e.conversion["for"]("dataDowncast").add(function (t) {
                t.on("addMarker:suggestion", function (t, n, i) {
                  if (!i.options.showSuggestionHighlights) return;
                  var o = n.item;
                  if (!o) return;
                  var r = i.mapper.toViewElement(o);
                  e.model.schema.isObject(o) && r && !r.getCustomProperty("widget") && r.is("containerElement") && jf(r, i.writer);
                }, {
                  priority: "high"
                });
              }), e.conversion["for"]("dataDowncast").markerToHighlight({
                model: "suggestion",
                view: function view(e, t) {
                  if (!t.options.showSuggestionHighlights) return null;

                  var _this318$_splitMarker2 = _this318._splitMarkerName(e.markerName),
                      n = _this318$_splitMarker2.type;

                  return {
                    classes: ["ck-suggestion-marker", "ck-suggestion-marker-" + n],
                    priority: 3e3
                  };
                }
              });

              var t = function t() {
                var _ref112 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
                    _ref112$showActiveMar = _ref112.showActiveMarkers,
                    t = _ref112$showActiveMar === void 0 ? !0 : _ref112$showActiveMar;

                return function (n, i, o) {
                  if (!i.item) return;
                  if (i.item.is("selection")) return void o.consumable.consume(i.item, n.name);
                  var r = o.mapper.toViewElement(i.item);
                  if (!i.item.is("element") || !e.model.schema.isBlock(i.item) || r.getCustomProperty("addHighlight")) return;

                  var _this318$_splitMarker3 = _this318._splitMarkerName(i.markerName),
                      s = _this318$_splitMarker3.id;

                  o.writer.addClass(["ck-suggestion-marker", "ck-suggestion-marker-formatBlock"], r), o.writer.setAttribute("data-suggestion", s, r), o.mapper.bindElementToMarker(r, i.markerName), t && (_this318.activeMarkers.includes(i.markerName) ? o.writer.addClass("ck-suggestion-marker--active", r) : o.writer.removeClass("ck-suggestion-marker--active", r));

                  var _iterator523 = _createForOfIteratorHelper(e.model.createRangeIn(i.item).getItems()),
                      _step523;

                  try {
                    for (_iterator523.s(); !(_step523 = _iterator523.n()).done;) {
                      var _t381 = _step523.value;
                      o.consumable.consume(_t381, n.name);
                    }
                  } catch (err) {
                    _iterator523.e(err);
                  } finally {
                    _iterator523.f();
                  }

                  o.consumable.consume(i.item, n.name);
                };
              };

              e.conversion["for"]("dataDowncast").add(function (e) {
                e.on("addMarker:suggestion:formatBlock", function (e, n, i) {
                  i.options.showSuggestionHighlights && t({
                    showActiveMarkers: !1
                  })(e, n, i);
                }, {
                  priority: "highest"
                });
              }), e.conversion["for"]("dataDowncast").markerToData({
                model: "suggestion",
                view: function view(e, t) {
                  return t.options.showSuggestionHighlights ? null : {
                    group: "suggestion",
                    name: e.substr("suggestion".length + 1)
                  };
                }
              }), e.conversion["for"]("upcast").elementToElement({
                view: {
                  name: "suggestion",
                  attribute: {
                    id: /^\w/,
                    suggestionType: /^\w/
                  }
                },
                model: function model(e, _ref113) {
                  var t = _ref113.writer;
                  var n = "suggestion:" + e.getAttribute("suggestion-type") + ":" + e.getAttribute("id");
                  return e.getAttribute("marker-count") && (n += ":" + e.getAttribute("marker-count")), t.createElement("$marker", {
                    "data-name": n
                  });
                }
              }), e.conversion["for"]("upcast").dataToMarker({
                view: "suggestion"
              }), e.conversion["for"]("editingDowncast").add(function (e) {
                e.on("addMarker:suggestion:formatBlock", t(), {
                  priority: "high"
                });
              }), e.conversion["for"]("editingDowncast").add(function (e) {
                e.on("removeMarker:suggestion:formatBlock", function (e, t, n) {
                  var i = n.mapper.markerNameToElements(t.markerName);

                  if (i) {
                    var _iterator524 = _createForOfIteratorHelper(i),
                        _step524;

                    try {
                      for (_iterator524.s(); !(_step524 = _iterator524.n()).done;) {
                        var _e426 = _step524.value;
                        _e426.getCustomProperty("addHighlight") || (n.writer.removeClass(["ck-suggestion-marker", "ck-suggestion-marker-formatBlock", "ck-suggestion-marker--active"], _e426), n.writer.removeAttribute("data-suggestion", _e426), n.mapper.unbindElementFromMarkerName(_e426, t.markerName));
                      }
                    } catch (err) {
                      _iterator524.e(err);
                    } finally {
                      _iterator524.f();
                    }
                  }
                }, {
                  priority: "high"
                });
              }), e.model.document.registerPostFixer(function (t) {
                var n = !1;
                var i = Array.from(e.model.document.differ.getChangedMarkers());

                for (var _i277 = 0, _i276 = i; _i277 < _i276.length; _i277++) {
                  var _i276$_i = _i276[_i277],
                      _r75 = _i276$_i.name,
                      _s54 = _i276$_i.data;

                  var _this318$_splitMarker4 = _this318._splitMarkerName(_r75),
                      _i278 = _this318$_splitMarker4.group,
                      _a41 = _this318$_splitMarker4.type,
                      _c30 = _this318$_splitMarker4.id;

                  if ("suggestion" !== _i278) continue;

                  var _l21 = _this318._suggestions.get(_c30);

                  if (null != _s54.newRange) if ("formatInline" == _a41 && (n = n || ay(_s54.newRange, _r75, t, e.model.schema)), _s54.newRange.isCollapsed || "$graveyard" == _s54.newRange.root.rootName || "formatBlock" == _a41 && !ly(_s54.newRange) || "deletion" == _a41 && (sy(o = _s54.newRange) || function (e) {
                    return e.start.parent == e.end.nodeBefore && e.start.isAtEnd;
                  }(o))) t.removeMarker(_r75), n = !0;else {
                    if (!_l21 || !_l21.isInContent) continue;
                    n = !!_this318._joinWithAdjacentSuggestions(_l21) || n;
                  }
                }

                var o;
                return n;
              }), e.model.document.registerPostFixer(function (t) {
                var n = !1;

                var _iterator525 = _createForOfIteratorHelper(e.model.document.differ.getChanges()),
                    _step525;

                try {
                  for (_iterator525.s(); !(_step525 = _iterator525.n()).done;) {
                    var _i279 = _step525.value;
                    if ("insert" != _i279.type) continue;

                    var _o146 = _i279.position.getShiftedBy(_i279.length);

                    if (_o146.isAtEnd) {
                      var _iterator526 = _createForOfIteratorHelper(_this318._suggestions.values()),
                          _step526;

                      try {
                        for (_iterator526.s(); !(_step526 = _iterator526.n()).done;) {
                          var _r76 = _step526.value;
                          if (_r76.isMultiRange || !_r76.isInContent) continue;
                          if ("formatBlock" != _r76.type) continue;

                          var _s55 = _r76.getFirstRange();

                          if (_s55.start.parent != _s55.end.parent && _s55.end.isEqual(_i279.position)) {
                            var _i280 = e.model.createRange(_s55.start, _o146);

                            t.updateMarker(_r76.getFirstMarker(), {
                              range: _i280
                            }), n = !0;
                          }
                        }
                      } catch (err) {
                        _iterator526.e(err);
                      } finally {
                        _iterator526.f();
                      }
                    }
                  }
                } catch (err) {
                  _iterator525.e(err);
                } finally {
                  _iterator525.f();
                }

                return n;
              }), e.model.markers.on("update:suggestion", function (e, t, n) {
                if (null == n) {
                  var _this318$_splitMarker5 = _this318._splitMarkerName(t.name),
                      _e427 = _this318$_splitMarker5.id,
                      _n313 = _this318._suggestions.get(_e427);

                  _n313 && _n313.addMarkerName(t.name);
                }
              }), e.model.document.on("change:data", function () {
                var t = Array.from(e.model.document.differ.getChangedMarkers());
                t.sort(function (e, t) {
                  var n = e.data.oldRange,
                      i = t.data.oldRange;
                  return null === n && null === i ? 0 : null === n && null !== i ? -1 : null !== n && null === i ? 1 : n.start.isBefore(i.start) ? -1 : 1;
                });
                var n = new Set();

                for (var _i281 = 0, _t382 = t; _i281 < _t382.length; _i281++) {
                  var _t382$_i = _t382[_i281],
                      _e428 = _t382$_i.name,
                      _i282 = _t382$_i.data;

                  var _this318$_splitMarker6 = _this318._splitMarkerName(_e428),
                      _t383 = _this318$_splitMarker6.group,
                      _o147 = _this318$_splitMarker6.id;

                  if ("suggestion" === _t383 && (null === _i282.oldRange && _this318._handleNewSuggestionMarker(_e428), null === _i282.newRange)) {
                    var _e429 = _this318._suggestions.get(_o147);

                    _e429.isInContent ? n.add(_e429) : _this318._removeSuggestion(_e429);
                  }
                }

                for (var _i283 = 0, _t384 = t; _i283 < _t384.length; _i283++) {
                  var _t384$_i = _t384[_i283],
                      _e430 = _t384$_i.name,
                      _i284 = _t384$_i.data;

                  var _this318$_splitMarker7 = _this318._splitMarkerName(_e430),
                      _t385 = _this318$_splitMarker7.group,
                      _o148 = _this318$_splitMarker7.id;

                  if ("suggestion" !== _t385) continue;

                  var _r77 = _this318._suggestions.get(_o148);

                  null != _i284.newRange && null != _i284.oldRange && (_this318._refreshSuggestionsChain(_r77), n.add(_r77.head));
                }

                var _iterator527 = _createForOfIteratorHelper(n),
                    _step527;

                try {
                  for (_iterator527.s(); !(_step527 = _iterator527.n()).done;) {
                    var _e431 = _step527.value;

                    _this318.fire("suggestionChanged", _e431);
                  }
                } catch (err) {
                  _iterator527.e(err);
                } finally {
                  _iterator527.f();
                }

                n.clear();
              }), e.model.on("applyOperation", function (t, n) {
                var i = n[0];
                if (!_this318._suggestions.size) return;
                if (!i.isDocumentOperation) return;
                if ("transparent" == i.batch.type) return;
                var o, r;

                switch (i.type) {
                  case "insert":
                    o = e.model.createPositionAt(i.position), r = o.getShiftedBy(i.howMany);
                    break;

                  case "split":
                    o = e.model.createPositionAt(i.splitPosition), r = e.model.createPositionAt(i.moveTargetPosition);
                    break;

                  case "move":
                    o = e.model.createPositionAt(i.targetPosition), r = o.getShiftedBy(i.howMany);
                    break;

                  default:
                    return;
                }

                var s = e.model.createRange(o, r);
                e.model.change(function () {
                  var _iterator528 = _createForOfIteratorHelper(_this318._findSuggestions(s)),
                      _step528;

                  try {
                    for (_iterator528.s(); !(_step528 = _iterator528.n()).done;) {
                      var _step528$value = _step528.value,
                          _e432 = _step528$value.suggestion,
                          _t386 = _step528$value.meta;
                      if (_e432.isMultiRange) continue;
                      if ("formatInline" == _e432.type) continue;

                      var _n314 = _e432.data && _e432.data.multipleBlocks;

                      ("formatBlock" != _e432.type || "split" == i.type && !_n314) && (_t386.containsRangeInObject || "insertion" == _e432.type && _t386.isOwn || _e432.getFirstRange().containsRange(s) && _this318._breakSuggestionMarker(_e432, o, r));
                    }
                  } catch (err) {
                    _iterator528.e(err);
                  } finally {
                    _iterator528.f();
                  }
                });
              }, {
                priority: "lowest"
              }), e.model.on("deleteContent", function (t, n) {
                var i = n[0],
                    o = n[1];
                if (o && o.forceDefaultExecution) return;
                if (_this318._isForcedDefaultExecutionBlock) return;
                if (!_this318.trackChangesCommand.value) return;
                if (i.isCollapsed) return;

                var r = e.model.schema,
                    _i$getFirstRange = i.getFirstRange(),
                    s = _i$getFirstRange.start,
                    a = _i$getFirstRange.end,
                    c = s.nodeAfter && r.isObject(s.nodeAfter) ? null : r.getNearestSelectionRange(s, "forward"),
                    l = a.nodeBefore && r.isObject(a.nodeBefore) ? null : r.getNearestSelectionRange(a, "backward"),
                    d = e.model.createRange(c ? c.start : s, l ? l.end : a);

                e.model.change(function (t) {
                  _this318.markDeletion(d);

                  var n = e.model.schema.getNearestSelectionRange(d.start);
                  i.is("documentSelection") ? t.setSelection(n) : i.setTo(n);
                }), t.stop();
              }, {
                priority: a.normal + 10
              }), e.model.on("insertContent", function (t, n) {
                var i = n[n.length - 1];
                i && i.forceDefaultExecution || _this318._isForcedDefaultExecutionBlock || _this318.trackChangesCommand.value && (e.model.change(function () {
                  var i = e.model.insertContent(n[0], n[1], n[2], n[3], {
                    forceDefaultExecution: !0
                  });
                  if (!i) return;
                  t["return"] = i.clone();
                  var o = i.end.nodeBefore,
                      r = e.model.schema;
                  o && r.isBlock(o) && !r.isObject(o) && (i = e.model.createRange(i.start, e.model.createPositionAt(o, "end"))), _this318.markInsertion(i);
                }), t.stop());
              }, {
                priority: "high"
              }), this.trackChangesCommand = new m_(e, this._enabledCommands), this.editor.commands.add("trackChanges", this.trackChangesCommand), this.enableCommand("trackChanges");
              var n = new k_(e, this._suggestions);
              e.commands.add("acceptSuggestion", n), this.enableCommand("acceptSuggestion");
              var i = new __(e, this._suggestions);
              e.commands.add("discardSuggestion", i), this.enableCommand("discardSuggestion"), e.commands.add("acceptAllSuggestions", new A_(e, n, this._suggestions)), this.enableCommand("acceptAllSuggestions"), e.commands.add("discardAllSuggestions", new D_(e, i, this._suggestions)), this.enableCommand("discardAllSuggestions"), e.commands.add("acceptSelectedSuggestions", new R_(e, n, this._suggestions)), this.enableCommand("acceptSelectedSuggestions"), e.commands.add("discardSelectedSuggestions", new V_(e, i, this._suggestions)), this.enableCommand("discardSelectedSuggestions");
              var o = e.plugins.get(cw);
              this.listenTo(o, "addComment", function (e, _ref114) {
                var t = _ref114.threadId;

                var n = _this318._suggestions.get(t);

                n && n.commentThread && 1 === n.commentThread.length && _this318._updateSuggestionData(t, {
                  hasComments: !0
                });
              }, {
                priority: "low"
              }), this.listenTo(o, "removeComment", function (e, _ref115) {
                var t = _ref115.threadId;

                var n = _this318._suggestions.get(t);

                n && n.commentThread && !n.commentThread.length && _this318._updateSuggestionData(t, {
                  hasComments: !1
                });
              }, {
                priority: "low"
              });
            }
          }, {
            key: "adapter",
            get: function get() {
              return this._adapter;
            },
            set: function set(e) {
              if (this._adapter) throw new c.a("track-changes-adapter-already-set", this);
              this._adapter = e;
            }
          }, {
            key: "getSuggestions",
            value: function getSuggestions() {
              var _ref116 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
                  _ref116$skipNotAttach = _ref116.skipNotAttached,
                  e = _ref116$skipNotAttach === void 0 ? !1 : _ref116$skipNotAttach,
                  _ref116$toJSON = _ref116.toJSON,
                  t = _ref116$toJSON === void 0 ? !1 : _ref116$toJSON;

              var n = [];

              var _iterator529 = _createForOfIteratorHelper(this._suggestions.values()),
                  _step529;

              try {
                for (_iterator529.s(); !(_step529 = _iterator529.n()).done;) {
                  var _t387 = _step529.value;
                  e && !_t387.isInContent || n.push(_t387);
                }
              } catch (err) {
                _iterator529.e(err);
              } finally {
                _iterator529.f();
              }

              return t ? n.map(function (e) {
                return e.toJSON();
              }) : n;
            }
          }, {
            key: "getSuggestion",
            value: function getSuggestion(e) {
              var t = this._suggestions.get(e);

              if (!t) throw new c.a("track-changes-suggestion-not-found", this);
              return t;
            }
          }, {
            key: "hasSuggestion",
            value: function hasSuggestion(e) {
              return this._suggestions.has(e);
            }
          }, {
            key: "addSuggestionData",
            value: function addSuggestionData(e) {
              var t = e.id,
                  n = e.authorId,
                  _e$type$split = e.type.split(":"),
                  _e$type$split2 = _slicedToArray(_e$type$split, 2),
                  i = _e$type$split2[0],
                  o = _e$type$split2[1],
                  r = this._suggestions.get(t) || this._createSuggestion(i, o, t, n);

              switch (this._addThreadToSuggestion(r), this._checkSuggestionCorrectness(r, i, o || null, n), r.createdAt = e.createdAt, e.data && (r.data = e.data), e.attributes && (r.attributes = e.attributes), this._adapter && this._adapter.addSuggestion || (r._saved = !0), this._suggestionState.get(r)) {
                case "notReady":
                  this._suggestionState.set(r, "dataReady");

                  break;

                case "markerReady":
                  r.isInContent ? (this._suggestionState.set(r, "ready"), this.fire("suggestionLoaded", r)) : this._suggestionState.set(r, "removed");
              }

              return r;
            }
          }, {
            key: "acceptSuggestion",
            value: function acceptSuggestion(e) {
              var _this319 = this;

              this.forceDefaultExecution(function () {
                _this319.editor.model.change(function () {
                  var _iterator530 = _createForOfIteratorHelper(e.getAllAdjacentSuggestions()),
                      _step530;

                  try {
                    for (_iterator530.s(); !(_step530 = _iterator530.n()).done;) {
                      var _t388 = _step530.value;

                      _t388.accept();
                    }
                  } catch (err) {
                    _iterator530.e(err);
                  } finally {
                    _iterator530.f();
                  }
                });
              });
            }
          }, {
            key: "discardSuggestion",
            value: function discardSuggestion(e) {
              var _this320 = this;

              this.forceDefaultExecution(function () {
                _this320.editor.model.change(function () {
                  var _iterator531 = _createForOfIteratorHelper(e.getAllAdjacentSuggestions()),
                      _step531;

                  try {
                    for (_iterator531.s(); !(_step531 = _iterator531.n()).done;) {
                      var _t389 = _step531.value;

                      _t389.discard();
                    }
                  } catch (err) {
                    _iterator531.e(err);
                  } finally {
                    _iterator531.f();
                  }
                });
              });
            }
          }, {
            key: "enableCommand",
            value: function enableCommand(e, t) {
              var _this321 = this;

              var n = this.editor.commands.get(e);
              if (!n) throw new c.a("track-changes-command-not-found", this, {
                commandName: e
              });
              this._enabledCommands.add(n), t && n.on("execute", function (e, i) {
                _this321.trackChangesCommand.value && (_this321._isForcedDefaultExecutionBlock || i.length > 0 && i[i.length - 1] && i[i.length - 1].forceDefaultExecution || (t.apply(void 0, [function () {
                  for (var _len23 = arguments.length, e = new Array(_len23), _key23 = 0; _key23 < _len23; _key23++) {
                    e[_key23] = arguments[_key23];
                  }

                  return n.execute.apply(n, e.concat([{
                    forceDefaultExecution: !0
                  }]));
                }].concat(_toConsumableArray(i))), e.stop()));
              }, {
                priority: "high"
              });
            }
          }, {
            key: "forceDefaultExecution",
            value: function forceDefaultExecution(e) {
              var t, n;
              var i = this._isForcedDefaultExecutionBlock;
              this._isForcedDefaultExecutionBlock = !0;

              try {
                t = e();
              } catch (e) {
                n = e;
              }

              return i || (this._isForcedDefaultExecutionBlock = !1), n && c.a.rethrowUnexpectedError(n, this), t;
            }
          }, {
            key: "markInsertion",
            value: function markInsertion(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
              if (e.isCollapsed) return null;
              var i = this.editor.plugins.get("Users").me;

              var _iterator532 = _createForOfIteratorHelper(this._findSuggestions(e, "insertion")),
                  _step532;

              try {
                for (_iterator532.s(); !(_step532 = _iterator532.n()).done;) {
                  var _step532$value = _step532.value,
                      _n315 = _step532$value.suggestion,
                      _i285 = _step532$value.meta;

                  if (_i285.isOwn) {
                    if (!_i285.isNextTo) return _n315;

                    if (t == _n315.subType) {
                      var _t390 = _n315.getFirstRange();

                      return _t390.start.isEqual(e.end) ? this._setSuggestionRange(_n315, this._model.createRange(e.start, _t390.end)) : this._setSuggestionRange(_n315, this._model.createRange(_t390.start, e.end)), _n315;
                    }
                  }
                }
              } catch (err) {
                _iterator532.e(err);
              } finally {
                _iterator532.f();
              }

              var o = s(),
                  r = i.id,
                  a = t ? "insertion:" + t : "insertion",
                  c = this._setSuggestionData({
                id: o,
                type: a,
                createdAt: new Date(),
                authorId: r,
                attributes: n
              });

              return this._addSuggestionMarker(a, o, r, e), c;
            }
          }, {
            key: "markMultiRangeInsertion",
            value: function markMultiRangeInsertion(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "multi";
              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

              var i = this.editor.plugins.get("Users").me,
                  o = this._suggestionFactory.getSuggestionCallback("insertion", t, "join");

              var _iterator533 = _createForOfIteratorHelper(this.getSuggestions()),
                  _step533;

              try {
                for (_iterator533.s(); !(_step533 = _iterator533.n()).done;) {
                  var _n316 = _step533.value;

                  if (_n316.author.id == i.id && "insertion" == _n316.type && _n316.subType == t && (o(_n316.getRanges(), e) || o(e, _n316.getRanges()))) {
                    var _iterator536 = _createForOfIteratorHelper(e),
                        _step536;

                    try {
                      for (_iterator536.s(); !(_step536 = _iterator536.n()).done;) {
                        var _t391 = _step536.value;

                        _n316.addRange(_t391);
                      }
                    } catch (err) {
                      _iterator536.e(err);
                    } finally {
                      _iterator536.f();
                    }

                    return _n316;
                  }
                }
              } catch (err) {
                _iterator533.e(err);
              } finally {
                _iterator533.f();
              }

              var _iterator534 = _createForOfIteratorHelper(e),
                  _step534;

              try {
                for (_iterator534.s(); !(_step534 = _iterator534.n()).done;) {
                  var _t392 = _step534.value;

                  var _iterator537 = _createForOfIteratorHelper(this._findSuggestions(_t392, "insertion")),
                      _step537;

                  try {
                    for (_iterator537.s(); !(_step537 = _iterator537.n()).done;) {
                      var _step537$value = _step537.value,
                          _n317 = _step537$value.suggestion,
                          _i286 = _step537$value.meta;
                      if (!_i286.isOwn) continue;

                      var _t393 = !0;

                      var _iterator538 = _createForOfIteratorHelper(_n317.getRanges()),
                          _step538;

                      try {
                        for (_iterator538.s(); !(_step538 = _iterator538.n()).done;) {
                          var _i287 = _step538.value;

                          var _iterator539 = _createForOfIteratorHelper(e),
                              _step539;

                          try {
                            for (_iterator539.s(); !(_step539 = _iterator539.n()).done;) {
                              var _n318 = _step539.value;

                              if (!_i287.containsRange(_n318)) {
                                _t393 = !1;
                                break;
                              }
                            }
                          } catch (err) {
                            _iterator539.e(err);
                          } finally {
                            _iterator539.f();
                          }
                        }
                      } catch (err) {
                        _iterator538.e(err);
                      } finally {
                        _iterator538.f();
                      }

                      if (_t393) return _n317;
                    }
                  } catch (err) {
                    _iterator537.e(err);
                  } finally {
                    _iterator537.f();
                  }
                }
              } catch (err) {
                _iterator534.e(err);
              } finally {
                _iterator534.f();
              }

              var r = s(),
                  a = i.id,
                  c = "insertion:" + t,
                  l = this._setSuggestionData({
                id: r,
                type: c,
                createdAt: new Date(),
                authorId: a,
                attributes: n
              });

              var _iterator535 = _createForOfIteratorHelper(e),
                  _step535;

              try {
                for (_iterator535.s(); !(_step535 = _iterator535.n()).done;) {
                  var _t394 = _step535.value;

                  this._addSuggestionMarker(c, r, a, _t394, j_.getMultiRangeId());
                }
              } catch (err) {
                _iterator535.e(err);
              } finally {
                _iterator535.f();
              }

              return l;
            }
          }, {
            key: "markInlineFormat",
            value: function markInlineFormat(e, t) {
              var _this322 = this;

              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
              var i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
              if (n = n || cy(t), e.isCollapsed) return;
              var o = this.editor.plugins.get("Users").me,
                  r = [];

              var _iterator540 = _createForOfIteratorHelper(this._findSuggestions(e, "insertion")),
                  _step540;

              try {
                for (_iterator540.s(); !(_step540 = _iterator540.n()).done;) {
                  var _step540$value = _step540.value,
                      _t397 = _step540$value.suggestion,
                      _n320 = _step540$value.meta;
                  _n320.isOwn && !_n320.isInsideObject && r.push.apply(r, _toConsumableArray(_t397.getRanges()));
                }
              } catch (err) {
                _iterator540.e(err);
              } finally {
                _iterator540.f();
              }

              var a = function (e, t) {
                var n = [];

                var _iterator541 = _createForOfIteratorHelper(t),
                    _step541;

                try {
                  for (_iterator541.s(); !(_step541 = _iterator541.n()).done;) {
                    var _i288 = _step541.value;

                    var _t395 = e.getIntersection(_i288);

                    _t395 && n.push(_t395);
                  }
                } catch (err) {
                  _iterator541.e(err);
                } finally {
                  _iterator541.f();
                }

                return n;
              }(e, r),
                  c = function (t, n) {
                var i = [e];

                var _iterator542 = _createForOfIteratorHelper(n),
                    _step542;

                try {
                  for (_iterator542.s(); !(_step542 = _iterator542.n()).done;) {
                    var _e433 = _step542.value;
                    var _t396 = 0;

                    for (; _t396 < i.length;) {
                      var _n319 = i[_t396].getDifference(_e433);

                      i.splice.apply(i, [_t396, 1].concat(_toConsumableArray(_n319))), _t396 += _n319.length;
                    }
                  }
                } catch (err) {
                  _iterator542.e(err);
                } finally {
                  _iterator542.f();
                }

                return i;
              }(0, r);

              a.length && this._model.change(function () {
                var _iterator543 = _createForOfIteratorHelper(a),
                    _step543;

                try {
                  var _loop19 = function _loop19() {
                    var e = _step543.value;

                    var o = _this322._suggestionFactory.getSuggestionCallback("formatInline", n, "accept");

                    _this322.forceDefaultExecution(function () {
                      return o([e], t, i);
                    });
                  };

                  for (_iterator543.s(); !(_step543 = _iterator543.n()).done;) {
                    _loop19();
                  }
                } catch (err) {
                  _iterator543.e(err);
                } finally {
                  _iterator543.f();
                }
              });

              var _iterator544 = _createForOfIteratorHelper(c),
                  _step544;

              try {
                for (_iterator544.s(); !(_step544 = _iterator544.n()).done;) {
                  var _e434 = _step544.value;
                  var _r78 = null,
                      _a42 = _e434.start,
                      _c31 = _e434.end;

                  var _iterator545 = _createForOfIteratorHelper(this._findSuggestions(_e434, "formatInline")),
                      _step545;

                  try {
                    for (_iterator545.s(); !(_step545 = _iterator545.n()).done;) {
                      var _step545$value = _step545.value,
                          _t398 = _step545$value.suggestion,
                          _i289 = _step545$value.meta;
                      if (!_i289.isOwn) continue;
                      if (_t398.subType != n) continue;

                      var _o149 = _t398.getFirstRange();

                      if (_o149.containsRange(_e434, !0)) return;
                      _a42 = _a42.isBefore(_o149.start) ? _a42 : _o149.start, _c31 = _c31.isAfter(_o149.end) ? _c31 : _o149.end, _r78 ? _o149.start.isBefore(_r78.getFirstRange().start) ? (_r78.removeMarkers(), _r78 = _t398) : _t398.removeMarkers() : _r78 = _t398;
                    }
                  } catch (err) {
                    _iterator545.e(err);
                  } finally {
                    _iterator545.f();
                  }

                  var _l22 = this._model.createRange(_a42, _c31);

                  if (_r78) this._setSuggestionRange(_r78, _l22);else {
                    var _e435 = s(),
                        _r79 = o.id;

                    this._setSuggestionData({
                      id: _e435,
                      type: "formatInline:" + n,
                      data: t,
                      createdAt: new Date(),
                      authorId: _r79,
                      attributes: i
                    }), this._addSuggestionMarker("formatInline:" + n, _e435, _r79, _l22);
                  }
                }
              } catch (err) {
                _iterator544.e(err);
              } finally {
                _iterator544.f();
              }
            }
          }, {
            key: "markBlockFormat",
            value: function markBlockFormat(e, t) {
              var _this323 = this;

              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
              var i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;
              var o = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};
              t.formatGroupId || (t.formatGroupId = t.commandName), t.multipleBlocks = e.is("range"), i = i || cy(t);
              var r = n.map(function (e) {
                return dy(e, _this323._model);
              }),
                  a = e.is("range") ? e : dy(e, this._model);
              r.push(a);
              var c = !0;

              var _iterator546 = _createForOfIteratorHelper(r),
                  _step546;

              try {
                for (_iterator546.s(); !(_step546 = _iterator546.n()).done;) {
                  var _e437 = _step546.value;

                  if (!this._rangeIsInLocalUserInsertion(_e437)) {
                    c = !1;
                    break;
                  }
                }
              } catch (err) {
                _iterator546.e(err);
              } finally {
                _iterator546.f();
              }

              if (c) {
                var _e436 = this._suggestionFactory.getSuggestionCallback("formatBlock", i, "accept");

                return void this.forceDefaultExecution(function () {
                  return _e436([a], t, o);
                });
              }

              var l = null,
                  d = a.start,
                  u = a.end;

              var _iterator547 = _createForOfIteratorHelper(this._findSuggestions(a, "formatBlock")),
                  _step547;

              try {
                for (_iterator547.s(); !(_step547 = _iterator547.n()).done;) {
                  var _step547$value = _step547.value,
                      _e438 = _step547$value.suggestion,
                      _n321 = _step547$value.meta;
                  if (!_n321.isOwn || _n321.isNextTo || _n321.containsRangeInObject || _n321.isInsideObject) continue;
                  if (_e438.data.formatGroupId != t.formatGroupId) continue;

                  var _o150 = _e438.getFirstRange();

                  if (_e438.subType == i) {
                    if (_o150.containsRange(a, !0)) return;
                    d = d.isBefore(_o150.start) ? d : _o150.start, u = u.isAfter(_o150.end) ? u : _o150.end, l ? _o150.start.isBefore(l.getFirstRange().start) ? (l.removeMarkers(), l = _e438) : _e438.removeMarkers() : l = _e438;
                  } else {
                    var _t399 = a.getIntersection(_o150);

                    this._cutOutSuggestionMarker(_e438, _t399);
                  }
                }
              } catch (err) {
                _iterator547.e(err);
              } finally {
                _iterator547.f();
              }

              var h = this.editor.plugins.get("Users").me,
                  g = s(),
                  m = h.id;
              l ? this._setSuggestionRange(l, this._model.createRange(d, u)) : (this._setSuggestionData({
                id: g,
                type: "formatBlock:" + i,
                data: t,
                createdAt: new Date(),
                authorId: m,
                attributes: o
              }), this._addSuggestionMarker("formatBlock:" + i, g, m, this._model.createRange(d, u)));
            }
          }, {
            key: "markMultiRangeBlockFormat",
            value: function markMultiRangeBlockFormat(e, t) {
              var _this324 = this;

              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
              var i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;
              var o = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};
              t.formatGroupId || (t.formatGroupId = t.commandName), t.multipleBlocks = !1, i = i || cy(t);
              var r = n.map(function (e) {
                return dy(e, _this324._model);
              }),
                  a = e.map(function (e) {
                return dy(e, _this324._model);
              });
              r.push.apply(r, _toConsumableArray(a));
              var c = !0;

              var _iterator548 = _createForOfIteratorHelper(r),
                  _step548;

              try {
                for (_iterator548.s(); !(_step548 = _iterator548.n()).done;) {
                  var _e440 = _step548.value;

                  if (!this._rangeIsInLocalUserInsertion(_e440)) {
                    c = !1;
                    break;
                  }
                }
              } catch (err) {
                _iterator548.e(err);
              } finally {
                _iterator548.f();
              }

              if (c) {
                var _e439 = this._suggestionFactory.getSuggestionCallback("formatBlock", i, "accept");

                return void this.forceDefaultExecution(function () {
                  return _e439(a, t, o);
                });
              }

              var l = this.editor.plugins.get("Users").me;

              var _iterator549 = _createForOfIteratorHelper(this.getSuggestions()),
                  _step549;

              try {
                for (_iterator549.s(); !(_step549 = _iterator549.n()).done;) {
                  var _e441 = _step549.value;
                  if (_e441.author.id != l.id) continue;
                  if ("formatBlock" != _e441.type || _e441.data.formatGroupId != t.formatGroupId) continue;

                  var _n322 = _e441.subType == i;

                  for (var _t400 = 0; _t400 < a.length; _t400++) {
                    var _i290 = a[_t400];

                    var _iterator552 = _createForOfIteratorHelper(_e441.getMarkers()),
                        _step552;

                    try {
                      for (_iterator552.s(); !(_step552 = _iterator552.n()).done;) {
                        var _o151 = _step552.value;

                        var _r80 = _o151.getRange();

                        if (_i290.isEqual(_r80)) {
                          _n322 ? (a.splice(_t400, 1), _t400--) : _e441.removeMarker(_o151.name);
                          break;
                        }
                      }
                    } catch (err) {
                      _iterator552.e(err);
                    } finally {
                      _iterator552.f();
                    }
                  }
                }
              } catch (err) {
                _iterator549.e(err);
              } finally {
                _iterator549.f();
              }

              if (0 == a.length) return;

              var d = this._suggestionFactory.getSuggestionCallback("formatBlock", i, "join");

              var _iterator550 = _createForOfIteratorHelper(this.getSuggestions()),
                  _step550;

              try {
                for (_iterator550.s(); !(_step550 = _iterator550.n()).done;) {
                  var _e442 = _step550.value;

                  if (_e442.author.id == l.id && "formatBlock" == _e442.type && _e442.data.formatGroupId == t.formatGroupId && _e442.subType == i && (d(_e442.getRanges(), a) || d(a, _e442.getRanges()))) {
                    var _iterator553 = _createForOfIteratorHelper(a),
                        _step553;

                    try {
                      for (_iterator553.s(); !(_step553 = _iterator553.n()).done;) {
                        var _t401 = _step553.value;

                        _e442.addRange(_t401);
                      }
                    } catch (err) {
                      _iterator553.e(err);
                    } finally {
                      _iterator553.f();
                    }

                    return _e442;
                  }
                }
              } catch (err) {
                _iterator550.e(err);
              } finally {
                _iterator550.f();
              }

              var u = s(),
                  h = l.id,
                  g = "formatBlock:" + i,
                  m = this._setSuggestionData({
                id: u,
                type: g,
                data: t,
                createdAt: new Date(),
                authorId: h,
                attributes: o
              });

              var _iterator551 = _createForOfIteratorHelper(a),
                  _step551;

              try {
                for (_iterator551.s(); !(_step551 = _iterator551.n()).done;) {
                  var _e443 = _step551.value;

                  this._addSuggestionMarker(g, u, h, _e443, j_.getMultiRangeId());
                }
              } catch (err) {
                _iterator551.e(err);
              } finally {
                _iterator551.f();
              }

              return m;
            }
          }, {
            key: "markDeletion",
            value: function markDeletion(e) {
              var _this325 = this;

              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
              if (e.isCollapsed) return null;
              var i = this.editor.plugins.get("Users").me,
                  o = new Lc(e.start, e.end);

              var _iterator554 = _createForOfIteratorHelper(this._findSuggestions(o, "insertion")),
                  _step554;

              try {
                for (_iterator554.s(); !(_step554 = _iterator554.n()).done;) {
                  var _step554$value = _step554.value,
                      _e445 = _step554$value.suggestion,
                      _i291 = _step554$value.meta;
                  if (_i291.isOwn && !_i291.isNextTo) if (_e445.isMultiRange) {
                    var _i292 = _e445.getRanges().filter(function (e) {
                      return "$graveyard" != e.root.rootName;
                    });

                    if (_i292.every(function (e) {
                      return o.containsRange(e, !0);
                    }) && _e445.discard(), _i292.some(function (e) {
                      return e.containsRange(o, !0);
                    })) {
                      var _ret8 = function () {
                        var e = _this325._suggestionFactory.getSuggestionCallback("deletion", t, "accept");

                        return {
                          v: (_this325.forceDefaultExecution(function () {
                            return e([o], null, n);
                          }), null)
                        };
                      }();

                      if (typeof _ret8 === "object") return _ret8.v;
                    }
                  } else {
                    var _t402 = o.getIntersection(_e445.getFirstRange());

                    _e445._onDiscard([_t402], null, n);
                  }
                }
              } catch (err) {
                _iterator554.e(err);
              } finally {
                _iterator554.f();
              }

              if (o.detach(), o.isCollapsed || "$graveyard" == o.root.rootName) return null;
              var r = null,
                  a = o.start,
                  c = o.end;

              var _iterator555 = _createForOfIteratorHelper(this._findSuggestions(o, "deletion")),
                  _step555;

              try {
                for (_iterator555.s(); !(_step555 = _iterator555.n()).done;) {
                  var _step555$value = _step555.value,
                      _e446 = _step555$value.suggestion,
                      _t403 = _step555$value.meta;
                  if (_t403.isOwn) if (_e446.isMultiRange) {
                    var _t404 = !0;

                    var _iterator556 = _createForOfIteratorHelper(_e446.getRanges()),
                        _step556;

                    try {
                      for (_iterator556.s(); !(_step556 = _iterator556.n()).done;) {
                        var _n323 = _step556.value;
                        if (_n323.containsRange(o, !0)) return _e446;
                        o.containsRange(_n323) || (_t404 = !1);
                      }
                    } catch (err) {
                      _iterator556.e(err);
                    } finally {
                      _iterator556.f();
                    }

                    _t404 && _e446.discard();
                  } else {
                    var _t405 = _e446.getFirstRange();

                    if (_t405.containsRange(o, !0)) return _e446;
                    a = a.isBefore(_t405.start) ? a : _t405.start, c = c.isAfter(_t405.end) ? c : _t405.end, r ? _t405.start.isBefore(r.getFirstRange().start) ? (r.removeMarkers(), r = _e446) : _e446.removeMarkers() : r = _e446;
                  }
                }
              } catch (err) {
                _iterator555.e(err);
              } finally {
                _iterator555.f();
              }

              if (r) return this._setSuggestionRange(r, this._model.createRange(a, c)), r;
              {
                var _e444 = s(),
                    _o152 = this._model.createRange(a, c),
                    _r81 = i.id,
                    _l23 = t ? "deletion:" + t : "deletion",
                    _d13 = this._setSuggestionData({
                  id: _e444,
                  type: _l23,
                  createdAt: new Date(),
                  authorId: _r81,
                  attributes: n
                });

                return this._addSuggestionMarker(_l23, _e444, _r81, _o152), _d13;
              }
            }
          }, {
            key: "markMultiRangeDeletion",
            value: function markMultiRangeDeletion(e) {
              var _this326 = this;

              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "multi";
              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
              var i = this.editor.plugins.get("Users").me,
                  o = e.map(function (e) {
                return new Lc(e.start, e.end);
              }),
                  r = new Set();

              var _iterator557 = _createForOfIteratorHelper(o),
                  _step557;

              try {
                for (_iterator557.s(); !(_step557 = _iterator557.n()).done;) {
                  var _e447 = _step557.value;

                  var _iterator563 = _createForOfIteratorHelper(this._findSuggestions(_e447, "insertion")),
                      _step563;

                  try {
                    for (_iterator563.s(); !(_step563 = _iterator563.n()).done;) {
                      var _step563$value = _step563.value,
                          _t406 = _step563$value.suggestion,
                          _n324 = _step563$value.meta;
                      _n324.isOwn && !_n324.isNextTo && r.add(_t406);
                    }
                  } catch (err) {
                    _iterator563.e(err);
                  } finally {
                    _iterator563.f();
                  }
                }
              } catch (err) {
                _iterator557.e(err);
              } finally {
                _iterator557.f();
              }

              var _iterator558 = _createForOfIteratorHelper(r),
                  _step558;

              try {
                for (_iterator558.s(); !(_step558 = _iterator558.n()).done;) {
                  var _i293 = _step558.value;

                  if (_i293.isMultiRange) {
                    var _ret9 = function () {
                      var r = _i293.getRanges();

                      if ((!_i293.attributes || !_i293.attributes.skipNestingCheck) && r.every(function (e) {
                        return o.some(function (t) {
                          return t.containsRange(e, !0);
                        });
                      }) && _i293.discard(), o.every(function (e) {
                        return r.some(function (t) {
                          return t.containsRange(e, !0);
                        });
                      })) {
                        var _i294 = _this326._suggestionFactory.getSuggestionCallback("deletion", t, "accept");

                        return {
                          v: (_this326.forceDefaultExecution(function () {
                            return _i294(e, null, n);
                          }), null)
                        };
                      }
                    }();

                    if (typeof _ret9 === "object") return _ret9.v;
                  } else {
                    var _ret10 = function () {
                      var e = _i293.getFirstRange();

                      if (o.some(function (t) {
                        return t.containsRange(e, !0);
                      }) && _i293.discard(), o.every(function (t) {
                        return e.containsRange(t, !0);
                      })) {
                        var _e448 = _this326._suggestionFactory.getSuggestionCallback("deletion", t, "accept");

                        return {
                          v: (_this326.forceDefaultExecution(function () {
                            return _e448(o, null, n);
                          }), null)
                        };
                      }
                    }();

                    if (typeof _ret10 === "object") return _ret10.v;
                  }
                }
              } catch (err) {
                _iterator558.e(err);
              } finally {
                _iterator558.f();
              }

              var a = this._suggestionFactory.getSuggestionCallback("deletion", t, "join");

              var c = null;

              var _iterator559 = _createForOfIteratorHelper(this.getSuggestions()),
                  _step559;

              try {
                for (_iterator559.s(); !(_step559 = _iterator559.n()).done;) {
                  var _e449 = _step559.value;
                  if (_e449.author.id == i.id && _e449.isInContent && "deletion" == _e449.type && _e449.subType == t && (a(_e449.getRanges(), o) || a(o, _e449.getRanges()))) if (c) {
                    if (_e449.commentThread && _e449.commentThread.length) continue;

                    var _iterator564 = _createForOfIteratorHelper(_e449.getRanges()),
                        _step564;

                    try {
                      for (_iterator564.s(); !(_step564 = _iterator564.n()).done;) {
                        var _t407 = _step564.value;
                        c.isIntersectingWithRange(_t407) || c.addRange(_t407);
                      }
                    } catch (err) {
                      _iterator564.e(err);
                    } finally {
                      _iterator564.f();
                    }

                    _e449.removeMarkers();
                  } else {
                    c = _e449;

                    var _iterator565 = _createForOfIteratorHelper(o),
                        _step565;

                    try {
                      for (_iterator565.s(); !(_step565 = _iterator565.n()).done;) {
                        var _t408 = _step565.value;
                        _e449.isIntersectingWithRange(_t408) || _e449.addRange(_t408);
                      }
                    } catch (err) {
                      _iterator565.e(err);
                    } finally {
                      _iterator565.f();
                    }
                  }
                }
              } catch (err) {
                _iterator559.e(err);
              } finally {
                _iterator559.f();
              }

              if (c) return c;
              r.clear();

              var _iterator560 = _createForOfIteratorHelper(o),
                  _step560;

              try {
                for (_iterator560.s(); !(_step560 = _iterator560.n()).done;) {
                  var _e450 = _step560.value;

                  var _iterator566 = _createForOfIteratorHelper(this._findSuggestions(_e450, "deletion")),
                      _step566;

                  try {
                    for (_iterator566.s(); !(_step566 = _iterator566.n()).done;) {
                      var _step566$value = _step566.value,
                          _t409 = _step566$value.suggestion,
                          _n325 = _step566$value.meta;
                      _n325.isOwn && r.add(_t409);
                    }
                  } catch (err) {
                    _iterator566.e(err);
                  } finally {
                    _iterator566.f();
                  }
                }
              } catch (err) {
                _iterator560.e(err);
              } finally {
                _iterator560.f();
              }

              var _iterator561 = _createForOfIteratorHelper(r),
                  _step561;

              try {
                var _loop20 = function _loop20() {
                  var e = _step561.value;
                  var t = e.getRanges();
                  if ((!n || !n.skipNestingCheck) && o.every(function (e) {
                    return t.some(function (t) {
                      return t.containsRange(e, !0);
                    });
                  })) return {
                    v: e
                  };
                  (!e.attributes || !e.attributes.skipNestingCheck) && t.every(function (e) {
                    return o.some(function (t) {
                      return t.containsRange(e, !0);
                    });
                  }) && e.discard();
                };

                for (_iterator561.s(); !(_step561 = _iterator561.n()).done;) {
                  var _ret11 = _loop20();

                  if (typeof _ret11 === "object") return _ret11.v;
                }
              } catch (err) {
                _iterator561.e(err);
              } finally {
                _iterator561.f();
              }

              var l = s(),
                  d = i.id,
                  u = "deletion:" + t,
                  h = this._setSuggestionData({
                id: l,
                type: u,
                createdAt: new Date(),
                authorId: d,
                attributes: n
              });

              var _iterator562 = _createForOfIteratorHelper(o),
                  _step562;

              try {
                for (_iterator562.s(); !(_step562 = _iterator562.n()).done;) {
                  var _e451 = _step562.value;
                  _e451.detach(), _e451.isCollapsed || "$graveyard" == _e451.root.rootName || this._addSuggestionMarker(u, l, d, _e451, j_.getMultiRangeId());
                }
              } catch (err) {
                _iterator562.e(err);
              } finally {
                _iterator562.f();
              }

              return h;
            }
          }, {
            key: "_setSuggestionRange",
            value: function _setSuggestionRange(e, t) {
              var n = e.getFirstMarker();

              this._model.change(function (e) {
                e.updateMarker(n, {
                  range: t
                });
              });
            }
          }, {
            key: "_addThreadToSuggestion",
            value: function _addThreadToSuggestion(e) {
              var t = e.id,
                  n = this.editor.config.get("collaboration.channelId");
              this._commentsRepository.hasCommentThread(t) || this._commentsRepository.addCommentThread({
                channelId: n,
                threadId: t
              });

              var i = this._commentsRepository.getCommentThread(t);

              i.unbind("isRemovable"), i.isRemovable = !1, e.commentThread = i;
            }
          }, {
            key: "_checkSuggestionCorrectness",
            value: function _checkSuggestionCorrectness(e, t, n, i) {
              if (e.type != t || e.subType != n || e.author.id != i) throw this.editor.isReadOnly = !0, new c.a("track-changes-suggestion-data-mismatch", this);
            }
          }, {
            key: "_cutOutSuggestionMarker",
            value: function _cutOutSuggestionMarker(e, t) {
              var n = e.getFirstRange();
              if (t.isEqual(n)) e.removeMarkers();else if (n.containsRange(t)) {
                var _i295 = this._model.createPositionAt(t.start.nodeBefore, "end");

                this._setSuggestionRange(e, this._model.createRange(n.start, _i295));

                var _o153 = s(),
                    _r82 = e.author.id,
                    _a43 = e.type + ":" + e.subType;

                this._setSuggestionData({
                  id: _o153,
                  type: _a43,
                  createdAt: new Date(),
                  authorId: _r82,
                  data: e.data,
                  attributes: e.attributes
                });

                var _c32 = this._model.createPositionAt(t.end.parent, "after"),
                    _l24 = this._model.createRange(_c32, n.end);

                this._addSuggestionMarker(_a43, _o153, _r82, _l24);
              } else if (n.containsPosition(t.start)) {
                var _i296 = this._model.createPositionAt(t.start.nodeBefore, "end");

                this._setSuggestionRange(e, this._model.createRange(n.start, _i296));
              } else {
                var _i297 = this._model.createPositionAt(t.end.parent, "after");

                this._setSuggestionRange(e, this._model.createRange(_i297, n.end));
              }
            }
          }, {
            key: "_rangeIsInLocalUserInsertion",
            value: function _rangeIsInLocalUserInsertion(e) {
              var _iterator567 = _createForOfIteratorHelper(this._findSuggestions(e, "insertion")),
                  _step567;

              try {
                for (_iterator567.s(); !(_step567 = _iterator567.n()).done;) {
                  var _step567$value = _step567.value,
                      _t410 = _step567$value.suggestion,
                      _n326 = _step567$value.meta;
                  if (!_n326.isOwn) continue;

                  var _i298 = _t410.getRanges();

                  var _iterator568 = _createForOfIteratorHelper(_i298),
                      _step568;

                  try {
                    for (_iterator568.s(); !(_step568 = _iterator568.n()).done;) {
                      var _t411 = _step568.value;
                      if (!e.getDifference(_t411).length) return !0;
                    }
                  } catch (err) {
                    _iterator568.e(err);
                  } finally {
                    _iterator568.f();
                  }
                }
              } catch (err) {
                _iterator567.e(err);
              } finally {
                _iterator567.f();
              }

              return !1;
            }
          }, {
            key: "_getAuthorFromId",
            value: function _getAuthorFromId(e) {
              var t = this.editor.plugins.get("Users").getUser(e);
              if (!t) throw new c.a("track-changes-user-not-found", this);
              return t;
            }
          }, {
            key: "_createSuggestion",
            value: function _createSuggestion(e, t, n, i) {
              var _this327 = this;

              var o = this._getAuthorFromId(i),
                  r = this._suggestionFactory.buildSuggestion(e, t, n, o, function (e) {
                return _this327._updateSuggestionData(n, {
                  attributes: e
                });
              });

              return this.listenTo(r, "accept", function () {
                _this327._updateSuggestionData(n, {
                  state: "accepted"
                });
              }, {
                priority: "high"
              }), this.listenTo(r, "discard", function () {
                _this327._updateSuggestionData(n, {
                  state: "rejected"
                });
              }, {
                priority: "high"
              }), this._suggestions.set(n, r), this._suggestionState.set(r, "notReady"), r;
            }
          }, {
            key: "_splitMarkerName",
            value: function _splitMarkerName(e) {
              var t = e.split(":");
              return {
                group: t[0],
                type: t[1],
                subType: t.length >= 5 ? t[2] : null,
                id: t.length < 5 ? t[2] : t[3],
                authorId: t.length < 5 ? t[3] : t[4],
                markerCount: 6 == t.length ? t[5] : null
              };
            }
          }, {
            key: "_breakSuggestionMarker",
            value: function _breakSuggestionMarker(e, t, n) {
              var i = e.getFirstRange(),
                  o = i.start,
                  r = i.end;

              this._setSuggestionRange(e, this._model.createRange(o, t));

              var a = s(),
                  c = e.author.id,
                  l = e.type + (e.subType ? ":" + e.subType : "");
              this._setSuggestionData({
                id: a,
                type: l,
                createdAt: new Date(),
                authorId: c,
                originalSuggestionId: e.id,
                data: e.data
              }), "formatBlock" == e.type && (n = this._model.createPositionBefore(n.parent)), this._addSuggestionMarker(l, a, c, this._model.createRange(n, r));
            }
          }, {
            key: "_findSuggestions",
            value: function _findSuggestions(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              var n = [],
                  i = this._model.schema,
                  o = this.editor.plugins.get("Users").me;

              var _iterator569 = _createForOfIteratorHelper(this.getSuggestions()),
                  _step569;

              try {
                for (_iterator569.s(); !(_step569 = _iterator569.n()).done;) {
                  var _r83 = _step569.value;

                  if (_r83.isInContent && (!t || _r83.type == t)) {
                    var _iterator570 = _createForOfIteratorHelper(_r83.getRanges()),
                        _step570;

                    try {
                      for (_iterator570.s(); !(_step570 = _iterator570.n()).done;) {
                        var _t412 = _step570.value;

                        var _s56 = e.start.isEqual(_t412.end) || e.end.isEqual(_t412.start);

                        if (_s56 || e.getIntersection(_t412)) {
                          var _a44 = e.containsRange(_t412) && ry(i, _t412.start, e),
                              _c33 = _t412.containsRange(e) && ry(i, e.start, _t412);

                          n.push({
                            suggestion: _r83,
                            meta: {
                              isOwn: o == _r83.author,
                              isNextTo: _s56,
                              isInsideObject: _a44,
                              containsRangeInObject: _c33
                            }
                          });
                          break;
                        }
                      }
                    } catch (err) {
                      _iterator570.e(err);
                    } finally {
                      _iterator570.f();
                    }
                  }
                }
              } catch (err) {
                _iterator569.e(err);
              } finally {
                _iterator569.f();
              }

              return n;
            }
          }, {
            key: "_addSuggestionMarker",
            value: function _addSuggestionMarker(e, t, n, i) {
              var o = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;

              this._model.change(function (r) {
                var s = "suggestion:" + e + ":" + t + ":" + n;
                o && (s = s + ":" + o), r.addMarker(s, {
                  range: i,
                  usingOperation: !0,
                  affectsData: !0
                });
              });
            }
          }, {
            key: "_removeSuggestion",
            value: function _removeSuggestion(e) {
              var t = e.previous,
                  n = e.next;
              e.previous = null, null != t && (t.next = null), e.next = null, null != n && (n.previous = null), "ready" == this._suggestionState.get(e) && (this._suggestionState.set(e, "removed"), this.fire("suggestionUnloaded", e, t, n));
            }
          }, {
            key: "_setSuggestionData",
            value: function _setSuggestionData(e) {
              var _this328 = this;

              var t = e.id,
                  n = this.addSuggestionData(e);

              if (this._adapter && this._adapter.addSuggestion) {
                var _i299 = this.editor.plugins.get("PendingActions"),
                    _o154 = n.hasComments,
                    _r84 = n.subType ? n.type + ":" + n.subType : n.type,
                    _s57 = this.editor.locale.t,
                    _a45 = _i299.add(_s57({
                  string: "Unsaved change in suggestion.",
                  id: "PENDING_ACTION_SUGGESTION"
                })),
                    _c34 = {
                  id: t,
                  type: _r84,
                  hasComments: _o154,
                  data: e.data || null,
                  originalSuggestionId: e.originalSuggestionId || null,
                  attributes: n.attributes
                };

                this._adapter.addSuggestion(_c34).then(function (e) {
                  n._saved = !0, _i299.remove(_a45), e && e.createdAt && (_this328._suggestions.get(t).createdAt = e.createdAt);
                });
              }

              return n;
            }
          }, {
            key: "_updateSuggestionData",
            value: function _updateSuggestionData(e, t) {
              var _this329 = this;

              var n = this.editor.plugins.get("PendingActions"),
                  i = this._suggestions.get(e);

              if (this._adapter && this._adapter.updateSuggestion) if (i._saved) {
                var _i300 = this.editor.locale.t,
                    _o155 = n.add(_i300({
                  string: "Unsaved change in suggestion.",
                  id: "PENDING_ACTION_SUGGESTION"
                }));

                this._adapter.updateSuggestion(e, t).then(function () {
                  n.remove(_o155);
                });
              } else i.on("change:_saved", function () {
                _this329._updateSuggestionData(e, t);
              });
            }
          }, {
            key: "_getSuggestionData",
            value: function _getSuggestionData(e) {
              if (!this._adapter || !this._adapter.getSuggestion) throw new c.a("track-changes-adapter-missing-getsuggestion", this);
              return this._adapter.getSuggestion(e);
            }
          }, {
            key: "_handleNewSuggestionMarker",
            value: function _handleNewSuggestionMarker(e) {
              var _this330 = this;

              var _this$_splitMarkerNam = this._splitMarkerName(e),
                  t = _this$_splitMarkerNam.id,
                  n = _this$_splitMarkerNam.type,
                  i = _this$_splitMarkerNam.subType,
                  o = _this$_splitMarkerNam.authorId,
                  r = this._suggestions.get(t) || this._createSuggestion(n, i, t, o);

              switch (this._checkSuggestionCorrectness(r, n, i, o), this._suggestionState.get(r)) {
                case "notReady":
                  this._getSuggestionData(t).then(function (e) {
                    var n = Promise.resolve();
                    e.hasComments && (n = _this330._commentsRepository.fetchCommentThread({
                      channelId: _this330.editor.config.get("collaboration.channelId"),
                      threadId: t
                    })), n.then(function () {
                      _this330.addSuggestionData(e)._saved = !0;
                    });
                  }), this._suggestionState.set(r, "markerReady");
                  break;

                case "removed":
                  this._updateSuggestionData(t, {
                    state: "open"
                  });

                case "dataReady":
                  this._suggestionState.set(r, "ready"), this.fire("suggestionLoaded", r);
                  break;

                case "ready":
                  this.fire("suggestionChanged", r);
              }

              r.addMarkerName(e), this._refreshSuggestionsChain(r);
            }
          }, {
            key: "_refreshSuggestionsChain",
            value: function _refreshSuggestionsChain(e) {
              if (e.isMultiRange) return;
              var t = !0,
                  n = !0;

              var _iterator571 = _createForOfIteratorHelper(this.getSuggestions()),
                  _step571;

              try {
                for (_iterator571.s(); !(_step571 = _iterator571.n()).done;) {
                  var _i301 = _step571.value;
                  if (_i301.isMultiRange) continue;
                  if (_i301 == e || !_i301.isInContent) continue;
                  if (_i301.author.id != e.author.id) continue;

                  var _o156 = this._suggestionFactory.getSuggestionCallback(e.type, e.subType, "chain"),
                      _r85 = this._suggestionFactory.getSuggestionCallback(_i301.type, _i301.subType, "chain"),
                      _s58 = _o156(e, _i301),
                      _a46 = _r85(e, _i301);

                  _s58 && _a46 && (_s58[1].commentThread && _s58[1].commentThread.length || (_s58[0].next = _s58[1], _s58[1].previous = _s58[0], _s58[0] == e ? n = !1 : t = !1));
                }
              } catch (err) {
                _iterator571.e(err);
              } finally {
                _iterator571.f();
              }

              e.previous && t && (e.previous.next = null, e.previous = null), e.next && n && (e.next.previous = null, e.next = null);
            }
          }, {
            key: "_joinWithAdjacentSuggestions",
            value: function _joinWithAdjacentSuggestions(e) {
              var _iterator572 = _createForOfIteratorHelper(this._suggestions.values()),
                  _step572;

              try {
                for (_iterator572.s(); !(_step572 = _iterator572.n()).done;) {
                  var _t413 = _step572.value;
                  if (_t413 == e || !_t413.isInContent) continue;
                  if (_t413.type != e.type || _t413.author.id != e.author.id || _t413.subType != e.subType) continue;

                  var _n327 = this._suggestionFactory.getSuggestionCallback(e.type, e.subType, "join");

                  if (_n327(_t413.getRanges(), e.getRanges())) {
                    if (e.commentThread && e.commentThread.length) continue;
                    return this._joinSuggestions(_t413, e), !0;
                  }

                  if (_n327(e.getRanges(), _t413.getRanges())) {
                    if (_t413.commentThread && _t413.commentThread.length) continue;
                    return this._joinSuggestions(e, _t413), !0;
                  }
                }
              } catch (err) {
                _iterator572.e(err);
              } finally {
                _iterator572.f();
              }

              return !1;
            }
          }, {
            key: "_joinSuggestions",
            value: function _joinSuggestions(e, t) {
              if (e.isMultiRange) {
                var _iterator573 = _createForOfIteratorHelper(t.getRanges()),
                    _step573;

                try {
                  for (_iterator573.s(); !(_step573 = _iterator573.n()).done;) {
                    var _n328 = _step573.value;
                    e.addRange(_n328);
                  }
                } catch (err) {
                  _iterator573.e(err);
                } finally {
                  _iterator573.f();
                }
              } else {
                var _n329 = t.getFirstRange().end;

                this._setSuggestionRange(e, this._model.createRange(e.getFirstRange().start, _n329));
              }

              t.removeMarkers();
            }
          }], [{
            key: "requires",
            get: function get() {
              return [em, $d, cw, U_, Q_, J_, tv, ov, av, dv, fv, pv, bv, wv, xv, yv, Av, Ev, Iv, Pv, Ov, Dv, Lv, Vv, Hv, Uv, qv, gx, fx, px, Ux, $x, Kx];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "TrackChangesEditing";
            }
          }]);

          return iy;
        }(st);

        rt(iy, u);

        var oy = /*#__PURE__*/function () {
          function oy(e) {
            _classCallCheck(this, oy);

            this._editor = e, this._model = e.model, this._customCallbacks = new Map(), this._defaultCallbacks = new Map(), this._registerDefaultCallbacks();
          }

          _createClass(oy, [{
            key: "buildSuggestion",
            value: function buildSuggestion(e, t, n, i, o) {
              var _this331 = this;

              return new j_(this._model, {
                type: e,
                subType: t,
                id: n,
                author: i,
                onAttributesChange: o,
                onAccept: function onAccept() {
                  return _this331.getSuggestionCallback(e, t, "accept").apply(void 0, arguments);
                },
                onDiscard: function onDiscard() {
                  return _this331.getSuggestionCallback(e, t, "discard").apply(void 0, arguments);
                }
              });
            }
          }, {
            key: "registerCustomCallback",
            value: function registerCustomCallback(e, t, n, i) {
              var o = e + ":" + t + ":" + n;

              this._customCallbacks.set(o, i);
            }
          }, {
            key: "getSuggestionCallback",
            value: function getSuggestionCallback(e, t, n) {
              var i = e + ":" + t + ":" + n;
              return this._customCallbacks.get(i) || this._defaultCallbacks.get(e + ":" + n);
            }
          }, {
            key: "_registerDefaultCallbacks",
            value: function _registerDefaultCallbacks() {
              var _this332 = this;

              var e = function e() {},
                  t = function t(e) {
                e.sort(function (e, t) {
                  return e.start.isBefore(t.start) ? 1 : -1;
                }), _this332._model.change(function (t) {
                  var _iterator574 = _createForOfIteratorHelper(e),
                      _step574;

                  try {
                    for (_iterator574.s(); !(_step574 = _iterator574.n()).done;) {
                      var _n330 = _step574.value;

                      var _e452 = void 0;

                      _e452 = _n330.end.isAtEnd && _n330.end.parent == _n330.start.nodeAfter ? t.createSelection(_n330.start.nodeAfter, "on") : t.createSelection(_n330), _this332._model.deleteContent(_e452, {
                        forceDefaultExecution: !0,
                        doNotAutoparagraph: !0
                      });
                    }
                  } catch (err) {
                    _iterator574.e(err);
                  } finally {
                    _iterator574.f();
                  }
                });
              },
                  n = function n(e, t) {
                _this332._model.change(function (n) {
                  var _this332$_editor;

                  var i = t.commandName,
                      _t$commandParams = t.commandParams,
                      o = _t$commandParams === void 0 ? [] : _t$commandParams,
                      r = e[0];
                  if ("$graveyard" == r.root.rootName) return;
                  var s = Array.from(_this332._model.document.selection.getRanges()).map(function (e) {
                    return Lc.fromRange(e);
                  });
                  sy(r) ? n.setSelection(_this332._model.createRange(r.end)) : n.setSelection(r);

                  var _iterator575 = _createForOfIteratorHelper(_this332._editor.commands.commands()),
                      _step575;

                  try {
                    for (_iterator575.s(); !(_step575 = _iterator575.n()).done;) {
                      var _e453 = _step575.value;

                      _e453.refresh();
                    }
                  } catch (err) {
                    _iterator575.e(err);
                  } finally {
                    _iterator575.f();
                  }

                  o.push({
                    forceDefaultExecution: !0
                  }), (_this332$_editor = _this332._editor).execute.apply(_this332$_editor, [i].concat(_toConsumableArray(o)));
                  var a = s.filter(function (e) {
                    return "$graveyard" != e.root.rootName;
                  });
                  a.length > 0 && n.setSelection(a);

                  var _iterator576 = _createForOfIteratorHelper(s),
                      _step576;

                  try {
                    for (_iterator576.s(); !(_step576 = _iterator576.n()).done;) {
                      var _e454 = _step576.value;

                      _e454.detach();
                    }
                  } catch (err) {
                    _iterator576.e(err);
                  } finally {
                    _iterator576.f();
                  }
                });
              },
                  i = function i(e, t) {
                return 1 == e.length && 1 == t.length && e[0].end.isEqual(t[0].start);
              },
                  o = function o(e, t) {
                return uy(e, t, _this332._model) ? [e, t] : uy(t, e, _this332._model) ? [t, e] : null;
              };

              this._defaultCallbacks.set("insertion:accept", e), this._defaultCallbacks.set("insertion:discard", t), this._defaultCallbacks.set("insertion:join", i), this._defaultCallbacks.set("insertion:chain", o), this._defaultCallbacks.set("deletion:accept", t), this._defaultCallbacks.set("deletion:discard", e), this._defaultCallbacks.set("deletion:join", i), this._defaultCallbacks.set("deletion:chain", o), this._defaultCallbacks.set("formatInline:accept", n), this._defaultCallbacks.set("formatInline:discard", e), this._defaultCallbacks.set("formatInline:join", i), this._defaultCallbacks.set("formatInline:chain", e), this._defaultCallbacks.set("formatBlock:accept", n), this._defaultCallbacks.set("formatBlock:discard", e), this._defaultCallbacks.set("formatBlock:join", i), this._defaultCallbacks.set("formatBlock:chain", e);
            }
          }]);

          return oy;
        }();

        function ry(e, t, n) {
          var _iterator577 = _createForOfIteratorHelper(t.parent.getAncestors({
            includeSelf: !0,
            parentFirst: !0
          })),
              _step577;

          try {
            for (_iterator577.s(); !(_step577 = _iterator577.n()).done;) {
              var _i302 = _step577.value;
              if (_i302.root == _i302) return !1;
              if (!n.containsItem(_i302)) return !1;
              if (e.isObject(_i302) || e.isLimit(_i302)) return !0;
            }
          } catch (err) {
            _iterator577.e(err);
          } finally {
            _iterator577.f();
          }
        }

        function sy(e) {
          return e.end.parent == e.start.nodeAfter && e.end.isAtStart;
        }

        function ay(e, t, n, i) {
          var o = function o(e) {
            return !e.item.is("textProxy") && !i.isObject(e.item);
          },
              r = e.start.getLastMatchingPosition(o),
              s = e.end.getLastMatchingPosition(o, {
            direction: "backward"
          });

          return !(e.start.isEqual(r) && e.end.isEqual(s) || (r.isBefore(s) ? n.updateMarker(t, {
            range: n.createRange(r, s)
          }) : n.removeMarker(t), 0));
        }

        function cy(e) {
          return function (e) {
            var t = 0,
                n = 0;

            var _iterator578 = _createForOfIteratorHelper(Zx(e)),
                _step578;

            try {
              for (_iterator578.s(); !(_step578 = _iterator578.n()).done;) {
                var _ref117;

                var _i303 = _step578.value;
                t = (t << 5) - t + _i303, t &= t, (_ref117 = [n, t], t = _ref117[0], n = _ref117[1], _ref117);
              }
            } catch (err) {
              _iterator578.e(err);
            } finally {
              _iterator578.f();
            }

            return ny(t) + ny(n);
          }(e);
        }

        function ly(e) {
          var t = e.start.nodeAfter;
          return t && t.is("element");
        }

        function dy(e, t) {
          var n = t.schema.isObject(e) || t.schema.isSelectable(e);
          return t.createRange(t.createPositionAt(e, "before"), n ? t.createPositionAfter(e) : t.createPositionAt(e, "end"));
        }

        function uy(e, t, n) {
          var i = e.getFirstRange(),
              o = t.getFirstRange();
          if (i.end.isEqual(o.start)) return !0;
          if (e.type != t.type) return !1;
          if (!i.end.isTouching(o.start)) return !1;
          var r = n.createRange(i.end, o.start).getWalker();

          var _iterator579 = _createForOfIteratorHelper(r),
              _step579;

          try {
            for (_iterator579.s(); !(_step579 = _iterator579.n()).done;) {
              var _e455 = _step579.value;
              if (["elementStart", "elementEnd"].includes(_e455.type) && n.schema.isLimit(_e455.item)) return !1;
            }
          } catch (err) {
            _iterator579.e(err);
          } finally {
            _iterator579.f();
          }

          return !0;
        }

        var hy = ["discardSuggestion", "_discardCommand", "bind", "isEnabled", "listenTo", "acceptSuggestion", "commentThread", "model", "view", "_acceptCommand", "execute", "unbind", "destroy"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(hy, 460);

        var gy = function gy(e, t) {
          return hy[e -= 0];
        };

        var my = /*#__PURE__*/function (_gy, _gy2, _gy3) {
          function my(e, t, n, i) {
            var _this333 = this;

            _classCallCheck(this, my);

            this.model = e, this[gy("0x3")] = t, this.commentThreadController = new rm(e[gy("0x1")], t), this[gy("0x4")] = n, this[gy("0x9")] = i, this[gy("0x3")][gy("0xa")](gy("0xb")).to(this[gy("0x4")]), this[gy("0xc")](t, "acceptSuggestion", function () {
              return _this333[gy("0x0")]();
            }), this.listenTo(t, gy("0x8"), function () {
              return _this333[gy("0x8")]();
            });
          }

          _createClass(my, [{
            key: _gy,
            value: function value() {
              this._acceptCommand[gy("0x5")](this[gy("0x2")].id);
            }
          }, {
            key: _gy2,
            value: function value() {
              this[gy("0x9")][gy("0x5")](this[gy("0x2")].id);
            }
          }, {
            key: _gy3,
            value: function value() {
              this.view[gy("0x6")]("isEnabled"), this.stopListening(), this.commentThreadController[gy("0x7")]();
            }
          }]);

          return my;
        }(gy("0x0"), gy("0x8"), gy("0x7"));

        rt(my, Ze);
        var fy = ["_model", "commentThread", "disableComments", "isDirty", "_createCommentViews", "CommentView", "isEnabled", "createdAt", "removeComment", "commentInputView", "value", "element", "submit", "assign", "_createCommentThreadInputView", "commentThreadInputView", "bind", "showInput", "_localUser", "descriptionParts", "set", "_config", "disabledSubmit", "updateComment", "isActive", "setData", "focus", "editorConfig", "destroy", "fire", "locale", "delegate", "length", "isReadOnly", "commentsListView", "editor", "hasDirtyComment"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(fy, 169);

        var py = function py(e, t) {
          return fy[e -= 0];
        };

        var ky = /*#__PURE__*/function (_nh36, _py, _py2, _py3) {
          _inherits(ky, _nh36);

          var _super203 = _createSuper(ky);

          function ky(e, t, n, i) {
            var _this334;

            _classCallCheck(this, ky);

            _this334 = _super203.call(this, e), _this334[py("0xd")] = null, _this334.commentThreadInputView = null, _this334[py("0x24")]("isActive", !1), _this334[py("0x24")](py("0x17"), t.createdAt), _this334[py("0x20")](py("0x17")).to(t), _this334[py("0x24")](py("0x23"), []), _this334[py("0x24")](py("0x13"), !1), _this334[py("0x24")](py("0x16"), !1), _this334[py("0x10")] = t, _this334[py("0x22")] = n, _this334._config = i, i[py("0x12")] ? _this334.set(py("0xb"), 1) : _this334[py("0x14")]();
            return _this334;
          }

          _createClass(ky, [{
            key: _py,
            value: function value() {
              this[py("0x1b")][py("0x5")]();
            }
          }, {
            key: _py2,
            value: function value() {
              this.isDirty = !1, this[py("0xd")] && this[py("0xd")][py("0x7")](), this[py("0x1f")] && this[py("0x1f")][py("0x7")](), _get(_getPrototypeOf(ky.prototype), "destroy", this).call(this);
            }
          }, {
            key: _py3,
            value: function value() {
              var _this335 = this;

              this[py("0xd")] = new xb(this[py("0x9")], this._model[py("0x11")], Object[py("0x1d")]({
                CommentView: this[py("0x0")][py("0x15")]
              }, this[py("0x0")])), this.commentsListView[py("0xa")](py("0x18")).to(this), this.commentsListView[py("0xa")](py("0x2")).to(this), this[py("0xd")].bind(py("0x3")).to(this), this[py("0x24")](py("0xb"), this[py("0xd")][py("0xb")] + 1), this[py("0x20")](py("0xb")).to(this[py("0xd")], py("0xb"), function (e) {
                return e + 1;
              }), this[py("0x1f")] = this[py("0x1e")](), this.on(py("0x18"), function () {
                return _this335[py("0x5")]();
              }), this.bind(py("0x13")).to(this.commentsListView, py("0xf"), this.commentThreadInputView[py("0x19")], py("0x1a"), function (e, t) {
                return e || !!t;
              });
            }
          }, {
            key: "_createCommentThreadInputView",
            value: function _createCommentThreadInputView() {
              var _this336 = this;

              var e = new bb(this[py("0x9")], this[py("0x22")], this[py("0x0")][py("0x6")]),
                  t = e[py("0x19")];
              return e[py("0x20")](py("0x21")).to(this, py("0x3"), this[py("0x10")].commentThread, py("0xc"), t, "value", function (e, t, n) {
                return !!n || e && !t;
              }), t.on(py("0x1c"), function (e, n) {
                _this336[py("0x8")]("addComment", n), t[py("0xe")][py("0x4")]("");
              }), t.on("cancel", function () {
                return _this336[py("0x5")]();
              }), t[py("0x20")](py("0x1")).to(this._model[py("0x11")], "isReadOnly"), e;
            }
          }]);

          return ky;
        }(nh, py("0x5"), py("0x7"), py("0x14"));

        var by = /*#__PURE__*/function (_ky) {
          _inherits(by, _ky);

          var _super204 = _createSuper(by);

          function by(e, t, n, i) {
            var _this337;

            _classCallCheck(this, by);

            _this337 = _super204.call(this, e, t, n, i);
            var o = e.t;
            _this337.set("type", ""), _this337.bind("type").to(_assertThisInitialized(_this337), "descriptionParts", function (e) {
              return e && e[0] ? e[0].type : "";
            }), _this337.bind("description").to(_assertThisInitialized(_this337), "descriptionParts", _assertThisInitialized(_this337), "isActive", function (e, t) {
              var n = "";

              var _iterator580 = _createForOfIteratorHelper(e),
                  _step580;

              try {
                for (_iterator580.s(); !(_step580 = _iterator580.n()).done;) {
                  var _t414 = _step580.value;
                  n += "<p>" + wy(_t414.content) + "</p>";
                }
              } catch (err) {
                _iterator580.e(err);
              } finally {
                _iterator580.f();
              }

              return t ? n : Ob(n, {
                limit: 140
              });
            }), _this337._descriptionElement = null, _this337.acceptButton = _this337._createButton(o("Accept suggestion"), Ju.check, "ck-suggestion--accept", "acceptSuggestion"), _this337.discardButton = _this337._createButton(o("Discard suggestion"), Ju.cancel, "ck-suggestion--discard", "discardSuggestion"), _this337.userView = new fb(e, _this337._model.author), _this337.userView.extendTemplate({
              attributes: {
                "class": ["ck-suggestion__user", "ck-annotation__user"]
              }
            }), _this337.setTemplate(_this337._getTemplate());
            return _this337;
          }

          _createClass(by, [{
            key: "_getTemplate",
            value: function _getTemplate() {
              var _this338 = this;

              var e = this.bindTemplate,
                  t = {
                tag: "div",
                attributes: {
                  "class": ["ck-suggestion-wrapper", e["if"]("isActive", "ck-suggestion-wrapper--active"), e.to("type", function (e) {
                    return "ck-suggestion-" + e;
                  }), this._config.disableComments && "ck-suggestion--disabled-comments"],
                  "data-suggestion-id": this._model.id,
                  "data-thread-id": this._model.commentThread.id,
                  "data-author-id": this._model.author.id,
                  tabindex: -1
                },
                children: [{
                  tag: "div",
                  attributes: {
                    "class": ["ck-suggestion", "ck-annotation"]
                  },
                  children: [this.userView, {
                    tag: "div",
                    attributes: {
                      "class": ["ck-suggestion__main", "ck-annotation__main"]
                    },
                    children: [{
                      tag: "div",
                      attributes: {
                        "class": ["ck-suggestion__info", "ck-annotation__info"]
                      },
                      children: [{
                        tag: "span",
                        children: [{
                          text: this.userView.name
                        }],
                        attributes: {
                          "class": ["ck-suggestion__info-name", "ck-annotation__info-name"]
                        }
                      }, {
                        tag: "time",
                        attributes: {
                          datetime: e.to("createdAt"),
                          "class": ["ck-comment__info-time", "ck-annotation__info-time"]
                        },
                        children: [{
                          text: e.to("createdAt", function (e) {
                            return _this338._config.formatDateTime(e);
                          })
                        }]
                      }]
                    }, {
                      tag: "div",
                      attributes: {
                        "class": ["ck-suggestion__actions", "ck-annotation__actions"]
                      },
                      children: [this.acceptButton, this.discardButton]
                    }, {
                      tag: "div",
                      attributes: {
                        "class": ["ck-annotation__content-wrapper"]
                      }
                    }]
                  }]
                }]
              };
              return this.commentsListView && this.commentThreadInputView && t.children.push(this.commentsListView, this.commentThreadInputView), t;
            }
          }, {
            key: "render",
            value: function render() {
              var _this339 = this;

              _get(_getPrototypeOf(by.prototype), "render", this).call(this), this._descriptionElement = this.element.querySelector(".ck-annotation__content-wrapper"), this._descriptionElement.innerHTML = this.description, this.on("change:description", function (e, t, n) {
                _this339._descriptionElement.innerHTML = n;
              });
            }
          }, {
            key: "_createButton",
            value: function _createButton(e, t, n, i) {
              var _this340 = this;

              var o = new Th(this.locale);
              return o.set({
                label: e,
                icon: t,
                tooltip: !0
              }), o.extendTemplate({
                attributes: {
                  "class": n
                }
              }), o.on("execute", function () {
                _this340.fire(i, _this340._model.id);
              }), o.bind("isEnabled").to(this), o;
            }
          }]);

          return by;
        }(ky);

        function wy(e) {
          var t = "";
          return t += e.split("*").map(function (e, t) {
            return t % 2 != 0 ? '<span class="ck-suggestion-type">' + _y(e) + "</span>" : _y(e);
          }).join("");
        }

        function _y(e) {
          var t = document.createElement("span");
          return t.innerText = e, t.innerHTML;
        }

        var vy = n(62),
            xy = n.n(vy);

        var yy = /*#__PURE__*/function (_st75) {
          _inherits(yy, _st75);

          var _super205 = _createSuper(yy);

          function yy(e) {
            var _this341;

            _classCallCheck(this, yy);

            _this341 = _super205.call(this, e), _this341._suggestionToController = new Map(), _this341._viewToController = new Map(), _this341._debouncedHandlers = new Map();
            var t = _this341.editor.config;
            t.define("trackChanges.SuggestionThreadView", by), t.define("trackChanges.disableComments", !1), _this341._disableComments = t.get("trackChanges.disableComments");
            return _this341;
          }

          _createClass(yy, [{
            key: "init",
            value: function init() {
              var _this342 = this;

              var e = this.editor,
                  t = e.plugins.get(iy),
                  n = e.plugins.get(ow),
                  i = e.plugins.get(Sw),
                  o = e.plugins.get(cw);
              e.ui.componentFactory.add("trackChanges", function (e) {
                return _this342._createUIButton(e);
              }), i.addSourceCollector(function () {
                var e = [];

                for (var _i304 = 0, _Array$from10 = Array.from(_this342._suggestionToController); _i304 < _Array$from10.length; _i304++) {
                  var _Array$from10$_i = _slicedToArray(_Array$from10[_i304], 2),
                      _t415 = _Array$from10$_i[0],
                      _n331 = _Array$from10$_i[1];

                  var _i305 = _t415.getAllAdjacentSuggestions(),
                      _o157 = [];

                  var _iterator581 = _createForOfIteratorHelper(_i305),
                      _step581;

                  try {
                    for (_iterator581.s(); !(_step581 = _iterator581.n()).done;) {
                      var _e456 = _step581.value;
                      if (!_e456.isInContent) continue;

                      if (_e456.isMultiRange) {
                        _o157.push.apply(_o157, _toConsumableArray(_e456.getRanges()));

                        continue;
                      }

                      var _t416 = _e456.getFirstRange();

                      if (_o157.length > 0) {
                        var _e457 = _o157[0].getJoined(_t416);

                        if (_e457) {
                          _o157[0] = _e457;
                          continue;
                        }
                      }

                      _o157.push(_t416);
                    }
                  } catch (err) {
                    _iterator581.e(err);
                  } finally {
                    _iterator581.f();
                  }

                  e.push([_n331.view, _o157]);
                }

                return e;
              }), this.listenTo(t, "suggestionLoaded", function (e, t) {
                var n = !1;
                var o = Ra(function (e) {
                  n || e ? n && e && (_this342._destroyController(t), i.refreshSelectedViews(), n = !1) : (_this342._initializeController(t), i.refreshSelectedViews(), n = !0);
                }, 10);
                _this342._debouncedHandlers.set(t, o), _this342.listenTo(t, "change:previous", function (e, n, i, r) {
                  t.isInContent && (null == i ? (_this342._updateController(r.head), o(!1)) : (_this342._updateController(i.head), o(!0)));
                }), null === t.previous ? o(!1) : _this342._updateController(t.head);
              }), this.listenTo(t, "suggestionUnloaded", function (e, t, n) {
                _this342.stopListening(t, "change:previous"), _this342._debouncedHandlers.get(t).cancel(), _this342._debouncedHandlers["delete"](t);

                var i = n ? n.head : t,
                    o = _this342._suggestionToController.get(i);

                null !== n && _this342._updateController(i), null === n && o && _this342._destroyController(t);
              }), this.listenTo(t, "suggestionChanged", function (e, t) {
                _this342._updateController(t);
              }), this.listenTo(n, "change:activeAnnotations", function (e, n, i) {
                var o = Array.from(i, function (e) {
                  return e.innerView;
                }).filter(function (e) {
                  return _this342._viewToController.has(e);
                }),
                    r = [];

                var _iterator582 = _createForOfIteratorHelper(o),
                    _step582;

                try {
                  for (_iterator582.s(); !(_step582 = _iterator582.n()).done;) {
                    var _e458 = _step582.value;

                    var _t417 = _this342._viewToController.get(_e458).model.getAllAdjacentSuggestions();

                    r.push.apply(r, _toConsumableArray(_t417.reduce(function (e, t) {
                      return [].concat(_toConsumableArray(e), _toConsumableArray(t.getMarkerNames()));
                    }, [])));
                  }
                } catch (err) {
                  _iterator582.e(err);
                } finally {
                  _iterator582.f();
                }

                t.activeMarkers = r;
              }), this.listenTo(o, "addComment", function (e, _ref118) {
                var n = _ref118.threadId,
                    i = _ref118.isFromAdapter;
                if (i || !t.hasSuggestion(n)) return;
                var o = t.getSuggestion(n);

                _this342._suggestionToController.get(o).view.focus();
              }, {
                priority: "lowest"
              });
            }
          }, {
            key: "_createUIButton",
            value: function _createUIButton(e) {
              var _this343 = this;

              var t = Qh(e, Oh),
                  n = this.editor.commands.get("trackChanges"),
                  i = this.editor.t;
              t.buttonView.set({
                tooltip: i("Track changes"),
                label: i("Track changes"),
                icon: xy.a
              }), t.buttonView.bind("isOn").to(n, "value"), t.buttonView.on("execute", function () {
                return n.execute();
              });
              var o = new Hi(),
                  r = [{
                type: "switchbutton",
                model: {
                  withText: !0,
                  label: i("Track changes"),
                  commandName: "trackChanges"
                }
              }, {
                type: "separator"
              }, {
                type: "button",
                model: {
                  withText: !0,
                  label: i("Accept all suggestions"),
                  commandName: "acceptAllSuggestions"
                }
              }, {
                type: "button",
                model: {
                  withText: !0,
                  label: i("Accept all selected suggestions"),
                  commandName: "acceptSelectedSuggestions"
                }
              }, {
                type: "button",
                model: {
                  withText: !0,
                  label: i("Discard all suggestions"),
                  commandName: "discardAllSuggestions"
                }
              }, {
                type: "button",
                model: {
                  withText: !0,
                  label: i("Discard all selected suggestions"),
                  commandName: "discardSelectedSuggestions"
                }
              }];

              for (var _i306 = 0, _r86 = r; _i306 < _r86.length; _i306++) {
                var _e459 = _r86[_i306];
                var _t418 = {
                  type: _e459.type
                };

                if (_e459.model) {
                  var _n332 = new cg(_e459.model),
                      _i307 = this.editor.commands.get(_n332.commandName);

                  _n332.bind("isOn", "isEnabled").to(_i307, "value", "isEnabled"), _t418.model = _n332;
                }

                o.add(_t418);
              }

              Xh(t, o);
              var s = r.filter(function (e) {
                return null != e.model;
              }).map(function (e) {
                return _this343.editor.commands.get(e.model.commandName);
              });
              return t.buttonView.actionView.unbind("isEnabled"), t.buttonView.arrowView.unbind("isEnabled"), t.buttonView.actionView.bind("isEnabled").to(n, "isEnabled"), t.buttonView.arrowView.bind("isEnabled").toMany(s, "isEnabled", function () {
                for (var _len24 = arguments.length, e = new Array(_len24), _key24 = 0; _key24 < _len24; _key24++) {
                  e[_key24] = arguments[_key24];
                }

                return e.some(function (e) {
                  return e;
                });
              }), t.on("execute", function (e) {
                return _this343.editor.execute(e.source.commandName);
              }), t;
            }
          }, {
            key: "_initializeController",
            value: function _initializeController(e) {
              var _this344 = this;

              var t = this.editor,
                  n = t.config,
                  i = t.plugins.get(ow),
                  o = e.getAllAdjacentSuggestions().filter(function (e) {
                return e.isInContent;
              }),
                  r = t.plugins.get("Users").me,
                  s = t.commands.get("acceptSuggestion"),
                  a = t.commands.get("discardSuggestion"),
                  c = new (0, n.get("trackChanges").SuggestionThreadView)(t.locale, e, r, {
                disableComments: this._disableComments,
                editorConfig: n.get("comments.editorConfig"),
                maxCommentsWhenCollapsed: n.get("comments.maxCommentsWhenCollapsed"),
                maxThreadTotalWeight: n.get("comments.maxThreadTotalWeight"),
                maxCommentCharsWhenCollapsed: n.get("comments.maxCommentCharsWhenCollapsed"),
                formatDateTime: mf(n.get("locale")),
                CommentView: n.get("comments").CommentView
              }),
                  l = new my(e, c, s, a);
              c.descriptionParts = t.plugins.get("TrackChangesEditing")._descriptionFactory.getDescriptions(o), this._suggestionToController.set(e, l), this._viewToController.set(c, l);
              var d = new Yb(this.editor.locale, c);
              d.bind("isDirty").to(c, "isDirty"), d.bind("length").to(c), d.bind("type").to(c, "type", function (e) {
                return "suggestion-" + e;
              });
              var u = new Jb({
                view: d,
                target: function target() {
                  var e = o[0].getFirstMarker();
                  if (!e) return null;
                  var n = e.getRange().getContainedElement();
                  return n && !t.editing.mapper.toViewElement(n) ? null : kw(t.editing, e) || null;
                },
                type: function type() {
                  return "suggestion-" + l.view.type;
                }
              });
              i.add(u);
              var h = t.plugins.get("PendingActions");
              var g;
              c.on("change:isDirty", function (e, t, n) {
                if (n) {
                  var _e460 = _this344.editor.locale.t;
                  g = h.add(_e460({
                    string: "Unsaved change in suggestion.",
                    id: "PENDING_ACTION_SUGGESTION"
                  }));
                } else h.remove(g), g = null;
              });
            }
          }, {
            key: "_destroyController",
            value: function _destroyController(e) {
              var t = this.editor.plugins.get("Annotations"),
                  n = this._suggestionToController.get(e),
                  i = n.view,
                  o = t.getByInnerView(i);

              t.remove(o), this._suggestionToController["delete"](e), this._viewToController["delete"](i), n.destroy(), i.destroy();
            }
          }, {
            key: "_updateController",
            value: function _updateController(e) {
              if (!e.isInContent || !this._suggestionToController.has(e)) return;

              var t = this.editor.plugins.get("TrackChangesEditing"),
                  n = this._suggestionToController.get(e),
                  i = e.getAllAdjacentSuggestions();

              n.view.descriptionParts = t._descriptionFactory.getDescriptions(i);
            }
          }, {
            key: "destroy",
            value: function destroy() {
              _get(_getPrototypeOf(yy.prototype), "destroy", this).call(this);

              var _iterator583 = _createForOfIteratorHelper(this._suggestionToController.keys()),
                  _step583;

              try {
                for (_iterator583.s(); !(_step583 = _iterator583.n()).done;) {
                  var _e461 = _step583.value;

                  this._destroyController(_e461);
                }
              } catch (err) {
                _iterator583.e(err);
              } finally {
                _iterator583.f();
              }

              var _iterator584 = _createForOfIteratorHelper(this._debouncedHandlers.values()),
                  _step584;

              try {
                for (_iterator584.s(); !(_step584 = _iterator584.n()).done;) {
                  var _e462 = _step584.value;

                  _e462.cancel();
                }
              } catch (err) {
                _iterator584.e(err);
              } finally {
                _iterator584.f();
              }

              this._debouncedHandlers.clear();
            }
          }], [{
            key: "requires",
            get: function get() {
              return [ow, Sw, iy, cw, em];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "TrackChangesUI";
            }
          }]);

          return yy;
        }(st);

        var Cy = ["get", "editor", "requires", "pluginName", "getSuggestions", "adapter", "plugins", "addSuggestionData", "getSuggestion"];
        !function (e, t) {
          !function (t) {
            for (; --t;) {
              e.push(e.shift());
            }
          }(++t);
        }(Cy, 201);

        var Ty = function Ty(e, t) {
          return Cy[e -= 0];
        };

        var Ay = ["left", "right", "center", "justify"];

        function Ey(e) {
          return Ay.includes(e);
        }

        function Iy(e, t) {
          return "rtl" == t.contentLanguageDirection ? "right" === e : "left" === e;
        }

        function Sy(e) {
          var t = e.map(function (e) {
            var t;
            return t = "string" == typeof e ? {
              name: e
            } : e;
          }).filter(function (e) {
            var t = !!Ay.includes(e.name);
            return t || Object(c.b)("alignment-config-name-not-recognized", {
              option: e
            }), t;
          }),
              n = t.filter(function (e) {
            return !!e.className;
          }).length;
          if (n && n < t.length) throw new c.a("alignment-config-classnames-are-missing", {
            configuredOptions: e
          });
          return t.forEach(function (t, n, i) {
            var o = i.slice(n + 1);
            if (o.some(function (e) {
              return e.name == t.name;
            })) throw new c.a("alignment-config-name-already-defined", {
              option: t,
              configuredOptions: e
            });

            if (t.className) {
              if (o.some(function (e) {
                return e.className == t.className;
              })) throw new c.a("alignment-config-classname-already-defined", {
                option: t,
                configuredOptions: e
              });
            }
          }), t;
        }

        var My = "alignment";

        var Py = /*#__PURE__*/function (_ct20) {
          _inherits(Py, _ct20);

          var _super206 = _createSuper(Py);

          function Py() {
            _classCallCheck(this, Py);

            return _super206.apply(this, arguments);
          }

          _createClass(Py, [{
            key: "refresh",
            value: function refresh() {
              var e = this.editor.locale,
                  t = Ja(this.editor.model.document.selection.getSelectedBlocks());
              this.isEnabled = !!t && this._canBeAligned(t), this.isEnabled && t.hasAttribute("alignment") ? this.value = t.getAttribute("alignment") : this.value = "rtl" === e.contentLanguageDirection ? "right" : "left";
            }
          }, {
            key: "execute",
            value: function execute() {
              var _this345 = this;

              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
              var t = this.editor,
                  n = t.locale,
                  i = t.model,
                  o = i.document,
                  r = e.value;
              i.change(function (e) {
                var t = Array.from(o.selection.getSelectedBlocks()).filter(function (e) {
                  return _this345._canBeAligned(e);
                }),
                    i = t[0].getAttribute("alignment");
                Iy(r, n) || i === r || !r ? function (e, t) {
                  var _iterator585 = _createForOfIteratorHelper(e),
                      _step585;

                  try {
                    for (_iterator585.s(); !(_step585 = _iterator585.n()).done;) {
                      var _n333 = _step585.value;
                      t.removeAttribute(My, _n333);
                    }
                  } catch (err) {
                    _iterator585.e(err);
                  } finally {
                    _iterator585.f();
                  }
                }(t, e) : function (e, t, n) {
                  var _iterator586 = _createForOfIteratorHelper(e),
                      _step586;

                  try {
                    for (_iterator586.s(); !(_step586 = _iterator586.n()).done;) {
                      var _i308 = _step586.value;
                      t.setAttribute(My, n, _i308);
                    }
                  } catch (err) {
                    _iterator586.e(err);
                  } finally {
                    _iterator586.f();
                  }
                }(t, e, r);
              });
            }
          }, {
            key: "_canBeAligned",
            value: function _canBeAligned(e) {
              return this.editor.model.schema.checkAttribute(e, My);
            }
          }]);

          return Py;
        }(ct);

        var Ry = /*#__PURE__*/function (_st76) {
          _inherits(Ry, _st76);

          var _super207 = _createSuper(Ry);

          function Ry(e) {
            var _this346;

            _classCallCheck(this, Ry);

            _this346 = _super207.call(this, e), e.config.define("alignment", {
              options: _toConsumableArray(Ay.map(function (e) {
                return {
                  name: e
                };
              }))
            });
            return _this346;
          }

          _createClass(Ry, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = e.locale,
                  n = e.model.schema,
                  i = Sy(e.config.get("alignment.options")).filter(function (e) {
                return Ey(e.name) && !Iy(e.name, t);
              }),
                  o = i.some(function (e) {
                return !!e.className;
              });
              n.extend("$block", {
                allowAttributes: "alignment"
              }), e.model.schema.setAttributeProperties("alignment", {
                isFormatting: !0
              }), o ? e.conversion.attributeToAttribute(function (e) {
                var t = {
                  model: {
                    key: "alignment",
                    values: e.map(function (e) {
                      return e.name;
                    })
                  },
                  view: {}
                };

                var _iterator587 = _createForOfIteratorHelper(e),
                    _step587;

                try {
                  for (_iterator587.s(); !(_step587 = _iterator587.n()).done;) {
                    var _n334 = _step587.value;
                    t.view[_n334.name] = {
                      key: "class",
                      value: _n334.className
                    };
                  }
                } catch (err) {
                  _iterator587.e(err);
                } finally {
                  _iterator587.f();
                }

                return t;
              }(i)) : e.conversion["for"]("downcast").attributeToAttribute(function (e) {
                var t = {
                  model: {
                    key: "alignment",
                    values: e.map(function (e) {
                      return e.name;
                    })
                  },
                  view: {}
                };

                var _iterator588 = _createForOfIteratorHelper(e),
                    _step588;

                try {
                  for (_iterator588.s(); !(_step588 = _iterator588.n()).done;) {
                    var _n335 = _step588.value.name;
                    t.view[_n335] = {
                      key: "style",
                      value: {
                        "text-align": _n335
                      }
                    };
                  }
                } catch (err) {
                  _iterator588.e(err);
                } finally {
                  _iterator588.f();
                }

                return t;
              }(i));

              var r = function (e) {
                var t = [];

                var _iterator589 = _createForOfIteratorHelper(e),
                    _step589;

                try {
                  for (_iterator589.s(); !(_step589 = _iterator589.n()).done;) {
                    var _n336 = _step589.value.name;
                    t.push({
                      view: {
                        key: "style",
                        value: {
                          "text-align": _n336
                        }
                      },
                      model: {
                        key: "alignment",
                        value: _n336
                      }
                    });
                  }
                } catch (err) {
                  _iterator589.e(err);
                } finally {
                  _iterator589.f();
                }

                return t;
              }(i);

              var _iterator590 = _createForOfIteratorHelper(r),
                  _step590;

              try {
                for (_iterator590.s(); !(_step590 = _iterator590.n()).done;) {
                  var _t419 = _step590.value;
                  e.conversion["for"]("upcast").attributeToAttribute(_t419);
                }
              } catch (err) {
                _iterator590.e(err);
              } finally {
                _iterator590.f();
              }

              var s = function (e) {
                var t = [];

                var _iterator591 = _createForOfIteratorHelper(e),
                    _step591;

                try {
                  for (_iterator591.s(); !(_step591 = _iterator591.n()).done;) {
                    var _n337 = _step591.value.name;
                    t.push({
                      view: {
                        key: "align",
                        value: _n337
                      },
                      model: {
                        key: "alignment",
                        value: _n337
                      }
                    });
                  }
                } catch (err) {
                  _iterator591.e(err);
                } finally {
                  _iterator591.f();
                }

                return t;
              }(i);

              var _iterator592 = _createForOfIteratorHelper(s),
                  _step592;

              try {
                for (_iterator592.s(); !(_step592 = _iterator592.n()).done;) {
                  var _t420 = _step592.value;
                  e.conversion["for"]("upcast").attributeToAttribute(_t420);
                }
              } catch (err) {
                _iterator592.e(err);
              } finally {
                _iterator592.f();
              }

              e.commands.add("alignment", new Py(e));
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "AlignmentEditing";
            }
          }]);

          return Ry;
        }(st);

        var Ny = new Map([["left", Ju.alignLeft], ["right", Ju.alignRight], ["center", Ju.alignCenter], ["justify", Ju.alignJustify]]);

        var Oy = /*#__PURE__*/function (_st77) {
          _inherits(Oy, _st77);

          var _super208 = _createSuper(Oy);

          function Oy() {
            _classCallCheck(this, Oy);

            return _super208.apply(this, arguments);
          }

          _createClass(Oy, [{
            key: "localizedOptionTitles",
            get: function get() {
              var e = this.editor.t;
              return {
                left: e("Align left"),
                right: e("Align right"),
                center: e("Align center"),
                justify: e("Justify")
              };
            }
          }, {
            key: "init",
            value: function init() {
              var _this347 = this;

              var e = this.editor,
                  t = e.ui.componentFactory,
                  n = e.t,
                  i = Sy(e.config.get("alignment.options"));
              i.map(function (e) {
                return e.name;
              }).filter(Ey).forEach(function (e) {
                return _this347._addButton(e);
              }), t.add("alignment", function (e) {
                var o = Qh(e),
                    r = i.map(function (e) {
                  return t.create("alignment:".concat(e.name));
                });
                Jh(o, r), o.buttonView.set({
                  label: n("Text alignment"),
                  tooltip: !0
                }), o.toolbarView.isVertical = !0, o.toolbarView.ariaLabel = n("Text alignment toolbar"), o.extendTemplate({
                  attributes: {
                    "class": "ck-alignment-dropdown"
                  }
                });
                var s = "rtl" === e.contentLanguageDirection ? Ny.get("right") : Ny.get("left");
                return o.buttonView.bind("icon").toMany(r, "isOn", function () {
                  for (var _len25 = arguments.length, e = new Array(_len25), _key25 = 0; _key25 < _len25; _key25++) {
                    e[_key25] = arguments[_key25];
                  }

                  var t = e.findIndex(function (e) {
                    return e;
                  });
                  return t < 0 ? s : r[t].icon;
                }), o.bind("isEnabled").toMany(r, "isEnabled", function () {
                  for (var _len26 = arguments.length, e = new Array(_len26), _key26 = 0; _key26 < _len26; _key26++) {
                    e[_key26] = arguments[_key26];
                  }

                  return e.some(function (e) {
                    return e;
                  });
                }), o;
              });
            }
          }, {
            key: "_addButton",
            value: function _addButton(e) {
              var _this348 = this;

              var t = this.editor;
              t.ui.componentFactory.add("alignment:".concat(e), function (n) {
                var i = t.commands.get("alignment"),
                    o = new Th(n);
                return o.set({
                  label: _this348.localizedOptionTitles[e],
                  icon: Ny.get(e),
                  tooltip: !0,
                  isToggleable: !0
                }), o.bind("isEnabled").to(i), o.bind("isOn").to(i, "value", function (t) {
                  return t === e;
                }), _this348.listenTo(o, "execute", function () {
                  t.execute("alignment", {
                    value: e
                  }), t.editing.view.focus();
                }), o;
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "AlignmentUI";
            }
          }]);

          return Oy;
        }(st);

        var Dy = /*#__PURE__*/function (_ct21) {
          _inherits(Dy, _ct21);

          var _super209 = _createSuper(Dy);

          function Dy() {
            _classCallCheck(this, Dy);

            return _super209.apply(this, arguments);
          }

          _createClass(Dy, [{
            key: "refresh",
            value: function refresh() {
              this.value = this._getValue(), this.isEnabled = this._checkEnabled();
            }
          }, {
            key: "execute",
            value: function execute() {
              var _this349 = this;

              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
              var t = this.editor.model,
                  n = t.schema,
                  i = t.document.selection,
                  o = Array.from(i.getSelectedBlocks()),
                  r = void 0 === e.forceValue ? !this.value : e.forceValue;
              t.change(function (e) {
                if (r) {
                  var _t421 = o.filter(function (e) {
                    return Ly(e) || Vy(n, e);
                  });

                  _this349._applyQuote(e, _t421);
                } else _this349._removeQuote(e, o.filter(Ly));
              });
            }
          }, {
            key: "_getValue",
            value: function _getValue() {
              var e = Ja(this.editor.model.document.selection.getSelectedBlocks());
              return !(!e || !Ly(e));
            }
          }, {
            key: "_checkEnabled",
            value: function _checkEnabled() {
              if (this.value) return !0;
              var e = this.editor.model.document.selection,
                  t = this.editor.model.schema,
                  n = Ja(e.getSelectedBlocks());
              return !!n && Vy(t, n);
            }
          }, {
            key: "_removeQuote",
            value: function _removeQuote(e, t) {
              zy(e, t).reverse().forEach(function (t) {
                if (t.start.isAtStart && t.end.isAtEnd) return void e.unwrap(t.start.parent);

                if (t.start.isAtStart) {
                  var _n338 = e.createPositionBefore(t.start.parent);

                  return void e.move(t, _n338);
                }

                t.end.isAtEnd || e.split(t.end);
                var n = e.createPositionAfter(t.end.parent);
                e.move(t, n);
              });
            }
          }, {
            key: "_applyQuote",
            value: function _applyQuote(e, t) {
              var n = [];
              zy(e, t).reverse().forEach(function (t) {
                var i = Ly(t.start);
                i || (i = e.createElement("blockQuote"), e.wrap(t, i)), n.push(i);
              }), n.reverse().reduce(function (t, n) {
                return t.nextSibling == n ? (e.merge(e.createPositionAfter(t)), t) : n;
              });
            }
          }]);

          return Dy;
        }(ct);

        function Ly(e) {
          return "blockQuote" == e.parent.name ? e.parent : null;
        }

        function zy(e, t) {
          var n,
              i = 0;
          var o = [];

          for (; i < t.length;) {
            var _r87 = t[i],
                _s59 = t[i + 1];
            n || (n = e.createPositionBefore(_r87)), _s59 && _r87.nextSibling == _s59 || (o.push(e.createRange(n, e.createPositionAfter(_r87))), n = null), i++;
          }

          return o;
        }

        function Vy(e, t) {
          var n = e.checkChild(t.parent, "blockQuote"),
              i = e.checkChild(["$root", "blockQuote"], t);
          return n && i;
        }

        var By = /*#__PURE__*/function (_st78) {
          _inherits(By, _st78);

          var _super210 = _createSuper(By);

          function By() {
            _classCallCheck(this, By);

            return _super210.apply(this, arguments);
          }

          _createClass(By, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = e.model.schema;
              e.commands.add("blockQuote", new Dy(e)), t.register("blockQuote", {
                allowWhere: "$block",
                allowContentOf: "$root"
              }), e.conversion.elementToElement({
                model: "blockQuote",
                view: "blockquote"
              }), e.model.document.registerPostFixer(function (n) {
                var i = e.model.document.differ.getChanges();

                var _iterator593 = _createForOfIteratorHelper(i),
                    _step593;

                try {
                  for (_iterator593.s(); !(_step593 = _iterator593.n()).done;) {
                    var _e463 = _step593.value;

                    if ("insert" == _e463.type) {
                      var _i309 = _e463.position.nodeAfter;
                      if (!_i309) continue;
                      if (_i309.is("element", "blockQuote") && _i309.isEmpty) return n.remove(_i309), !0;
                      if (_i309.is("element", "blockQuote") && !t.checkChild(_e463.position, _i309)) return n.unwrap(_i309), !0;

                      if (_i309.is("element")) {
                        var _e464 = n.createRangeIn(_i309);

                        var _iterator594 = _createForOfIteratorHelper(_e464.getItems()),
                            _step594;

                        try {
                          for (_iterator594.s(); !(_step594 = _iterator594.n()).done;) {
                            var _i310 = _step594.value;
                            if (_i310.is("element", "blockQuote") && !t.checkChild(n.createPositionBefore(_i310), _i310)) return n.unwrap(_i310), !0;
                          }
                        } catch (err) {
                          _iterator594.e(err);
                        } finally {
                          _iterator594.f();
                        }
                      }
                    } else if ("remove" == _e463.type) {
                      var _t422 = _e463.position.parent;
                      if (_t422.is("element", "blockQuote") && _t422.isEmpty) return n.remove(_t422), !0;
                    }
                  }
                } catch (err) {
                  _iterator593.e(err);
                } finally {
                  _iterator593.f();
                }

                return !1;
              });
              var n = this.editor.editing.view.document,
                  i = e.model.document.selection,
                  o = e.commands.get("blockQuote");
              this.listenTo(n, "enter", function (t, n) {
                if (!i.isCollapsed || !o.value) return;
                i.getLastPosition().parent.isEmpty && (e.execute("blockQuote"), e.editing.view.scrollToTheSelection(), n.preventDefault(), t.stop());
              }, {
                context: "blockquote"
              }), this.listenTo(n, "delete", function (t, n) {
                if ("backward" != n.direction || !i.isCollapsed || !o.value) return;
                var r = i.getLastPosition().parent;
                r.isEmpty && !r.previousSibling && (e.execute("blockQuote"), e.editing.view.scrollToTheSelection(), n.preventDefault(), t.stop());
              }, {
                context: "blockquote"
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "BlockQuoteEditing";
            }
          }, {
            key: "requires",
            get: function get() {
              return [Ef, Pf];
            }
          }]);

          return By;
        }(st);

        n(172);

        var Fy = /*#__PURE__*/function (_st79) {
          _inherits(Fy, _st79);

          var _super211 = _createSuper(Fy);

          function Fy() {
            _classCallCheck(this, Fy);

            return _super211.apply(this, arguments);
          }

          _createClass(Fy, [{
            key: "init",
            value: function init() {
              var _this350 = this;

              var e = this.editor,
                  t = e.t;
              e.ui.componentFactory.add("blockQuote", function (n) {
                var i = e.commands.get("blockQuote"),
                    o = new Th(n);
                return o.set({
                  label: t("Block quote"),
                  icon: Ju.quote,
                  tooltip: !0,
                  isToggleable: !0
                }), o.bind("isOn", "isEnabled").to(i, "value", "isEnabled"), _this350.listenTo(o, "execute", function () {
                  e.execute("blockQuote"), e.editing.view.focus();
                }), o;
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "BlockQuoteUI";
            }
          }]);

          return Fy;
        }(st);

        var jy = n(63),
            Hy = n.n(jy);

        var Uy = /*#__PURE__*/function (_st80) {
          _inherits(Uy, _st80);

          var _super212 = _createSuper(Uy);

          function Uy() {
            _classCallCheck(this, Uy);

            return _super212.apply(this, arguments);
          }

          _createClass(Uy, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = e.ui.componentFactory,
                  n = e.t;
              t.add("ckfinder", function (t) {
                var i = e.commands.get("ckfinder"),
                    o = new Th(t);
                return o.set({
                  label: n("Insert image or file"),
                  icon: Hy.a,
                  tooltip: !0
                }), o.bind("isEnabled").to(i), o.on("execute", function () {
                  e.execute("ckfinder"), e.editing.view.focus();
                }), o;
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "CKFinderUI";
            }
          }]);

          return Uy;
        }(st);

        var Wy = /*#__PURE__*/function (_ct22) {
          _inherits(Wy, _ct22);

          var _super213 = _createSuper(Wy);

          function Wy(e) {
            var _this351;

            _classCallCheck(this, Wy);

            _this351 = _super213.call(this, e), _this351.stopListening(_this351.editor.model.document, "change"), _this351.listenTo(_this351.editor.model.document, "change", function () {
              return _this351.refresh();
            }, {
              priority: "low"
            });
            return _this351;
          }

          _createClass(Wy, [{
            key: "refresh",
            value: function refresh() {
              var e = this.editor.commands.get("insertImage"),
                  t = this.editor.commands.get("link");
              this.isEnabled = e.isEnabled || t.isEnabled;
            }
          }, {
            key: "execute",
            value: function execute() {
              var e = this.editor,
                  t = this.editor.config.get("ckfinder.openerMethod") || "modal";
              if ("popup" != t && "modal" != t) throw new c.a("ckfinder-unknown-openermethod", e);
              var n = this.editor.config.get("ckfinder.options") || {};
              n.chooseFiles = !0;
              var i = n.onInit;
              n.language || (n.language = e.locale.uiLanguage), n.onInit = function (t) {
                i && i(t), t.on("files:choose", function (n) {
                  var i = n.data.files.toArray(),
                      o = i.filter(function (e) {
                    return !e.isImage();
                  }),
                      r = i.filter(function (e) {
                    return e.isImage();
                  });

                  var _iterator595 = _createForOfIteratorHelper(o),
                      _step595;

                  try {
                    for (_iterator595.s(); !(_step595 = _iterator595.n()).done;) {
                      var _t423 = _step595.value;
                      e.execute("link", _t423.getUrl());
                    }
                  } catch (err) {
                    _iterator595.e(err);
                  } finally {
                    _iterator595.f();
                  }

                  var s = [];

                  var _iterator596 = _createForOfIteratorHelper(r),
                      _step596;

                  try {
                    for (_iterator596.s(); !(_step596 = _iterator596.n()).done;) {
                      var _e465 = _step596.value;

                      var _n339 = _e465.getUrl();

                      s.push(_n339 || t.request("file:getProxyUrl", {
                        file: _e465
                      }));
                    }
                  } catch (err) {
                    _iterator596.e(err);
                  } finally {
                    _iterator596.f();
                  }

                  s.length && qy(e, s);
                }), t.on("file:choose:resizedImage", function (t) {
                  var n = t.data.resizedUrl;
                  if (n) qy(e, [n]);else {
                    var _t424 = e.plugins.get("Notification"),
                        _n340 = e.locale.t;

                    _t424.showWarning(_n340("Could not obtain resized image URL."), {
                      title: _n340("Selecting resized image failed"),
                      namespace: "ckfinder"
                    });
                  }
                });
              }, window.CKFinder[t](n);
            }
          }]);

          return Wy;
        }(ct);

        function qy(e, t) {
          if (e.commands.get("insertImage").isEnabled) e.execute("insertImage", {
            source: t
          });else {
            var _t425 = e.plugins.get("Notification"),
                _n341 = e.locale.t;

            _t425.showWarning(_n341("Could not insert image at the current position."), {
              title: _n341("Inserting image failed"),
              namespace: "ckfinder"
            });
          }
        }

        var $y = /*#__PURE__*/function (_st81) {
          _inherits($y, _st81);

          var _super214 = _createSuper($y);

          function $y() {
            _classCallCheck(this, $y);

            return _super214.apply(this, arguments);
          }

          _createClass($y, [{
            key: "init",
            value: function init() {
              var e = this.editor;
              if (!e.plugins.has("ImageBlockEditing") && !e.plugins.has("ImageInlineEditing")) throw new c.a("ckfinder-missing-image-plugin", e);
              e.commands.add("ckfinder", new Wy(e));
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "CKFinderEditing";
            }
          }, {
            key: "requires",
            get: function get() {
              return [ag, "LinkEditing"];
            }
          }]);

          return $y;
        }(st);

        var Gy = {
          autoRefresh: !0
        },
            Yy = 36e5;

        var Ky = /*#__PURE__*/function () {
          function Ky(e) {
            var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Gy;

            _classCallCheck(this, Ky);

            if (!e) throw new c.a("token-missing-token-url", this);
            t.initValue && this._validateTokenValue(t.initValue), this.set("value", t.initValue), this._refresh = "function" == typeof e ? e : function () {
              return function (e) {
                return new Promise(function (t, n) {
                  var i = new XMLHttpRequest();
                  i.open("GET", e), i.addEventListener("load", function () {
                    var e = i.status,
                        o = i.response;
                    return e < 200 || e > 299 ? n(new c.a("token-cannot-download-new-token", null)) : t(o);
                  }), i.addEventListener("error", function () {
                    return n(new Error("Network Error"));
                  }), i.addEventListener("abort", function () {
                    return n(new Error("Abort"));
                  }), i.send();
                });
              }(e);
            }, this._options = Object.assign({}, Gy, t);
          }

          _createClass(Ky, [{
            key: "init",
            value: function init() {
              var _this352 = this;

              return new Promise(function (e, t) {
                _this352.value ? (_this352._options.autoRefresh && _this352._registerRefreshTokenTimeout(), e(_this352)) : _this352.refreshToken().then(e)["catch"](t);
              });
            }
          }, {
            key: "refreshToken",
            value: function refreshToken() {
              var _this353 = this;

              return this._refresh().then(function (e) {
                _this353._validateTokenValue(e), _this353.set("value", e), _this353._options.autoRefresh && _this353._registerRefreshTokenTimeout();
              }).then(function () {
                return _this353;
              });
            }
          }, {
            key: "destroy",
            value: function destroy() {
              clearTimeout(this._tokenRefreshTimeout);
            }
          }, {
            key: "_validateTokenValue",
            value: function _validateTokenValue(e) {
              var t = "string" == typeof e,
                  n = !/^".*"$/.test(e),
                  i = t && 3 === e.split(".").length;
              if (!n || !i) throw new c.a("token-not-in-jwt-format", this);
            }
          }, {
            key: "_registerRefreshTokenTimeout",
            value: function _registerRefreshTokenTimeout() {
              var _this354 = this;

              var e = this._getTokenRefreshTimeoutTime();

              clearTimeout(this._tokenRefreshTimeout), this._tokenRefreshTimeout = setTimeout(function () {
                _this354.refreshToken();
              }, e);
            }
          }, {
            key: "_getTokenRefreshTimeoutTime",
            value: function _getTokenRefreshTimeoutTime() {
              try {
                var _this$value$split = this.value.split("."),
                    _this$value$split2 = _slicedToArray(_this$value$split, 2),
                    _e466 = _this$value$split2[1],
                    _JSON$parse = JSON.parse(atob(_e466)),
                    _t426 = _JSON$parse.exp;

                return _t426 ? Math.floor((1e3 * _t426 - Date.now()) / 2) : Yy;
              } catch (e) {
                return Yy;
              }
            }
          }], [{
            key: "create",
            value: function create(e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Gy;
              return new Ky(e, t).init();
            }
          }]);

          return Ky;
        }();

        rt(Ky, Ze);
        var Qy = Ky;
        var Jy = /^data:(\S*?);base64,/;

        var Xy = /*#__PURE__*/function () {
          function Xy(e, t, n) {
            _classCallCheck(this, Xy);

            if (!e) throw new c.a("fileuploader-missing-file", null);
            if (!t) throw new c.a("fileuploader-missing-token", null);
            if (!n) throw new c.a("fileuploader-missing-api-address", null);
            this.file = function (e) {
              if ("string" != typeof e) return !1;
              var t = e.match(Jy);
              return !(!t || !t.length);
            }(e) ? function (e) {
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 512;

              try {
                var _n342 = e.match(Jy)[1],
                    _i311 = atob(e.replace(Jy, "")),
                    _o158 = [];

                for (var _e467 = 0; _e467 < _i311.length; _e467 += t) {
                  var _n343 = _i311.slice(_e467, _e467 + t),
                      _r88 = new Array(_n343.length);

                  for (var _e468 = 0; _e468 < _n343.length; _e468++) {
                    _r88[_e468] = _n343.charCodeAt(_e468);
                  }

                  _o158.push(new Uint8Array(_r88));
                }

                return new Blob(_o158, {
                  type: _n342
                });
              } catch (e) {
                throw new c.a("fileuploader-decoding-image-data-error", null);
              }
            }(e) : e, this._token = t, this._apiAddress = n;
          }

          _createClass(Xy, [{
            key: "onProgress",
            value: function onProgress(e) {
              return this.on("progress", function (t, n) {
                return e(n);
              }), this;
            }
          }, {
            key: "onError",
            value: function onError(e) {
              return this.once("error", function (t, n) {
                return e(n);
              }), this;
            }
          }, {
            key: "abort",
            value: function abort() {
              this.xhr.abort();
            }
          }, {
            key: "send",
            value: function send() {
              return this._prepareRequest(), this._attachXHRListeners(), this._sendRequest();
            }
          }, {
            key: "_prepareRequest",
            value: function _prepareRequest() {
              var e = new XMLHttpRequest();
              e.open("POST", this._apiAddress), e.setRequestHeader("Authorization", this._token.value), e.responseType = "json", this.xhr = e;
            }
          }, {
            key: "_attachXHRListeners",
            value: function _attachXHRListeners() {
              var _this355 = this;

              var e = this,
                  t = this.xhr;

              function n(t) {
                return function () {
                  return e.fire("error", t);
                };
              }

              t.addEventListener("error", n("Network Error")), t.addEventListener("abort", n("Abort")), t.upload && t.upload.addEventListener("progress", function (e) {
                e.lengthComputable && _this355.fire("progress", {
                  total: e.total,
                  uploaded: e.loaded
                });
              }), t.addEventListener("load", function () {
                var e = t.status,
                    n = t.response;
                if (e < 200 || e > 299) return _this355.fire("error", n.message || n.error);
              });
            }
          }, {
            key: "_sendRequest",
            value: function _sendRequest() {
              var _this356 = this;

              var e = new FormData(),
                  t = this.xhr;
              return e.append("file", this.file), new Promise(function (n, i) {
                t.addEventListener("load", function () {
                  var e = t.status,
                      o = t.response;
                  return e < 200 || e > 299 ? o.message ? i(new c.a("fileuploader-uploading-data-failed", _this356, {
                    message: o.message
                  })) : i(o.error) : n(o);
                }), t.addEventListener("error", function () {
                  return i(new Error("Network Error"));
                }), t.addEventListener("abort", function () {
                  return i(new Error("Abort"));
                }), t.send(e);
              });
            }
          }]);

          return Xy;
        }();

        rt(Xy, u);

        var Zy = /*#__PURE__*/function () {
          function Zy(e, t) {
            _classCallCheck(this, Zy);

            if (!e) throw new c.a("uploadgateway-missing-token", null);
            if (!t) throw new c.a("uploadgateway-missing-api-address", null);
            this._token = e, this._apiAddress = t;
          }

          _createClass(Zy, [{
            key: "upload",
            value: function upload(e) {
              return new Xy(e, this._token, this._apiAddress);
            }
          }]);

          return Zy;
        }();

        var eC = /*#__PURE__*/function (_Qi11) {
          _inherits(eC, _Qi11);

          var _super215 = _createSuper(eC);

          function eC() {
            _classCallCheck(this, eC);

            return _super215.apply(this, arguments);
          }

          _createClass(eC, [{
            key: "createToken",
            value: function createToken(e, t) {
              return new Qy(e, t);
            }
          }, {
            key: "createUploadGateway",
            value: function createUploadGateway(e, t) {
              return new Zy(e, t);
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "CloudServicesCore";
            }
          }]);

          return eC;
        }(Qi);

        var tC = /*#__PURE__*/function () {
          function tC() {
            var _this357 = this;

            _classCallCheck(this, tC);

            var e = new window.FileReader();
            this._reader = e, this._data = void 0, this.set("loaded", 0), e.onprogress = function (e) {
              _this357.loaded = e.loaded;
            };
          }

          _createClass(tC, [{
            key: "error",
            get: function get() {
              return this._reader.error;
            }
          }, {
            key: "data",
            get: function get() {
              return this._data;
            }
          }, {
            key: "read",
            value: function read(e) {
              var _this358 = this;

              var t = this._reader;
              return this.total = e.size, new Promise(function (n, i) {
                t.onload = function () {
                  var e = t.result;
                  _this358._data = e, n(e);
                }, t.onerror = function () {
                  i("error");
                }, t.onabort = function () {
                  i("aborted");
                }, _this358._reader.readAsDataURL(e);
              });
            }
          }, {
            key: "abort",
            value: function abort() {
              this._reader.abort();
            }
          }]);

          return tC;
        }();

        rt(tC, Ze);

        var nC = /*#__PURE__*/function (_st82) {
          _inherits(nC, _st82);

          var _super216 = _createSuper(nC);

          function nC() {
            _classCallCheck(this, nC);

            return _super216.apply(this, arguments);
          }

          _createClass(nC, [{
            key: "init",
            value: function init() {
              var _this359 = this;

              this.loaders = new Hi(), this.loaders.on("add", function () {
                return _this359._updatePendingAction();
              }), this.loaders.on("remove", function () {
                return _this359._updatePendingAction();
              }), this._loadersMap = new Map(), this._pendingAction = null, this.set("uploaded", 0), this.set("uploadTotal", null), this.bind("uploadedPercent").to(this, "uploaded", this, "uploadTotal", function (e, t) {
                return t ? e / t * 100 : 0;
              });
            }
          }, {
            key: "getLoader",
            value: function getLoader(e) {
              return this._loadersMap.get(e) || null;
            }
          }, {
            key: "createLoader",
            value: function createLoader(e) {
              var _this360 = this;

              if (!this.createUploadAdapter) return Object(c.b)("filerepository-no-upload-adapter"), null;
              var t = new iC(Promise.resolve(e), this.createUploadAdapter);
              return this.loaders.add(t), this._loadersMap.set(e, t), e instanceof Promise && t.file.then(function (e) {
                _this360._loadersMap.set(e, t);
              })["catch"](function () {}), t.on("change:uploaded", function () {
                var e = 0;

                var _iterator597 = _createForOfIteratorHelper(_this360.loaders),
                    _step597;

                try {
                  for (_iterator597.s(); !(_step597 = _iterator597.n()).done;) {
                    var _t427 = _step597.value;
                    e += _t427.uploaded;
                  }
                } catch (err) {
                  _iterator597.e(err);
                } finally {
                  _iterator597.f();
                }

                _this360.uploaded = e;
              }), t.on("change:uploadTotal", function () {
                var e = 0;

                var _iterator598 = _createForOfIteratorHelper(_this360.loaders),
                    _step598;

                try {
                  for (_iterator598.s(); !(_step598 = _iterator598.n()).done;) {
                    var _t428 = _step598.value;
                    _t428.uploadTotal && (e += _t428.uploadTotal);
                  }
                } catch (err) {
                  _iterator598.e(err);
                } finally {
                  _iterator598.f();
                }

                _this360.uploadTotal = e;
              }), t;
            }
          }, {
            key: "destroyLoader",
            value: function destroyLoader(e) {
              var _this361 = this;

              var t = e instanceof iC ? e : this.getLoader(e);
              t._destroy(), this.loaders.remove(t), this._loadersMap.forEach(function (e, n) {
                e === t && _this361._loadersMap["delete"](n);
              });
            }
          }, {
            key: "_updatePendingAction",
            value: function _updatePendingAction() {
              var e = this.editor.plugins.get($d);

              if (this.loaders.length) {
                if (!this._pendingAction) {
                  var _t429 = this.editor.t,
                      _n344 = function _n344(e) {
                    return "".concat(_t429("Upload in progress"), " ").concat(parseInt(e), "%.");
                  };

                  this._pendingAction = e.add(_n344(this.uploadedPercent)), this._pendingAction.bind("message").to(this, "uploadedPercent", _n344);
                }
              } else e.remove(this._pendingAction), this._pendingAction = null;
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "FileRepository";
            }
          }, {
            key: "requires",
            get: function get() {
              return [$d];
            }
          }]);

          return nC;
        }(st);

        rt(nC, Ze);

        var iC = /*#__PURE__*/function () {
          function iC(e, t) {
            _classCallCheck(this, iC);

            this.id = s(), this._filePromiseWrapper = this._createFilePromiseWrapper(e), this._adapter = t(this), this._reader = new tC(), this.set("status", "idle"), this.set("uploaded", 0), this.set("uploadTotal", null), this.bind("uploadedPercent").to(this, "uploaded", this, "uploadTotal", function (e, t) {
              return t ? e / t * 100 : 0;
            }), this.set("uploadResponse", null);
          }

          _createClass(iC, [{
            key: "file",
            get: function get() {
              var _this362 = this;

              return this._filePromiseWrapper ? this._filePromiseWrapper.promise.then(function (e) {
                return _this362._filePromiseWrapper ? e : null;
              }) : Promise.resolve(null);
            }
          }, {
            key: "data",
            get: function get() {
              return this._reader.data;
            }
          }, {
            key: "read",
            value: function read() {
              var _this363 = this;

              if ("idle" != this.status) throw new c.a("filerepository-read-wrong-status", this);
              return this.status = "reading", this.file.then(function (e) {
                return _this363._reader.read(e);
              }).then(function (e) {
                if ("reading" !== _this363.status) throw _this363.status;
                return _this363.status = "idle", e;
              })["catch"](function (e) {
                if ("aborted" === e) throw _this363.status = "aborted", "aborted";
                throw _this363.status = "error", _this363._reader.error ? _this363._reader.error : e;
              });
            }
          }, {
            key: "upload",
            value: function upload() {
              var _this364 = this;

              if ("idle" != this.status) throw new c.a("filerepository-upload-wrong-status", this);
              return this.status = "uploading", this.file.then(function () {
                return _this364._adapter.upload();
              }).then(function (e) {
                return _this364.uploadResponse = e, _this364.status = "idle", e;
              })["catch"](function (e) {
                if ("aborted" === _this364.status) throw "aborted";
                throw _this364.status = "error", e;
              });
            }
          }, {
            key: "abort",
            value: function abort() {
              var e = this.status;
              this.status = "aborted", this._filePromiseWrapper.isFulfilled ? "reading" == e ? this._reader.abort() : "uploading" == e && this._adapter.abort && this._adapter.abort() : (this._filePromiseWrapper.promise["catch"](function () {}), this._filePromiseWrapper.rejecter("aborted")), this._destroy();
            }
          }, {
            key: "_destroy",
            value: function _destroy() {
              this._filePromiseWrapper = void 0, this._reader = void 0, this._adapter = void 0, this.uploadResponse = void 0;
            }
          }, {
            key: "_createFilePromiseWrapper",
            value: function _createFilePromiseWrapper(e) {
              var t = {};
              return t.promise = new Promise(function (n, i) {
                t.rejecter = i, t.isFulfilled = !1, e.then(function (e) {
                  t.isFulfilled = !0, n(e);
                })["catch"](function (e) {
                  t.isFulfilled = !0, i(e);
                });
              }), t;
            }
          }]);

          return iC;
        }();

        rt(iC, Ze);

        var oC = /*#__PURE__*/function (_nh37) {
          _inherits(oC, _nh37);

          var _super217 = _createSuper(oC);

          function oC(e) {
            var _this365;

            _classCallCheck(this, oC);

            _this365 = _super217.call(this, e), _this365.buttonView = new Th(e), _this365._fileInputView = new rC(e), _this365._fileInputView.bind("acceptedType").to(_assertThisInitialized(_this365)), _this365._fileInputView.bind("allowMultipleFiles").to(_assertThisInitialized(_this365)), _this365._fileInputView.delegate("done").to(_assertThisInitialized(_this365)), _this365.setTemplate({
              tag: "span",
              attributes: {
                "class": "ck-file-dialog-button"
              },
              children: [_this365.buttonView, _this365._fileInputView]
            }), _this365.buttonView.on("execute", function () {
              _this365._fileInputView.open();
            });
            return _this365;
          }

          _createClass(oC, [{
            key: "focus",
            value: function focus() {
              this.buttonView.focus();
            }
          }]);

          return oC;
        }(nh);

        var rC = /*#__PURE__*/function (_nh38) {
          _inherits(rC, _nh38);

          var _super218 = _createSuper(rC);

          function rC(e) {
            var _this366;

            _classCallCheck(this, rC);

            _this366 = _super218.call(this, e), _this366.set("acceptedType"), _this366.set("allowMultipleFiles", !1);
            var t = _this366.bindTemplate;

            _this366.setTemplate({
              tag: "input",
              attributes: {
                "class": ["ck-hidden"],
                type: "file",
                tabindex: "-1",
                accept: t.to("acceptedType"),
                multiple: t.to("allowMultipleFiles")
              },
              on: {
                change: t.to(function () {
                  _this366.element && _this366.element.files && _this366.element.files.length && _this366.fire("done", _this366.element.files), _this366.element.value = "";
                })
              }
            });

            return _this366;
          }

          _createClass(rC, [{
            key: "open",
            value: function open() {
              this.element.click();
            }
          }]);

          return rC;
        }(nh);

        var sC = /*#__PURE__*/function (_st83) {
          _inherits(sC, _st83);

          var _super219 = _createSuper(sC);

          function sC() {
            _classCallCheck(this, sC);

            return _super219.apply(this, arguments);
          }

          _createClass(sC, [{
            key: "init",
            value: function init() {
              var _this367 = this;

              var e = this.editor,
                  t = e.plugins.get("CloudServices"),
                  n = t.token,
                  i = t.uploadUrl;
              n && (this._uploadGateway = e.plugins.get("CloudServicesCore").createUploadGateway(n, i), e.plugins.get(nC).createUploadAdapter = function (e) {
                return new aC(_this367._uploadGateway, e);
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "CloudServicesUploadAdapter";
            }
          }, {
            key: "requires",
            get: function get() {
              return ["CloudServices", nC];
            }
          }]);

          return sC;
        }(st);

        var aC = /*#__PURE__*/function () {
          function aC(e, t) {
            _classCallCheck(this, aC);

            this.uploadGateway = e, this.loader = t;
          }

          _createClass(aC, [{
            key: "upload",
            value: function upload() {
              var _this368 = this;

              return this.loader.file.then(function (e) {
                return _this368.fileUploader = _this368.uploadGateway.upload(e), _this368.fileUploader.on("progress", function (e, t) {
                  _this368.loader.uploadTotal = t.total, _this368.loader.uploaded = t.uploaded;
                }), _this368.fileUploader.send();
              });
            }
          }, {
            key: "abort",
            value: function abort() {
              this.fileUploader.abort();
            }
          }]);

          return aC;
        }();

        var cC = /*#__PURE__*/function (_ct23) {
          _inherits(cC, _ct23);

          var _super220 = _createSuper(cC);

          function cC(e, t) {
            var _this369;

            _classCallCheck(this, cC);

            _this369 = _super220.call(this, e), _this369.attributeKey = t;
            return _this369;
          }

          _createClass(cC, [{
            key: "refresh",
            value: function refresh() {
              var e = this.editor.model,
                  t = e.document;
              this.value = t.selection.getAttribute(this.attributeKey), this.isEnabled = e.schema.checkAttributeInSelection(t.selection, this.attributeKey);
            }
          }, {
            key: "execute",
            value: function execute() {
              var _this370 = this;

              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
              var t = this.editor.model,
                  n = t.document.selection,
                  i = e.value;
              t.change(function (e) {
                if (n.isCollapsed) i ? e.setSelectionAttribute(_this370.attributeKey, i) : e.removeSelectionAttribute(_this370.attributeKey);else {
                  var _o159 = t.schema.getValidRanges(n.getRanges(), _this370.attributeKey);

                  var _iterator599 = _createForOfIteratorHelper(_o159),
                      _step599;

                  try {
                    for (_iterator599.s(); !(_step599 = _iterator599.n()).done;) {
                      var _t430 = _step599.value;
                      i ? e.setAttribute(_this370.attributeKey, i, _t430) : e.removeAttribute(_this370.attributeKey, _t430);
                    }
                  } catch (err) {
                    _iterator599.e(err);
                  } finally {
                    _iterator599.f();
                  }
                }
              });
            }
          }]);

          return cC;
        }(ct);

        var lC = /*#__PURE__*/function (_Hi3) {
          _inherits(lC, _Hi3);

          var _super221 = _createSuper(lC);

          function lC(e) {
            var _this371;

            _classCallCheck(this, lC);

            _this371 = _super221.call(this, e), _this371.set("isEmpty", !0), _this371.on("change", function () {
              _this371.set("isEmpty", 0 === _this371.length);
            });
            return _this371;
          }

          _createClass(lC, [{
            key: "add",
            value: function add(e, t) {
              this.find(function (t) {
                return t.color === e.color;
              }) || _get(_getPrototypeOf(lC.prototype), "add", this).call(this, e, t);
            }
          }, {
            key: "hasColor",
            value: function hasColor(e) {
              return !!this.find(function (t) {
                return t.color === e;
              });
            }
          }]);

          return lC;
        }(Hi);

        rt(lC, Ze);
        n(174);
        var dC = "fontSize",
            uC = "fontFamily";

        function hC(e, t) {
          var n = {
            model: {
              key: e,
              values: []
            },
            view: {},
            upcastAlso: {}
          };

          var _iterator600 = _createForOfIteratorHelper(t),
              _step600;

          try {
            for (_iterator600.s(); !(_step600 = _iterator600.n()).done;) {
              var _e469 = _step600.value;
              n.model.values.push(_e469.model), n.view[_e469.model] = _e469.view, _e469.upcastAlso && (n.upcastAlso[_e469.model] = _e469.upcastAlso);
            }
          } catch (err) {
            _iterator600.e(err);
          } finally {
            _iterator600.f();
          }

          return n;
        }

        var gC = /*#__PURE__*/function (_cC) {
          _inherits(gC, _cC);

          var _super222 = _createSuper(gC);

          function gC(e) {
            _classCallCheck(this, gC);

            return _super222.call(this, e, uC);
          }

          return gC;
        }(cC);

        function mC(e) {
          return e.map(fC).filter(function (e) {
            return !!e;
          });
        }

        function fC(e) {
          return "object" == typeof e ? e : "default" === e ? {
            title: "Default",
            model: void 0
          } : "string" == typeof e ? function (e) {
            var t = e.replace(/"|'/g, "").split(","),
                n = t[0],
                i = t.map(pC).join(", ");
            return {
              title: n,
              model: i,
              view: {
                name: "span",
                styles: {
                  "font-family": i
                },
                priority: 7
              }
            };
          }(e) : void 0;
        }

        function pC(e) {
          return (e = e.trim()).indexOf(" ") > 0 && (e = "'".concat(e, "'")), e;
        }

        var kC = /*#__PURE__*/function (_st84) {
          _inherits(kC, _st84);

          var _super223 = _createSuper(kC);

          function kC(e) {
            var _this372;

            _classCallCheck(this, kC);

            _this372 = _super223.call(this, e), e.config.define(uC, {
              options: ["default", "Arial, Helvetica, sans-serif", "Courier New, Courier, monospace", "Georgia, serif", "Lucida Sans Unicode, Lucida Grande, sans-serif", "Tahoma, Geneva, sans-serif", "Times New Roman, Times, serif", "Trebuchet MS, Helvetica, sans-serif", "Verdana, Geneva, sans-serif"],
              supportAllValues: !1
            });
            return _this372;
          }

          _createClass(kC, [{
            key: "init",
            value: function init() {
              var e = this.editor;
              e.model.schema.extend("$text", {
                allowAttributes: uC
              }), e.model.schema.setAttributeProperties(uC, {
                isFormatting: !0,
                copyOnEnter: !0
              });
              var t = mC(e.config.get("fontFamily.options")).filter(function (e) {
                return e.model;
              }),
                  n = hC(uC, t);
              e.config.get("fontFamily.supportAllValues") ? (this._prepareAnyValueConverters(), this._prepareCompatibilityConverter()) : e.conversion.attributeToElement(n), e.commands.add(uC, new gC(e));
            }
          }, {
            key: "_prepareAnyValueConverters",
            value: function _prepareAnyValueConverters() {
              var e = this.editor;
              e.conversion["for"]("downcast").attributeToElement({
                model: uC,
                view: function view(e, _ref119) {
                  var t = _ref119.writer;
                  return t.createAttributeElement("span", {
                    style: "font-family:" + e
                  }, {
                    priority: 7
                  });
                }
              }), e.conversion["for"]("upcast").elementToAttribute({
                model: {
                  key: uC,
                  value: function value(e) {
                    return e.getStyle("font-family");
                  }
                },
                view: {
                  name: "span",
                  styles: {
                    "font-family": /.*/
                  }
                }
              });
            }
          }, {
            key: "_prepareCompatibilityConverter",
            value: function _prepareCompatibilityConverter() {
              this.editor.conversion["for"]("upcast").elementToAttribute({
                view: {
                  name: "font",
                  attributes: {
                    face: /.*/
                  }
                },
                model: {
                  key: uC,
                  value: function value(e) {
                    return e.getAttribute("face");
                  }
                }
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "FontFamilyEditing";
            }
          }]);

          return kC;
        }(st);

        var bC = n(64),
            wC = n.n(bC);

        var _C = /*#__PURE__*/function (_st85) {
          _inherits(_C, _st85);

          var _super224 = _createSuper(_C);

          function _C() {
            _classCallCheck(this, _C);

            return _super224.apply(this, arguments);
          }

          _createClass(_C, [{
            key: "init",
            value: function init() {
              var _this373 = this;

              var e = this.editor,
                  t = e.t,
                  n = this._getLocalizedOptions(),
                  i = e.commands.get(uC);

              e.ui.componentFactory.add(uC, function (o) {
                var r = Qh(o);
                return Xh(r, function (e, t) {
                  var n = new Hi();

                  var _iterator601 = _createForOfIteratorHelper(e),
                      _step601;

                  try {
                    var _loop21 = function _loop21() {
                      var i = _step601.value;
                      var e = {
                        type: "button",
                        model: new cg({
                          commandName: uC,
                          commandParam: i.model,
                          label: i.title,
                          withText: !0
                        })
                      };
                      e.model.bind("isOn").to(t, "value", function (e) {
                        return e === i.model || !(!e || !i.model) && e.split(",")[0].replace(/'/g, "").toLowerCase() === i.model.toLowerCase();
                      }), i.view && i.view.styles && e.model.set("labelStyle", "font-family: ".concat(i.view.styles["font-family"])), n.add(e);
                    };

                    for (_iterator601.s(); !(_step601 = _iterator601.n()).done;) {
                      _loop21();
                    }
                  } catch (err) {
                    _iterator601.e(err);
                  } finally {
                    _iterator601.f();
                  }

                  return n;
                }(n, i)), r.buttonView.set({
                  label: t("Font Family"),
                  icon: wC.a,
                  tooltip: !0
                }), r.extendTemplate({
                  attributes: {
                    "class": "ck-font-family-dropdown"
                  }
                }), r.bind("isEnabled").to(i), _this373.listenTo(r, "execute", function (t) {
                  e.execute(t.source.commandName, {
                    value: t.source.commandParam
                  }), e.editing.view.focus();
                }), r;
              });
            }
          }, {
            key: "_getLocalizedOptions",
            value: function _getLocalizedOptions() {
              var e = this.editor,
                  t = e.t;
              return mC(e.config.get(uC).options).map(function (e) {
                return "Default" === e.title && (e.title = t("Default")), e;
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "FontFamilyUI";
            }
          }]);

          return _C;
        }(st);

        var vC = /*#__PURE__*/function (_cC2) {
          _inherits(vC, _cC2);

          var _super225 = _createSuper(vC);

          function vC(e) {
            _classCallCheck(this, vC);

            return _super225.call(this, e, dC);
          }

          return vC;
        }(cC);

        var xC = ["x-small", "x-small", "small", "medium", "large", "x-large", "xx-large", "xxx-large"];

        var yC = /*#__PURE__*/function (_st86) {
          _inherits(yC, _st86);

          var _super226 = _createSuper(yC);

          function yC(e) {
            var _this374;

            _classCallCheck(this, yC);

            _this374 = _super226.call(this, e), e.config.define(dC, {
              options: ["tiny", "small", "default", "big", "huge"],
              supportAllValues: !1
            });
            return _this374;
          }

          _createClass(yC, [{
            key: "init",
            value: function init() {
              var e = this.editor;
              e.model.schema.extend("$text", {
                allowAttributes: dC
              }), e.model.schema.setAttributeProperties(dC, {
                isFormatting: !0,
                copyOnEnter: !0
              });
              var t = e.config.get("fontSize.supportAllValues"),
                  n = uv(this.editor.config.get("fontSize.options")).filter(function (e) {
                return e.model;
              }),
                  i = hC(dC, n);
              t ? (this._prepareAnyValueConverters(i), this._prepareCompatibilityConverter()) : e.conversion.attributeToElement(i), e.commands.add(dC, new vC(e));
            }
          }, {
            key: "_prepareAnyValueConverters",
            value: function _prepareAnyValueConverters(e) {
              var t = this.editor,
                  n = e.model.values.filter(function (e) {
                return !$g(String(e)) && !function (e) {
                  return Gg.test(e);
                }(String(e));
              });
              if (n.length) throw new c.a("font-size-invalid-use-of-named-presets", null, {
                presets: n
              });
              t.conversion["for"]("downcast").attributeToElement({
                model: dC,
                view: function view(e, _ref120) {
                  var t = _ref120.writer;
                  if (e) return t.createAttributeElement("span", {
                    style: "font-size:" + e
                  }, {
                    priority: 7
                  });
                }
              }), t.conversion["for"]("upcast").elementToAttribute({
                model: {
                  key: dC,
                  value: function value(e) {
                    return e.getStyle("font-size");
                  }
                },
                view: {
                  name: "span",
                  styles: {
                    "font-size": /.*/
                  }
                }
              });
            }
          }, {
            key: "_prepareCompatibilityConverter",
            value: function _prepareCompatibilityConverter() {
              this.editor.conversion["for"]("upcast").elementToAttribute({
                view: {
                  name: "font",
                  attributes: {
                    size: /^[+-]?\d{1,3}$/
                  }
                },
                model: {
                  key: dC,
                  value: function value(e) {
                    var t = e.getAttribute("size"),
                        n = "-" === t[0] || "+" === t[0];
                    var i = parseInt(t, 10);
                    n && (i = 3 + i);
                    var o = xC.length - 1,
                        r = Math.min(Math.max(i, 0), o);
                    return xC[r];
                  }
                }
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "FontSizeEditing";
            }
          }]);

          return yC;
        }(st);

        var CC = n(65),
            TC = n.n(CC);
        n(176);

        var AC = /*#__PURE__*/function (_st87) {
          _inherits(AC, _st87);

          var _super227 = _createSuper(AC);

          function AC() {
            _classCallCheck(this, AC);

            return _super227.apply(this, arguments);
          }

          _createClass(AC, [{
            key: "init",
            value: function init() {
              var _this375 = this;

              var e = this.editor,
                  t = e.t,
                  n = this._getLocalizedOptions(),
                  i = e.commands.get(dC);

              e.ui.componentFactory.add(dC, function (o) {
                var r = Qh(o);
                return Xh(r, function (e, t) {
                  var n = new Hi();

                  var _iterator602 = _createForOfIteratorHelper(e),
                      _step602;

                  try {
                    var _loop22 = function _loop22() {
                      var i = _step602.value;
                      var e = {
                        type: "button",
                        model: new cg({
                          commandName: dC,
                          commandParam: i.model,
                          label: i.title,
                          "class": "ck-fontsize-option",
                          withText: !0
                        })
                      };
                      i.view && i.view.styles && e.model.set("labelStyle", "font-size:".concat(i.view.styles["font-size"])), i.view && i.view.classes && e.model.set("class", "".concat(e.model["class"], " ").concat(i.view.classes)), e.model.bind("isOn").to(t, "value", function (e) {
                        return e === i.model;
                      }), n.add(e);
                    };

                    for (_iterator602.s(); !(_step602 = _iterator602.n()).done;) {
                      _loop22();
                    }
                  } catch (err) {
                    _iterator602.e(err);
                  } finally {
                    _iterator602.f();
                  }

                  return n;
                }(n, i)), r.buttonView.set({
                  label: t("Font Size"),
                  icon: TC.a,
                  tooltip: !0
                }), r.extendTemplate({
                  attributes: {
                    "class": ["ck-font-size-dropdown"]
                  }
                }), r.bind("isEnabled").to(i), _this375.listenTo(r, "execute", function (t) {
                  e.execute(t.source.commandName, {
                    value: t.source.commandParam
                  }), e.editing.view.focus();
                }), r;
              });
            }
          }, {
            key: "_getLocalizedOptions",
            value: function _getLocalizedOptions() {
              var e = this.editor,
                  t = e.t,
                  n = {
                Default: t("Default"),
                Tiny: t("Tiny"),
                Small: t("Small"),
                Big: t("Big"),
                Huge: t("Huge")
              };
              return uv(e.config.get(dC).options).map(function (e) {
                var t = n[e.title];
                return t && t != e.title && (e = Object.assign({}, e, {
                  title: t
                })), e;
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "FontSizeUI";
            }
          }]);

          return AC;
        }(st);

        var EC = /*#__PURE__*/function (_ct24) {
          _inherits(EC, _ct24);

          var _super228 = _createSuper(EC);

          function EC(e, t) {
            var _this376;

            _classCallCheck(this, EC);

            _this376 = _super228.call(this, e), _this376.modelElements = t;
            return _this376;
          }

          _createClass(EC, [{
            key: "refresh",
            value: function refresh() {
              var _this377 = this;

              var e = Ja(this.editor.model.document.selection.getSelectedBlocks());
              this.value = !!e && this.modelElements.includes(e.name) && e.name, this.isEnabled = !!e && this.modelElements.some(function (t) {
                return IC(e, t, _this377.editor.model.schema);
              });
            }
          }, {
            key: "execute",
            value: function execute(e) {
              var t = this.editor.model,
                  n = t.document,
                  i = e.value;
              t.change(function (e) {
                var o = Array.from(n.selection.getSelectedBlocks()).filter(function (e) {
                  return IC(e, i, t.schema);
                });

                var _iterator603 = _createForOfIteratorHelper(o),
                    _step603;

                try {
                  for (_iterator603.s(); !(_step603 = _iterator603.n()).done;) {
                    var _t431 = _step603.value;
                    _t431.is("element", i) || e.rename(_t431, i);
                  }
                } catch (err) {
                  _iterator603.e(err);
                } finally {
                  _iterator603.f();
                }
              });
            }
          }]);

          return EC;
        }(ct);

        function IC(e, t, n) {
          return n.checkChild(e.parent, t) && !n.isObject(e);
        }

        var SC = "paragraph";

        var MC = /*#__PURE__*/function (_st88) {
          _inherits(MC, _st88);

          var _super229 = _createSuper(MC);

          function MC(e) {
            var _this378;

            _classCallCheck(this, MC);

            _this378 = _super229.call(this, e), e.config.define("heading", {
              options: [{
                model: "paragraph",
                title: "Paragraph",
                "class": "ck-heading_paragraph"
              }, {
                model: "heading1",
                view: "h2",
                title: "Heading 1",
                "class": "ck-heading_heading1"
              }, {
                model: "heading2",
                view: "h3",
                title: "Heading 2",
                "class": "ck-heading_heading2"
              }, {
                model: "heading3",
                view: "h4",
                title: "Heading 3",
                "class": "ck-heading_heading3"
              }]
            });
            return _this378;
          }

          _createClass(MC, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = e.config.get("heading.options"),
                  n = [];

              var _iterator604 = _createForOfIteratorHelper(t),
                  _step604;

              try {
                for (_iterator604.s(); !(_step604 = _iterator604.n()).done;) {
                  var _i312 = _step604.value;
                  _i312.model !== SC && (e.model.schema.register(_i312.model, {
                    inheritAllFrom: "$block"
                  }), e.conversion.elementToElement(_i312), n.push(_i312.model));
                }
              } catch (err) {
                _iterator604.e(err);
              } finally {
                _iterator604.f();
              }

              this._addDefaultH1Conversion(e), e.commands.add("heading", new EC(e, n));
            }
          }, {
            key: "afterInit",
            value: function afterInit() {
              var e = this.editor,
                  t = e.commands.get("enter"),
                  n = e.config.get("heading.options");
              t && this.listenTo(t, "afterExecute", function (t, i) {
                var o = e.model.document.selection.getFirstPosition().parent;
                n.some(function (e) {
                  return o.is("element", e.model);
                }) && !o.is("element", SC) && 0 === o.childCount && i.writer.rename(o, SC);
              });
            }
          }, {
            key: "_addDefaultH1Conversion",
            value: function _addDefaultH1Conversion(e) {
              e.conversion["for"]("upcast").elementToElement({
                model: "heading1",
                view: "h1",
                converterPriority: a.get("low") + 1
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "HeadingEditing";
            }
          }, {
            key: "requires",
            get: function get() {
              return [dk];
            }
          }]);

          return MC;
        }(st);

        n(21);

        var PC = /*#__PURE__*/function (_st89) {
          _inherits(PC, _st89);

          var _super230 = _createSuper(PC);

          function PC() {
            _classCallCheck(this, PC);

            return _super230.apply(this, arguments);
          }

          _createClass(PC, [{
            key: "init",
            value: function init() {
              var _this379 = this;

              var e = this.editor,
                  t = e.t,
                  n = function (e) {
                var t = e.t,
                    n = {
                  Paragraph: t("Paragraph"),
                  "Heading 1": t("Heading 1"),
                  "Heading 2": t("Heading 2"),
                  "Heading 3": t("Heading 3"),
                  "Heading 4": t("Heading 4"),
                  "Heading 5": t("Heading 5"),
                  "Heading 6": t("Heading 6")
                };
                return e.config.get("heading.options").map(function (e) {
                  var t = n[e.title];
                  return t && t != e.title && (e.title = t), e;
                });
              }(e),
                  i = t("Choose heading"),
                  o = t("Heading");

              e.ui.componentFactory.add("heading", function (t) {
                var r = {},
                    s = new Hi(),
                    a = e.commands.get("heading"),
                    c = e.commands.get("paragraph"),
                    l = [a];

                var _iterator605 = _createForOfIteratorHelper(n),
                    _step605;

                try {
                  var _loop23 = function _loop23() {
                    var e = _step605.value;
                    var t = {
                      type: "button",
                      model: new cg({
                        label: e.title,
                        "class": e["class"],
                        withText: !0
                      })
                    };
                    "paragraph" === e.model ? (t.model.bind("isOn").to(c, "value"), t.model.set("commandName", "paragraph"), l.push(c)) : (t.model.bind("isOn").to(a, "value", function (t) {
                      return t === e.model;
                    }), t.model.set({
                      commandName: "heading",
                      commandValue: e.model
                    })), s.add(t), r[e.model] = e.title;
                  };

                  for (_iterator605.s(); !(_step605 = _iterator605.n()).done;) {
                    _loop23();
                  }
                } catch (err) {
                  _iterator605.e(err);
                } finally {
                  _iterator605.f();
                }

                var d = Qh(t);
                return Xh(d, s), d.buttonView.set({
                  isOn: !1,
                  withText: !0,
                  tooltip: o
                }), d.extendTemplate({
                  attributes: {
                    "class": ["ck-heading-dropdown"]
                  }
                }), d.bind("isEnabled").toMany(l, "isEnabled", function () {
                  for (var _len27 = arguments.length, e = new Array(_len27), _key27 = 0; _key27 < _len27; _key27++) {
                    e[_key27] = arguments[_key27];
                  }

                  return e.some(function (e) {
                    return e;
                  });
                }), d.buttonView.bind("label").to(a, "value", c, "value", function (e, t) {
                  var n = e || t && "paragraph";
                  return r[n] ? r[n] : i;
                }), _this379.listenTo(d, "execute", function (t) {
                  e.execute(t.source.commandName, t.source.commandValue ? {
                    value: t.source.commandValue
                  } : void 0), e.editing.view.focus();
                }), d;
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "HeadingUI";
            }
          }]);

          return PC;
        }(st);

        var RC = /*#__PURE__*/function (_ct25) {
          _inherits(RC, _ct25);

          var _super231 = _createSuper(RC);

          function RC() {
            _classCallCheck(this, RC);

            return _super231.apply(this, arguments);
          }

          _createClass(RC, [{
            key: "refresh",
            value: function refresh() {
              var e = this.editor.model,
                  t = e.document;
              this.value = t.selection.getAttribute("highlight"), this.isEnabled = e.schema.checkAttributeInSelection(t.selection, "highlight");
            }
          }, {
            key: "execute",
            value: function execute() {
              var _this380 = this;

              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
              var t = this.editor.model,
                  n = t.document.selection,
                  i = e.value;
              t.change(function (e) {
                if (n.isCollapsed) {
                  var _t432 = n.getFirstPosition();

                  if (n.hasAttribute("highlight")) {
                    var _n345 = function _n345(e) {
                      return e.item.hasAttribute("highlight") && e.item.getAttribute("highlight") === _this380.value;
                    },
                        _o160 = _t432.getLastMatchingPosition(_n345, {
                      direction: "backward"
                    }),
                        _r89 = _t432.getLastMatchingPosition(_n345),
                        _s60 = e.createRange(_o160, _r89);

                    i && _this380.value !== i ? (_t432.isEqual(_r89) || e.setAttribute("highlight", i, _s60), e.setSelectionAttribute("highlight", i)) : (_t432.isEqual(_r89) || e.removeAttribute("highlight", _s60), e.removeSelectionAttribute("highlight"));
                  } else i && e.setSelectionAttribute("highlight", i);
                } else {
                  var _o161 = t.schema.getValidRanges(n.getRanges(), "highlight");

                  var _iterator606 = _createForOfIteratorHelper(_o161),
                      _step606;

                  try {
                    for (_iterator606.s(); !(_step606 = _iterator606.n()).done;) {
                      var _t433 = _step606.value;
                      i ? e.setAttribute("highlight", i, _t433) : e.removeAttribute("highlight", _t433);
                    }
                  } catch (err) {
                    _iterator606.e(err);
                  } finally {
                    _iterator606.f();
                  }
                }
              });
            }
          }]);

          return RC;
        }(ct);

        var NC = /*#__PURE__*/function (_st90) {
          _inherits(NC, _st90);

          var _super232 = _createSuper(NC);

          function NC(e) {
            var _this381;

            _classCallCheck(this, NC);

            _this381 = _super232.call(this, e), e.config.define("highlight", {
              options: [{
                model: "yellowMarker",
                "class": "marker-yellow",
                title: "Yellow marker",
                color: "var(--ck-highlight-marker-yellow)",
                type: "marker"
              }, {
                model: "greenMarker",
                "class": "marker-green",
                title: "Green marker",
                color: "var(--ck-highlight-marker-green)",
                type: "marker"
              }, {
                model: "pinkMarker",
                "class": "marker-pink",
                title: "Pink marker",
                color: "var(--ck-highlight-marker-pink)",
                type: "marker"
              }, {
                model: "blueMarker",
                "class": "marker-blue",
                title: "Blue marker",
                color: "var(--ck-highlight-marker-blue)",
                type: "marker"
              }, {
                model: "redPen",
                "class": "pen-red",
                title: "Red pen",
                color: "var(--ck-highlight-pen-red)",
                type: "pen"
              }, {
                model: "greenPen",
                "class": "pen-green",
                title: "Green pen",
                color: "var(--ck-highlight-pen-green)",
                type: "pen"
              }]
            });
            return _this381;
          }

          _createClass(NC, [{
            key: "init",
            value: function init() {
              var e = this.editor;
              e.model.schema.extend("$text", {
                allowAttributes: "highlight"
              });
              var t = e.config.get("highlight.options");
              e.conversion.attributeToElement(function (e) {
                var t = {
                  model: {
                    key: "highlight",
                    values: []
                  },
                  view: {}
                };

                var _iterator607 = _createForOfIteratorHelper(e),
                    _step607;

                try {
                  for (_iterator607.s(); !(_step607 = _iterator607.n()).done;) {
                    var _n346 = _step607.value;
                    t.model.values.push(_n346.model), t.view[_n346.model] = {
                      name: "mark",
                      classes: _n346["class"]
                    };
                  }
                } catch (err) {
                  _iterator607.e(err);
                } finally {
                  _iterator607.f();
                }

                return t;
              }(t)), e.commands.add("highlight", new RC(e));
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "HighlightEditing";
            }
          }]);

          return NC;
        }(st);

        var OC = n(66),
            DC = n.n(OC),
            LC = n(67),
            zC = n.n(LC);
        n(179);

        var VC = /*#__PURE__*/function (_st91) {
          _inherits(VC, _st91);

          var _super233 = _createSuper(VC);

          function VC() {
            _classCallCheck(this, VC);

            return _super233.apply(this, arguments);
          }

          _createClass(VC, [{
            key: "localizedOptionTitles",
            get: function get() {
              var e = this.editor.t;
              return {
                "Yellow marker": e("Yellow marker"),
                "Green marker": e("Green marker"),
                "Pink marker": e("Pink marker"),
                "Blue marker": e("Blue marker"),
                "Red pen": e("Red pen"),
                "Green pen": e("Green pen")
              };
            }
          }, {
            key: "init",
            value: function init() {
              var e = this.editor.config.get("highlight.options");

              var _iterator608 = _createForOfIteratorHelper(e),
                  _step608;

              try {
                for (_iterator608.s(); !(_step608 = _iterator608.n()).done;) {
                  var _t434 = _step608.value;

                  this._addHighlighterButton(_t434);
                }
              } catch (err) {
                _iterator608.e(err);
              } finally {
                _iterator608.f();
              }

              this._addRemoveHighlightButton(), this._addDropdown(e);
            }
          }, {
            key: "_addRemoveHighlightButton",
            value: function _addRemoveHighlightButton() {
              var e = this.editor.t,
                  t = this.editor.commands.get("highlight");

              this._addButton("removeHighlight", e("Remove highlight"), Ju.eraser, null, function (e) {
                e.bind("isEnabled").to(t, "isEnabled");
              });
            }
          }, {
            key: "_addHighlighterButton",
            value: function _addHighlighterButton(e) {
              var t = this.editor.commands.get("highlight");

              this._addButton("highlight:" + e.model, e.title, BC(e.type), e.model, function (n) {
                n.bind("isEnabled").to(t, "isEnabled"), n.bind("isOn").to(t, "value", function (t) {
                  return t === e.model;
                }), n.iconView.fillColor = e.color, n.isToggleable = !0;
              });
            }
          }, {
            key: "_addButton",
            value: function _addButton(e, t, n, i, o) {
              var _this382 = this;

              var r = this.editor;
              r.ui.componentFactory.add(e, function (e) {
                var s = new Th(e),
                    a = _this382.localizedOptionTitles[t] ? _this382.localizedOptionTitles[t] : t;
                return s.set({
                  label: a,
                  icon: n,
                  tooltip: !0
                }), s.on("execute", function () {
                  r.execute("highlight", {
                    value: i
                  }), r.editing.view.focus();
                }), o(s), s;
              });
            }
          }, {
            key: "_addDropdown",
            value: function _addDropdown(e) {
              var _this383 = this;

              var t = this.editor,
                  n = t.t,
                  i = t.ui.componentFactory,
                  o = e[0],
                  r = e.reduce(function (e, t) {
                return e[t.model] = t, e;
              }, {});
              i.add("highlight", function (s) {
                var a = t.commands.get("highlight"),
                    c = Qh(s, Oh),
                    l = c.buttonView;
                l.set({
                  tooltip: n("Highlight"),
                  lastExecuted: o.model,
                  commandValue: o.model,
                  isToggleable: !0
                }), l.bind("icon").to(a, "value", function (e) {
                  return BC(u(e, "type"));
                }), l.bind("color").to(a, "value", function (e) {
                  return u(e, "color");
                }), l.bind("commandValue").to(a, "value", function (e) {
                  return u(e, "model");
                }), l.bind("isOn").to(a, "value", function (e) {
                  return !!e;
                }), l.delegate("execute").to(c);
                var d = e.map(function (e) {
                  var t = i.create("highlight:" + e.model);
                  return _this383.listenTo(t, "execute", function () {
                    return c.buttonView.set({
                      lastExecuted: e.model
                    });
                  }), t;
                });

                function u(e, t) {
                  var n = e && e !== l.lastExecuted ? e : l.lastExecuted;
                  return r[n][t];
                }

                return c.bind("isEnabled").toMany(d, "isEnabled", function () {
                  for (var _len28 = arguments.length, e = new Array(_len28), _key28 = 0; _key28 < _len28; _key28++) {
                    e[_key28] = arguments[_key28];
                  }

                  return e.some(function (e) {
                    return e;
                  });
                }), d.push(new Fh()), d.push(i.create("removeHighlight")), Jh(c, d), function (e) {
                  e.buttonView.actionView.iconView.bind("fillColor").to(e.buttonView, "color");
                }(c), c.toolbarView.ariaLabel = n("Text highlight toolbar"), l.on("execute", function () {
                  t.execute("highlight", {
                    value: l.commandValue
                  }), t.editing.view.focus();
                }), c;
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "HighlightUI";
            }
          }]);

          return VC;
        }(st);

        function BC(e) {
          return "marker" === e ? DC.a : zC.a;
        }

        var FC = /*#__PURE__*/function (_ct26) {
          _inherits(FC, _ct26);

          var _super234 = _createSuper(FC);

          function FC() {
            _classCallCheck(this, FC);

            return _super234.apply(this, arguments);
          }

          _createClass(FC, [{
            key: "refresh",
            value: function refresh() {
              var e = this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);
              this.isEnabled = !!e, this.isEnabled && e.hasAttribute("alt") ? this.value = e.getAttribute("alt") : this.value = !1;
            }
          }, {
            key: "execute",
            value: function execute(e) {
              var t = this.editor,
                  n = t.plugins.get("ImageUtils"),
                  i = t.model,
                  o = n.getClosestSelectedImageElement(i.document.selection);
              i.change(function (t) {
                t.setAttribute("alt", e.newValue, o);
              });
            }
          }]);

          return FC;
        }(ct);

        function jC(e, t) {
          var n = e.createEmptyElement("img"),
              i = "imageBlock" === t ? e.createContainerElement("figure", {
            "class": "image"
          }) : e.createContainerElement("span", {
            "class": "image-inline"
          }, {
            isAllowedInsideAttributeElement: !0
          });
          return e.insert(e.createPositionAt(i, 0), n), i;
        }

        function HC(e, t) {
          if (e.plugins.has("ImageInlineEditing") !== e.plugins.has("ImageBlockEditing")) return {
            name: "img"
          };
          var n = e.plugins.get("ImageUtils");
          return function (e) {
            if (!n.isInlineImageView(e)) return null;
            return (e.findAncestor(n.isBlockImageView) ? "imageBlock" : "imageInline") !== t ? null : {
              name: !0
            };
          };
        }

        function UC(e, t) {
          var n = Ja(t.getSelectedBlocks());
          return !n || e.isObject(n) ? "imageBlock" : n.isEmpty && "listItem" != n.name ? "imageBlock" : "imageInline";
        }

        var WC = /*#__PURE__*/function (_st92) {
          _inherits(WC, _st92);

          var _super235 = _createSuper(WC);

          function WC() {
            _classCallCheck(this, WC);

            return _super235.apply(this, arguments);
          }

          _createClass(WC, [{
            key: "isImage",
            value: function isImage(e) {
              return this.isInlineImage(e) || this.isBlockImage(e);
            }
          }, {
            key: "isInlineImageView",
            value: function isInlineImageView(e) {
              return !!e && e.is("element", "img");
            }
          }, {
            key: "isBlockImageView",
            value: function isBlockImageView(e) {
              return !!e && e.is("element", "figure") && e.hasClass("image");
            }
          }, {
            key: "insertImage",
            value: function insertImage() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
              var i = this.editor,
                  o = i.model,
                  r = o.document.selection;
              n = qC(i, t || r, n), e = _objectSpread(_objectSpread({}, Object.fromEntries(r.getAttributes())), e);

              for (var _t435 in e) {
                o.schema.checkAttribute(n, _t435) || delete e[_t435];
              }

              return o.change(function (i) {
                var s = i.createElement(n, e);
                return t || "imageInline" == n || (t = Wf(r, o)), o.insertContent(s, t), s.parent ? (i.setSelection(s, "on"), s) : null;
              });
            }
          }, {
            key: "getClosestSelectedImageWidget",
            value: function getClosestSelectedImageWidget(e) {
              var t = e.getSelectedElement();
              if (t && this.isImageWidget(t)) return t;
              var n = e.getFirstPosition().parent;

              for (; n;) {
                if (n.is("element") && this.isImageWidget(n)) return n;
                n = n.parent;
              }

              return null;
            }
          }, {
            key: "getClosestSelectedImageElement",
            value: function getClosestSelectedImageElement(e) {
              var t = e.getSelectedElement();
              return this.isImage(t) ? t : e.getFirstPosition().findAncestor("imageBlock");
            }
          }, {
            key: "isImageAllowed",
            value: function isImageAllowed() {
              var e = this.editor.model.document.selection;
              return function (e, t) {
                if ("imageBlock" == qC(e, t)) {
                  var _n347 = function (e, t) {
                    var n = Wf(e, t).start.parent;
                    if (n.isEmpty && !n.is("element", "$root")) return n.parent;
                    return n;
                  }(t, e.model);

                  if (e.model.schema.checkChild(_n347, "imageBlock")) return !0;
                } else if (e.model.schema.checkChild(t.focus, "imageInline")) return !0;

                return !1;
              }(this.editor, e) && function (e) {
                return _toConsumableArray(e.focus.getAncestors()).every(function (e) {
                  return !e.is("element", "imageBlock");
                });
              }(e);
            }
          }, {
            key: "toImageWidget",
            value: function toImageWidget(e, t, n) {
              var _this384 = this;

              t.setCustomProperty("image", !0, e);
              return jf(e, t, {
                label: function label() {
                  var t = _this384.findViewImgElement(e).getAttribute("alt");

                  return t ? "".concat(t, " ").concat(n) : n;
                }
              });
            }
          }, {
            key: "isImageWidget",
            value: function isImageWidget(e) {
              return !!e.getCustomProperty("image") && Ff(e);
            }
          }, {
            key: "isBlockImage",
            value: function isBlockImage(e) {
              return !!e && e.is("element", "imageBlock");
            }
          }, {
            key: "isInlineImage",
            value: function isInlineImage(e) {
              return !!e && e.is("element", "imageInline");
            }
          }, {
            key: "findViewImgElement",
            value: function findViewImgElement(e) {
              if (this.isInlineImageView(e)) return e;
              var t = this.editor.editing.view;

              var _iterator609 = _createForOfIteratorHelper(t.createRangeIn(e)),
                  _step609;

              try {
                for (_iterator609.s(); !(_step609 = _iterator609.n()).done;) {
                  var _n348 = _step609.value.item;
                  if (this.isInlineImageView(_n348)) return _n348;
                }
              } catch (err) {
                _iterator609.e(err);
              } finally {
                _iterator609.f();
              }
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "ImageUtils";
            }
          }]);

          return WC;
        }(st);

        function qC(e, t, n) {
          var i = e.model.schema,
              o = e.config.get("image.insert.type");
          return e.plugins.has("ImageBlockEditing") ? e.plugins.has("ImageInlineEditing") ? n || ("inline" === o ? "imageInline" : "block" === o ? "imageBlock" : t.is("selection") ? UC(i, t) : i.checkChild(t, "imageInline") ? "imageInline" : "imageBlock") : "imageBlock" : "imageInline";
        }

        var $C = /*#__PURE__*/function (_st93) {
          _inherits($C, _st93);

          var _super236 = _createSuper($C);

          function $C() {
            _classCallCheck(this, $C);

            return _super236.apply(this, arguments);
          }

          _createClass($C, [{
            key: "init",
            value: function init() {
              this.editor.commands.add("imageTextAlternative", new FC(this.editor));
            }
          }], [{
            key: "requires",
            get: function get() {
              return [WC];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "ImageTextAlternativeEditing";
            }
          }]);

          return $C;
        }(st);

        n(181), n(7);

        var GC = /*#__PURE__*/function (_nh39) {
          _inherits(GC, _nh39);

          var _super237 = _createSuper(GC);

          function GC(e) {
            var _this385;

            _classCallCheck(this, GC);

            _this385 = _super237.call(this, e);
            var t = _this385.locale.t;
            _this385.focusTracker = new Xa(), _this385.keystrokes = new Za(), _this385.labeledInput = _this385._createLabeledInputView(), _this385.saveButtonView = _this385._createButton(t("Save"), Ju.check, "ck-button-save"), _this385.saveButtonView.type = "submit", _this385.cancelButtonView = _this385._createButton(t("Cancel"), Ju.cancel, "ck-button-cancel", "cancel"), _this385._focusables = new th(), _this385._focusCycler = new Sh({
              focusables: _this385._focusables,
              focusTracker: _this385.focusTracker,
              keystrokeHandler: _this385.keystrokes,
              actions: {
                focusPrevious: "shift + tab",
                focusNext: "tab"
              }
            }), _this385.setTemplate({
              tag: "form",
              attributes: {
                "class": ["ck", "ck-text-alternative-form", "ck-responsive-form"],
                tabindex: "-1"
              },
              children: [_this385.labeledInput, _this385.saveButtonView, _this385.cancelButtonView]
            }), Zu(_assertThisInitialized(_this385));
            return _this385;
          }

          _createClass(GC, [{
            key: "render",
            value: function render() {
              var _this386 = this;

              _get(_getPrototypeOf(GC.prototype), "render", this).call(this), this.keystrokes.listenTo(this.element), eh({
                view: this
              }), [this.labeledInput, this.saveButtonView, this.cancelButtonView].forEach(function (e) {
                _this386._focusables.add(e), _this386.focusTracker.add(e.element);
              });
            }
          }, {
            key: "_createButton",
            value: function _createButton(e, t, n, i) {
              var o = new Th(this.locale);
              return o.set({
                label: e,
                icon: t,
                tooltip: !0
              }), o.extendTemplate({
                attributes: {
                  "class": n
                }
              }), i && o.delegate("execute").to(this, i), o;
            }
          }, {
            key: "_createLabeledInputView",
            value: function _createLabeledInputView() {
              var e = this.locale.t,
                  t = new rg(this.locale, sg);
              return t.label = e("Text alternative"), t;
            }
          }]);

          return GC;
        }(nh);

        function YC(e) {
          var t = e.editing.view,
              n = ug.defaultPositions,
              i = e.plugins.get("ImageUtils");
          return {
            target: t.domConverter.viewToDom(i.getClosestSelectedImageWidget(t.document.selection)),
            positions: [n.northArrowSouth, n.northArrowSouthWest, n.northArrowSouthEast, n.southArrowNorth, n.southArrowNorthWest, n.southArrowNorthEast, n.viewportStickyNorth]
          };
        }

        var KC = /*#__PURE__*/function (_st94) {
          _inherits(KC, _st94);

          var _super238 = _createSuper(KC);

          function KC() {
            _classCallCheck(this, KC);

            return _super238.apply(this, arguments);
          }

          _createClass(KC, [{
            key: "init",
            value: function init() {
              this._createButton(), this._createForm();
            }
          }, {
            key: "destroy",
            value: function destroy() {
              _get(_getPrototypeOf(KC.prototype), "destroy", this).call(this), this._form.destroy();
            }
          }, {
            key: "_createButton",
            value: function _createButton() {
              var _this387 = this;

              var e = this.editor,
                  t = e.t;
              e.ui.componentFactory.add("imageTextAlternative", function (n) {
                var i = e.commands.get("imageTextAlternative"),
                    o = new Th(n);
                return o.set({
                  label: t("Change image text alternative"),
                  icon: Ju.lowVision,
                  tooltip: !0
                }), o.bind("isEnabled").to(i, "isEnabled"), _this387.listenTo(o, "execute", function () {
                  _this387._showForm();
                }), o;
              });
            }
          }, {
            key: "_createForm",
            value: function _createForm() {
              var _this388 = this;

              var e = this.editor,
                  t = e.editing.view.document,
                  n = e.plugins.get("ImageUtils");
              this._balloon = this.editor.plugins.get("ContextualBalloon"), this._form = new GC(e.locale), this._form.render(), this.listenTo(this._form, "submit", function () {
                e.execute("imageTextAlternative", {
                  newValue: _this388._form.labeledInput.fieldView.element.value
                }), _this388._hideForm(!0);
              }), this.listenTo(this._form, "cancel", function () {
                _this388._hideForm(!0);
              }), this._form.keystrokes.set("Esc", function (e, t) {
                _this388._hideForm(!0), t();
              }), this.listenTo(e.ui, "update", function () {
                n.getClosestSelectedImageWidget(t.selection) ? _this388._isVisible && function (e) {
                  var t = e.plugins.get("ContextualBalloon");

                  if (e.plugins.get("ImageUtils").getClosestSelectedImageWidget(e.editing.view.document.selection)) {
                    var _n349 = YC(e);

                    t.updatePosition(_n349);
                  }
                }(e) : _this388._hideForm(!0);
              }), Xu({
                emitter: this._form,
                activator: function activator() {
                  return _this388._isVisible;
                },
                contextElements: [this._balloon.view.element],
                callback: function callback() {
                  return _this388._hideForm();
                }
              });
            }
          }, {
            key: "_showForm",
            value: function _showForm() {
              if (this._isVisible) return;
              var e = this.editor,
                  t = e.commands.get("imageTextAlternative"),
                  n = this._form.labeledInput;
              this._form.disableCssTransitions(), this._isInBalloon || this._balloon.add({
                view: this._form,
                position: YC(e)
              }), n.fieldView.value = n.fieldView.element.value = t.value || "", this._form.labeledInput.fieldView.select(), this._form.enableCssTransitions();
            }
          }, {
            key: "_hideForm",
            value: function _hideForm(e) {
              this._isInBalloon && (this._form.focusTracker.isFocused && this._form.saveButtonView.focus(), this._balloon.remove(this._form), e && this.editor.editing.view.focus());
            }
          }, {
            key: "_isVisible",
            get: function get() {
              return this._balloon.visibleView === this._form;
            }
          }, {
            key: "_isInBalloon",
            get: function get() {
              return this._balloon.hasView(this._form);
            }
          }], [{
            key: "requires",
            get: function get() {
              return [_g];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "ImageTextAlternativeUI";
            }
          }]);

          return KC;
        }(st);

        var QC = /*#__PURE__*/function (_st95) {
          _inherits(QC, _st95);

          var _super239 = _createSuper(QC);

          function QC() {
            _classCallCheck(this, QC);

            return _super239.apply(this, arguments);
          }

          _createClass(QC, null, [{
            key: "requires",
            get: function get() {
              return [$C, KC];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "ImageTextAlternative";
            }
          }]);

          return QC;
        }(st);

        function JC(e, t) {
          return function (e) {
            e.on("attribute:srcset:".concat(t), n);
          };

          function n(t, n, i) {
            if (!i.consumable.consume(n.item, t.name)) return;
            var o = i.writer,
                r = i.mapper.toViewElement(n.item),
                s = e.findViewImgElement(r);

            if (null === n.attributeNewValue) {
              var _e470 = n.attributeOldValue;
              _e470.data && (o.removeAttribute("srcset", s), o.removeAttribute("sizes", s), _e470.width && o.removeAttribute("width", s));
            } else {
              var _e471 = n.attributeNewValue;
              _e471.data && (o.setAttribute("srcset", _e471.data, s), o.setAttribute("sizes", "100vw", s), _e471.width && o.setAttribute("width", _e471.width, s));
            }
          }
        }

        function XC(e, t, n) {
          return function (e) {
            e.on("attribute:".concat(n, ":").concat(t), i);
          };

          function i(t, n, i) {
            if (!i.consumable.consume(n.item, t.name)) return;
            var o = i.writer,
                r = i.mapper.toViewElement(n.item),
                s = e.findViewImgElement(r);
            o.setAttribute(n.attributeKey, n.attributeNewValue || "", s);
          }
        }

        var ZC = /*#__PURE__*/function (_Is8) {
          _inherits(ZC, _Is8);

          var _super240 = _createSuper(ZC);

          function ZC() {
            _classCallCheck(this, ZC);

            return _super240.apply(this, arguments);
          }

          _createClass(ZC, [{
            key: "observe",
            value: function observe(e) {
              var _this389 = this;

              this.listenTo(e, "load", function (e, t) {
                var n = t.target;
                _this389.checkShouldIgnoreEventFromTarget(n) || "IMG" == n.tagName && _this389._fireEvents(t);
              }, {
                useCapture: !0
              });
            }
          }, {
            key: "_fireEvents",
            value: function _fireEvents(e) {
              this.isEnabled && (this.document.fire("layoutChanged"), this.document.fire("imageLoaded", e));
            }
          }]);

          return ZC;
        }(Is);

        var eT = /*#__PURE__*/function (_ct27) {
          _inherits(eT, _ct27);

          var _super241 = _createSuper(eT);

          function eT(e) {
            var _this390;

            _classCallCheck(this, eT);

            _this390 = _super241.call(this, e);
            var t = e.config.get("image.insert.type");
            e.plugins.has("ImageBlockEditing") || "block" === t && Object(c.b)("image-block-plugin-required"), e.plugins.has("ImageInlineEditing") || "inline" === t && Object(c.b)("image-inline-plugin-required");
            return _this390;
          }

          _createClass(eT, [{
            key: "refresh",
            value: function refresh() {
              this.isEnabled = this.editor.plugins.get("ImageUtils").isImageAllowed();
            }
          }, {
            key: "execute",
            value: function execute(e) {
              var _this391 = this;

              var t = Wi(e.source),
                  n = this.editor.model.document.selection,
                  i = this.editor.plugins.get("ImageUtils"),
                  o = Object.fromEntries(n.getAttributes());
              t.forEach(function (e, t) {
                var r = n.getSelectedElement();

                if ("string" == typeof e && (e = {
                  src: e
                }), t && r && i.isImage(r)) {
                  var _t436 = _this391.editor.model.createPositionAfter(r);

                  i.insertImage(_objectSpread(_objectSpread({}, e), o), _t436);
                } else i.insertImage(_objectSpread(_objectSpread({}, e), o));
              });
            }
          }]);

          return eT;
        }(ct);

        var tT = /*#__PURE__*/function (_st96) {
          _inherits(tT, _st96);

          var _super242 = _createSuper(tT);

          function tT() {
            _classCallCheck(this, tT);

            return _super242.apply(this, arguments);
          }

          _createClass(tT, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = e.conversion;
              e.editing.view.addObserver(ZC), t["for"]("upcast").attributeToAttribute({
                view: {
                  name: "img",
                  key: "alt"
                },
                model: "alt"
              }).attributeToAttribute({
                view: {
                  name: "img",
                  key: "srcset"
                },
                model: {
                  key: "srcset",
                  value: function value(e) {
                    var t = {
                      data: e.getAttribute("srcset")
                    };
                    return e.hasAttribute("width") && (t.width = e.getAttribute("width")), t;
                  }
                }
              });
              var n = new eT(e);
              e.commands.add("insertImage", n), e.commands.add("imageInsert", n);
            }
          }], [{
            key: "requires",
            get: function get() {
              return [WC];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "ImageEditing";
            }
          }]);

          return tT;
        }(st);

        var nT = /*#__PURE__*/function (_ct28) {
          _inherits(nT, _ct28);

          var _super243 = _createSuper(nT);

          function nT(e, t) {
            var _this392;

            _classCallCheck(this, nT);

            _this392 = _super243.call(this, e), _this392._modelElementName = t;
            return _this392;
          }

          _createClass(nT, [{
            key: "refresh",
            value: function refresh() {
              var e = this.editor.plugins.get("ImageUtils"),
                  t = e.getClosestSelectedImageElement(this.editor.model.document.selection);
              "imageBlock" === this._modelElementName ? this.isEnabled = e.isInlineImage(t) : this.isEnabled = e.isBlockImage(t);
            }
          }, {
            key: "execute",
            value: function execute() {
              var _this393 = this;

              var e = this.editor,
                  t = this.editor.model,
                  n = e.plugins.get("ImageUtils"),
                  i = n.getClosestSelectedImageElement(t.document.selection),
                  o = Object.fromEntries(i.getAttributes());
              return o.src || o.uploadId ? t.change(function (e) {
                var r = Array.from(t.markers).filter(function (e) {
                  return e.getRange().containsItem(i);
                }),
                    s = n.insertImage(o, t.createSelection(i, "on"), _this393._modelElementName);
                if (!s) return null;
                var a = e.createRangeOn(s);

                var _iterator610 = _createForOfIteratorHelper(r),
                    _step610;

                try {
                  for (_iterator610.s(); !(_step610 = _iterator610.n()).done;) {
                    var _t437 = _step610.value;

                    var _n350 = _t437.getRange(),
                        _i313 = "$graveyard" != _n350.root.rootName ? _n350.getJoined(a, !0) : a;

                    e.updateMarker(_t437, {
                      range: _i313
                    });
                  }
                } catch (err) {
                  _iterator610.e(err);
                } finally {
                  _iterator610.f();
                }

                return {
                  oldElement: i,
                  newElement: s
                };
              }) : null;
            }
          }]);

          return nT;
        }(ct);

        var iT = /*#__PURE__*/function (_st97) {
          _inherits(iT, _st97);

          var _super244 = _createSuper(iT);

          function iT() {
            _classCallCheck(this, iT);

            return _super244.apply(this, arguments);
          }

          _createClass(iT, [{
            key: "init",
            value: function init() {
              var e = this.editor;
              e.model.schema.register("imageBlock", {
                isObject: !0,
                isBlock: !0,
                allowWhere: "$block",
                allowAttributes: ["alt", "src", "srcset"]
              }), this._setupConversion(), e.plugins.has("ImageInlineEditing") && (e.commands.add("imageTypeBlock", new nT(this.editor, "imageBlock")), this._setupClipboardIntegration());
            }
          }, {
            key: "_setupConversion",
            value: function _setupConversion() {
              var e = this.editor,
                  t = e.t,
                  n = e.conversion,
                  i = e.plugins.get("ImageUtils");
              n["for"]("dataDowncast").elementToElement({
                model: "imageBlock",
                view: function view(e, _ref121) {
                  var t = _ref121.writer;
                  return jC(t, "imageBlock");
                }
              }), n["for"]("editingDowncast").elementToElement({
                model: "imageBlock",
                view: function view(e, _ref122) {
                  var n = _ref122.writer;
                  return i.toImageWidget(jC(n, "imageBlock"), n, t("image widget"));
                }
              }), n["for"]("downcast").add(XC(i, "imageBlock", "src")).add(XC(i, "imageBlock", "alt")).add(JC(i, "imageBlock")), n["for"]("upcast").elementToElement({
                view: HC(e, "imageBlock"),
                model: function model(e, _ref123) {
                  var t = _ref123.writer;
                  return t.createElement("imageBlock", e.hasAttribute("src") ? {
                    src: e.getAttribute("src")
                  } : null);
                }
              }).add(function (e) {
                return function (e) {
                  e.on("element:figure", t);
                };

                function t(t, n, i) {
                  if (!i.consumable.test(n.viewItem, {
                    name: !0,
                    classes: "image"
                  })) return;
                  var o = e.findViewImgElement(n.viewItem);
                  if (!o || !i.consumable.test(o, {
                    name: !0
                  })) return;
                  var r = Ja(i.convertItem(o, n.modelCursor).modelRange.getItems());
                  r && (i.consumable.consume(n.viewItem, {
                    name: !0,
                    classes: "image"
                  }), i.convertChildren(n.viewItem, r), i.updateConversionResult(r, n));
                }
              }(i));
            }
          }, {
            key: "_setupClipboardIntegration",
            value: function _setupClipboardIntegration() {
              var e = this.editor,
                  t = e.model,
                  n = e.editing.view,
                  i = e.plugins.get("ImageUtils");
              this.listenTo(e.plugins.get("ClipboardPipeline"), "inputTransformation", function (o, r) {
                var s = Array.from(r.content.getChildren());
                var a;
                if (!s.every(i.isInlineImageView)) return;
                a = r.targetRanges ? e.editing.mapper.toModelRange(r.targetRanges[0]) : t.document.selection.getFirstRange();
                var c = t.createSelection(a);

                if ("imageBlock" === UC(t.schema, c)) {
                  var _e472 = new Wg(n.document),
                      _t438 = s.map(function (t) {
                    return _e472.createElement("figure", {
                      "class": "image"
                    }, t);
                  });

                  r.content = _e472.createDocumentFragment(_t438);
                }
              });
            }
          }], [{
            key: "requires",
            get: function get() {
              return [tT, WC, xf];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "ImageBlockEditing";
            }
          }]);

          return iT;
        }(st);

        n(15);

        var oT = /*#__PURE__*/function (_st98) {
          _inherits(oT, _st98);

          var _super245 = _createSuper(oT);

          function oT() {
            _classCallCheck(this, oT);

            return _super245.apply(this, arguments);
          }

          _createClass(oT, null, [{
            key: "requires",
            get: function get() {
              return [iT, sp, QC];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "ImageBlock";
            }
          }]);

          return oT;
        }(st);

        var rT = /*#__PURE__*/function (_st99) {
          _inherits(rT, _st99);

          var _super246 = _createSuper(rT);

          function rT() {
            _classCallCheck(this, rT);

            return _super246.apply(this, arguments);
          }

          _createClass(rT, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = e.model.schema;
              t.register("imageInline", {
                isObject: !0,
                isInline: !0,
                allowWhere: "$text",
                allowAttributes: ["alt", "src", "srcset"]
              }), t.addChildCheck(function (e, t) {
                if (e.endsWith("caption") && "imageInline" === t.name) return !1;
              }), this._setupConversion(), e.plugins.has("ImageBlockEditing") && (e.commands.add("imageTypeInline", new nT(this.editor, "imageInline")), this._setupClipboardIntegration());
            }
          }, {
            key: "_setupConversion",
            value: function _setupConversion() {
              var e = this.editor,
                  t = e.t,
                  n = e.conversion,
                  i = e.plugins.get("ImageUtils");
              n["for"]("dataDowncast").elementToElement({
                model: "imageInline",
                view: function view(e, _ref124) {
                  var t = _ref124.writer;
                  return t.createEmptyElement("img");
                }
              }), n["for"]("editingDowncast").elementToElement({
                model: "imageInline",
                view: function view(e, _ref125) {
                  var n = _ref125.writer;
                  return i.toImageWidget(jC(n, "imageInline"), n, t("image widget"));
                }
              }), n["for"]("downcast").add(XC(i, "imageInline", "src")).add(XC(i, "imageInline", "alt")).add(JC(i, "imageInline")), n["for"]("upcast").elementToElement({
                view: HC(e, "imageInline"),
                model: function model(e, _ref126) {
                  var t = _ref126.writer;
                  return t.createElement("imageInline", e.hasAttribute("src") ? {
                    src: e.getAttribute("src")
                  } : null);
                }
              });
            }
          }, {
            key: "_setupClipboardIntegration",
            value: function _setupClipboardIntegration() {
              var e = this.editor,
                  t = e.model,
                  n = e.editing.view,
                  i = e.plugins.get("ImageUtils");
              this.listenTo(e.plugins.get("ClipboardPipeline"), "inputTransformation", function (o, r) {
                var s = Array.from(r.content.getChildren());
                var a;
                if (!s.every(i.isBlockImageView)) return;
                a = r.targetRanges ? e.editing.mapper.toModelRange(r.targetRanges[0]) : t.document.selection.getFirstRange();
                var c = t.createSelection(a);

                if ("imageInline" === UC(t.schema, c)) {
                  var _e473 = new Wg(n.document),
                      _t439 = s.map(function (t) {
                    return 1 === t.childCount ? (Array.from(t.getAttributes()).forEach(function (n) {
                      return _e473.setAttribute.apply(_e473, _toConsumableArray(n).concat([i.findViewImgElement(t)]));
                    }), t.getChild(0)) : t;
                  });

                  r.content = _e473.createDocumentFragment(_t439);
                }
              });
            }
          }], [{
            key: "requires",
            get: function get() {
              return [tT, WC, xf];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "ImageInlineEditing";
            }
          }]);

          return rT;
        }(st);

        var sT = /*#__PURE__*/function (_st100) {
          _inherits(sT, _st100);

          var _super247 = _createSuper(sT);

          function sT() {
            _classCallCheck(this, sT);

            return _super247.apply(this, arguments);
          }

          _createClass(sT, null, [{
            key: "requires",
            get: function get() {
              return [rT, sp, QC];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "ImageInline";
            }
          }]);

          return sT;
        }(st);

        var aT = /*#__PURE__*/function (_ct29) {
          _inherits(aT, _ct29);

          var _super248 = _createSuper(aT);

          function aT() {
            _classCallCheck(this, aT);

            return _super248.apply(this, arguments);
          }

          _createClass(aT, [{
            key: "refresh",
            value: function refresh() {
              var e = this.editor,
                  t = e.plugins.get("ImageUtils");
              if (!e.plugins.has(iT)) return this.isEnabled = !1, void (this.value = !1);
              var n = e.model.document.selection,
                  i = n.getSelectedElement();

              if (!i) {
                var _e474 = vv(t, n);

                return this.isEnabled = !!_e474, void (this.value = !!_e474);
              }

              this.isEnabled = this.editor.plugins.get("ImageUtils").isImage(i), this.isEnabled ? this.value = !!_v(i) : this.value = !1;
            }
          }, {
            key: "execute",
            value: function execute() {
              var _this394 = this;

              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
              var t = e.focusCaptionOnShow;
              this.editor.model.change(function (e) {
                _this394.value ? _this394._hideImageCaption(e) : _this394._showImageCaption(e, t);
              });
            }
          }, {
            key: "_showImageCaption",
            value: function _showImageCaption(e, t) {
              var n = this.editor.model.document.selection,
                  i = this.editor.plugins.get("ImageCaptionEditing");
              var o = n.getSelectedElement();

              var r = i._getSavedCaption(o);

              this.editor.plugins.get("ImageUtils").isInlineImage(o) && (this.editor.execute("imageTypeBlock"), o = n.getSelectedElement());
              var s = r || e.createElement("caption");
              e.append(s, o), t && e.setSelection(s, "in");
            }
          }, {
            key: "_hideImageCaption",
            value: function _hideImageCaption(e) {
              var t = this.editor,
                  n = t.model.document.selection,
                  i = t.plugins.get("ImageCaptionEditing"),
                  o = t.plugins.get("ImageUtils");
              var r,
                  s = n.getSelectedElement();
              s ? r = _v(s) : s = (r = vv(o, n)).parent, i._saveCaption(s, r), e.setSelection(s, "on"), e.remove(r);
            }
          }]);

          return aT;
        }(ct);

        var cT = /*#__PURE__*/function (_st101) {
          _inherits(cT, _st101);

          var _super249 = _createSuper(cT);

          function cT(e) {
            var _this395;

            _classCallCheck(this, cT);

            _this395 = _super249.call(this, e), _this395._savedCaptionsMap = new WeakMap();
            return _this395;
          }

          _createClass(cT, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = e.model.schema;
              t.isRegistered("caption") ? t.extend("caption", {
                allowIn: "imageBlock"
              }) : t.register("caption", {
                allowIn: "imageBlock",
                allowContentOf: "$block",
                isLimit: !0
              }), e.commands.add("toggleImageCaption", new aT(this.editor)), this._setupConversion(), this._setupImageTypeCommandsIntegration();
            }
          }, {
            key: "_setupConversion",
            value: function _setupConversion() {
              var e = this.editor,
                  t = e.editing.view,
                  n = e.plugins.get("ImageUtils"),
                  i = e.t;
              e.conversion["for"]("upcast").elementToElement({
                view: function view(e) {
                  return function (e, t) {
                    return "figcaption" == t.name && e.isBlockImageView(t.parent) ? {
                      name: !0
                    } : null;
                  }(n, e);
                },
                model: "caption"
              }), e.conversion["for"]("dataDowncast").elementToElement({
                model: "caption",
                view: function view(e, _ref127) {
                  var t = _ref127.writer;
                  return n.isBlockImage(e.parent) ? t.createContainerElement("figcaption") : null;
                }
              }), e.conversion["for"]("editingDowncast").elementToElement({
                model: "caption",
                view: function view(e, _ref128) {
                  var o = _ref128.writer;
                  if (!n.isBlockImage(e.parent)) return null;
                  var r = o.createEditableElement("figcaption");
                  return o.setCustomProperty("imageCaption", !0, r), Ag({
                    view: t,
                    element: r,
                    text: i("Enter image caption"),
                    keepOnFocus: !0
                  }), Uf(r, o);
                }
              }), e.editing.mapper.on("modelToViewPosition", lT(t)), e.data.mapper.on("modelToViewPosition", lT(t));
            }
          }, {
            key: "_setupImageTypeCommandsIntegration",
            value: function _setupImageTypeCommandsIntegration() {
              var _this396 = this;

              var e = this.editor,
                  t = e.plugins.get("ImageUtils"),
                  n = e.commands.get("imageTypeInline"),
                  i = e.commands.get("imageTypeBlock"),
                  o = function o(e) {
                if (!e["return"]) return;
                var _e$return = e["return"],
                    n = _e$return.oldElement,
                    i = _e$return.newElement;
                if (!n) return;

                if (t.isBlockImage(n)) {
                  var _e475 = _v(n);

                  if (_e475) return void _this396._saveCaption(i, _e475);
                }

                var o = _this396._getSavedCaption(n);

                o && _this396._saveCaption(i, o);
              };

              n && this.listenTo(n, "execute", o, {
                priority: "low"
              }), i && this.listenTo(i, "execute", o, {
                priority: "low"
              });
            }
          }, {
            key: "_getSavedCaption",
            value: function _getSavedCaption(e) {
              var t = this._savedCaptionsMap.get(e);

              return t ? pc.fromJSON(t) : null;
            }
          }, {
            key: "_saveCaption",
            value: function _saveCaption(e, t) {
              this._savedCaptionsMap.set(e, t.toJSON());
            }
          }], [{
            key: "requires",
            get: function get() {
              return [WC];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "ImageCaptionEditing";
            }
          }]);

          return cT;
        }(st);

        function lT(e) {
          return function (t, n) {
            var i = n.modelPosition,
                o = i.parent;
            if (!o.is("element", "imageBlock")) return;
            var r = n.mapper.toViewElement(o);
            n.viewPosition = e.createPositionAt(r, i.offset + 1);
          };
        }

        var dT = /*#__PURE__*/function (_st102) {
          _inherits(dT, _st102);

          var _super250 = _createSuper(dT);

          function dT() {
            _classCallCheck(this, dT);

            return _super250.apply(this, arguments);
          }

          _createClass(dT, [{
            key: "init",
            value: function init() {
              var _this397 = this;

              var e = this.editor,
                  t = e.editing.view,
                  n = e.plugins.get("ImageUtils"),
                  i = e.t;
              e.ui.componentFactory.add("toggleImageCaption", function (o) {
                var r = e.commands.get("toggleImageCaption"),
                    s = new Th(o);
                return s.set({
                  icon: Ju.caption,
                  tooltip: !0,
                  isToggleable: !0
                }), s.bind("isOn", "isEnabled").to(r, "value", "isEnabled"), s.bind("label").to(r, "value", function (e) {
                  return i(e ? "Toggle caption off" : "Toggle caption on");
                }), _this397.listenTo(s, "execute", function () {
                  e.execute("toggleImageCaption", {
                    focusCaptionOnShow: !0
                  });
                  var i = vv(n, e.model.document.selection);

                  if (i) {
                    var _n351 = e.editing.mapper.toViewElement(i);

                    t.scrollToTheSelection(), t.change(function (e) {
                      e.addClass("image__caption_highlighted", _n351);
                    });
                  }
                }), s;
              });
            }
          }], [{
            key: "requires",
            get: function get() {
              return [WC];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "ImageCaptionUI";
            }
          }]);

          return dT;
        }(st);

        n(185);

        var uT = /*#__PURE__*/function (_ct30) {
          _inherits(uT, _ct30);

          var _super251 = _createSuper(uT);

          function uT() {
            _classCallCheck(this, uT);

            return _super251.apply(this, arguments);
          }

          _createClass(uT, [{
            key: "refresh",
            value: function refresh() {
              var e = this.editor,
                  t = e.plugins.get("ImageUtils").getClosestSelectedImageElement(e.model.document.selection);
              this.isEnabled = !!t, t && t.hasAttribute("width") ? this.value = {
                width: t.getAttribute("width"),
                height: null
              } : this.value = null;
            }
          }, {
            key: "execute",
            value: function execute(e) {
              var t = this.editor,
                  n = t.model,
                  i = t.plugins.get("ImageUtils").getClosestSelectedImageElement(n.document.selection);
              this.value = {
                width: e.width,
                height: null
              }, i && n.change(function (t) {
                t.setAttribute("width", e.width, i);
              });
            }
          }]);

          return uT;
        }(ct);

        var hT = /*#__PURE__*/function (_st103) {
          _inherits(hT, _st103);

          var _super252 = _createSuper(hT);

          function hT(e) {
            var _this398;

            _classCallCheck(this, hT);

            _this398 = _super252.call(this, e), e.config.define("image", {
              resizeUnit: "%",
              resizeOptions: [{
                name: "resizeImage:original",
                value: null,
                icon: "original"
              }, {
                name: "resizeImage:25",
                value: "25",
                icon: "small"
              }, {
                name: "resizeImage:50",
                value: "50",
                icon: "medium"
              }, {
                name: "resizeImage:75",
                value: "75",
                icon: "large"
              }]
            });
            return _this398;
          }

          _createClass(hT, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = new uT(e);
              this._registerSchema(), this._registerConverters("imageBlock"), this._registerConverters("imageInline"), e.commands.add("resizeImage", t), e.commands.add("imageResize", t);
            }
          }, {
            key: "_registerSchema",
            value: function _registerSchema() {
              this.editor.plugins.has("ImageBlockEditing") && this.editor.model.schema.extend("imageBlock", {
                allowAttributes: "width"
              }), this.editor.plugins.has("ImageInlineEditing") && this.editor.model.schema.extend("imageInline", {
                allowAttributes: "width"
              });
            }
          }, {
            key: "_registerConverters",
            value: function _registerConverters(e) {
              var t = this.editor;
              t.conversion["for"]("downcast").add(function (t) {
                return t.on("attribute:width:".concat(e), function (e, t, n) {
                  if (!n.consumable.consume(t.item, e.name)) return;
                  var i = n.writer,
                      o = n.mapper.toViewElement(t.item);
                  null !== t.attributeNewValue ? (i.setStyle("width", t.attributeNewValue, o), i.addClass("image_resized", o)) : (i.removeStyle("width", o), i.removeClass("image_resized", o));
                });
              }), t.conversion["for"]("upcast").attributeToAttribute({
                view: {
                  name: "imageBlock" === e ? "figure" : "img",
                  styles: {
                    width: /.+/
                  }
                },
                model: {
                  key: "width",
                  value: function value(e) {
                    return e.getStyle("width");
                  }
                }
              });
            }
          }], [{
            key: "requires",
            get: function get() {
              return [WC];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "ImageResizeEditing";
            }
          }]);

          return hT;
        }(st);

        var gT = {
          small: Ju.objectSizeSmall,
          medium: Ju.objectSizeMedium,
          large: Ju.objectSizeLarge,
          original: Ju.objectSizeFull
        };

        var mT = /*#__PURE__*/function (_st104) {
          _inherits(mT, _st104);

          var _super253 = _createSuper(mT);

          function mT(e) {
            var _this399;

            _classCallCheck(this, mT);

            _this399 = _super253.call(this, e), _this399._resizeUnit = e.config.get("image.resizeUnit");
            return _this399;
          }

          _createClass(mT, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = e.config.get("image.resizeOptions"),
                  n = e.commands.get("resizeImage");
              this.bind("isEnabled").to(n);

              var _iterator611 = _createForOfIteratorHelper(t),
                  _step611;

              try {
                for (_iterator611.s(); !(_step611 = _iterator611.n()).done;) {
                  var _e476 = _step611.value;

                  this._registerImageResizeButton(_e476);
                }
              } catch (err) {
                _iterator611.e(err);
              } finally {
                _iterator611.f();
              }

              this._registerImageResizeDropdown(t);
            }
          }, {
            key: "_registerImageResizeButton",
            value: function _registerImageResizeButton(e) {
              var _this400 = this;

              var t = this.editor,
                  n = e.name,
                  i = e.value,
                  o = e.icon,
                  r = i ? i + this._resizeUnit : null;
              t.ui.componentFactory.add(n, function (n) {
                var i = new Th(n),
                    s = t.commands.get("resizeImage"),
                    a = _this400._getOptionLabelValue(e, !0);

                if (!gT[o]) throw new c.a("imageresizebuttons-missing-icon", t, e);
                return i.set({
                  label: a,
                  icon: gT[o],
                  tooltip: a,
                  isToggleable: !0
                }), i.bind("isEnabled").to(_this400), i.bind("isOn").to(s, "value", fT(r)), _this400.listenTo(i, "execute", function () {
                  t.execute("resizeImage", {
                    width: r
                  });
                }), i;
              });
            }
          }, {
            key: "_registerImageResizeDropdown",
            value: function _registerImageResizeDropdown(e) {
              var _this401 = this;

              var t = this.editor,
                  n = t.t,
                  i = e.find(function (e) {
                return !e.value;
              }),
                  o = function o(_o162) {
                var r = t.commands.get("resizeImage"),
                    s = Qh(_o162, Nh),
                    a = s.buttonView;
                return a.set({
                  tooltip: n("Resize image"),
                  commandValue: i.value,
                  icon: gT.medium,
                  isToggleable: !0,
                  label: _this401._getOptionLabelValue(i),
                  withText: !0,
                  "class": "ck-resize-image-button"
                }), a.bind("label").to(r, "value", function (e) {
                  return e && e.width ? e.width : _this401._getOptionLabelValue(i);
                }), s.bind("isOn").to(r), s.bind("isEnabled").to(_this401), Xh(s, _this401._getResizeDropdownListItemDefinitions(e, r)), s.listView.ariaLabel = n("Image resize list"), _this401.listenTo(s, "execute", function (e) {
                  t.execute(e.source.commandName, {
                    width: e.source.commandValue
                  }), t.editing.view.focus();
                }), s;
              };

              t.ui.componentFactory.add("resizeImage", o), t.ui.componentFactory.add("imageResize", o);
            }
          }, {
            key: "_getOptionLabelValue",
            value: function _getOptionLabelValue(e, t) {
              var n = this.editor.t;
              return e.label ? e.label : t ? e.value ? n("Resize image to %0", e.value + this._resizeUnit) : n("Resize image to the original size") : e.value ? e.value + this._resizeUnit : n("Original");
            }
          }, {
            key: "_getResizeDropdownListItemDefinitions",
            value: function _getResizeDropdownListItemDefinitions(e, t) {
              var _this402 = this;

              var n = new Hi();
              return e.map(function (e) {
                var i = e.value ? e.value + _this402._resizeUnit : null,
                    o = {
                  type: "button",
                  model: new cg({
                    commandName: "resizeImage",
                    commandValue: i,
                    label: _this402._getOptionLabelValue(e),
                    withText: !0,
                    icon: null
                  })
                };
                o.model.bind("isOn").to(t, "value", fT(i)), n.add(o);
              }), n;
            }
          }], [{
            key: "requires",
            get: function get() {
              return [hT];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "ImageResizeButtons";
            }
          }]);

          return mT;
        }(st);

        function fT(e) {
          return function (t) {
            return null === e && t === e || t && t.width === e;
          };
        }

        var pT = "figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img",
            kT = /(image|image-inline)/,
            bT = "image_resized";

        var wT = /*#__PURE__*/function (_st105) {
          _inherits(wT, _st105);

          var _super254 = _createSuper(wT);

          function wT() {
            _classCallCheck(this, wT);

            return _super254.apply(this, arguments);
          }

          _createClass(wT, [{
            key: "init",
            value: function init() {
              var e = this.editor.commands.get("resizeImage");
              this.bind("isEnabled").to(e), this._setupResizerCreator();
            }
          }, {
            key: "_setupResizerCreator",
            value: function _setupResizerCreator() {
              var _this403 = this;

              var e = this.editor,
                  t = e.editing.view;
              t.addObserver(ZC), this.listenTo(t.document, "imageLoaded", function (n, i) {
                if (!i.target.matches(pT)) return;
                var o = e.editing.view.domConverter,
                    r = o.domToView(i.target).findAncestor({
                  classes: kT
                });

                var s = _this403.editor.plugins.get(hx).getResizerByViewElement(r);

                if (s) return void s.redraw();
                var a = e.editing.mapper,
                    c = a.toModelElement(r);
                (s = e.plugins.get(hx).attachTo({
                  unit: e.config.get("image.resizeUnit"),
                  modelElement: c,
                  viewElement: r,
                  editor: e,
                  getHandleHost: function getHandleHost(e) {
                    return e.querySelector("img");
                  },
                  getResizeHost: function getResizeHost() {
                    return o.viewToDom(a.toViewElement(c.parent));
                  },
                  isCentered: function isCentered() {
                    var e = c.getAttribute("imageStyle");
                    return !e || "block" == e || "alignCenter" == e;
                  },
                  onCommit: function onCommit(n) {
                    t.change(function (e) {
                      e.removeClass(bT, r);
                    }), e.execute("resizeImage", {
                      width: n
                    });
                  }
                })).on("updateSize", function () {
                  r.hasClass(bT) || t.change(function (e) {
                    e.addClass(bT, r);
                  });
                }), s.bind("isEnabled").to(_this403);
              });
            }
          }], [{
            key: "requires",
            get: function get() {
              return [hx];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "ImageResizeHandles";
            }
          }]);

          return wT;
        }(st);

        n(187);

        var _T = /*#__PURE__*/function (_ct31) {
          _inherits(_T, _ct31);

          var _super255 = _createSuper(_T);

          function _T(e, t) {
            var _this404;

            _classCallCheck(this, _T);

            _this404 = _super255.call(this, e), _this404._defaultStyles = {
              imageBlock: !1,
              imageInline: !1
            }, _this404._styles = new Map(t.map(function (e) {
              if (e.isDefault) {
                var _iterator612 = _createForOfIteratorHelper(e.modelElements),
                    _step612;

                try {
                  for (_iterator612.s(); !(_step612 = _iterator612.n()).done;) {
                    var _t440 = _step612.value;
                    _this404._defaultStyles[_t440] = e.name;
                  }
                } catch (err) {
                  _iterator612.e(err);
                } finally {
                  _iterator612.f();
                }
              }

              return [e.name, e];
            }));
            return _this404;
          }

          _createClass(_T, [{
            key: "refresh",
            value: function refresh() {
              var e = this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);
              this.isEnabled = !!e, this.isEnabled ? e.hasAttribute("imageStyle") ? this.value = e.getAttribute("imageStyle") : this.value = this._defaultStyles[e.name] : this.value = !1;
            }
          }, {
            key: "execute",
            value: function execute() {
              var _this405 = this;

              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
              var t = this.editor,
                  n = t.model,
                  i = t.plugins.get("ImageUtils");
              n.change(function (t) {
                var o = e.value;
                var r = i.getClosestSelectedImageElement(n.document.selection);
                o && _this405.shouldConvertImageType(o, r) && (_this405.editor.execute(i.isBlockImage(r) ? "imageTypeInline" : "imageTypeBlock"), r = i.getClosestSelectedImageElement(n.document.selection)), !o || _this405._styles.get(o).isDefault ? t.removeAttribute("imageStyle", r) : t.setAttribute("imageStyle", o, r);
              });
            }
          }, {
            key: "shouldConvertImageType",
            value: function shouldConvertImageType(e, t) {
              return !this._styles.get(e).modelElements.includes(t.name);
            }
          }]);

          return _T;
        }(ct);

        var vT = Ju.objectFullWidth,
            xT = Ju.objectInline,
            yT = Ju.objectLeft,
            CT = Ju.objectRight,
            TT = Ju.objectCenter,
            AT = Ju.objectBlockLeft,
            ET = Ju.objectBlockRight,
            IT = {
          inline: {
            name: "inline",
            title: "In line",
            icon: xT,
            modelElements: ["imageInline"],
            isDefault: !0
          },
          alignLeft: {
            name: "alignLeft",
            title: "Left aligned image",
            icon: yT,
            modelElements: ["imageBlock", "imageInline"],
            className: "image-style-align-left"
          },
          alignBlockLeft: {
            name: "alignBlockLeft",
            title: "Left aligned image",
            icon: AT,
            modelElements: ["imageBlock"],
            className: "image-style-block-align-left"
          },
          alignCenter: {
            name: "alignCenter",
            title: "Centered image",
            icon: TT,
            modelElements: ["imageBlock"],
            className: "image-style-align-center"
          },
          alignRight: {
            name: "alignRight",
            title: "Right aligned image",
            icon: CT,
            modelElements: ["imageBlock", "imageInline"],
            className: "image-style-align-right"
          },
          alignBlockRight: {
            name: "alignBlockRight",
            title: "Right aligned image",
            icon: ET,
            modelElements: ["imageBlock"],
            className: "image-style-block-align-right"
          },
          block: {
            name: "block",
            title: "Centered image",
            icon: TT,
            modelElements: ["imageBlock"],
            isDefault: !0
          },
          side: {
            name: "side",
            title: "Side image",
            icon: CT,
            modelElements: ["imageBlock"],
            className: "image-style-side"
          }
        },
            ST = {
          full: vT,
          left: AT,
          right: ET,
          center: TT,
          inlineLeft: yT,
          inlineRight: CT,
          inline: xT
        },
            MT = [{
          name: "imageStyle:wrapText",
          title: "Wrap text",
          defaultItem: "imageStyle:alignLeft",
          items: ["imageStyle:alignLeft", "imageStyle:alignRight"]
        }, {
          name: "imageStyle:breakText",
          title: "Break text",
          defaultItem: "imageStyle:block",
          items: ["imageStyle:alignBlockLeft", "imageStyle:block", "imageStyle:alignBlockRight"]
        }];

        function PT(e) {
          Object(c.b)("image-style-configuration-definition-invalid", e);
        }

        var RT = {
          normalizeStyles: function normalizeStyles(e) {
            return (e.configuredStyles.options || []).map(function (e) {
              return function (e) {
                return "string" == typeof (e = "string" == typeof e ? IT[e] ? _objectSpread({}, IT[e]) : {
                  name: e
                } : function (e, t) {
                  var n = _objectSpread({}, t);

                  for (var _i314 in e) {
                    Object.prototype.hasOwnProperty.call(t, _i314) || (n[_i314] = e[_i314]);
                  }

                  return n;
                }(IT[e.name], e)).icon && (e.icon = ST[e.icon] || e.icon), e;
              }(e);
            }).filter(function (t) {
              return function (e, _ref129) {
                var t = _ref129.isBlockPluginLoaded,
                    n = _ref129.isInlinePluginLoaded;
                var i = e.modelElements,
                    o = e.name;
                if (!(i && i.length && o)) return PT({
                  style: e
                }), !1;
                {
                  var _o163 = [t ? "imageBlock" : null, n ? "imageInline" : null];
                  if (!i.some(function (e) {
                    return _o163.includes(e);
                  })) return Object(c.b)("image-style-missing-dependency", {
                    style: e,
                    missingPlugins: i.map(function (e) {
                      return "imageBlock" === e ? "ImageBlockEditing" : "ImageInlineEditing";
                    })
                  }), !1;
                }
                return !0;
              }(t, e);
            });
          },
          getDefaultStylesConfiguration: function getDefaultStylesConfiguration(e, t) {
            return e && t ? {
              options: ["inline", "alignLeft", "alignRight", "alignCenter", "alignBlockLeft", "alignBlockRight", "block", "side"]
            } : e ? {
              options: ["block", "side"]
            } : t ? {
              options: ["inline", "alignLeft", "alignRight"]
            } : {};
          },
          getDefaultDropdownDefinitions: function getDefaultDropdownDefinitions(e) {
            return e.has("ImageBlockEditing") && e.has("ImageInlineEditing") ? [].concat(MT) : [];
          },
          warnInvalidStyle: PT,
          DEFAULT_OPTIONS: IT,
          DEFAULT_ICONS: ST,
          DEFAULT_DROPDOWN_DEFINITIONS: MT
        };

        function NT(e, t) {
          var _iterator613 = _createForOfIteratorHelper(t),
              _step613;

          try {
            for (_iterator613.s(); !(_step613 = _iterator613.n()).done;) {
              var _n352 = _step613.value;
              if (_n352.name === e) return _n352;
            }
          } catch (err) {
            _iterator613.e(err);
          } finally {
            _iterator613.f();
          }
        }

        var OT = /*#__PURE__*/function (_st106) {
          _inherits(OT, _st106);

          var _super256 = _createSuper(OT);

          function OT() {
            _classCallCheck(this, OT);

            return _super256.apply(this, arguments);
          }

          _createClass(OT, [{
            key: "init",
            value: function init() {
              var e = RT.normalizeStyles,
                  t = RT.getDefaultStylesConfiguration,
                  n = this.editor,
                  i = n.plugins.has("ImageBlockEditing"),
                  o = n.plugins.has("ImageInlineEditing");
              n.config.define("image.styles", t(i, o)), this.normalizedStyles = e({
                configuredStyles: n.config.get("image.styles"),
                isBlockPluginLoaded: i,
                isInlinePluginLoaded: o
              }), this._setupConversion(i, o), this._setupPostFixer(), n.commands.add("imageStyle", new _T(n, this.normalizedStyles));
            }
          }, {
            key: "_setupConversion",
            value: function _setupConversion(e, t) {
              var n = this.editor,
                  i = n.model.schema,
                  o = function (e) {
                return function (t, n, i) {
                  if (!i.consumable.consume(n.item, t.name)) return;
                  var o = NT(n.attributeNewValue, e),
                      r = NT(n.attributeOldValue, e),
                      s = i.mapper.toViewElement(n.item),
                      a = i.writer;
                  r && a.removeClass(r.className, s), o && a.addClass(o.className, s);
                };
              }(this.normalizedStyles),
                  r = function (e) {
                var t = {
                  imageInline: e.filter(function (e) {
                    return !e.isDefault && e.modelElements.includes("imageInline");
                  }),
                  imageBlock: e.filter(function (e) {
                    return !e.isDefault && e.modelElements.includes("imageBlock");
                  })
                };
                return function (e, n, i) {
                  if (!n.modelRange) return;
                  var o = n.viewItem,
                      r = Ja(n.modelRange.getItems());

                  if (r && i.schema.checkAttribute(r, "imageStyle")) {
                    var _iterator614 = _createForOfIteratorHelper(t[r.name]),
                        _step614;

                    try {
                      for (_iterator614.s(); !(_step614 = _iterator614.n()).done;) {
                        var _e477 = _step614.value;
                        i.consumable.consume(o, {
                          classes: _e477.className
                        }) && i.writer.setAttribute("imageStyle", _e477.name, r);
                      }
                    } catch (err) {
                      _iterator614.e(err);
                    } finally {
                      _iterator614.f();
                    }
                  }
                };
              }(this.normalizedStyles);

              n.editing.downcastDispatcher.on("attribute:imageStyle", o), n.data.downcastDispatcher.on("attribute:imageStyle", o), e && (i.extend("imageBlock", {
                allowAttributes: "imageStyle"
              }), n.data.upcastDispatcher.on("element:figure", r, {
                priority: "low"
              })), t && (i.extend("imageInline", {
                allowAttributes: "imageStyle"
              }), n.data.upcastDispatcher.on("element:img", r, {
                priority: "low"
              }));
            }
          }, {
            key: "_setupPostFixer",
            value: function _setupPostFixer() {
              var e = this.editor,
                  t = e.model.document,
                  n = e.plugins.get(WC),
                  i = new Map(this.normalizedStyles.map(function (e) {
                return [e.name, e];
              }));
              t.registerPostFixer(function (e) {
                var o = !1;

                var _iterator615 = _createForOfIteratorHelper(t.differ.getChanges()),
                    _step615;

                try {
                  for (_iterator615.s(); !(_step615 = _iterator615.n()).done;) {
                    var _r90 = _step615.value;

                    if ("insert" == _r90.type || "attribute" == _r90.type && "imageStyle" == _r90.attributeKey) {
                      var _t441 = "insert" == _r90.type ? _r90.position.nodeAfter : _r90.range.start.nodeAfter;

                      if (_t441 && _t441.is("element", "paragraph") && _t441.childCount > 0 && (_t441 = _t441.getChild(0)), !n.isImage(_t441)) continue;

                      var _s61 = _t441.getAttribute("imageStyle");

                      if (!_s61) continue;

                      var _a47 = i.get(_s61);

                      _a47 && _a47.modelElements.includes(_t441.name) || (e.removeAttribute("imageStyle", _t441), o = !0);
                    }
                  }
                } catch (err) {
                  _iterator615.e(err);
                } finally {
                  _iterator615.f();
                }

                return o;
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "ImageStyleEditing";
            }
          }, {
            key: "requires",
            get: function get() {
              return [WC];
            }
          }]);

          return OT;
        }(st);

        n(189);

        var DT = /*#__PURE__*/function (_st107) {
          _inherits(DT, _st107);

          var _super257 = _createSuper(DT);

          function DT() {
            _classCallCheck(this, DT);

            return _super257.apply(this, arguments);
          }

          _createClass(DT, [{
            key: "localizedDefaultStylesTitles",
            get: function get() {
              var e = this.editor.t;
              return {
                "Wrap text": e("Wrap text"),
                "Break text": e("Break text"),
                "In line": e("In line"),
                "Full size image": e("Full size image"),
                "Side image": e("Side image"),
                "Left aligned image": e("Left aligned image"),
                "Centered image": e("Centered image"),
                "Right aligned image": e("Right aligned image")
              };
            }
          }, {
            key: "init",
            value: function init() {
              var e = this.editor.plugins,
                  t = this.editor.config.get("image.toolbar") || [],
                  n = LT(e.get("ImageStyleEditing").normalizedStyles, this.localizedDefaultStylesTitles);

              var _iterator616 = _createForOfIteratorHelper(n),
                  _step616;

              try {
                for (_iterator616.s(); !(_step616 = _iterator616.n()).done;) {
                  var _e478 = _step616.value;

                  this._createButton(_e478);
                }
              } catch (err) {
                _iterator616.e(err);
              } finally {
                _iterator616.f();
              }

              var i = LT([].concat(_toConsumableArray(t.filter(b)), _toConsumableArray(RT.getDefaultDropdownDefinitions(e))), this.localizedDefaultStylesTitles);

              var _iterator617 = _createForOfIteratorHelper(i),
                  _step617;

              try {
                for (_iterator617.s(); !(_step617 = _iterator617.n()).done;) {
                  var _e479 = _step617.value;

                  this._createDropdown(_e479, n);
                }
              } catch (err) {
                _iterator617.e(err);
              } finally {
                _iterator617.f();
              }
            }
          }, {
            key: "_createDropdown",
            value: function _createDropdown(e, t) {
              var n = this.editor.ui.componentFactory;
              n.add(e.name, function (i) {
                var o;
                var r = e.defaultItem,
                    s = e.items,
                    a = e.title,
                    c = s.filter(function (e) {
                  return t.find(function (_ref130) {
                    var t = _ref130.name;
                    return zT(t) === e;
                  });
                }).map(function (e) {
                  var t = n.create(e);
                  return e === r && (o = t), t;
                });
                s.length !== c.length && RT.warnInvalidStyle({
                  dropdown: e
                });
                var l = Qh(i, Oh),
                    d = l.buttonView;
                return Jh(l, c), d.set({
                  label: VT(a, o.label),
                  "class": null,
                  tooltip: !0
                }), d.bind("icon").toMany(c, "isOn", function () {
                  for (var _len29 = arguments.length, e = new Array(_len29), _key29 = 0; _key29 < _len29; _key29++) {
                    e[_key29] = arguments[_key29];
                  }

                  var t = e.findIndex(ie);
                  return t < 0 ? o.icon : c[t].icon;
                }), d.bind("label").toMany(c, "isOn", function () {
                  for (var _len30 = arguments.length, e = new Array(_len30), _key30 = 0; _key30 < _len30; _key30++) {
                    e[_key30] = arguments[_key30];
                  }

                  var t = e.findIndex(ie);
                  return VT(a, t < 0 ? o.label : c[t].label);
                }), d.bind("isOn").toMany(c, "isOn", function () {
                  for (var _len31 = arguments.length, e = new Array(_len31), _key31 = 0; _key31 < _len31; _key31++) {
                    e[_key31] = arguments[_key31];
                  }

                  return e.some(ie);
                }), d.bind("class").toMany(c, "isOn", function () {
                  for (var _len32 = arguments.length, e = new Array(_len32), _key32 = 0; _key32 < _len32; _key32++) {
                    e[_key32] = arguments[_key32];
                  }

                  return e.some(ie) ? "ck-splitbutton_flatten" : null;
                }), d.on("execute", function () {
                  c.some(function (_ref131) {
                    var e = _ref131.isOn;
                    return e;
                  }) ? l.isOpen = !l.isOpen : o.fire("execute");
                }), l.bind("isEnabled").toMany(c, "isEnabled", function () {
                  for (var _len33 = arguments.length, e = new Array(_len33), _key33 = 0; _key33 < _len33; _key33++) {
                    e[_key33] = arguments[_key33];
                  }

                  return e.some(ie);
                }), l;
              });
            }
          }, {
            key: "_createButton",
            value: function _createButton(e) {
              var _this406 = this;

              var t = e.name;
              this.editor.ui.componentFactory.add(zT(t), function (n) {
                var i = _this406.editor.commands.get("imageStyle"),
                    o = new Th(n);

                return o.set({
                  label: e.title,
                  icon: e.icon,
                  tooltip: !0,
                  isToggleable: !0
                }), o.bind("isEnabled").to(i, "isEnabled"), o.bind("isOn").to(i, "value", function (e) {
                  return e === t;
                }), o.on("execute", _this406._executeCommand.bind(_this406, t)), o;
              });
            }
          }, {
            key: "_executeCommand",
            value: function _executeCommand(e) {
              this.editor.execute("imageStyle", {
                value: e
              }), this.editor.editing.view.focus();
            }
          }], [{
            key: "requires",
            get: function get() {
              return [OT];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "ImageStyleUI";
            }
          }]);

          return DT;
        }(st);

        function LT(e, t) {
          var _iterator618 = _createForOfIteratorHelper(e),
              _step618;

          try {
            for (_iterator618.s(); !(_step618 = _iterator618.n()).done;) {
              var _n353 = _step618.value;
              t[_n353.title] && (_n353.title = t[_n353.title]);
            }
          } catch (err) {
            _iterator618.e(err);
          } finally {
            _iterator618.f();
          }

          return e;
        }

        function zT(e) {
          return "imageStyle:".concat(e);
        }

        function VT(e, t) {
          return (e ? e + ": " : "") + t;
        }

        function BT(e) {
          var t = e.map(function (e) {
            return e.replace("+", "\\+");
          });
          return new RegExp("^image\\/(".concat(t.join("|"), ")$"));
        }

        function FT(e) {
          return new Promise(function (t, n) {
            var i = e.getAttribute("src");
            fetch(i).then(function (e) {
              return e.blob();
            }).then(function (e) {
              var n = jT(e, i),
                  o = "image.".concat(n.replace("image/", "")),
                  r = new File([e], o, {
                type: n
              });
              t(r);
            })["catch"](function (e) {
              return e && "TypeError" === e.name ? function (e) {
                return function (e) {
                  return new Promise(function (t, n) {
                    var i = fs.document.createElement("img");
                    i.addEventListener("load", function () {
                      var e = fs.document.createElement("canvas");
                      e.width = i.width, e.height = i.height;
                      var o = e.getContext("2d");
                      o.drawImage(i, 0, 0), e.toBlob(function (e) {
                        return e ? t(e) : n();
                      });
                    }), i.addEventListener("error", function () {
                      return n();
                    }), i.src = e;
                  });
                }(e).then(function (t) {
                  var n = jT(t, e),
                      i = n.replace("image/", ""),
                      o = "image.".concat(i);
                  return new File([t], o, {
                    type: n
                  });
                });
              }(i).then(t)["catch"](n) : n(e);
            });
          });
        }

        function jT(e, t) {
          return e.type ? e.type : t.match(/data:(image\/\w+);base64/) ? t.match(/data:(image\/\w+);base64/)[1].toLowerCase() : "image/jpeg";
        }

        var HT = /*#__PURE__*/function (_st108) {
          _inherits(HT, _st108);

          var _super258 = _createSuper(HT);

          function HT() {
            _classCallCheck(this, HT);

            return _super258.apply(this, arguments);
          }

          _createClass(HT, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = e.t,
                  n = function n(_n354) {
                var i = new oC(_n354),
                    o = e.commands.get("uploadImage"),
                    r = e.config.get("image.upload.types"),
                    s = BT(r);
                return i.set({
                  acceptedType: r.map(function (e) {
                    return "image/".concat(e);
                  }).join(","),
                  allowMultipleFiles: !0
                }), i.buttonView.set({
                  label: t("Insert image"),
                  icon: Ju.image,
                  tooltip: !0
                }), i.buttonView.bind("isEnabled").to(o), i.on("done", function (t, n) {
                  var i = Array.from(n).filter(function (e) {
                    return s.test(e.type);
                  });
                  i.length && e.execute("uploadImage", {
                    file: i
                  });
                }), i;
              };

              e.ui.componentFactory.add("uploadImage", n), e.ui.componentFactory.add("imageUpload", n);
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "ImageUploadUI";
            }
          }]);

          return HT;
        }(st);

        var UT = n(68),
            WT = n.n(UT);
        n(191), n(193), n(195);

        var qT = /*#__PURE__*/function (_st109) {
          _inherits(qT, _st109);

          var _super259 = _createSuper(qT);

          function qT(e) {
            var _this407;

            _classCallCheck(this, qT);

            _this407 = _super259.call(this, e), _this407.placeholder = "data:image/svg+xml;utf8," + encodeURIComponent(WT.a);
            return _this407;
          }

          _createClass(qT, [{
            key: "init",
            value: function init() {
              var _this408 = this;

              var e = this.editor;
              e.plugins.has("ImageBlockEditing") && e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock", function () {
                return _this408.uploadStatusChange.apply(_this408, arguments);
              }), e.plugins.has("ImageInlineEditing") && e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline", function () {
                return _this408.uploadStatusChange.apply(_this408, arguments);
              });
            }
          }, {
            key: "uploadStatusChange",
            value: function uploadStatusChange(e, t, n) {
              var i = this.editor,
                  o = t.item,
                  r = o.getAttribute("uploadId");
              if (!n.consumable.consume(t.item, e.name)) return;
              var s = i.plugins.get("ImageUtils"),
                  a = i.plugins.get(nC),
                  c = r ? t.attributeNewValue : null,
                  l = this.placeholder,
                  d = i.editing.mapper.toViewElement(o),
                  u = n.writer;
              if ("reading" == c) return $T(d, u), void GT(s, l, d, u);

              if ("uploading" == c) {
                var _e480 = a.loaders.get(r);

                return $T(d, u), void (_e480 ? (YT(d, u), function (e, t, n, i) {
                  var o = function (e) {
                    var t = e.createUIElement("div", {
                      "class": "ck-progress-bar"
                    });
                    return e.setCustomProperty("progressBar", !0, t), t;
                  }(t);

                  t.insert(t.createPositionAt(e, "end"), o), n.on("change:uploadedPercent", function (e, t, n) {
                    i.change(function (e) {
                      e.setStyle("width", n + "%", o);
                    });
                  });
                }(d, u, _e480, i.editing.view), function (e, t, n, i) {
                  if (i.data) {
                    var _o164 = e.findViewImgElement(t);

                    n.setAttribute("src", i.data, _o164);
                  }
                }(s, d, u, _e480)) : GT(s, l, d, u));
              }

              "complete" == c && a.loaders.get(r) && function (e, t, n) {
                var i = t.createUIElement("div", {
                  "class": "ck-image-upload-complete-icon"
                });
                t.insert(t.createPositionAt(e, "end"), i), setTimeout(function () {
                  n.change(function (e) {
                    return e.remove(e.createRangeOn(i));
                  });
                }, 3e3);
              }(d, u, i.editing.view), function (e, t) {
                QT(e, t, "progressBar");
              }(d, u), YT(d, u), function (e, t) {
                t.removeClass("ck-appear", e);
              }(d, u);
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "ImageUploadProgress";
            }
          }]);

          return qT;
        }(st);

        function $T(e, t) {
          e.hasClass("ck-appear") || t.addClass("ck-appear", e);
        }

        function GT(e, t, n, i) {
          n.hasClass("ck-image-upload-placeholder") || i.addClass("ck-image-upload-placeholder", n);
          var o = e.findViewImgElement(n);
          o.getAttribute("src") !== t && i.setAttribute("src", t, o), KT(n, "placeholder") || i.insert(i.createPositionAfter(o), function (e) {
            var t = e.createUIElement("div", {
              "class": "ck-upload-placeholder-loader"
            });
            return e.setCustomProperty("placeholder", !0, t), t;
          }(i));
        }

        function YT(e, t) {
          e.hasClass("ck-image-upload-placeholder") && t.removeClass("ck-image-upload-placeholder", e), QT(e, t, "placeholder");
        }

        function KT(e, t) {
          var _iterator619 = _createForOfIteratorHelper(e.getChildren()),
              _step619;

          try {
            for (_iterator619.s(); !(_step619 = _iterator619.n()).done;) {
              var _n355 = _step619.value;
              if (_n355.getCustomProperty(t)) return _n355;
            }
          } catch (err) {
            _iterator619.e(err);
          } finally {
            _iterator619.f();
          }
        }

        function QT(e, t, n) {
          var i = KT(e, n);
          i && t.remove(t.createRangeOn(i));
        }

        var JT = /*#__PURE__*/function (_ct32) {
          _inherits(JT, _ct32);

          var _super260 = _createSuper(JT);

          function JT() {
            _classCallCheck(this, JT);

            return _super260.apply(this, arguments);
          }

          _createClass(JT, [{
            key: "refresh",
            value: function refresh() {
              var e = this.editor,
                  t = e.plugins.get("ImageUtils"),
                  n = e.model.document.selection.getSelectedElement();
              this.isEnabled = t.isImageAllowed() || t.isImage(n);
            }
          }, {
            key: "execute",
            value: function execute(e) {
              var _this409 = this;

              var t = Wi(e.file),
                  n = this.editor.model.document.selection,
                  i = this.editor.plugins.get("ImageUtils"),
                  o = Object.fromEntries(n.getAttributes());
              t.forEach(function (e, t) {
                var r = n.getSelectedElement();

                if (t && r && i.isImage(r)) {
                  var _t442 = _this409.editor.model.createPositionAfter(r);

                  _this409._uploadImage(e, o, _t442);
                } else _this409._uploadImage(e, o);
              });
            }
          }, {
            key: "_uploadImage",
            value: function _uploadImage(e, t, n) {
              var i = this.editor,
                  o = i.plugins.get(nC).createLoader(e),
                  r = i.plugins.get("ImageUtils");
              o && r.insertImage(_objectSpread(_objectSpread({}, t), {}, {
                uploadId: o.id
              }), n);
            }
          }]);

          return JT;
        }(ct);

        var XT = /*#__PURE__*/function (_st110) {
          _inherits(XT, _st110);

          var _super261 = _createSuper(XT);

          function XT(e) {
            var _this410;

            _classCallCheck(this, XT);

            _this410 = _super261.call(this, e), e.config.define("image", {
              upload: {
                types: ["jpeg", "png", "gif", "bmp", "webp", "tiff"]
              }
            }), _this410._uploadImageElements = new Map();
            return _this410;
          }

          _createClass(XT, [{
            key: "init",
            value: function init() {
              var _this411 = this;

              var e = this.editor,
                  t = e.model.document,
                  n = e.conversion,
                  i = e.plugins.get(nC),
                  o = e.plugins.get("ImageUtils"),
                  r = BT(e.config.get("image.upload.types")),
                  s = new JT(e);
              e.commands.add("uploadImage", s), e.commands.add("imageUpload", s), n["for"]("upcast").attributeToAttribute({
                view: {
                  name: "img",
                  key: "uploadId"
                },
                model: "uploadId"
              }), this.listenTo(e.editing.view.document, "clipboardInput", function (t, n) {
                if (function (e) {
                  return Array.from(e.types).includes("text/html") && "" !== e.getData("text/html");
                }(n.dataTransfer)) return;
                var i = Array.from(n.dataTransfer.files).filter(function (e) {
                  return !!e && r.test(e.type);
                });
                i.length && (t.stop(), e.model.change(function (t) {
                  n.targetRanges && t.setSelection(n.targetRanges.map(function (t) {
                    return e.editing.mapper.toModelRange(t);
                  })), e.model.enqueueChange("default", function () {
                    e.execute("uploadImage", {
                      file: i
                    });
                  });
                }));
              }), this.listenTo(e.plugins.get("ClipboardPipeline"), "inputTransformation", function (t, n) {
                var r = Array.from(e.editing.view.createRangeIn(n.content)).filter(function (e) {
                  return function (e, t) {
                    return !(!e.isInlineImageView(t) || !t.getAttribute("src")) && (t.getAttribute("src").match(/^data:image\/\w+;base64,/g) || t.getAttribute("src").match(/^blob:/g));
                  }(o, e.item) && !e.item.getAttribute("uploadProcessed");
                }).map(function (e) {
                  return {
                    promise: FT(e.item),
                    imageElement: e.item
                  };
                });
                if (!r.length) return;
                var s = new Wg(e.editing.view.document);

                var _iterator620 = _createForOfIteratorHelper(r),
                    _step620;

                try {
                  for (_iterator620.s(); !(_step620 = _iterator620.n()).done;) {
                    var _e481 = _step620.value;
                    s.setAttribute("uploadProcessed", !0, _e481.imageElement);

                    var _t443 = i.createLoader(_e481.promise);

                    _t443 && (s.setAttribute("src", "", _e481.imageElement), s.setAttribute("uploadId", _t443.id, _e481.imageElement));
                  }
                } catch (err) {
                  _iterator620.e(err);
                } finally {
                  _iterator620.f();
                }
              }), e.editing.view.document.on("dragover", function (e, t) {
                t.preventDefault();
              }), t.on("change", function () {
                var n = t.differ.getChanges({
                  includeChangesInGraveyard: !0
                }).reverse(),
                    o = new Set();

                var _iterator621 = _createForOfIteratorHelper(n),
                    _step621;

                try {
                  for (_iterator621.s(); !(_step621 = _iterator621.n()).done;) {
                    var _t444 = _step621.value;

                    if ("insert" == _t444.type && "$text" != _t444.name) {
                      var _n356 = _t444.position.nodeAfter,
                          _r91 = "$graveyard" == _t444.position.root.rootName;

                      var _iterator622 = _createForOfIteratorHelper(ZT(e, _n356)),
                          _step622;

                      try {
                        for (_iterator622.s(); !(_step622 = _iterator622.n()).done;) {
                          var _t445 = _step622.value;

                          var _e482 = _t445.getAttribute("uploadId");

                          if (!_e482) continue;

                          var _n357 = i.loaders.get(_e482);

                          _n357 && (_r91 ? o.has(_e482) || _n357.abort() : (o.add(_e482), _this411._uploadImageElements.set(_e482, _t445), "idle" == _n357.status && _this411._readAndUpload(_n357)));
                        }
                      } catch (err) {
                        _iterator622.e(err);
                      } finally {
                        _iterator622.f();
                      }
                    }
                  }
                } catch (err) {
                  _iterator621.e(err);
                } finally {
                  _iterator621.f();
                }
              }), this.on("uploadComplete", function (e, _ref132) {
                var t = _ref132.imageElement,
                    n = _ref132.data;
                var i = n.urls ? n.urls : n;

                _this411.editor.model.change(function (e) {
                  e.setAttribute("src", i["default"], t), _this411._parseAndSetSrcsetAttributeOnImage(i, t, e);
                });
              }, {
                priority: "low"
              });
            }
          }, {
            key: "afterInit",
            value: function afterInit() {
              var e = this.editor.model.schema;
              this.editor.plugins.has("ImageBlockEditing") && e.extend("imageBlock", {
                allowAttributes: ["uploadId", "uploadStatus"]
              }), this.editor.plugins.has("ImageInlineEditing") && e.extend("imageInline", {
                allowAttributes: ["uploadId", "uploadStatus"]
              });
            }
          }, {
            key: "_readAndUpload",
            value: function _readAndUpload(e) {
              var _this412 = this;

              var t = this.editor,
                  n = t.model,
                  i = t.locale.t,
                  o = t.plugins.get(nC),
                  r = t.plugins.get(ag),
                  s = t.plugins.get("ImageUtils"),
                  a = this._uploadImageElements;
              return n.enqueueChange("transparent", function (t) {
                t.setAttribute("uploadStatus", "reading", a.get(e.id));
              }), e.read().then(function () {
                var i = e.upload(),
                    o = a.get(e.id);

                if (Cr.isSafari) {
                  var _e483 = t.editing.mapper.toViewElement(o),
                      _n358 = s.findViewImgElement(_e483);

                  t.editing.view.once("render", function () {
                    if (!_n358.parent) return;
                    var e = t.editing.view.domConverter.mapViewToDom(_n358.parent);
                    if (!e) return;
                    var i = e.style.display;
                    e.style.display = "none", e._ckHack = e.offsetHeight, e.style.display = i;
                  });
                }

                return n.enqueueChange("transparent", function (e) {
                  e.setAttribute("uploadStatus", "uploading", o);
                }), i;
              }).then(function (t) {
                n.enqueueChange("transparent", function (n) {
                  var i = a.get(e.id);
                  n.setAttribute("uploadStatus", "complete", i), _this412.fire("uploadComplete", {
                    data: t,
                    imageElement: i
                  });
                }), c();
              })["catch"](function (t) {
                if ("error" !== e.status && "aborted" !== e.status) throw t;
                "error" == e.status && t && r.showWarning(t, {
                  title: i("Upload failed"),
                  namespace: "upload"
                }), n.enqueueChange("transparent", function (t) {
                  t.remove(a.get(e.id));
                }), c();
              });

              function c() {
                n.enqueueChange("transparent", function (t) {
                  var n = a.get(e.id);
                  t.removeAttribute("uploadId", n), t.removeAttribute("uploadStatus", n), a["delete"](e.id);
                }), o.destroyLoader(e);
              }
            }
          }, {
            key: "_parseAndSetSrcsetAttributeOnImage",
            value: function _parseAndSetSrcsetAttributeOnImage(e, t, n) {
              var i = 0;
              var o = Object.keys(e).filter(function (e) {
                var t = parseInt(e, 10);
                if (!isNaN(t)) return i = Math.max(i, t), !0;
              }).map(function (t) {
                return "".concat(e[t], " ").concat(t, "w");
              }).join(", ");
              "" != o && n.setAttribute("srcset", {
                data: o,
                width: i
              }, t);
            }
          }], [{
            key: "requires",
            get: function get() {
              return [nC, ag, xf, WC];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "ImageUploadEditing";
            }
          }]);

          return XT;
        }(st);

        function ZT(e, t) {
          var n = e.plugins.get("ImageUtils");
          return Array.from(e.model.createRangeOn(t)).filter(function (e) {
            return n.isImage(e.item);
          }).map(function (e) {
            return e.item;
          });
        }

        var eA = /*#__PURE__*/function () {
          function eA() {
            _classCallCheck(this, eA);

            this._definitions = new Set();
          }

          _createClass(eA, [{
            key: "length",
            get: function get() {
              return this._definitions.size;
            }
          }, {
            key: "add",
            value: function add(e) {
              var _this413 = this;

              Array.isArray(e) ? e.forEach(function (e) {
                return _this413._definitions.add(e);
              }) : this._definitions.add(e);
            }
          }, {
            key: "getDispatcher",
            value: function getDispatcher() {
              var _this414 = this;

              return function (e) {
                e.on("attribute:linkHref", function (e, t, n) {
                  if (!n.consumable.test(t.item, "attribute:linkHref")) return;
                  var i = n.writer,
                      o = i.document.selection;

                  var _iterator623 = _createForOfIteratorHelper(_this414._definitions),
                      _step623;

                  try {
                    for (_iterator623.s(); !(_step623 = _iterator623.n()).done;) {
                      var _e484 = _step623.value;

                      var _r92 = i.createAttributeElement("a", _e484.attributes, {
                        priority: 5
                      });

                      _e484.classes && i.addClass(_e484.classes, _r92);

                      for (var _t446 in _e484.styles) {
                        i.setStyle(_t446, _e484.styles[_t446], _r92);
                      }

                      i.setCustomProperty("link", !0, _r92), _e484.callback(t.attributeNewValue) ? t.item.is("selection") ? i.wrap(o.getFirstRange(), _r92) : i.wrap(n.mapper.toViewRange(t.range), _r92) : i.unwrap(n.mapper.toViewRange(t.range), _r92);
                    }
                  } catch (err) {
                    _iterator623.e(err);
                  } finally {
                    _iterator623.f();
                  }
                }, {
                  priority: "high"
                });
              };
            }
          }, {
            key: "getDispatcherForLinkedImage",
            value: function getDispatcherForLinkedImage() {
              var _this415 = this;

              return function (e) {
                e.on("attribute:linkHref:imageBlock", function (e, t, _ref133) {
                  var n = _ref133.writer,
                      i = _ref133.mapper;
                  var o = i.toViewElement(t.item),
                      r = Array.from(o.getChildren()).find(function (e) {
                    return "a" === e.name;
                  });

                  var _iterator624 = _createForOfIteratorHelper(_this415._definitions),
                      _step624;

                  try {
                    for (_iterator624.s(); !(_step624 = _iterator624.n()).done;) {
                      var _e485 = _step624.value;

                      var _i315 = io(_e485.attributes);

                      if (_e485.callback(t.attributeNewValue)) {
                        var _iterator625 = _createForOfIteratorHelper(_i315),
                            _step625;

                        try {
                          for (_iterator625.s(); !(_step625 = _iterator625.n()).done;) {
                            var _step625$value = _slicedToArray(_step625.value, 2),
                                _e486 = _step625$value[0],
                                _t448 = _step625$value[1];

                            "class" === _e486 ? n.addClass(_t448, r) : n.setAttribute(_e486, _t448, r);
                          }
                        } catch (err) {
                          _iterator625.e(err);
                        } finally {
                          _iterator625.f();
                        }

                        _e485.classes && n.addClass(_e485.classes, r);

                        for (var _t447 in _e485.styles) {
                          n.setStyle(_t447, _e485.styles[_t447], r);
                        }
                      } else {
                        var _iterator626 = _createForOfIteratorHelper(_i315),
                            _step626;

                        try {
                          for (_iterator626.s(); !(_step626 = _iterator626.n()).done;) {
                            var _step626$value = _slicedToArray(_step626.value, 2),
                                _e487 = _step626$value[0],
                                _t450 = _step626$value[1];

                            "class" === _e487 ? n.removeClass(_t450, r) : n.removeAttribute(_e487, r);
                          }
                        } catch (err) {
                          _iterator626.e(err);
                        } finally {
                          _iterator626.f();
                        }

                        _e485.classes && n.removeClass(_e485.classes, r);

                        for (var _t449 in _e485.styles) {
                          n.removeStyle(_t449, r);
                        }
                      }
                    }
                  } catch (err) {
                    _iterator624.e(err);
                  } finally {
                    _iterator624.f();
                  }
                });
              };
            }
          }]);

          return eA;
        }();

        var tA = function tA(e, t, n) {
          var i = e.length;
          return n = void 0 === n ? i : n, !t && n >= i ? e : Po(e, t, n);
        },
            nA = RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");

        var iA = function iA(e) {
          return nA.test(e);
        };

        var oA = function oA(e) {
          return e.split("");
        },
            rA = "[\\ud800-\\udfff]",
            sA = "[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",
            aA = "\\ud83c[\\udffb-\\udfff]",
            cA = "[^\\ud800-\\udfff]",
            lA = "(?:\\ud83c[\\udde6-\\uddff]){2}",
            dA = "[\\ud800-\\udbff][\\udc00-\\udfff]",
            uA = "(?:" + sA + "|" + aA + ")" + "?",
            hA = "[\\ufe0e\\ufe0f]?" + uA + ("(?:\\u200d(?:" + [cA, lA, dA].join("|") + ")[\\ufe0e\\ufe0f]?" + uA + ")*"),
            gA = "(?:" + [cA + sA + "?", sA, lA, dA, rA].join("|") + ")",
            mA = RegExp(aA + "(?=" + aA + ")|" + gA + hA, "g");

        var fA = function fA(e) {
          return e.match(mA) || [];
        };

        var pA = function pA(e) {
          return iA(e) ? fA(e) : oA(e);
        };

        var kA = function (e) {
          return function (t) {
            t = To(t);
            var n = iA(t) ? pA(t) : void 0,
                i = n ? n[0] : t.charAt(0),
                o = n ? tA(n, 1).join("") : t.slice(1);
            return i[e]() + o;
          };
        }("toUpperCase");

        var bA = /[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,
            wA = /^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,
            _A = /^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,
            vA = /^((\w+:(\/{2,})?)|(\W))/i,
            xA = "Ctrl+K";

        function yA(e, _ref134) {
          var t = _ref134.writer;
          var n = t.createAttributeElement("a", {
            href: e
          }, {
            priority: 5
          });
          return t.setCustomProperty("link", !0, n), n;
        }

        function CA(e) {
          return function (e) {
            return e.replace(bA, "").match(wA);
          }(e = String(e)) ? e : "#";
        }

        function TA(e, t) {
          return !!e && t.checkAttribute(e.name, "linkHref");
        }

        function AA(e, t) {
          var n = function (e) {
            return _A.test(e);
          }(e) ? "mailto:" : t,
              i = !!n && !vA.test(e);
          return e && i ? n + e : e;
        }

        var EA = /*#__PURE__*/function (_ct33) {
          _inherits(EA, _ct33);

          var _super262 = _createSuper(EA);

          function EA(e) {
            var _this416;

            _classCallCheck(this, EA);

            _this416 = _super262.call(this, e), _this416.manualDecorators = new Hi(), _this416.automaticDecorators = new eA();
            return _this416;
          }

          _createClass(EA, [{
            key: "restoreManualDecoratorStates",
            value: function restoreManualDecoratorStates() {
              var _iterator627 = _createForOfIteratorHelper(this.manualDecorators),
                  _step627;

              try {
                for (_iterator627.s(); !(_step627 = _iterator627.n()).done;) {
                  var _e488 = _step627.value;
                  _e488.value = this._getDecoratorStateFromModel(_e488.id);
                }
              } catch (err) {
                _iterator627.e(err);
              } finally {
                _iterator627.f();
              }
            }
          }, {
            key: "refresh",
            value: function refresh() {
              var e = this.editor.model,
                  t = e.document.selection,
                  n = t.getSelectedElement() || Ja(t.getSelectedBlocks());
              TA(n, e.schema) ? (this.value = n.getAttribute("linkHref"), this.isEnabled = e.schema.checkAttribute(n, "linkHref")) : (this.value = t.getAttribute("linkHref"), this.isEnabled = e.schema.checkAttributeInSelection(t, "linkHref"));

              var _iterator628 = _createForOfIteratorHelper(this.manualDecorators),
                  _step628;

              try {
                for (_iterator628.s(); !(_step628 = _iterator628.n()).done;) {
                  var _e489 = _step628.value;
                  _e489.value = this._getDecoratorStateFromModel(_e489.id);
                }
              } catch (err) {
                _iterator628.e(err);
              } finally {
                _iterator628.f();
              }
            }
          }, {
            key: "execute",
            value: function execute(e) {
              var _this417 = this;

              var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
              var n = this.editor.model,
                  i = n.document.selection,
                  o = [],
                  r = [];

              for (var _e490 in t) {
                t[_e490] ? o.push(_e490) : r.push(_e490);
              }

              n.change(function (t) {
                if (i.isCollapsed) {
                  var _s62 = i.getFirstPosition();

                  if (i.hasAttribute("linkHref")) {
                    var _a48 = $p(_s62, "linkHref", i.getAttribute("linkHref"), n);

                    t.setAttribute("linkHref", e, _a48), o.forEach(function (e) {
                      t.setAttribute(e, !0, _a48);
                    }), r.forEach(function (e) {
                      t.removeAttribute(e, _a48);
                    }), t.setSelection(t.createPositionAfter(_a48.end.nodeBefore));
                  } else if ("" !== e) {
                    var _r93 = io(i.getAttributes());

                    _r93.set("linkHref", e), o.forEach(function (e) {
                      _r93.set(e, !0);
                    });

                    var _n$insertContent = n.insertContent(t.createText(e, _r93), _s62),
                        _a49 = _n$insertContent.end;

                    t.setSelection(_a49);
                  }

                  ["linkHref"].concat(o, r).forEach(function (e) {
                    t.removeSelectionAttribute(e);
                  });
                } else {
                  var _s63 = n.schema.getValidRanges(i.getRanges(), "linkHref"),
                      _a50 = [];

                  var _iterator629 = _createForOfIteratorHelper(i.getSelectedBlocks()),
                      _step629;

                  try {
                    for (_iterator629.s(); !(_step629 = _iterator629.n()).done;) {
                      var _e491 = _step629.value;
                      n.schema.checkAttribute(_e491, "linkHref") && _a50.push(t.createRangeOn(_e491));
                    }
                  } catch (err) {
                    _iterator629.e(err);
                  } finally {
                    _iterator629.f();
                  }

                  var _c35 = _a50.slice();

                  var _iterator630 = _createForOfIteratorHelper(_s63),
                      _step630;

                  try {
                    for (_iterator630.s(); !(_step630 = _iterator630.n()).done;) {
                      var _e492 = _step630.value;
                      _this417._isRangeToUpdate(_e492, _a50) && _c35.push(_e492);
                    }
                  } catch (err) {
                    _iterator630.e(err);
                  } finally {
                    _iterator630.f();
                  }

                  var _iterator631 = _createForOfIteratorHelper(_c35),
                      _step631;

                  try {
                    var _loop24 = function _loop24() {
                      var n = _step631.value;
                      t.setAttribute("linkHref", e, n), o.forEach(function (e) {
                        t.setAttribute(e, !0, n);
                      }), r.forEach(function (e) {
                        t.removeAttribute(e, n);
                      });
                    };

                    for (_iterator631.s(); !(_step631 = _iterator631.n()).done;) {
                      _loop24();
                    }
                  } catch (err) {
                    _iterator631.e(err);
                  } finally {
                    _iterator631.f();
                  }
                }
              });
            }
          }, {
            key: "_getDecoratorStateFromModel",
            value: function _getDecoratorStateFromModel(e) {
              var t = this.editor.model,
                  n = t.document.selection,
                  i = n.getSelectedElement();
              return TA(i, t.schema) ? i.getAttribute(e) : n.getAttribute(e);
            }
          }, {
            key: "_isRangeToUpdate",
            value: function _isRangeToUpdate(e, t) {
              var _iterator632 = _createForOfIteratorHelper(t),
                  _step632;

              try {
                for (_iterator632.s(); !(_step632 = _iterator632.n()).done;) {
                  var _n359 = _step632.value;
                  if (_n359.containsRange(e)) return !1;
                }
              } catch (err) {
                _iterator632.e(err);
              } finally {
                _iterator632.f();
              }

              return !0;
            }
          }]);

          return EA;
        }(ct);

        var IA = /*#__PURE__*/function (_ct34) {
          _inherits(IA, _ct34);

          var _super263 = _createSuper(IA);

          function IA() {
            _classCallCheck(this, IA);

            return _super263.apply(this, arguments);
          }

          _createClass(IA, [{
            key: "refresh",
            value: function refresh() {
              var e = this.editor.model,
                  t = e.document.selection,
                  n = t.getSelectedElement();
              TA(n, e.schema) ? this.isEnabled = e.schema.checkAttribute(n, "linkHref") : this.isEnabled = e.schema.checkAttributeInSelection(t, "linkHref");
            }
          }, {
            key: "execute",
            value: function execute() {
              var e = this.editor,
                  t = this.editor.model,
                  n = t.document.selection,
                  i = e.commands.get("link");
              t.change(function (e) {
                var o = n.isCollapsed ? [$p(n.getFirstPosition(), "linkHref", n.getAttribute("linkHref"), t)] : t.schema.getValidRanges(n.getRanges(), "linkHref");

                var _iterator633 = _createForOfIteratorHelper(o),
                    _step633;

                try {
                  for (_iterator633.s(); !(_step633 = _iterator633.n()).done;) {
                    var _t451 = _step633.value;

                    if (e.removeAttribute("linkHref", _t451), i) {
                      var _iterator634 = _createForOfIteratorHelper(i.manualDecorators),
                          _step634;

                      try {
                        for (_iterator634.s(); !(_step634 = _iterator634.n()).done;) {
                          var _n360 = _step634.value;
                          e.removeAttribute(_n360.id, _t451);
                        }
                      } catch (err) {
                        _iterator634.e(err);
                      } finally {
                        _iterator634.f();
                      }
                    }
                  }
                } catch (err) {
                  _iterator633.e(err);
                } finally {
                  _iterator633.f();
                }
              });
            }
          }]);

          return IA;
        }(ct);

        var SA = /*#__PURE__*/function () {
          function SA(_ref135) {
            var e = _ref135.id,
                t = _ref135.label,
                n = _ref135.attributes,
                i = _ref135.classes,
                o = _ref135.styles,
                r = _ref135.defaultValue;

            _classCallCheck(this, SA);

            this.id = e, this.set("value"), this.defaultValue = r, this.label = t, this.attributes = n, this.classes = i, this.styles = o;
          }

          _createClass(SA, [{
            key: "_createPattern",
            value: function _createPattern() {
              return {
                attributes: this.attributes,
                classes: this.classes,
                styles: this.styles
              };
            }
          }]);

          return SA;
        }();

        rt(SA, Ze);
        n(197);
        var MA = "ck-link_selected",
            PA = "automatic",
            RA = "manual",
            NA = /^(https?:)?\/\//;

        var OA = /*#__PURE__*/function (_st111) {
          _inherits(OA, _st111);

          var _super264 = _createSuper(OA);

          function OA(e) {
            var _this418;

            _classCallCheck(this, OA);

            _this418 = _super264.call(this, e), e.config.define("link", {
              addTargetToExternalLinks: !1
            });
            return _this418;
          }

          _createClass(OA, [{
            key: "init",
            value: function init() {
              var e = this.editor;
              e.model.schema.extend("$text", {
                allowAttributes: "linkHref"
              }), e.conversion["for"]("dataDowncast").attributeToElement({
                model: "linkHref",
                view: yA
              }), e.conversion["for"]("editingDowncast").attributeToElement({
                model: "linkHref",
                view: function view(e, t) {
                  return yA(CA(e), t);
                }
              }), e.conversion["for"]("upcast").elementToAttribute({
                view: {
                  name: "a",
                  attributes: {
                    href: !0
                  }
                },
                model: {
                  key: "linkHref",
                  value: function value(e) {
                    return e.getAttribute("href");
                  }
                }
              }), e.commands.add("link", new EA(e)), e.commands.add("unlink", new IA(e));

              var t = function (e, t) {
                var n = {
                  "Open in a new tab": e("Open in a new tab"),
                  Downloadable: e("Downloadable")
                };
                return t.forEach(function (e) {
                  return e.label && n[e.label] && (e.label = n[e.label]), e;
                }), t;
              }(e.t, function (e) {
                var t = [];
                if (e) for (var _i316 = 0, _Object$entries3 = Object.entries(e); _i316 < _Object$entries3.length; _i316++) {
                  var _Object$entries3$_i = _slicedToArray(_Object$entries3[_i316], 2),
                      _n361 = _Object$entries3$_i[0],
                      _i317 = _Object$entries3$_i[1];

                  var _e493 = Object.assign({}, _i317, {
                    id: "link".concat(kA(_n361))
                  });

                  t.push(_e493);
                }
                return t;
              }(e.config.get("link.decorators")));

              this._enableAutomaticDecorators(t.filter(function (e) {
                return e.mode === PA;
              })), this._enableManualDecorators(t.filter(function (e) {
                return e.mode === RA;
              })), e.plugins.get(Bp).registerAttribute("linkHref"), function (e, t, n, i) {
                var o = e.editing.view,
                    r = new Set();
                o.document.registerPostFixer(function (o) {
                  var s = e.model.document.selection;
                  var a = !1;

                  if (s.hasAttribute(t)) {
                    var _c36 = $p(s.getFirstPosition(), t, s.getAttribute(t), e.model),
                        _l25 = e.editing.mapper.toViewRange(_c36);

                    var _iterator635 = _createForOfIteratorHelper(_l25.getItems()),
                        _step635;

                    try {
                      for (_iterator635.s(); !(_step635 = _iterator635.n()).done;) {
                        var _e494 = _step635.value;
                        _e494.is("element", n) && !_e494.hasClass(i) && (o.addClass(i, _e494), r.add(_e494), a = !0);
                      }
                    } catch (err) {
                      _iterator635.e(err);
                    } finally {
                      _iterator635.f();
                    }
                  }

                  return a;
                }), e.conversion["for"]("editingDowncast").add(function (e) {
                  function t() {
                    o.change(function (e) {
                      var _iterator636 = _createForOfIteratorHelper(r.values()),
                          _step636;

                      try {
                        for (_iterator636.s(); !(_step636 = _iterator636.n()).done;) {
                          var _t452 = _step636.value;
                          e.removeClass(i, _t452), r["delete"](_t452);
                        }
                      } catch (err) {
                        _iterator636.e(err);
                      } finally {
                        _iterator636.f();
                      }
                    });
                  }

                  e.on("insert", t, {
                    priority: "highest"
                  }), e.on("remove", t, {
                    priority: "highest"
                  }), e.on("attribute", t, {
                    priority: "highest"
                  }), e.on("selection", t, {
                    priority: "highest"
                  });
                });
              }(e, "linkHref", "a", MA), this._enableInsertContentSelectionAttributesFixer(), this._enableClickingAfterLink(), this._enableTypingOverLink(), this._handleDeleteContentAfterLink();
            }
          }, {
            key: "_enableAutomaticDecorators",
            value: function _enableAutomaticDecorators(e) {
              var t = this.editor,
                  n = t.commands.get("link").automaticDecorators;
              t.config.get("link.addTargetToExternalLinks") && n.add({
                id: "linkIsExternal",
                mode: PA,
                callback: function callback(e) {
                  return NA.test(e);
                },
                attributes: {
                  target: "_blank",
                  rel: "noopener noreferrer"
                }
              }), n.add(e), n.length && t.conversion["for"]("downcast").add(n.getDispatcher());
            }
          }, {
            key: "_enableManualDecorators",
            value: function _enableManualDecorators(e) {
              if (!e.length) return;
              var t = this.editor,
                  n = t.commands.get("link").manualDecorators;
              e.forEach(function (e) {
                t.model.schema.extend("$text", {
                  allowAttributes: e.id
                }), e = new SA(e), n.add(e), t.conversion["for"]("downcast").attributeToElement({
                  model: e.id,
                  view: function view(t, _ref136) {
                    var n = _ref136.writer;

                    if (t) {
                      var _t453 = n.createAttributeElement("a", e.attributes, {
                        priority: 5
                      });

                      e.classes && n.addClass(e.classes, _t453);

                      for (var _i318 in e.styles) {
                        n.setStyle(_i318, e.styles[_i318], _t453);
                      }

                      return n.setCustomProperty("link", !0, _t453), _t453;
                    }
                  }
                }), t.conversion["for"]("upcast").elementToAttribute({
                  view: _objectSpread({
                    name: "a"
                  }, e._createPattern()),
                  model: {
                    key: e.id
                  }
                });
              });
            }
          }, {
            key: "_enableInsertContentSelectionAttributesFixer",
            value: function _enableInsertContentSelectionAttributesFixer() {
              var e = this.editor.model,
                  t = e.document.selection;
              this.listenTo(e, "insertContent", function () {
                var n = t.anchor.nodeBefore,
                    i = t.anchor.nodeAfter;
                t.hasAttribute("linkHref") && n && n.hasAttribute("linkHref") && (i && i.hasAttribute("linkHref") || e.change(function (t) {
                  DA(t, zA(e.schema));
                }));
              }, {
                priority: "low"
              });
            }
          }, {
            key: "_enableClickingAfterLink",
            value: function _enableClickingAfterLink() {
              var e = this.editor,
                  t = e.model;
              e.editing.view.addObserver(Ug);
              var n = !1;
              this.listenTo(e.editing.view.document, "mousedown", function () {
                n = !0;
              }), this.listenTo(e.editing.view.document, "selectionChange", function () {
                if (!n) return;
                n = !1;
                var e = t.document.selection;
                if (!e.isCollapsed) return;
                if (!e.hasAttribute("linkHref")) return;
                var i = e.getFirstPosition(),
                    o = $p(i, "linkHref", e.getAttribute("linkHref"), t);
                (i.isTouching(o.start) || i.isTouching(o.end)) && t.change(function (e) {
                  DA(e, zA(t.schema));
                });
              });
            }
          }, {
            key: "_enableTypingOverLink",
            value: function _enableTypingOverLink() {
              var e = this.editor,
                  t = e.editing.view;
              var n, i;
              this.listenTo(t.document, "delete", function () {
                i = !0;
              }, {
                priority: "high"
              }), this.listenTo(e.model, "deleteContent", function () {
                var t = e.model.document.selection;
                t.isCollapsed || (i ? i = !1 : LA(e) && function (e) {
                  var t = e.document.selection,
                      n = t.getFirstPosition(),
                      i = t.getLastPosition(),
                      o = n.nodeAfter;
                  if (!o) return !1;
                  if (!o.is("$text")) return !1;
                  if (!o.hasAttribute("linkHref")) return !1;
                  var r = i.textNode || i.nodeBefore;
                  if (o === r) return !0;
                  return $p(n, "linkHref", o.getAttribute("linkHref"), e).containsRange(e.createRange(n, i), !0);
                }(e.model) && (n = t.getAttributes()));
              }, {
                priority: "high"
              }), this.listenTo(e.model, "insertContent", function (t, _ref137) {
                var _ref138 = _slicedToArray(_ref137, 1),
                    o = _ref138[0];

                i = !1, LA(e) && n && (e.model.change(function (e) {
                  var _iterator637 = _createForOfIteratorHelper(n),
                      _step637;

                  try {
                    for (_iterator637.s(); !(_step637 = _iterator637.n()).done;) {
                      var _step637$value = _slicedToArray(_step637.value, 2),
                          _t454 = _step637$value[0],
                          _i319 = _step637$value[1];

                      e.setAttribute(_t454, _i319, o);
                    }
                  } catch (err) {
                    _iterator637.e(err);
                  } finally {
                    _iterator637.f();
                  }
                }), n = null);
              }, {
                priority: "high"
              });
            }
          }, {
            key: "_handleDeleteContentAfterLink",
            value: function _handleDeleteContentAfterLink() {
              var e = this.editor,
                  t = e.model,
                  n = t.document.selection,
                  i = e.editing.view;
              var o = !1,
                  r = !1;
              this.listenTo(i.document, "delete", function (e, t) {
                r = t.domEvent.keyCode === Er.backspace;
              }, {
                priority: "high"
              }), this.listenTo(t, "deleteContent", function () {
                o = !1;
                var e = n.getFirstPosition(),
                    i = n.getAttribute("linkHref");
                if (!i) return;
                var r = $p(e, "linkHref", i, t);
                o = r.containsPosition(e) || r.end.isEqual(e);
              }, {
                priority: "high"
              }), this.listenTo(t, "deleteContent", function () {
                r && (r = !1, o || e.model.enqueueChange(function (e) {
                  DA(e, zA(t.schema));
                }));
              }, {
                priority: "low"
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "LinkEditing";
            }
          }, {
            key: "requires",
            get: function get() {
              return [Bp, Dp, xf];
            }
          }]);

          return OA;
        }(st);

        function DA(e, t) {
          e.removeSelectionAttribute("linkHref");

          var _iterator638 = _createForOfIteratorHelper(t),
              _step638;

          try {
            for (_iterator638.s(); !(_step638 = _iterator638.n()).done;) {
              var _n362 = _step638.value;
              e.removeSelectionAttribute(_n362);
            }
          } catch (err) {
            _iterator638.e(err);
          } finally {
            _iterator638.f();
          }
        }

        function LA(e) {
          return e.plugins.get("Input").isInput(e.model.change(function (e) {
            return e.batch;
          }));
        }

        function zA(e) {
          return e.getDefinition("$text").allowAttributes.filter(function (e) {
            return e.startsWith("link");
          });
        }

        n(199);

        var VA = /*#__PURE__*/function (_nh40) {
          _inherits(VA, _nh40);

          var _super265 = _createSuper(VA);

          function VA(e, t) {
            var _this419;

            _classCallCheck(this, VA);

            _this419 = _super265.call(this, e);
            var n = e.t;
            _this419.focusTracker = new Xa(), _this419.keystrokes = new Za(), _this419.urlInputView = _this419._createUrlInput(), _this419.saveButtonView = _this419._createButton(n("Save"), Ju.check, "ck-button-save"), _this419.saveButtonView.type = "submit", _this419.cancelButtonView = _this419._createButton(n("Cancel"), Ju.cancel, "ck-button-cancel", "cancel"), _this419._manualDecoratorSwitches = _this419._createManualDecoratorSwitches(t), _this419.children = _this419._createFormChildren(t.manualDecorators), _this419._focusables = new th(), _this419._focusCycler = new Sh({
              focusables: _this419._focusables,
              focusTracker: _this419.focusTracker,
              keystrokeHandler: _this419.keystrokes,
              actions: {
                focusPrevious: "shift + tab",
                focusNext: "tab"
              }
            });
            var i = ["ck", "ck-link-form", "ck-responsive-form"];
            t.manualDecorators.length && i.push("ck-link-form_layout-vertical", "ck-vertical-form"), _this419.setTemplate({
              tag: "form",
              attributes: {
                "class": i,
                tabindex: "-1"
              },
              children: _this419.children
            }), Zu(_assertThisInitialized(_this419));
            return _this419;
          }

          _createClass(VA, [{
            key: "getDecoratorSwitchesState",
            value: function getDecoratorSwitchesState() {
              return Array.from(this._manualDecoratorSwitches).reduce(function (e, t) {
                return e[t.name] = t.isOn, e;
              }, {});
            }
          }, {
            key: "render",
            value: function render() {
              var _this420 = this;

              _get(_getPrototypeOf(VA.prototype), "render", this).call(this), eh({
                view: this
              }), [this.urlInputView].concat(_toConsumableArray(this._manualDecoratorSwitches), [this.saveButtonView, this.cancelButtonView]).forEach(function (e) {
                _this420._focusables.add(e), _this420.focusTracker.add(e.element);
              }), this.keystrokes.listenTo(this.element);
            }
          }, {
            key: "focus",
            value: function focus() {
              this._focusCycler.focusFirst();
            }
          }, {
            key: "_createUrlInput",
            value: function _createUrlInput() {
              var e = this.locale.t,
                  t = new rg(this.locale, sg);
              return t.label = e("Link URL"), t;
            }
          }, {
            key: "_createButton",
            value: function _createButton(e, t, n, i) {
              var o = new Th(this.locale);
              return o.set({
                label: e,
                icon: t,
                tooltip: !0
              }), o.extendTemplate({
                attributes: {
                  "class": n
                }
              }), i && o.delegate("execute").to(this, i), o;
            }
          }, {
            key: "_createManualDecoratorSwitches",
            value: function _createManualDecoratorSwitches(e) {
              var _this421 = this;

              var t = this.createCollection();

              var _iterator639 = _createForOfIteratorHelper(e.manualDecorators),
                  _step639;

              try {
                var _loop25 = function _loop25() {
                  var n = _step639.value;
                  var i = new Ah(_this421.locale);
                  i.set({
                    name: n.id,
                    label: n.label,
                    withText: !0
                  }), i.bind("isOn").toMany([n, e], "value", function (e, t) {
                    return void 0 === t && void 0 === e ? n.defaultValue : e;
                  }), i.on("execute", function () {
                    n.set("value", !i.isOn);
                  }), t.add(i);
                };

                for (_iterator639.s(); !(_step639 = _iterator639.n()).done;) {
                  _loop25();
                }
              } catch (err) {
                _iterator639.e(err);
              } finally {
                _iterator639.f();
              }

              return t;
            }
          }, {
            key: "_createFormChildren",
            value: function _createFormChildren(e) {
              var t = this.createCollection();

              if (t.add(this.urlInputView), e.length) {
                var _e495 = new nh();

                _e495.setTemplate({
                  tag: "ul",
                  children: this._manualDecoratorSwitches.map(function (e) {
                    return {
                      tag: "li",
                      children: [e],
                      attributes: {
                        "class": ["ck", "ck-list__item"]
                      }
                    };
                  }),
                  attributes: {
                    "class": ["ck", "ck-reset", "ck-list"]
                  }
                }), t.add(_e495);
              }

              return t.add(this.saveButtonView), t.add(this.cancelButtonView), t;
            }
          }]);

          return VA;
        }(nh);

        n(201);
        var BA = n(69),
            FA = n.n(BA);

        var jA = /*#__PURE__*/function (_nh41) {
          _inherits(jA, _nh41);

          var _super266 = _createSuper(jA);

          function jA(e) {
            var _this422;

            _classCallCheck(this, jA);

            _this422 = _super266.call(this, e);
            var t = e.t;
            _this422.focusTracker = new Xa(), _this422.keystrokes = new Za(), _this422.previewButtonView = _this422._createPreviewButton(), _this422.unlinkButtonView = _this422._createButton(t("Unlink"), FA.a, "unlink"), _this422.editButtonView = _this422._createButton(t("Edit link"), Ju.pencil, "edit"), _this422.set("href"), _this422._focusables = new th(), _this422._focusCycler = new Sh({
              focusables: _this422._focusables,
              focusTracker: _this422.focusTracker,
              keystrokeHandler: _this422.keystrokes,
              actions: {
                focusPrevious: "shift + tab",
                focusNext: "tab"
              }
            }), _this422.setTemplate({
              tag: "div",
              attributes: {
                "class": ["ck", "ck-link-actions", "ck-responsive-form"],
                tabindex: "-1"
              },
              children: [_this422.previewButtonView, _this422.editButtonView, _this422.unlinkButtonView]
            });
            return _this422;
          }

          _createClass(jA, [{
            key: "render",
            value: function render() {
              var _this423 = this;

              _get(_getPrototypeOf(jA.prototype), "render", this).call(this), [this.previewButtonView, this.editButtonView, this.unlinkButtonView].forEach(function (e) {
                _this423._focusables.add(e), _this423.focusTracker.add(e.element);
              }), this.keystrokes.listenTo(this.element);
            }
          }, {
            key: "focus",
            value: function focus() {
              this._focusCycler.focusFirst();
            }
          }, {
            key: "_createButton",
            value: function _createButton(e, t, n) {
              var i = new Th(this.locale);
              return i.set({
                label: e,
                icon: t,
                tooltip: !0
              }), i.delegate("execute").to(this, n), i;
            }
          }, {
            key: "_createPreviewButton",
            value: function _createPreviewButton() {
              var e = new Th(this.locale),
                  t = this.bindTemplate,
                  n = this.t;
              return e.set({
                withText: !0,
                tooltip: n("Open link in new tab")
              }), e.extendTemplate({
                attributes: {
                  "class": ["ck", "ck-link-actions__preview"],
                  href: t.to("href", function (e) {
                    return e && CA(e);
                  }),
                  target: "_blank",
                  rel: "noopener noreferrer"
                }
              }), e.bind("label").to(this, "href", function (e) {
                return e || n("This link has no URL");
              }), e.bind("isEnabled").to(this, "href", function (e) {
                return !!e;
              }), e.template.tag = "a", e.template.eventListeners = {}, e;
            }
          }]);

          return jA;
        }(nh);

        var HA = n(70),
            UA = n.n(HA);
        var WA = "link-ui";

        var qA = /*#__PURE__*/function (_st112) {
          _inherits(qA, _st112);

          var _super267 = _createSuper(qA);

          function qA() {
            _classCallCheck(this, qA);

            return _super267.apply(this, arguments);
          }

          _createClass(qA, [{
            key: "init",
            value: function init() {
              var e = this.editor;
              e.editing.view.addObserver(Hg), this.actionsView = this._createActionsView(), this.formView = this._createFormView(), this._balloon = e.plugins.get(_g), this._createToolbarLinkButton(), this._enableUserBalloonInteractions(), e.conversion["for"]("editingDowncast").markerToHighlight({
                model: WA,
                view: {
                  classes: ["ck-fake-link-selection"]
                }
              }), e.conversion["for"]("editingDowncast").markerToElement({
                model: WA,
                view: {
                  name: "span",
                  classes: ["ck-fake-link-selection", "ck-fake-link-selection_collapsed"]
                }
              });
            }
          }, {
            key: "destroy",
            value: function destroy() {
              _get(_getPrototypeOf(qA.prototype), "destroy", this).call(this), this.formView.destroy();
            }
          }, {
            key: "_createActionsView",
            value: function _createActionsView() {
              var _this424 = this;

              var e = this.editor,
                  t = new jA(e.locale),
                  n = e.commands.get("link"),
                  i = e.commands.get("unlink");
              return t.bind("href").to(n, "value"), t.editButtonView.bind("isEnabled").to(n), t.unlinkButtonView.bind("isEnabled").to(i), this.listenTo(t, "edit", function () {
                _this424._addFormView();
              }), this.listenTo(t, "unlink", function () {
                e.execute("unlink"), _this424._hideUI();
              }), t.keystrokes.set("Esc", function (e, t) {
                _this424._hideUI(), t();
              }), t.keystrokes.set(xA, function (e, t) {
                _this424._addFormView(), t();
              }), t;
            }
          }, {
            key: "_createFormView",
            value: function _createFormView() {
              var _this425 = this;

              var e = this.editor,
                  t = e.commands.get("link"),
                  n = e.config.get("link.defaultProtocol"),
                  i = new VA(e.locale, t);
              return i.urlInputView.fieldView.bind("value").to(t, "value"), i.urlInputView.bind("isReadOnly").to(t, "isEnabled", function (e) {
                return !e;
              }), i.saveButtonView.bind("isEnabled").to(t), this.listenTo(i, "submit", function () {
                var t = i.urlInputView.fieldView.element.value,
                    o = AA(t, n);
                e.execute("link", o, i.getDecoratorSwitchesState()), _this425._closeFormView();
              }), this.listenTo(i, "cancel", function () {
                _this425._closeFormView();
              }), i.keystrokes.set("Esc", function (e, t) {
                _this425._closeFormView(), t();
              }), i;
            }
          }, {
            key: "_createToolbarLinkButton",
            value: function _createToolbarLinkButton() {
              var _this426 = this;

              var e = this.editor,
                  t = e.commands.get("link"),
                  n = e.t;
              e.keystrokes.set(xA, function (e, n) {
                n(), t.isEnabled && _this426._showUI(!0);
              }), e.ui.componentFactory.add("link", function (e) {
                var i = new Th(e);
                return i.isEnabled = !0, i.label = n("Link"), i.icon = UA.a, i.keystroke = xA, i.tooltip = !0, i.isToggleable = !0, i.bind("isEnabled").to(t, "isEnabled"), i.bind("isOn").to(t, "value", function (e) {
                  return !!e;
                }), _this426.listenTo(i, "execute", function () {
                  return _this426._showUI(!0);
                }), i;
              });
            }
          }, {
            key: "_enableUserBalloonInteractions",
            value: function _enableUserBalloonInteractions() {
              var _this427 = this;

              var e = this.editor.editing.view.document;
              this.listenTo(e, "click", function () {
                _this427._getSelectedLinkElement() && _this427._showUI();
              }), this.editor.keystrokes.set("Tab", function (e, t) {
                _this427._areActionsVisible && !_this427.actionsView.focusTracker.isFocused && (_this427.actionsView.focus(), t());
              }, {
                priority: "high"
              }), this.editor.keystrokes.set("Esc", function (e, t) {
                _this427._isUIVisible && (_this427._hideUI(), t());
              }), Xu({
                emitter: this.formView,
                activator: function activator() {
                  return _this427._isUIInPanel;
                },
                contextElements: [this._balloon.view.element],
                callback: function callback() {
                  return _this427._hideUI();
                }
              });
            }
          }, {
            key: "_addActionsView",
            value: function _addActionsView() {
              this._areActionsInPanel || this._balloon.add({
                view: this.actionsView,
                position: this._getBalloonPositionData()
              });
            }
          }, {
            key: "_addFormView",
            value: function _addFormView() {
              if (this._isFormInPanel) return;
              var e = this.editor.commands.get("link");
              this.formView.disableCssTransitions(), this._balloon.add({
                view: this.formView,
                position: this._getBalloonPositionData()
              }), this._balloon.visibleView === this.formView && this.formView.urlInputView.fieldView.select(), this.formView.enableCssTransitions(), this.formView.urlInputView.fieldView.element.value = e.value || "";
            }
          }, {
            key: "_closeFormView",
            value: function _closeFormView() {
              var e = this.editor.commands.get("link");
              e.restoreManualDecoratorStates(), void 0 !== e.value ? this._removeFormView() : this._hideUI();
            }
          }, {
            key: "_removeFormView",
            value: function _removeFormView() {
              this._isFormInPanel && (this.formView.saveButtonView.focus(), this._balloon.remove(this.formView), this.editor.editing.view.focus(), this._hideFakeVisualSelection());
            }
          }, {
            key: "_showUI",
            value: function _showUI() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;
              this._getSelectedLinkElement() ? (this._areActionsVisible ? this._addFormView() : this._addActionsView(), e && this._balloon.showStack("main")) : (this._showFakeVisualSelection(), this._addActionsView(), e && this._balloon.showStack("main"), this._addFormView()), this._startUpdatingUI();
            }
          }, {
            key: "_hideUI",
            value: function _hideUI() {
              if (!this._isUIInPanel) return;
              var e = this.editor;
              this.stopListening(e.ui, "update"), this.stopListening(this._balloon, "change:visibleView"), e.editing.view.focus(), this._removeFormView(), this._balloon.remove(this.actionsView), this._hideFakeVisualSelection();
            }
          }, {
            key: "_startUpdatingUI",
            value: function _startUpdatingUI() {
              var _this428 = this;

              var e = this.editor,
                  t = e.editing.view.document;

              var n = this._getSelectedLinkElement(),
                  i = r();

              var o = function o() {
                var e = _this428._getSelectedLinkElement(),
                    t = r();

                n && !e || !n && t !== i ? _this428._hideUI() : _this428._isUIVisible && _this428._balloon.updatePosition(_this428._getBalloonPositionData()), n = e, i = t;
              };

              function r() {
                return t.selection.focus.getAncestors().reverse().find(function (e) {
                  return e.is("element");
                });
              }

              this.listenTo(e.ui, "update", o), this.listenTo(this._balloon, "change:visibleView", o);
            }
          }, {
            key: "_isFormInPanel",
            get: function get() {
              return this._balloon.hasView(this.formView);
            }
          }, {
            key: "_areActionsInPanel",
            get: function get() {
              return this._balloon.hasView(this.actionsView);
            }
          }, {
            key: "_areActionsVisible",
            get: function get() {
              return this._balloon.visibleView === this.actionsView;
            }
          }, {
            key: "_isUIInPanel",
            get: function get() {
              return this._isFormInPanel || this._areActionsInPanel;
            }
          }, {
            key: "_isUIVisible",
            get: function get() {
              return this._balloon.visibleView == this.formView || this._areActionsVisible;
            }
          }, {
            key: "_getBalloonPositionData",
            value: function _getBalloonPositionData() {
              var _this429 = this;

              var e = this.editor.editing.view,
                  t = this.editor.model,
                  n = e.document;
              var i = null;

              if (t.markers.has(WA)) {
                var _t455 = Array.from(this.editor.editing.mapper.markerNameToElements(WA)),
                    _n363 = e.createRange(e.createPositionBefore(_t455[0]), e.createPositionAfter(_t455[_t455.length - 1]));

                i = e.domConverter.viewRangeToDom(_n363);
              } else i = function i() {
                var t = _this429._getSelectedLinkElement();

                return t ? e.domConverter.mapViewToDom(t) : e.domConverter.viewRangeToDom(n.selection.getFirstRange());
              };

              return {
                target: i
              };
            }
          }, {
            key: "_getSelectedLinkElement",
            value: function _getSelectedLinkElement() {
              var e = this.editor.editing.view,
                  t = e.document.selection,
                  n = t.getSelectedElement();
              if (t.isCollapsed || n && Ff(n)) return $A(t.getFirstPosition());
              {
                var _n364 = t.getFirstRange().getTrimmed(),
                    _i320 = $A(_n364.start),
                    _o165 = $A(_n364.end);

                return _i320 && _i320 == _o165 && e.createRangeIn(_i320).getTrimmed().isEqual(_n364) ? _i320 : null;
              }
            }
          }, {
            key: "_showFakeVisualSelection",
            value: function _showFakeVisualSelection() {
              var e = this.editor.model;
              e.change(function (t) {
                var n = e.document.selection.getFirstRange();
                if (e.markers.has(WA)) t.updateMarker(WA, {
                  range: n
                });else if (n.start.isAtEnd) {
                  var _i321 = n.start.getLastMatchingPosition(function (_ref139) {
                    var t = _ref139.item;
                    return !e.schema.isContent(t);
                  }, {
                    boundaries: n
                  });

                  t.addMarker(WA, {
                    usingOperation: !1,
                    affectsData: !1,
                    range: t.createRange(_i321, n.end)
                  });
                } else t.addMarker(WA, {
                  usingOperation: !1,
                  affectsData: !1,
                  range: n
                });
              });
            }
          }, {
            key: "_hideFakeVisualSelection",
            value: function _hideFakeVisualSelection() {
              var e = this.editor.model;
              e.markers.has(WA) && e.change(function (e) {
                e.removeMarker(WA);
              });
            }
          }], [{
            key: "requires",
            get: function get() {
              return [_g];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "LinkUI";
            }
          }]);

          return qA;
        }(st);

        function $A(e) {
          return e.getAncestors().find(function (e) {
            return function (e) {
              return e.is("attributeElement") && !!e.getCustomProperty("link");
            }(e);
          });
        }

        var GA = 4,
            YA = new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$", "i"),
            KA = 2;

        var QA = /*#__PURE__*/function (_st113) {
          _inherits(QA, _st113);

          var _super268 = _createSuper(QA);

          function QA() {
            _classCallCheck(this, QA);

            return _super268.apply(this, arguments);
          }

          _createClass(QA, [{
            key: "init",
            value: function init() {
              var _this430 = this;

              var e = this.editor.model.document.selection;
              e.on("change:range", function () {
                _this430.isEnabled = !e.anchor.parent.is("element", "codeBlock");
              }), this._enableTypingHandling();
            }
          }, {
            key: "afterInit",
            value: function afterInit() {
              this._enableEnterHandling(), this._enableShiftEnterHandling();
            }
          }, {
            key: "_enableTypingHandling",
            value: function _enableTypingHandling() {
              var _this431 = this;

              var e = this.editor,
                  t = new Vp(e.model, function (e) {
                if (!function (e) {
                  return e.length > GA && " " === e[e.length - 1] && " " !== e[e.length - 2];
                }(e)) return;
                var t = JA(e.substr(0, e.length - 1));
                return t ? {
                  url: t
                } : void 0;
              }),
                  n = e.plugins.get("Input");
              t.on("matched:data", function (t, i) {
                var o = i.batch,
                    r = i.range,
                    s = i.url;
                if (!n.isInput(o)) return;
                var a = r.end.getShiftedBy(-1),
                    c = a.getShiftedBy(-s.length),
                    l = e.model.createRange(c, a);

                _this431._applyAutoLink(s, l);
              }), t.bind("isEnabled").to(this);
            }
          }, {
            key: "_enableEnterHandling",
            value: function _enableEnterHandling() {
              var _this432 = this;

              var e = this.editor,
                  t = e.model,
                  n = e.commands.get("enter");
              n && n.on("execute", function () {
                var e = t.document.selection.getFirstPosition();
                if (!e.parent.previousSibling) return;
                var n = t.createRangeIn(e.parent.previousSibling);

                _this432._checkAndApplyAutoLinkOnRange(n);
              });
            }
          }, {
            key: "_enableShiftEnterHandling",
            value: function _enableShiftEnterHandling() {
              var _this433 = this;

              var e = this.editor,
                  t = e.model,
                  n = e.commands.get("shiftEnter");
              n && n.on("execute", function () {
                var e = t.document.selection.getFirstPosition(),
                    n = t.createRange(t.createPositionAt(e.parent, 0), e.getShiftedBy(-1));

                _this433._checkAndApplyAutoLinkOnRange(n);
              });
            }
          }, {
            key: "_checkAndApplyAutoLinkOnRange",
            value: function _checkAndApplyAutoLinkOnRange(e) {
              var t = this.editor.model,
                  _zp2 = zp(e, t),
                  n = _zp2.text,
                  i = _zp2.range,
                  o = JA(n);

              if (o) {
                var _e496 = t.createRange(i.end.getShiftedBy(-o.length), i.end);

                this._applyAutoLink(o, _e496);
              }
            }
          }, {
            key: "_applyAutoLink",
            value: function _applyAutoLink(e, t) {
              var _this434 = this;

              var n = this.editor.model,
                  i = this.editor.plugins.get("Delete");
              this.isEnabled && function (e, t) {
                return t.schema.checkAttributeInSelection(t.createSelection(e), "linkHref");
              }(t, n) && n.enqueueChange(function (o) {
                var r = _this434.editor.config.get("link.defaultProtocol"),
                    s = AA(e, r);

                o.setAttribute("linkHref", s, t), n.enqueueChange(function () {
                  i.requestUndoOnBackspace();
                });
              });
            }
          }], [{
            key: "requires",
            get: function get() {
              return [Pf];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "AutoLink";
            }
          }]);

          return QA;
        }(st);

        function JA(e) {
          var t = YA.exec(e);
          return t ? t[KA] : null;
        }

        function XA(e, t) {
          return function (e) {
            e.on("attribute:url:media", n);
          };

          function n(n, i, o) {
            if (!o.consumable.consume(i.item, n.name)) return;

            var r = i.attributeNewValue,
                s = o.writer,
                a = o.mapper.toViewElement(i.item),
                c = _toConsumableArray(a.getChildren()).find(function (e) {
              return e.getCustomProperty("media-content");
            });

            s.remove(c);
            var l = e.getMediaViewElement(s, r, t);
            s.insert(s.createPositionAt(a, 0), l);
          }
        }

        function ZA(e, t, n, i) {
          var o = e.createContainerElement("figure", {
            "class": "media"
          });
          return e.insert(e.createPositionAt(o, 0), t.getMediaViewElement(e, n, i)), o;
        }

        function eE(e) {
          var t = e.getSelectedElement();
          return t && t.is("element", "media") ? t : null;
        }

        function tE(e, t, n) {
          e.change(function (i) {
            var o = i.createElement("media", {
              url: t
            });
            e.insertContent(o, n), i.setSelection(o, "on");
          });
        }

        var nE = /*#__PURE__*/function (_ct35) {
          _inherits(nE, _ct35);

          var _super269 = _createSuper(nE);

          function nE() {
            _classCallCheck(this, nE);

            return _super269.apply(this, arguments);
          }

          _createClass(nE, [{
            key: "refresh",
            value: function refresh() {
              var e = this.editor.model,
                  t = e.document.selection,
                  n = eE(t);
              this.value = n ? n.getAttribute("url") : null, this.isEnabled = function (e) {
                var t = e.getSelectedElement();
                return !!t && "media" === t.name;
              }(t) || function (e, t) {
                var n = Wf(e, t).start.parent;
                n.isEmpty && !t.schema.isLimit(n) && (n = n.parent);
                return t.schema.checkChild(n, "media");
              }(t, e);
            }
          }, {
            key: "execute",
            value: function execute(e) {
              var t = this.editor.model,
                  n = t.document.selection,
                  i = eE(n);
              i ? t.change(function (t) {
                t.setAttribute("url", e, i);
              }) : tE(t, e, Wf(n, t));
            }
          }]);

          return nE;
        }(ct);

        var iE = n(71),
            oE = n.n(iE);
        var rE = "0 0 64 42";

        var sE = /*#__PURE__*/function () {
          function sE(e, t) {
            _classCallCheck(this, sE);

            var n = t.providers,
                i = t.extraProviders || [],
                o = new Set(t.removeProviders),
                r = n.concat(i).filter(function (e) {
              var t = e.name;
              return t ? !o.has(t) : (Object(c.b)("media-embed-no-provider-name", {
                provider: e
              }), !1);
            });
            this.locale = e, this.providerDefinitions = r;
          }

          _createClass(sE, [{
            key: "hasMedia",
            value: function hasMedia(e) {
              return !!this._getMedia(e);
            }
          }, {
            key: "getMediaViewElement",
            value: function getMediaViewElement(e, t, n) {
              return this._getMedia(t).getViewElement(e, n);
            }
          }, {
            key: "_getMedia",
            value: function _getMedia(e) {
              if (!e) return new aE(this.locale);
              e = e.trim();

              var _iterator640 = _createForOfIteratorHelper(this.providerDefinitions),
                  _step640;

              try {
                for (_iterator640.s(); !(_step640 = _iterator640.n()).done;) {
                  var _t456 = _step640.value;

                  var _n365 = _t456.html,
                      _i322 = Wi(_t456.url);

                  var _iterator641 = _createForOfIteratorHelper(_i322),
                      _step641;

                  try {
                    for (_iterator641.s(); !(_step641 = _iterator641.n()).done;) {
                      var _t457 = _step641.value;

                      var _i323 = this._getUrlMatches(e, _t457);

                      if (_i323) return new aE(this.locale, e, _i323, _n365);
                    }
                  } catch (err) {
                    _iterator641.e(err);
                  } finally {
                    _iterator641.f();
                  }
                }
              } catch (err) {
                _iterator640.e(err);
              } finally {
                _iterator640.f();
              }

              return null;
            }
          }, {
            key: "_getUrlMatches",
            value: function _getUrlMatches(e, t) {
              var n = e.match(t);
              if (n) return n;
              var i = e.replace(/^https?:\/\//, "");
              return (n = i.match(t)) ? n : (n = (i = i.replace(/^www\./, "")).match(t)) || null;
            }
          }]);

          return sE;
        }();

        var aE = /*#__PURE__*/function () {
          function aE(e, t, n, i) {
            _classCallCheck(this, aE);

            this.url = this._getValidUrl(t), this._t = e.t, this._match = n, this._previewRenderer = i;
          }

          _createClass(aE, [{
            key: "getViewElement",
            value: function getViewElement(e, t) {
              var n = {};
              var i;

              if (t.renderForEditingView || t.renderMediaPreview && this.url && this._previewRenderer) {
                this.url && (n["data-oembed-url"] = this.url), t.renderForEditingView && (n["class"] = "ck-media__wrapper");

                var _o166 = this._getPreviewHtml(t);

                i = e.createRawElement("div", n, function (e, t) {
                  t.setContentOf(e, _o166);
                });
              } else this.url && (n.url = this.url), i = e.createEmptyElement(t.elementName, n);

              return e.setCustomProperty("media-content", !0, i), i;
            }
          }, {
            key: "_getPreviewHtml",
            value: function _getPreviewHtml(e) {
              return this._previewRenderer ? this._previewRenderer(this._match) : this.url && e.renderForEditingView ? this._getPlaceholderHtml() : "";
            }
          }, {
            key: "_getPlaceholderHtml",
            value: function _getPlaceholderHtml() {
              var e = new Ch(),
                  t = new yh();
              return e.text = this._t("Open media in new tab"), t.content = oE.a, t.viewBox = rE, new oh({
                tag: "div",
                attributes: {
                  "class": "ck ck-reset_all ck-media__placeholder"
                },
                children: [{
                  tag: "div",
                  attributes: {
                    "class": "ck-media__placeholder__icon"
                  },
                  children: [t]
                }, {
                  tag: "a",
                  attributes: {
                    "class": "ck-media__placeholder__url",
                    target: "_blank",
                    rel: "noopener noreferrer",
                    href: this.url
                  },
                  children: [{
                    tag: "span",
                    attributes: {
                      "class": "ck-media__placeholder__url__text"
                    },
                    children: [this.url]
                  }, e]
                }]
              }).render().outerHTML;
            }
          }, {
            key: "_getValidUrl",
            value: function _getValidUrl(e) {
              return e ? e.match(/^https?/) ? e : "https://" + e : null;
            }
          }]);

          return aE;
        }();

        n(203);

        var cE = /*#__PURE__*/function (_st114) {
          _inherits(cE, _st114);

          var _super270 = _createSuper(cE);

          function cE(e) {
            var _this435;

            _classCallCheck(this, cE);

            _this435 = _super270.call(this, e), e.config.define("mediaEmbed", {
              elementName: "oembed",
              providers: [{
                name: "dailymotion",
                url: /^dailymotion\.com\/video\/(\w+)/,
                html: function html(e) {
                  return '<div style="position: relative; padding-bottom: 100%; height: 0; ">' + "<iframe src=\"https://www.dailymotion.com/embed/video/".concat(e[1], "\" ") + 'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>';
                }
              }, {
                name: "spotify",
                url: [/^open\.spotify\.com\/(artist\/\w+)/, /^open\.spotify\.com\/(album\/\w+)/, /^open\.spotify\.com\/(track\/\w+)/],
                html: function html(e) {
                  return '<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;">' + "<iframe src=\"https://open.spotify.com/embed/".concat(e[1], "\" ") + 'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>';
                }
              }, {
                name: "youtube",
                url: [/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/, /^(?:m\.)?youtube\.com\/v\/([\w-]+)/, /^youtube\.com\/embed\/([\w-]+)/, /^youtu\.be\/([\w-]+)/],
                html: function html(e) {
                  return '<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">' + "<iframe src=\"https://www.youtube.com/embed/".concat(e[1], "\" ") + 'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>';
                }
              }, {
                name: "vimeo",
                url: [/^vimeo\.com\/(\d+)/, /^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/, /^vimeo\.com\/album\/[^/]+\/video\/(\d+)/, /^vimeo\.com\/channels\/[^/]+\/(\d+)/, /^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/, /^vimeo\.com\/ondemand\/[^/]+\/(\d+)/, /^player\.vimeo\.com\/video\/(\d+)/],
                html: function html(e) {
                  return '<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">' + "<iframe src=\"https://player.vimeo.com/video/".concat(e[1], "\" ") + 'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>';
                }
              }, {
                name: "instagram",
                url: /^instagram\.com\/p\/(\w+)/
              }, {
                name: "twitter",
                url: /^twitter\.com/
              }, {
                name: "googleMaps",
                url: [/^google\.com\/maps/, /^goo\.gl\/maps/, /^maps\.google\.com/, /^maps\.app\.goo\.gl/]
              }, {
                name: "flickr",
                url: /^flickr\.com/
              }, {
                name: "facebook",
                url: /^facebook\.com/
              }]
            }), _this435.registry = new sE(e.locale, e.config.get("mediaEmbed"));
            return _this435;
          }

          _createClass(cE, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = e.model.schema,
                  n = e.t,
                  i = e.conversion,
                  o = e.config.get("mediaEmbed.previewsInData"),
                  r = e.config.get("mediaEmbed.elementName"),
                  s = this.registry;
              e.commands.add("mediaEmbed", new nE(e)), t.register("media", {
                isObject: !0,
                isBlock: !0,
                allowWhere: "$block",
                allowAttributes: ["url"]
              }), i["for"]("dataDowncast").elementToElement({
                model: "media",
                view: function view(e, _ref140) {
                  var t = _ref140.writer;
                  var n = e.getAttribute("url");
                  return ZA(t, s, n, {
                    elementName: r,
                    renderMediaPreview: n && o
                  });
                }
              }), i["for"]("dataDowncast").add(XA(s, {
                elementName: r,
                renderMediaPreview: o
              })), i["for"]("editingDowncast").elementToElement({
                model: "media",
                view: function view(e, _ref141) {
                  var t = _ref141.writer;
                  var i = e.getAttribute("url");
                  return function (e, t, n) {
                    return t.setCustomProperty("media", !0, e), jf(e, t, {
                      label: n
                    });
                  }(ZA(t, s, i, {
                    elementName: r,
                    renderForEditingView: !0
                  }), t, n("media widget"));
                }
              }), i["for"]("editingDowncast").add(XA(s, {
                elementName: r,
                renderForEditingView: !0
              })), i["for"]("upcast").elementToElement({
                view: function view(e) {
                  return ["oembed", r].includes(e.name) && e.getAttribute("url") ? {
                    name: !0
                  } : null;
                },
                model: function model(e, _ref142) {
                  var t = _ref142.writer;
                  var n = e.getAttribute("url");
                  if (s.hasMedia(n)) return t.createElement("media", {
                    url: n
                  });
                }
              }).elementToElement({
                view: {
                  name: "div",
                  attributes: {
                    "data-oembed-url": !0
                  }
                },
                model: function model(e, _ref143) {
                  var t = _ref143.writer;
                  var n = e.getAttribute("data-oembed-url");
                  if (s.hasMedia(n)) return t.createElement("media", {
                    url: n
                  });
                }
              }).add(function (e) {
                e.on("element:figure", function (e, t, n) {
                  if (!n.consumable.test(t.viewItem, {
                    name: !0,
                    classes: "media"
                  })) return;

                  var _n$convertChildren3 = n.convertChildren(t.viewItem, t.modelCursor),
                      i = _n$convertChildren3.modelRange,
                      o = _n$convertChildren3.modelCursor;

                  if (t.modelRange = i, t.modelCursor = o, !Ja(i.getItems())) return;
                  n.consumable.consume(t.viewItem, {
                    name: !0,
                    classes: "media"
                  });
                });
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "MediaEmbedEditing";
            }
          }]);

          return cE;
        }(st);

        var lE = /^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;

        var dE = /*#__PURE__*/function (_st115) {
          _inherits(dE, _st115);

          var _super271 = _createSuper(dE);

          function dE(e) {
            var _this436;

            _classCallCheck(this, dE);

            _this436 = _super271.call(this, e), _this436._timeoutId = null, _this436._positionToInsert = null;
            return _this436;
          }

          _createClass(dE, [{
            key: "init",
            value: function init() {
              var _this437 = this;

              var e = this.editor,
                  t = e.model.document;
              this.listenTo(e.plugins.get("ClipboardPipeline"), "inputTransformation", function () {
                var e = t.selection.getFirstRange(),
                    n = xd.fromPosition(e.start);
                n.stickiness = "toPrevious";
                var i = xd.fromPosition(e.end);
                i.stickiness = "toNext", t.once("change:data", function () {
                  _this437._embedMediaBetweenPositions(n, i), n.detach(), i.detach();
                }, {
                  priority: "high"
                });
              }), e.commands.get("undo").on("execute", function () {
                _this437._timeoutId && (fs.window.clearTimeout(_this437._timeoutId), _this437._positionToInsert.detach(), _this437._timeoutId = null, _this437._positionToInsert = null);
              }, {
                priority: "high"
              });
            }
          }, {
            key: "_embedMediaBetweenPositions",
            value: function _embedMediaBetweenPositions(e, t) {
              var _this438 = this;

              var n = this.editor,
                  i = n.plugins.get(cE).registry,
                  o = new Lc(e, t),
                  r = o.getWalker({
                ignoreElementEnd: !0
              });
              var s = "";

              var _iterator642 = _createForOfIteratorHelper(r),
                  _step642;

              try {
                for (_iterator642.s(); !(_step642 = _iterator642.n()).done;) {
                  var _e497 = _step642.value;
                  _e497.item.is("$textProxy") && (s += _e497.item.data);
                }
              } catch (err) {
                _iterator642.e(err);
              } finally {
                _iterator642.f();
              }

              if (!(s = s.trim()).match(lE)) return void o.detach();
              if (!i.hasMedia(s)) return void o.detach();
              n.commands.get("mediaEmbed").isEnabled ? (this._positionToInsert = xd.fromPosition(e), this._timeoutId = fs.window.setTimeout(function () {
                n.model.change(function (e) {
                  var t;
                  _this438._timeoutId = null, e.remove(o), o.detach(), "$graveyard" !== _this438._positionToInsert.root.rootName && (t = _this438._positionToInsert), tE(n.model, s, t), _this438._positionToInsert.detach(), _this438._positionToInsert = null;
                }), n.plugins.get("Delete").requestUndoOnBackspace();
              }, 100)) : o.detach();
            }
          }], [{
            key: "requires",
            get: function get() {
              return [pp, Pf, rk];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "AutoMediaEmbed";
            }
          }]);

          return dE;
        }(st);

        n(205);

        var uE = /*#__PURE__*/function (_nh42) {
          _inherits(uE, _nh42);

          var _super272 = _createSuper(uE);

          function uE(e, t) {
            var _this439;

            _classCallCheck(this, uE);

            _this439 = _super272.call(this, t);
            var n = t.t;
            _this439.focusTracker = new Xa(), _this439.keystrokes = new Za(), _this439.set("mediaURLInputValue", ""), _this439.urlInputView = _this439._createUrlInput(), _this439.saveButtonView = _this439._createButton(n("Save"), Ju.check, "ck-button-save"), _this439.saveButtonView.type = "submit", _this439.saveButtonView.bind("isEnabled").to(_assertThisInitialized(_this439), "mediaURLInputValue", function (e) {
              return !!e;
            }), _this439.cancelButtonView = _this439._createButton(n("Cancel"), Ju.cancel, "ck-button-cancel", "cancel"), _this439._focusables = new th(), _this439._focusCycler = new Sh({
              focusables: _this439._focusables,
              focusTracker: _this439.focusTracker,
              keystrokeHandler: _this439.keystrokes,
              actions: {
                focusPrevious: "shift + tab",
                focusNext: "tab"
              }
            }), _this439._validators = e, _this439.setTemplate({
              tag: "form",
              attributes: {
                "class": ["ck", "ck-media-form", "ck-responsive-form"],
                tabindex: "-1"
              },
              children: [_this439.urlInputView, _this439.saveButtonView, _this439.cancelButtonView]
            }), Zu(_assertThisInitialized(_this439));
            return _this439;
          }

          _createClass(uE, [{
            key: "render",
            value: function render() {
              var _this440 = this;

              _get(_getPrototypeOf(uE.prototype), "render", this).call(this), eh({
                view: this
              }), [this.urlInputView, this.saveButtonView, this.cancelButtonView].forEach(function (e) {
                _this440._focusables.add(e), _this440.focusTracker.add(e.element);
              }), this.keystrokes.listenTo(this.element);

              var e = function e(_e498) {
                return _e498.stopPropagation();
              };

              this.keystrokes.set("arrowright", e), this.keystrokes.set("arrowleft", e), this.keystrokes.set("arrowup", e), this.keystrokes.set("arrowdown", e), this.listenTo(this.urlInputView.element, "selectstart", function (e, t) {
                t.stopPropagation();
              }, {
                priority: "high"
              });
            }
          }, {
            key: "focus",
            value: function focus() {
              this._focusCycler.focusFirst();
            }
          }, {
            key: "url",
            get: function get() {
              return this.urlInputView.fieldView.element.value.trim();
            },
            set: function set(e) {
              this.urlInputView.fieldView.element.value = e.trim();
            }
          }, {
            key: "isValid",
            value: function isValid() {
              this.resetFormStatus();

              var _iterator643 = _createForOfIteratorHelper(this._validators),
                  _step643;

              try {
                for (_iterator643.s(); !(_step643 = _iterator643.n()).done;) {
                  var _e499 = _step643.value;

                  var _t458 = _e499(this);

                  if (_t458) return this.urlInputView.errorText = _t458, !1;
                }
              } catch (err) {
                _iterator643.e(err);
              } finally {
                _iterator643.f();
              }

              return !0;
            }
          }, {
            key: "resetFormStatus",
            value: function resetFormStatus() {
              this.urlInputView.errorText = null, this.urlInputView.infoText = this._urlInputViewInfoDefault;
            }
          }, {
            key: "_createUrlInput",
            value: function _createUrlInput() {
              var _this441 = this;

              var e = this.locale.t,
                  t = new rg(this.locale, sg),
                  n = t.fieldView;
              return this._urlInputViewInfoDefault = e("Paste the media URL in the input."), this._urlInputViewInfoTip = e("Tip: Paste the URL into the content to embed faster."), t.label = e("Media URL"), t.infoText = this._urlInputViewInfoDefault, n.on("input", function () {
                t.infoText = n.element.value ? _this441._urlInputViewInfoTip : _this441._urlInputViewInfoDefault, _this441.mediaURLInputValue = n.element.value.trim();
              }), t;
            }
          }, {
            key: "_createButton",
            value: function _createButton(e, t, n, i) {
              var o = new Th(this.locale);
              return o.set({
                label: e,
                icon: t,
                tooltip: !0
              }), o.extendTemplate({
                attributes: {
                  "class": n
                }
              }), i && o.delegate("execute").to(this, i), o;
            }
          }]);

          return uE;
        }(nh);

        var hE = n(72),
            gE = n.n(hE);

        var mE = /*#__PURE__*/function (_st116) {
          _inherits(mE, _st116);

          var _super273 = _createSuper(mE);

          function mE() {
            _classCallCheck(this, mE);

            return _super273.apply(this, arguments);
          }

          _createClass(mE, [{
            key: "init",
            value: function init() {
              var _this442 = this;

              var e = this.editor,
                  t = e.commands.get("mediaEmbed"),
                  n = e.plugins.get(cE).registry;
              e.ui.componentFactory.add("mediaEmbed", function (i) {
                var o = Qh(i),
                    r = new uE(function (e, t) {
                  return [function (t) {
                    if (!t.url.length) return e("The URL must not be empty.");
                  }, function (n) {
                    if (!t.hasMedia(n.url)) return e("This media URL is not supported.");
                  }];
                }(e.t, n), e.locale);
                return _this442._setUpDropdown(o, r, t, e), _this442._setUpForm(o, r, t), o;
              });
            }
          }, {
            key: "_setUpDropdown",
            value: function _setUpDropdown(e, t, n) {
              var i = this.editor,
                  o = i.t,
                  r = e.buttonView;

              function s() {
                i.editing.view.focus(), e.isOpen = !1;
              }

              e.bind("isEnabled").to(n), e.panelView.children.add(t), r.set({
                label: o("Insert media"),
                icon: gE.a,
                tooltip: !0
              }), r.on("open", function () {
                t.disableCssTransitions(), t.url = n.value || "", t.urlInputView.fieldView.select(), t.focus(), t.enableCssTransitions();
              }, {
                priority: "low"
              }), e.on("submit", function () {
                t.isValid() && (i.execute("mediaEmbed", t.url), s());
              }), e.on("change:isOpen", function () {
                return t.resetFormStatus();
              }), e.on("cancel", function () {
                return s();
              });
            }
          }, {
            key: "_setUpForm",
            value: function _setUpForm(e, t, n) {
              t.delegate("submit", "cancel").to(e), t.urlInputView.bind("value").to(n, "value"), t.urlInputView.bind("isReadOnly").to(n, "isEnabled", function (e) {
                return !e;
              });
            }
          }], [{
            key: "requires",
            get: function get() {
              return [cE];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "MediaEmbedUI";
            }
          }]);

          return mE;
        }(st);

        n(207);

        function fE(e, t) {
          if (!e.childCount) return;

          var n = new Wg(e.document),
              i = function (e, t) {
            var n = t.createRangeIn(e),
                i = new oo({
              name: /^p|h\d+$/,
              styles: {
                "mso-list": /.*/
              }
            }),
                o = [];

            var _iterator644 = _createForOfIteratorHelper(n),
                _step644;

            try {
              for (_iterator644.s(); !(_step644 = _iterator644.n()).done;) {
                var _e500 = _step644.value;

                if ("elementStart" === _e500.type && i.match(_e500.item)) {
                  var _t459 = kE(_e500.item);

                  o.push({
                    element: _e500.item,
                    id: _t459.id,
                    order: _t459.order,
                    indent: _t459.indent
                  });
                }
              }
            } catch (err) {
              _iterator644.e(err);
            } finally {
              _iterator644.f();
            }

            return o;
          }(e, n);

          if (!i.length) return;
          var o = null,
              r = 1;
          i.forEach(function (e, s) {
            var a = function (e, t) {
              if (!e) return !0;
              if (e.id !== t.id) return t.indent - e.indent != 1;
              var n = t.element.previousSibling;
              if (!n) return !0;
              return !function (e) {
                return e.is("element", "ol") || e.is("element", "ul");
              }(n);
            }(i[s - 1], e),
                c = function (e, t) {
              return e ? t.indent - e.indent : t.indent - 1;
            }(a ? null : i[s - 1], e);

            if (a && (o = null, r = 1), !o || 0 !== c) {
              var _i324 = function (e, t) {
                var n = /mso-level-number-format:([^;]{0,100});/gi,
                    i = new RegExp("@list l".concat(e.id, ":level").concat(e.indent, "\\s*({[^}]*)"), "gi").exec(t);
                var o = "decimal",
                    r = "ol";

                if (i && i[1]) {
                  var _t460 = n.exec(i[1]);

                  if (_t460 && _t460[1] && (o = _t460[1].trim(), r = "bullet" !== o && "image" !== o ? "ol" : "ul"), "bullet" === o) {
                    var _t461 = function (e) {
                      var t = function (e) {
                        if (e.getChild(0).is("$text")) return null;

                        var _iterator645 = _createForOfIteratorHelper(e.getChildren()),
                            _step645;

                        try {
                          for (_iterator645.s(); !(_step645 = _iterator645.n()).done;) {
                            var _t462 = _step645.value;
                            if (!_t462.is("element", "span")) continue;

                            var _e501 = _t462.getChild(0);

                            return _e501.is("$text") ? _e501 : _e501.getChild(0);
                          }
                        } catch (err) {
                          _iterator645.e(err);
                        } finally {
                          _iterator645.f();
                        }
                      }(e);

                      if (!t) return null;
                      var n = t._data;
                      if ("o" === n) return "circle";
                      if ("·" === n) return "disc";
                      if ("§" === n) return "square";
                      return null;
                    }(e.element);

                    _t461 && (o = _t461);
                  }
                }

                return {
                  type: r,
                  style: function (e) {
                    switch (e) {
                      case "arabic-leading-zero":
                        return "decimal-leading-zero";

                      case "alpha-upper":
                        return "upper-alpha";

                      case "alpha-lower":
                        return "lower-alpha";

                      case "roman-upper":
                        return "upper-roman";

                      case "roman-lower":
                        return "lower-roman";

                      case "circle":
                      case "disc":
                      case "square":
                        return e;

                      default:
                        return null;
                    }
                  }(o)
                };
              }(e, t);

              if (o) {
                if (e.indent > r) {
                  var _e502 = o.getChild(o.childCount - 1),
                      _t463 = _e502.getChild(_e502.childCount - 1);

                  o = pE(_i324, _t463, n), r += 1;
                } else if (e.indent < r) {
                  var _t464 = r - e.indent;

                  o = function (e, t) {
                    var n = e.getAncestors({
                      parentFirst: !0
                    });
                    var i = null,
                        o = 0;

                    var _iterator646 = _createForOfIteratorHelper(n),
                        _step646;

                    try {
                      for (_iterator646.s(); !(_step646 = _iterator646.n()).done;) {
                        var _e503 = _step646.value;

                        if ("ul" !== _e503.name && "ol" !== _e503.name || o++, o === t) {
                          i = _e503;
                          break;
                        }
                      }
                    } catch (err) {
                      _iterator646.e(err);
                    } finally {
                      _iterator646.f();
                    }

                    return i;
                  }(o, _t464), r = parseInt(e.indent);
                }
              } else o = pE(_i324, e.element, n);

              e.indent <= r && (o.is("element", _i324.type) || (o = n.rename(_i324.type, o)));
            }

            var l = function (e, t) {
              return function (e, t) {
                var n = new oo({
                  name: "span",
                  styles: {
                    "mso-list": "Ignore"
                  }
                }),
                    i = t.createRangeIn(e);

                var _iterator647 = _createForOfIteratorHelper(i),
                    _step647;

                try {
                  for (_iterator647.s(); !(_step647 = _iterator647.n()).done;) {
                    var _e504 = _step647.value;
                    "elementStart" === _e504.type && n.match(_e504.item) && t.remove(_e504.item);
                  }
                } catch (err) {
                  _iterator647.e(err);
                } finally {
                  _iterator647.f();
                }
              }(e, t), t.rename("li", e);
            }(e.element, n);

            n.appendChild(l, o);
          });
        }

        function pE(e, t, n) {
          var i = t.parent,
              o = n.createElement(e.type),
              r = i.getChildIndex(t) + 1;
          return n.insertChild(r, o, i), e.style && n.setStyle("list-style-type", e.style, o), o;
        }

        function kE(e) {
          var t = {},
              n = e.getStyle("mso-list");

          if (n) {
            var _e505 = n.match(/(^|\s{1,100})l(\d+)/i),
                _i325 = n.match(/\s{0,100}lfo(\d+)/i),
                _o167 = n.match(/\s{0,100}level(\d+)/i);

            _e505 && _i325 && _o167 && (t.id = _e505[2], t.order = _i325[1], t.indent = _o167[1]);
          }

          return t;
        }

        var bE = /id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;

        var wE = /*#__PURE__*/function () {
          function wE(e) {
            _classCallCheck(this, wE);

            this.document = e;
          }

          _createClass(wE, [{
            key: "isActive",
            value: function isActive(e) {
              return bE.test(e);
            }
          }, {
            key: "execute",
            value: function execute(e) {
              var t = new Wg(this.document),
                  n = e._parsedData.body;
              !function (e, t) {
                var _iterator648 = _createForOfIteratorHelper(e.getChildren()),
                    _step648;

                try {
                  for (_iterator648.s(); !(_step648 = _iterator648.n()).done;) {
                    var _n366 = _step648.value;

                    if (_n366.is("element", "b") && "normal" === _n366.getStyle("font-weight")) {
                      var _i326 = e.getChildIndex(_n366);

                      t.remove(_n366), t.insertChild(_i326, _n366.getChildren(), e);
                    }
                  }
                } catch (err) {
                  _iterator648.e(err);
                } finally {
                  _iterator648.f();
                }
              }(n, t), function (e, t) {
                var _iterator649 = _createForOfIteratorHelper(t.createRangeIn(e)),
                    _step649;

                try {
                  for (_iterator649.s(); !(_step649 = _iterator649.n()).done;) {
                    var _n367 = _step649.value;
                    var _e506 = _n367.item;

                    if (_e506.is("element", "li")) {
                      var _n368 = _e506.getChild(0);

                      _n368 && _n368.is("element", "p") && t.unwrapElement(_n368);
                    }
                  }
                } catch (err) {
                  _iterator649.e(err);
                } finally {
                  _iterator649.f();
                }
              }(n, t), e.content = n;
            }
          }]);

          return wE;
        }();

        function _E(e, t) {
          if (!e.childCount) return;
          var n = new Wg();
          !function (e, t, n) {
            var i = n.createRangeIn(t),
                o = new oo({
              name: "img"
            }),
                r = [];

            var _iterator650 = _createForOfIteratorHelper(i),
                _step650;

            try {
              for (_iterator650.s(); !(_step650 = _iterator650.n()).done;) {
                var _t465 = _step650.value;

                if (o.match(_t465.item)) {
                  var _n369 = _t465.item,
                      _i328 = _n369.getAttribute("v:shapes") ? _n369.getAttribute("v:shapes").split(" ") : [];

                  _i328.length && _i328.every(function (t) {
                    return e.indexOf(t) > -1;
                  }) ? r.push(_n369) : _n369.getAttribute("src") || r.push(_n369);
                }
              }
            } catch (err) {
              _iterator650.e(err);
            } finally {
              _iterator650.f();
            }

            for (var _i327 = 0, _r94 = r; _i327 < _r94.length; _i327++) {
              var _e507 = _r94[_i327];
              n.remove(_e507);
            }
          }(function (e, t) {
            var n = t.createRangeIn(e),
                i = new oo({
              name: /v:(.+)/
            }),
                o = [];

            var _iterator651 = _createForOfIteratorHelper(n),
                _step651;

            try {
              for (_iterator651.s(); !(_step651 = _iterator651.n()).done;) {
                var _e508 = _step651.value;
                if ("elementStart" != _e508.type) continue;

                var _t466 = _e508.item,
                    _n370 = _t466.previousSibling && _t466.previousSibling.name || null;

                i.match(_t466) && _t466.getAttribute("o:gfxdata") && "v:shapetype" !== _n370 && o.push(_e508.item.getAttribute("id"));
              }
            } catch (err) {
              _iterator651.e(err);
            } finally {
              _iterator651.f();
            }

            return o;
          }(e, n), e, n), function (e, t) {
            var n = t.createRangeIn(e),
                i = new oo({
              name: /v:(.+)/
            }),
                o = [];

            var _iterator652 = _createForOfIteratorHelper(n),
                _step652;

            try {
              for (_iterator652.s(); !(_step652 = _iterator652.n()).done;) {
                var _e510 = _step652.value;
                "elementStart" == _e510.type && i.match(_e510.item) && o.push(_e510.item);
              }
            } catch (err) {
              _iterator652.e(err);
            } finally {
              _iterator652.f();
            }

            for (var _i329 = 0, _o168 = o; _i329 < _o168.length; _i329++) {
              var _e509 = _o168[_i329];
              t.remove(_e509);
            }
          }(e, n);

          var i = function (e, t) {
            var n = t.createRangeIn(e),
                i = new oo({
              name: "img"
            }),
                o = [];

            var _iterator653 = _createForOfIteratorHelper(n),
                _step653;

            try {
              for (_iterator653.s(); !(_step653 = _iterator653.n()).done;) {
                var _e511 = _step653.value;
                i.match(_e511.item) && _e511.item.getAttribute("src").startsWith("file://") && o.push(_e511.item);
              }
            } catch (err) {
              _iterator653.e(err);
            } finally {
              _iterator653.f();
            }

            return o;
          }(e, n);

          i.length && function (e, t, n) {
            if (e.length === t.length) for (var _i330 = 0; _i330 < e.length; _i330++) {
              var _o169 = "data:".concat(t[_i330].type, ";base64,").concat(vE(t[_i330].hex));

              n.setAttribute("src", _o169, e[_i330]);
            }
          }(i, function (e) {
            if (!e) return [];
            var t = /{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,
                n = new RegExp("(?:(" + t.source + "))([\\da-fA-F\\s]+)\\}", "g"),
                i = e.match(n),
                o = [];

            if (i) {
              var _iterator654 = _createForOfIteratorHelper(i),
                  _step654;

              try {
                for (_iterator654.s(); !(_step654 = _iterator654.n()).done;) {
                  var _e512 = _step654.value;

                  var _n371 = !1;

                  _e512.includes("\\pngblip") ? _n371 = "image/png" : _e512.includes("\\jpegblip") && (_n371 = "image/jpeg"), _n371 && o.push({
                    hex: _e512.replace(t, "").replace(/[^\da-fA-F]/g, ""),
                    type: _n371
                  });
                }
              } catch (err) {
                _iterator654.e(err);
              } finally {
                _iterator654.f();
              }
            }

            return o;
          }(t), n);
        }

        function vE(e) {
          return btoa(e.match(/\w{2}/g).map(function (e) {
            return String.fromCharCode(parseInt(e, 16));
          }).join(""));
        }

        var xE = /<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,
            yE = /xmlns:o="urn:schemas-microsoft-com/i;

        var CE = /*#__PURE__*/function () {
          function CE(e) {
            _classCallCheck(this, CE);

            this.document = e;
          }

          _createClass(CE, [{
            key: "isActive",
            value: function isActive(e) {
              return xE.test(e) || yE.test(e);
            }
          }, {
            key: "execute",
            value: function execute(e) {
              var _e$_parsedData = e._parsedData,
                  t = _e$_parsedData.body,
                  n = _e$_parsedData.stylesString;
              fE(t, n), _E(t, e.dataTransfer.getData("text/rtf")), e.content = t;
            }
          }]);

          return CE;
        }();

        function TE(e) {
          return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g, function (e, t) {
            return 1 === t.length ? " " : Array(t.length + 1).join("  ").substr(0, t.length);
          });
        }

        function AE(e, t) {
          var n = new DOMParser(),
              i = function (e) {
            return TE(TE(e)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g, "$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g, "").replace(/ <\//g, " </").replace(/ <o:p><\/o:p>/g, " <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g, "").replace(/>([^\S\r\n]*[\r\n]\s*)</g, "><");
          }(function (e) {
            var t = e.indexOf("</body>");
            if (t < 0) return e;
            var n = e.indexOf("</html>", t + "</body>".length);
            return e.substring(0, t + "</body>".length) + (n >= 0 ? e.substring(n) : "");
          }(e = e.replace(/<!--\[if gte vml 1]>/g, ""))),
              o = n.parseFromString(i, "text/html");

          !function (e) {
            e.querySelectorAll("span[style*=spacerun]").forEach(function (e) {
              var t = e.innerText.length || 0;
              e.innerHTML = Array(t + 1).join("  ").substr(0, t);
            });
          }(o);

          var r = o.body.innerHTML,
              s = function (e, t) {
            var n = new pr(t),
                i = new vs(n, {
              renderingMode: "data"
            }),
                o = e.createDocumentFragment(),
                r = e.body.childNodes;

            for (; r.length > 0;) {
              o.appendChild(r[0]);
            }

            return i.domToView(o, {
              skipComments: !0
            });
          }(o, t),
              a = function (e) {
            var t = [],
                n = [],
                i = Array.from(e.getElementsByTagName("style"));

            for (var _i332 = 0, _i331 = i; _i332 < _i331.length; _i332++) {
              var _e513 = _i331[_i332];
              _e513.sheet && _e513.sheet.cssRules && _e513.sheet.cssRules.length && (t.push(_e513.sheet), n.push(_e513.innerHTML));
            }

            return {
              styles: t,
              stylesString: n.join(" ")
            };
          }(o);

          return {
            body: s,
            bodyString: r,
            styles: a.styles,
            stylesString: a.stylesString
          };
        }

        var EE = n(73),
            IE = n.n(EE);
        var SE = "removeFormat";

        var ME = /*#__PURE__*/function (_st117) {
          _inherits(ME, _st117);

          var _super274 = _createSuper(ME);

          function ME() {
            _classCallCheck(this, ME);

            return _super274.apply(this, arguments);
          }

          _createClass(ME, [{
            key: "init",
            value: function init() {
              var _this443 = this;

              var e = this.editor,
                  t = e.t;
              e.ui.componentFactory.add(SE, function (n) {
                var i = e.commands.get(SE),
                    o = new Th(n);
                return o.set({
                  label: t("Remove Format"),
                  icon: IE.a,
                  tooltip: !0
                }), o.bind("isOn", "isEnabled").to(i, "value", "isEnabled"), _this443.listenTo(o, "execute", function () {
                  e.execute(SE), e.editing.view.focus();
                }), o;
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "RemoveFormatUI";
            }
          }]);

          return ME;
        }(st);

        var PE = /*#__PURE__*/function (_ct36) {
          _inherits(PE, _ct36);

          var _super275 = _createSuper(PE);

          function PE() {
            _classCallCheck(this, PE);

            return _super275.apply(this, arguments);
          }

          _createClass(PE, [{
            key: "refresh",
            value: function refresh() {
              var e = this.editor.model;
              this.isEnabled = !!Ja(this._getFormattingItems(e.document.selection, e.schema));
            }
          }, {
            key: "execute",
            value: function execute() {
              var _this444 = this;

              var e = this.editor.model,
                  t = e.schema;
              e.change(function (n) {
                var _iterator655 = _createForOfIteratorHelper(_this444._getFormattingItems(e.document.selection, t)),
                    _step655;

                try {
                  for (_iterator655.s(); !(_step655 = _iterator655.n()).done;) {
                    var _i333 = _step655.value;

                    if (_i333.is("selection")) {
                      var _iterator656 = _createForOfIteratorHelper(_this444._getFormattingAttributes(_i333, t)),
                          _step656;

                      try {
                        for (_iterator656.s(); !(_step656 = _iterator656.n()).done;) {
                          var _e514 = _step656.value;
                          n.removeSelectionAttribute(_e514);
                        }
                      } catch (err) {
                        _iterator656.e(err);
                      } finally {
                        _iterator656.f();
                      }
                    } else {
                      var _e515 = n.createRangeOn(_i333);

                      var _iterator657 = _createForOfIteratorHelper(_this444._getFormattingAttributes(_i333, t)),
                          _step657;

                      try {
                        for (_iterator657.s(); !(_step657 = _iterator657.n()).done;) {
                          var _o170 = _step657.value;
                          n.removeAttribute(_o170, _e515);
                        }
                      } catch (err) {
                        _iterator657.e(err);
                      } finally {
                        _iterator657.f();
                      }
                    }
                  }
                } catch (err) {
                  _iterator655.e(err);
                } finally {
                  _iterator655.f();
                }
              });
            }
          }, {
            key: "_getFormattingItems",
            value: /*#__PURE__*/regeneratorRuntime.mark(function _getFormattingItems(e, t) {
              var _this445 = this;

              var n, _iterator658, _step658, _i334, _iterator660, _step660, _e516, _iterator659, _step659, _t467;

              return regeneratorRuntime.wrap(function _getFormattingItems$(_context44) {
                while (1) {
                  switch (_context44.prev = _context44.next) {
                    case 0:
                      n = function n(e) {
                        return !!Ja(_this445._getFormattingAttributes(e, t));
                      };

                      _iterator658 = _createForOfIteratorHelper(e.getRanges());
                      _context44.prev = 2;

                      _iterator658.s();

                    case 4:
                      if ((_step658 = _iterator658.n()).done) {
                        _context44.next = 27;
                        break;
                      }

                      _i334 = _step658.value;
                      _iterator660 = _createForOfIteratorHelper(_i334.getItems());
                      _context44.prev = 7;

                      _iterator660.s();

                    case 9:
                      if ((_step660 = _iterator660.n()).done) {
                        _context44.next = 17;
                        break;
                      }

                      _e516 = _step660.value;
                      _context44.t0 = !t.isBlock(_e516) && n(_e516);

                      if (!_context44.t0) {
                        _context44.next = 15;
                        break;
                      }

                      _context44.next = 15;
                      return _e516;

                    case 15:
                      _context44.next = 9;
                      break;

                    case 17:
                      _context44.next = 22;
                      break;

                    case 19:
                      _context44.prev = 19;
                      _context44.t1 = _context44["catch"](7);

                      _iterator660.e(_context44.t1);

                    case 22:
                      _context44.prev = 22;

                      _iterator660.f();

                      return _context44.finish(22);

                    case 25:
                      _context44.next = 4;
                      break;

                    case 27:
                      _context44.next = 32;
                      break;

                    case 29:
                      _context44.prev = 29;
                      _context44.t2 = _context44["catch"](2);

                      _iterator658.e(_context44.t2);

                    case 32:
                      _context44.prev = 32;

                      _iterator658.f();

                      return _context44.finish(32);

                    case 35:
                      _iterator659 = _createForOfIteratorHelper(e.getSelectedBlocks());
                      _context44.prev = 36;

                      _iterator659.s();

                    case 38:
                      if ((_step659 = _iterator659.n()).done) {
                        _context44.next = 46;
                        break;
                      }

                      _t467 = _step659.value;
                      _context44.t3 = n(_t467);

                      if (!_context44.t3) {
                        _context44.next = 44;
                        break;
                      }

                      _context44.next = 44;
                      return _t467;

                    case 44:
                      _context44.next = 38;
                      break;

                    case 46:
                      _context44.next = 51;
                      break;

                    case 48:
                      _context44.prev = 48;
                      _context44.t4 = _context44["catch"](36);

                      _iterator659.e(_context44.t4);

                    case 51:
                      _context44.prev = 51;

                      _iterator659.f();

                      return _context44.finish(51);

                    case 54:
                      _context44.t5 = n(e);

                      if (!_context44.t5) {
                        _context44.next = 58;
                        break;
                      }

                      _context44.next = 58;
                      return e;

                    case 58:
                    case "end":
                      return _context44.stop();
                  }
                }
              }, _getFormattingItems, null, [[2, 29, 32, 35], [7, 19, 22, 25], [36, 48, 51, 54]]);
            })
          }, {
            key: "_getFormattingAttributes",
            value: /*#__PURE__*/regeneratorRuntime.mark(function _getFormattingAttributes(e, t) {
              var _iterator661, _step661, _step661$value, _n372, _e517;

              return regeneratorRuntime.wrap(function _getFormattingAttributes$(_context45) {
                while (1) {
                  switch (_context45.prev = _context45.next) {
                    case 0:
                      _iterator661 = _createForOfIteratorHelper(e.getAttributes());
                      _context45.prev = 1;

                      _iterator661.s();

                    case 3:
                      if ((_step661 = _iterator661.n()).done) {
                        _context45.next = 12;
                        break;
                      }

                      _step661$value = _slicedToArray(_step661.value, 1), _n372 = _step661$value[0];
                      _e517 = t.getAttributeProperties(_n372);
                      _context45.t0 = _e517 && _e517.isFormatting;

                      if (!_context45.t0) {
                        _context45.next = 10;
                        break;
                      }

                      _context45.next = 10;
                      return _n372;

                    case 10:
                      _context45.next = 3;
                      break;

                    case 12:
                      _context45.next = 17;
                      break;

                    case 14:
                      _context45.prev = 14;
                      _context45.t1 = _context45["catch"](1);

                      _iterator661.e(_context45.t1);

                    case 17:
                      _context45.prev = 17;

                      _iterator661.f();

                      return _context45.finish(17);

                    case 20:
                    case "end":
                      return _context45.stop();
                  }
                }
              }, _getFormattingAttributes, null, [[1, 14, 17, 20]]);
            })
          }]);

          return PE;
        }(ct);

        var RE = /*#__PURE__*/function (_st118) {
          _inherits(RE, _st118);

          var _super276 = _createSuper(RE);

          function RE() {
            _classCallCheck(this, RE);

            return _super276.apply(this, arguments);
          }

          _createClass(RE, [{
            key: "init",
            value: function init() {
              var e = this.editor;
              e.commands.add("removeFormat", new PE(e));
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "RemoveFormatEditing";
            }
          }]);

          return RE;
        }(st);

        var NE = "strikethrough";

        var OE = /*#__PURE__*/function (_st119) {
          _inherits(OE, _st119);

          var _super277 = _createSuper(OE);

          function OE() {
            _classCallCheck(this, OE);

            return _super277.apply(this, arguments);
          }

          _createClass(OE, [{
            key: "init",
            value: function init() {
              var e = this.editor;
              e.model.schema.extend("$text", {
                allowAttributes: NE
              }), e.model.schema.setAttributeProperties(NE, {
                isFormatting: !0,
                copyOnEnter: !0
              }), e.conversion.attributeToElement({
                model: NE,
                view: "s",
                upcastAlso: ["del", "strike", {
                  styles: {
                    "text-decoration": "line-through"
                  }
                }]
              }), e.commands.add(NE, new uk(e, NE)), e.keystrokes.set("CTRL+SHIFT+X", "strikethrough");
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "StrikethroughEditing";
            }
          }]);

          return OE;
        }(st);

        var DE = n(74),
            LE = n.n(DE);
        var zE = "strikethrough";

        var VE = /*#__PURE__*/function (_st120) {
          _inherits(VE, _st120);

          var _super278 = _createSuper(VE);

          function VE() {
            _classCallCheck(this, VE);

            return _super278.apply(this, arguments);
          }

          _createClass(VE, [{
            key: "init",
            value: function init() {
              var _this446 = this;

              var e = this.editor,
                  t = e.t;
              e.ui.componentFactory.add(zE, function (n) {
                var i = e.commands.get(zE),
                    o = new Th(n);
                return o.set({
                  label: t("Strikethrough"),
                  icon: LE.a,
                  keystroke: "CTRL+SHIFT+X",
                  tooltip: !0,
                  isToggleable: !0
                }), o.bind("isOn", "isEnabled").to(i, "value", "isEnabled"), _this446.listenTo(o, "execute", function () {
                  e.execute(zE), e.editing.view.focus();
                }), o;
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "StrikethroughUI";
            }
          }]);

          return VE;
        }(st);

        function BE() {
          return function (e) {
            e.on("element:table", function (e, t, n) {
              var i = t.viewItem;
              if (!n.consumable.test(i, {
                name: !0
              })) return;

              var _ref144 = function (e) {
                var t = {
                  headingRows: 0,
                  headingColumns: 0
                },
                    n = [],
                    i = [];
                var o;

                for (var _i335 = 0, _Array$from11 = Array.from(e.getChildren()); _i335 < _Array$from11.length; _i335++) {
                  var _r95 = _Array$from11[_i335];

                  if ("tbody" === _r95.name || "thead" === _r95.name || "tfoot" === _r95.name) {
                    "thead" !== _r95.name || o || (o = _r95);

                    var _e518 = Array.from(_r95.getChildren()).filter(function (e) {
                      return e.is("element", "tr");
                    });

                    var _iterator662 = _createForOfIteratorHelper(_e518),
                        _step662;

                    try {
                      for (_iterator662.s(); !(_step662 = _iterator662.n()).done;) {
                        var _r96 = _step662.value;
                        if ("thead" === _r96.parent.name && _r96.parent === o) t.headingRows++, n.push(_r96);else {
                          i.push(_r96);

                          var _e519 = jE(_r96);

                          _e519 > t.headingColumns && (t.headingColumns = _e519);
                        }
                      }
                    } catch (err) {
                      _iterator662.e(err);
                    } finally {
                      _iterator662.f();
                    }
                  }
                }

                return t.rows = [].concat(n, i), t;
              }(i),
                  o = _ref144.rows,
                  r = _ref144.headingRows,
                  s = _ref144.headingColumns,
                  a = {};

              s && (a.headingColumns = s), r && (a.headingRows = r);
              var c = n.writer.createElement("table", a);

              if (n.safeInsert(c, t.modelCursor)) {
                if (n.consumable.consume(i, {
                  name: !0
                }), o.forEach(function (e) {
                  return n.convertItem(e, n.writer.createPositionAt(c, "end"));
                }), n.convertChildren(i, n.writer.createPositionAt(c, "end")), c.isEmpty) {
                  var _e520 = n.writer.createElement("tableRow");

                  n.writer.insert(_e520, n.writer.createPositionAt(c, "end")), bx(n.writer, n.writer.createPositionAt(_e520, "end"));
                }

                n.updateConversionResult(c, t);
              }
            });
          };
        }

        function FE(e) {
          return function (t) {
            t.on("element:".concat(e), function (e, t, n) {
              if (t.modelRange && t.viewItem.isEmpty) {
                var _e521 = t.modelRange.start.nodeAfter,
                    _i336 = n.writer.createPositionAt(_e521, 0);

                n.writer.insertElement("paragraph", _i336);
              }
            }, {
              priority: "low"
            });
          };
        }

        function jE(e) {
          var t = 0,
              n = 0;
          var i = Array.from(e.getChildren()).filter(function (e) {
            return "th" === e.name || "td" === e.name;
          });

          for (; n < i.length && "th" === i[n].name;) {
            var _e522 = i[n];
            t += parseInt(_e522.getAttribute("colspan") || 1), n++;
          }

          return t;
        }

        function HE() {
          var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
          return function (t) {
            return t.on("insert:table", function (t, n, i) {
              var o = n.item;
              if (!i.consumable.consume(o, "insert")) return;
              i.consumable.consume(o, "attribute:headingRows:table"), i.consumable.consume(o, "attribute:headingColumns:table");
              var r = e && e.asWidget,
                  s = i.writer.createContainerElement("figure", {
                "class": "table"
              }),
                  a = i.writer.createContainerElement("table");
              var c;
              i.writer.insert(i.writer.createPositionAt(s, 0), a), r && (c = function (e, t) {
                return t.setCustomProperty("table", !0, e), jf(e, t, {
                  hasSelectionHandle: !0
                });
              }(s, i.writer));
              var l = new $v(o),
                  d = {
                headingRows: o.getAttribute("headingRows") || 0,
                headingColumns: o.getAttribute("headingColumns") || 0
              },
                  u = new Map();

              var _iterator663 = _createForOfIteratorHelper(l),
                  _step663;

              try {
                for (_iterator663.s(); !(_step663 = _iterator663.n()).done;) {
                  var _t468 = _step663.value;

                  var _n373 = _t468.row,
                      _r97 = _t468.cell,
                      _s64 = o.getChild(_n373),
                      _c37 = u.get(_n373) || GE(a, _s64, _n373, d, i);

                  u.set(_n373, _c37), i.consumable.consume(_r97, "insert"), $E(_t468, d, i.writer.createPositionAt(_c37, "end"), i, e);
                }
              } catch (err) {
                _iterator663.e(err);
              } finally {
                _iterator663.f();
              }

              var _iterator664 = _createForOfIteratorHelper(o.getChildren()),
                  _step664;

              try {
                for (_iterator664.s(); !(_step664 = _iterator664.n()).done;) {
                  var _e523 = _step664.value;
                  var _t469 = _e523.index;
                  _e523.is("element", "tableRow") && !u.has(_t469) && u.set(_t469, GE(a, _e523, _t469, d, i));
                }
              } catch (err) {
                _iterator664.e(err);
              } finally {
                _iterator664.f();
              }

              var h = i.mapper.toViewPosition(n.range.start);
              i.mapper.bindElements(o, r ? c : s), i.writer.insert(h, r ? c : s);
            });
          };
        }

        function UE(e, t) {
          var n = t.writer;
          if (e.parent.is("element", "tableCell")) return WE(e) ? n.createContainerElement("span", {
            "class": "ck-table-bogus-paragraph"
          }) : n.createContainerElement("p");
        }

        function WE(e) {
          return 1 === e.parent.childCount && !JE(e);
        }

        function qE(e, t, n) {
          var i = e.cell,
              o = YE(e, t),
              r = n.mapper.toViewElement(i);
          r && r.name !== o && function (e, t, n) {
            var i = n.writer,
                o = n.mapper.toViewElement(e),
                r = Uf(i.createEditableElement(t, o.getAttributes()), i);
            i.insert(i.createPositionAfter(o), r), i.move(i.createRangeIn(o), i.createPositionAt(r, 0)), i.remove(i.createRangeOn(o)), n.mapper.unbindViewElement(o), n.mapper.bindElements(e, r);
          }(i, o, n);
        }

        function $E(e, t, n, i, o) {
          var r = o && o.asWidget,
              s = YE(e, t),
              a = r ? Uf(i.writer.createEditableElement(s), i.writer) : i.writer.createContainerElement(s),
              c = e.cell,
              l = c.getChild(0),
              d = 1 === c.childCount && "paragraph" === l.name;

          if (i.writer.insert(n, a), i.mapper.bindElements(c, a), !r && d && !JE(l)) {
            var _e524 = c.getChild(0);

            i.consumable.consume(_e524, "insert"), i.mapper.bindElements(_e524, a);
          }
        }

        function GE(e, t, n, i, o) {
          o.consumable.consume(t, "insert");
          var r = t.isEmpty ? o.writer.createEmptyElement("tr") : o.writer.createContainerElement("tr");
          o.mapper.bindElements(t, r);

          var s = i.headingRows,
              a = function (e, t, n) {
            var i = KE(e, t);
            return i || function (e, t, n) {
              var i = n.writer.createContainerElement(e),
                  o = n.writer.createPositionAt(t, "tbody" == e ? "end" : 0);
              return n.writer.insert(o, i), i;
            }(e, t, n);
          }(function (e, t) {
            return e < t.headingRows ? "thead" : "tbody";
          }(n, i), e, o),
              c = s > 0 && n >= s ? n - s : n,
              l = o.writer.createPositionAt(a, c);

          return o.writer.insert(l, r), r;
        }

        function YE(e, t) {
          var n = e.row,
              i = e.column,
              o = t.headingColumns,
              r = t.headingRows;
          return r && r > n ? "th" : o && o > i ? "th" : "td";
        }

        function KE(e, t) {
          var _iterator665 = _createForOfIteratorHelper(t.getChildren()),
              _step665;

          try {
            for (_iterator665.s(); !(_step665 = _iterator665.n()).done;) {
              var _n374 = _step665.value;
              if (_n374.name == e) return _n374;
            }
          } catch (err) {
            _iterator665.e(err);
          } finally {
            _iterator665.f();
          }
        }

        function QE(e, t, n) {
          var i = KE(e, t);
          i && 0 === i.childCount && n.writer.remove(n.writer.createRangeOn(i));
        }

        function JE(e) {
          return !!_toConsumableArray(e.getAttributeKeys()).length;
        }

        var XE = /*#__PURE__*/function (_ct37) {
          _inherits(XE, _ct37);

          var _super279 = _createSuper(XE);

          function XE() {
            _classCallCheck(this, XE);

            return _super279.apply(this, arguments);
          }

          _createClass(XE, [{
            key: "refresh",
            value: function refresh() {
              var e = this.editor.model,
                  t = e.document.selection,
                  n = e.schema;

              this.isEnabled = function (e, t) {
                var n = e.getFirstPosition().parent,
                    i = n === n.root ? n : n.parent;
                return t.checkChild(i, "table");
              }(t, n);
            }
          }, {
            key: "execute",
            value: function execute() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
              var t = this.editor.model,
                  n = t.document.selection,
                  i = this.editor.plugins.get("TableUtils"),
                  o = this.editor.config.get("table"),
                  r = Wf(n, t),
                  s = o.defaultHeadings.rows,
                  a = o.defaultHeadings.columns;
              void 0 === e.headingRows && s && (e.headingRows = s), void 0 === e.headingColumns && a && (e.headingColumns = a), t.change(function (n) {
                var o = i.createTable(n, e);
                t.insertContent(o, r), n.setSelection(n.createPositionAt(o.getNodeByPath([0, 0, 0]), 0));
              });
            }
          }]);

          return XE;
        }(ct);

        var ZE = /*#__PURE__*/function (_ct38) {
          _inherits(ZE, _ct38);

          var _super280 = _createSuper(ZE);

          function ZE(e) {
            var _this447;

            var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

            _classCallCheck(this, ZE);

            _this447 = _super280.call(this, e), _this447.order = t.order || "below";
            return _this447;
          }

          _createClass(ZE, [{
            key: "refresh",
            value: function refresh() {
              var e = !!Qv(this.editor.model.document.selection).length;
              this.isEnabled = e;
            }
          }, {
            key: "execute",
            value: function execute() {
              var e = this.editor,
                  t = e.model.document.selection,
                  n = e.plugins.get("TableUtils"),
                  i = "above" === this.order,
                  o = Qv(t),
                  r = Jv(o),
                  s = i ? r.first : r.last,
                  a = o[0].findAncestor("table");
              n.insertRows(a, {
                at: i ? s : s + 1,
                copyStructureFromAbove: !i
              });
            }
          }]);

          return ZE;
        }(ct);

        var eI = /*#__PURE__*/function (_ct39) {
          _inherits(eI, _ct39);

          var _super281 = _createSuper(eI);

          function eI(e) {
            var _this448;

            var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

            _classCallCheck(this, eI);

            _this448 = _super281.call(this, e), _this448.order = t.order || "right";
            return _this448;
          }

          _createClass(eI, [{
            key: "refresh",
            value: function refresh() {
              var e = !!Qv(this.editor.model.document.selection).length;
              this.isEnabled = e;
            }
          }, {
            key: "execute",
            value: function execute() {
              var e = this.editor,
                  t = e.model.document.selection,
                  n = e.plugins.get("TableUtils"),
                  i = "left" === this.order,
                  o = Qv(t),
                  r = Xv(o),
                  s = i ? r.first : r.last,
                  a = o[0].findAncestor("table");
              n.insertColumns(a, {
                columns: 1,
                at: i ? s : s + 1
              });
            }
          }]);

          return eI;
        }(ct);

        var tI = /*#__PURE__*/function (_ct40) {
          _inherits(tI, _ct40);

          var _super282 = _createSuper(tI);

          function tI(e) {
            var _this449;

            var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

            _classCallCheck(this, tI);

            _this449 = _super282.call(this, e), _this449.direction = t.direction || "horizontally";
            return _this449;
          }

          _createClass(tI, [{
            key: "refresh",
            value: function refresh() {
              var e = Qv(this.editor.model.document.selection);
              this.isEnabled = 1 === e.length;
            }
          }, {
            key: "execute",
            value: function execute() {
              var e = Qv(this.editor.model.document.selection)[0],
                  t = "horizontally" === this.direction,
                  n = this.editor.plugins.get("TableUtils");
              t ? n.splitCellHorizontally(e, 2) : n.splitCellVertically(e, 2);
            }
          }]);

          return tI;
        }(ct);

        var nI = /*#__PURE__*/function (_ct41) {
          _inherits(nI, _ct41);

          var _super283 = _createSuper(nI);

          function nI(e, t) {
            var _this450;

            _classCallCheck(this, nI);

            _this450 = _super283.call(this, e), _this450.direction = t.direction, _this450.isHorizontal = "right" == _this450.direction || "left" == _this450.direction;
            return _this450;
          }

          _createClass(nI, [{
            key: "refresh",
            value: function refresh() {
              var e = this._getMergeableCell();

              this.value = e, this.isEnabled = !!e;
            }
          }, {
            key: "execute",
            value: function execute() {
              var _this451 = this;

              var e = this.editor.model,
                  t = Kv(e.document.selection)[0],
                  n = this.value,
                  i = this.direction;
              e.change(function (e) {
                var o = "right" == i || "down" == i,
                    r = o ? t : n,
                    s = o ? n : t,
                    a = s.parent;
                !function (e, t, n) {
                  iI(e) || (iI(t) && n.remove(n.createRangeIn(t)), n.move(n.createRangeIn(e), n.createPositionAt(t, "end")));
                  n.remove(e);
                }(s, r, e);
                var c = _this451.isHorizontal ? "colspan" : "rowspan",
                    l = parseInt(t.getAttribute(c) || 1),
                    d = parseInt(n.getAttribute(c) || 1);
                e.setAttribute(c, l + d, r), e.setSelection(e.createRangeIn(r));

                var u = _this451.editor.plugins.get("TableUtils");

                Ix(a.findAncestor("table"), u);
              });
            }
          }, {
            key: "_getMergeableCell",
            value: function _getMergeableCell() {
              var e = Kv(this.editor.model.document.selection)[0];
              if (!e) return;
              var t = this.editor.plugins.get("TableUtils"),
                  n = this.isHorizontal ? function (e, t, n) {
                var i = e.parent.parent,
                    o = "right" == t ? e.nextSibling : e.previousSibling,
                    r = (i.getAttribute("headingColumns") || 0) > 0;
                if (!o) return;

                var s = "right" == t ? e : o,
                    a = "right" == t ? o : e,
                    _n$getCellLocation = n.getCellLocation(s),
                    c = _n$getCellLocation.column,
                    _n$getCellLocation2 = n.getCellLocation(a),
                    l = _n$getCellLocation2.column,
                    d = parseInt(s.getAttribute("colspan") || 1),
                    u = wx(n, s),
                    h = wx(n, a);

                if (r && u != h) return;
                return c + d === l ? o : void 0;
              }(e, this.direction, t) : function (e, t, n) {
                var i = e.parent,
                    o = i.parent,
                    r = o.getChildIndex(i);
                if ("down" == t && r === n.getRows(o) - 1 || "up" == t && 0 === r) return;
                var s = parseInt(e.getAttribute("rowspan") || 1),
                    a = o.getAttribute("headingRows") || 0;
                if (a && ("down" == t && r + s === a || "up" == t && r === a)) return;

                var c = parseInt(e.getAttribute("rowspan") || 1),
                    l = "down" == t ? r + c : r,
                    d = _toConsumableArray(new $v(o, {
                  endRow: l
                })),
                    u = d.find(function (t) {
                  return t.cell === e;
                }).column,
                    h = d.find(function (_ref145) {
                  var e = _ref145.row,
                      n = _ref145.cellHeight,
                      i = _ref145.column;
                  return i === u && ("down" == t ? e === l : l === e + n);
                });

                return h && h.cell;
              }(e, this.direction, t);
              if (!n) return;
              var i = this.isHorizontal ? "rowspan" : "colspan",
                  o = parseInt(e.getAttribute(i) || 1);
              return parseInt(n.getAttribute(i) || 1) === o ? n : void 0;
            }
          }]);

          return nI;
        }(ct);

        function iI(e) {
          return 1 == e.childCount && e.getChild(0).is("element", "paragraph") && e.getChild(0).isEmpty;
        }

        var oI = /*#__PURE__*/function (_ct42) {
          _inherits(oI, _ct42);

          var _super284 = _createSuper(oI);

          function oI() {
            _classCallCheck(this, oI);

            return _super284.apply(this, arguments);
          }

          _createClass(oI, [{
            key: "refresh",
            value: function refresh() {
              var e = Qv(this.editor.model.document.selection),
                  t = e[0];

              if (t) {
                var _n375 = t.findAncestor("table"),
                    _i337 = this.editor.plugins.get("TableUtils").getRows(_n375) - 1,
                    _o171 = Jv(e),
                    _r98 = 0 === _o171.first && _o171.last === _i337;

                this.isEnabled = !_r98;
              } else this.isEnabled = !1;
            }
          }, {
            key: "execute",
            value: function execute() {
              var e = this.editor.model,
                  t = this.editor.plugins.get("TableUtils"),
                  n = Qv(e.document.selection),
                  i = Jv(n),
                  o = n[0],
                  r = o.findAncestor("table"),
                  s = t.getCellLocation(o).column;
              e.change(function (e) {
                var n = i.last - i.first + 1;
                t.removeRows(r, {
                  at: i.first,
                  rows: n
                });

                var o = function (e, t, n, i) {
                  var o = e.getChild(Math.min(t, i - 1));
                  var r = o.getChild(0),
                      s = 0;

                  var _iterator666 = _createForOfIteratorHelper(o.getChildren()),
                      _step666;

                  try {
                    for (_iterator666.s(); !(_step666 = _iterator666.n()).done;) {
                      var _e525 = _step666.value;
                      if (s > n) return r;
                      r = _e525, s += parseInt(_e525.getAttribute("colspan") || 1);
                    }
                  } catch (err) {
                    _iterator666.e(err);
                  } finally {
                    _iterator666.f();
                  }

                  return r;
                }(r, i.first, s, t.getRows(r));

                e.setSelection(e.createPositionAt(o, 0));
              });
            }
          }]);

          return oI;
        }(ct);

        var rI = /*#__PURE__*/function (_ct43) {
          _inherits(rI, _ct43);

          var _super285 = _createSuper(rI);

          function rI() {
            _classCallCheck(this, rI);

            return _super285.apply(this, arguments);
          }

          _createClass(rI, [{
            key: "refresh",
            value: function refresh() {
              var e = Qv(this.editor.model.document.selection),
                  t = e[0];

              if (t) {
                var _n376 = t.findAncestor("table"),
                    _i338 = this.editor.plugins.get("TableUtils").getColumns(_n376),
                    _Xv2 = Xv(e),
                    _o172 = _Xv2.first,
                    _r99 = _Xv2.last;

                this.isEnabled = _r99 - _o172 < _i338 - 1;
              } else this.isEnabled = !1;
            }
          }, {
            key: "execute",
            value: function execute() {
              var _this452 = this;

              var _ref146 = function (e) {
                var t = Qv(e),
                    n = t[0],
                    i = t.pop(),
                    o = [n, i];
                return n.isBefore(i) ? o : o.reverse();
              }(this.editor.model.document.selection),
                  _ref147 = _slicedToArray(_ref146, 2),
                  e = _ref147[0],
                  t = _ref147[1],
                  n = e.parent.parent,
                  i = _toConsumableArray(new $v(n)),
                  o = {
                first: i.find(function (t) {
                  return t.cell === e;
                }).column,
                last: i.find(function (e) {
                  return e.cell === t;
                }).column
              },
                  r = function (e, t, n, i) {
                return parseInt(n.getAttribute("colspan") || 1) > 1 ? n : t.previousSibling || n.nextSibling ? n.nextSibling || t.previousSibling : i.first ? e.reverse().find(function (_ref148) {
                  var e = _ref148.column;
                  return e < i.first;
                }).cell : e.reverse().find(function (_ref149) {
                  var e = _ref149.column;
                  return e > i.last;
                }).cell;
              }(i, e, t, o);

              this.editor.model.change(function (e) {
                var t = o.last - o.first + 1;
                _this452.editor.plugins.get("TableUtils").removeColumns(n, {
                  at: o.first,
                  columns: t
                }), e.setSelection(e.createPositionAt(r, 0));
              });
            }
          }]);

          return rI;
        }(ct);

        var sI = /*#__PURE__*/function (_ct44) {
          _inherits(sI, _ct44);

          var _super286 = _createSuper(sI);

          function sI() {
            _classCallCheck(this, sI);

            return _super286.apply(this, arguments);
          }

          _createClass(sI, [{
            key: "refresh",
            value: function refresh() {
              var _this453 = this;

              var e = Qv(this.editor.model.document.selection),
                  t = e.length > 0;
              this.isEnabled = t, this.value = t && e.every(function (e) {
                return _this453._isInHeading(e, e.parent.parent);
              });
            }
          }, {
            key: "execute",
            value: function execute() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
              if (e.forceValue === this.value) return;

              var t = this.editor.model,
                  n = Qv(t.document.selection),
                  i = n[0].findAncestor("table"),
                  _Jv2 = Jv(n),
                  o = _Jv2.first,
                  r = _Jv2.last,
                  s = this.value ? o : r + 1,
                  a = i.getAttribute("headingRows") || 0;

              t.change(function (e) {
                if (s) {
                  var _t470 = vx(i, s, s > a ? a : 0);

                  var _iterator667 = _createForOfIteratorHelper(_t470),
                      _step667;

                  try {
                    for (_iterator667.s(); !(_step667 = _iterator667.n()).done;) {
                      var _n377 = _step667.value.cell;
                      xx(_n377, s, e);
                    }
                  } catch (err) {
                    _iterator667.e(err);
                  } finally {
                    _iterator667.f();
                  }
                }

                kx("headingRows", s, i, e, 0);
              });
            }
          }, {
            key: "_isInHeading",
            value: function _isInHeading(e, t) {
              var n = parseInt(t.getAttribute("headingRows") || 0);
              return !!n && e.parent.index < n;
            }
          }]);

          return sI;
        }(ct);

        var aI = /*#__PURE__*/function (_ct45) {
          _inherits(aI, _ct45);

          var _super287 = _createSuper(aI);

          function aI() {
            _classCallCheck(this, aI);

            return _super287.apply(this, arguments);
          }

          _createClass(aI, [{
            key: "refresh",
            value: function refresh() {
              var e = Qv(this.editor.model.document.selection),
                  t = this.editor.plugins.get("TableUtils"),
                  n = e.length > 0;
              this.isEnabled = n, this.value = n && e.every(function (e) {
                return wx(t, e);
              });
            }
          }, {
            key: "execute",
            value: function execute() {
              var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
              if (e.forceValue === this.value) return;

              var t = this.editor.model,
                  n = Qv(t.document.selection),
                  i = n[0].findAncestor("table"),
                  _Xv3 = Xv(n),
                  o = _Xv3.first,
                  r = _Xv3.last,
                  s = this.value ? o : r + 1;

              t.change(function (e) {
                if (s) {
                  var _t471 = yx(i, s);

                  var _iterator668 = _createForOfIteratorHelper(_t471),
                      _step668;

                  try {
                    for (_iterator668.s(); !(_step668 = _iterator668.n()).done;) {
                      var _step668$value = _step668.value,
                          _n378 = _step668$value.cell,
                          _i339 = _step668$value.column;
                      Cx(_n378, _i339, s, e);
                    }
                  } catch (err) {
                    _iterator668.e(err);
                  } finally {
                    _iterator668.f();
                  }
                }

                kx("headingColumns", s, i, e, 0);
              });
            }
          }]);

          return aI;
        }(ct);

        var cI = /*#__PURE__*/function (_ct46) {
          _inherits(cI, _ct46);

          var _super288 = _createSuper(cI);

          function cI() {
            _classCallCheck(this, cI);

            return _super288.apply(this, arguments);
          }

          _createClass(cI, [{
            key: "refresh",
            value: function refresh() {
              var e = Yv(this.editor.model.document.selection);
              this.isEnabled = Zv(e, this.editor.plugins.get(Px));
            }
          }, {
            key: "execute",
            value: function execute() {
              var e = this.editor.model,
                  t = this.editor.plugins.get(Px);
              e.change(function (n) {
                var i = Yv(e.document.selection),
                    o = i.shift(),
                    _ref150 = function (e, t, n) {
                  var i = 0,
                      o = 0;

                  var _iterator669 = _createForOfIteratorHelper(t),
                      _step669;

                  try {
                    for (_iterator669.s(); !(_step669 = _iterator669.n()).done;) {
                      var _e526 = _step669.value;

                      var _n$getCellLocation4 = n.getCellLocation(_e526),
                          _t472 = _n$getCellLocation4.row,
                          _r100 = _n$getCellLocation4.column;

                      i = uI(_e526, _r100, i, "colspan"), o = uI(_e526, _t472, o, "rowspan");
                    }
                  } catch (err) {
                    _iterator669.e(err);
                  } finally {
                    _iterator669.f();
                  }

                  var _n$getCellLocation3 = n.getCellLocation(e),
                      r = _n$getCellLocation3.row,
                      s = _n$getCellLocation3.column;

                  return {
                    mergeWidth: i - s,
                    mergeHeight: o - r
                  };
                }(o, i, t),
                    r = _ref150.mergeWidth,
                    s = _ref150.mergeHeight;

                kx("colspan", r, o, n), kx("rowspan", s, o, n);

                var _iterator670 = _createForOfIteratorHelper(i),
                    _step670;

                try {
                  for (_iterator670.s(); !(_step670 = _iterator670.n()).done;) {
                    var _e527 = _step670.value;
                    lI(_e527, o, n);
                  }
                } catch (err) {
                  _iterator670.e(err);
                } finally {
                  _iterator670.f();
                }

                Ix(o.findAncestor("table"), t), n.setSelection(o, "in");
              });
            }
          }]);

          return cI;
        }(ct);

        function lI(e, t, n) {
          dI(e) || (dI(t) && n.remove(n.createRangeIn(t)), n.move(n.createRangeIn(e), n.createPositionAt(t, "end"))), n.remove(e);
        }

        function dI(e) {
          return 1 == e.childCount && e.getChild(0).is("element", "paragraph") && e.getChild(0).isEmpty;
        }

        function uI(e, t, n, i) {
          var o = parseInt(e.getAttribute(i) || 1);
          return Math.max(n, t + o);
        }

        var hI = /*#__PURE__*/function (_ct47) {
          _inherits(hI, _ct47);

          var _super289 = _createSuper(hI);

          function hI(e) {
            var _this454;

            _classCallCheck(this, hI);

            _this454 = _super289.call(this, e), _this454.affectsData = !1;
            return _this454;
          }

          _createClass(hI, [{
            key: "refresh",
            value: function refresh() {
              var e = Qv(this.editor.model.document.selection);
              this.isEnabled = e.length > 0;
            }
          }, {
            key: "execute",
            value: function execute() {
              var e = this.editor.model,
                  t = Qv(e.document.selection),
                  n = Jv(t),
                  i = t[0].findAncestor("table"),
                  o = [];

              for (var _t473 = n.first; _t473 <= n.last; _t473++) {
                var _iterator671 = _createForOfIteratorHelper(i.getChild(_t473).getChildren()),
                    _step671;

                try {
                  for (_iterator671.s(); !(_step671 = _iterator671.n()).done;) {
                    var _n379 = _step671.value;
                    o.push(e.createRangeOn(_n379));
                  }
                } catch (err) {
                  _iterator671.e(err);
                } finally {
                  _iterator671.f();
                }
              }

              e.change(function (e) {
                e.setSelection(o);
              });
            }
          }]);

          return hI;
        }(ct);

        var gI = /*#__PURE__*/function (_ct48) {
          _inherits(gI, _ct48);

          var _super290 = _createSuper(gI);

          function gI(e) {
            var _this455;

            _classCallCheck(this, gI);

            _this455 = _super290.call(this, e), _this455.affectsData = !1;
            return _this455;
          }

          _createClass(gI, [{
            key: "refresh",
            value: function refresh() {
              var e = Qv(this.editor.model.document.selection);
              this.isEnabled = e.length > 0;
            }
          }, {
            key: "execute",
            value: function execute() {
              var e = this.editor.model,
                  t = Qv(e.document.selection),
                  n = t[0],
                  i = t.pop(),
                  o = n.findAncestor("table"),
                  r = this.editor.plugins.get("TableUtils"),
                  s = r.getCellLocation(n),
                  a = r.getCellLocation(i),
                  c = Math.min(s.column, a.column),
                  l = Math.max(s.column, a.column),
                  d = [];

              var _iterator672 = _createForOfIteratorHelper(new $v(o, {
                startColumn: c,
                endColumn: l
              })),
                  _step672;

              try {
                for (_iterator672.s(); !(_step672 = _iterator672.n()).done;) {
                  var _t474 = _step672.value;
                  d.push(e.createRangeOn(_t474.cell));
                }
              } catch (err) {
                _iterator672.e(err);
              } finally {
                _iterator672.f();
              }

              e.change(function (e) {
                e.setSelection(d);
              });
            }
          }]);

          return gI;
        }(ct);

        function mI(e) {
          e.document.registerPostFixer(function (t) {
            return function (e, t) {
              var n = t.document.differ.getChanges();
              var i = !1;
              var o = new Set();

              var _iterator673 = _createForOfIteratorHelper(n),
                  _step673;

              try {
                for (_iterator673.s(); !(_step673 = _iterator673.n()).done;) {
                  var _t475 = _step673.value;

                  var _n380 = void 0;

                  "table" == _t475.name && "insert" == _t475.type && (_n380 = _t475.position.nodeAfter), "tableRow" != _t475.name && "tableCell" != _t475.name || (_n380 = _t475.position.findAncestor("table")), kI(_t475) && (_n380 = _t475.range.start.findAncestor("table")), _n380 && !o.has(_n380) && (i = fI(_n380, e) || i, i = pI(_n380, e) || i, o.add(_n380));
                }
              } catch (err) {
                _iterator673.e(err);
              } finally {
                _iterator673.f();
              }

              return i;
            }(t, e);
          });
        }

        function fI(e, t) {
          var n = !1;

          var i = function (e) {
            var t = parseInt(e.getAttribute("headingRows") || 0),
                n = Array.from(e.getChildren()).reduce(function (e, t) {
              return t.is("element", "tableRow") ? e + 1 : e;
            }, 0),
                i = [];

            var _iterator674 = _createForOfIteratorHelper(new $v(e)),
                _step674;

            try {
              for (_iterator674.s(); !(_step674 = _iterator674.n()).done;) {
                var _step674$value = _step674.value,
                    _o173 = _step674$value.row,
                    _r101 = _step674$value.cell,
                    _s65 = _step674$value.cellHeight;
                if (_s65 < 2) continue;

                var _e528 = _o173 < t,
                    _a51 = _e528 ? t : n;

                if (_o173 + _s65 > _a51) {
                  var _e529 = _a51 - _o173;

                  i.push({
                    cell: _r101,
                    rowspan: _e529
                  });
                }
              }
            } catch (err) {
              _iterator674.e(err);
            } finally {
              _iterator674.f();
            }

            return i;
          }(e);

          if (i.length) {
            n = !0;

            var _iterator675 = _createForOfIteratorHelper(i),
                _step675;

            try {
              for (_iterator675.s(); !(_step675 = _iterator675.n()).done;) {
                var _e530 = _step675.value;
                kx("rowspan", _e530.rowspan, _e530.cell, t, 1);
              }
            } catch (err) {
              _iterator675.e(err);
            } finally {
              _iterator675.f();
            }
          }

          return n;
        }

        function pI(e, t) {
          var n = !1;

          var i = function (e) {
            var t = new Array(e.childCount).fill(0);

            var _iterator676 = _createForOfIteratorHelper(new $v(e, {
              includeAllSlots: !0
            })),
                _step676;

            try {
              for (_iterator676.s(); !(_step676 = _iterator676.n()).done;) {
                var _n381 = _step676.value.rowIndex;
                t[_n381]++;
              }
            } catch (err) {
              _iterator676.e(err);
            } finally {
              _iterator676.f();
            }

            return t;
          }(e),
              o = [];

          var _iterator677 = _createForOfIteratorHelper(i.entries()),
              _step677;

          try {
            for (_iterator677.s(); !(_step677 = _iterator677.n()).done;) {
              var _step677$value = _slicedToArray(_step677.value, 2),
                  _t476 = _step677$value[0],
                  _n384 = _step677$value[1];

              !_n384 && e.getChild(_t476).is("element", "tableRow") && o.push(_t476);
            }
          } catch (err) {
            _iterator677.e(err);
          } finally {
            _iterator677.f();
          }

          if (o.length) {
            n = !0;

            var _iterator678 = _createForOfIteratorHelper(o.reverse()),
                _step678;

            try {
              for (_iterator678.s(); !(_step678 = _iterator678.n()).done;) {
                var _n382 = _step678.value;
                t.remove(e.getChild(_n382)), i.splice(_n382, 1);
              }
            } catch (err) {
              _iterator678.e(err);
            } finally {
              _iterator678.f();
            }
          }

          var r = i.filter(function (t, n) {
            return e.getChild(n).is("element", "tableRow");
          }),
              s = r[0];

          if (!r.every(function (e) {
            return e === s;
          })) {
            var _i340 = r.reduce(function (e, t) {
              return t > e ? t : e;
            }, 0);

            var _iterator679 = _createForOfIteratorHelper(r.entries()),
                _step679;

            try {
              for (_iterator679.s(); !(_step679 = _iterator679.n()).done;) {
                var _step679$value = _slicedToArray(_step679.value, 2),
                    _o174 = _step679$value[0],
                    _s66 = _step679$value[1];

                var _r102 = _i340 - _s66;

                if (_r102) {
                  for (var _n383 = 0; _n383 < _r102; _n383++) {
                    bx(t, t.createPositionAt(e.getChild(_o174), "end"));
                  }

                  n = !0;
                }
              }
            } catch (err) {
              _iterator679.e(err);
            } finally {
              _iterator679.f();
            }
          }

          return n;
        }

        function kI(e) {
          var t = "attribute" === e.type,
              n = e.attributeKey;
          return t && ("headingRows" === n || "colspan" === n || "rowspan" === n);
        }

        function bI(e) {
          e.document.registerPostFixer(function (t) {
            return function (e, t) {
              var n = t.document.differ.getChanges();
              var i = !1;

              var _iterator680 = _createForOfIteratorHelper(n),
                  _step680;

              try {
                for (_iterator680.s(); !(_step680 = _iterator680.n()).done;) {
                  var _t477 = _step680.value;
                  "insert" == _t477.type && "table" == _t477.name && (i = wI(_t477.position.nodeAfter, e) || i), "insert" == _t477.type && "tableRow" == _t477.name && (i = _I(_t477.position.nodeAfter, e) || i), "insert" == _t477.type && "tableCell" == _t477.name && (i = vI(_t477.position.nodeAfter, e) || i), xI(_t477) && (i = vI(_t477.position.parent, e) || i);
                }
              } catch (err) {
                _iterator680.e(err);
              } finally {
                _iterator680.f();
              }

              return i;
            }(t, e);
          });
        }

        function wI(e, t) {
          var n = !1;

          var _iterator681 = _createForOfIteratorHelper(e.getChildren()),
              _step681;

          try {
            for (_iterator681.s(); !(_step681 = _iterator681.n()).done;) {
              var _i341 = _step681.value;
              _i341.is("element", "tableRow") && (n = _I(_i341, t) || n);
            }
          } catch (err) {
            _iterator681.e(err);
          } finally {
            _iterator681.f();
          }

          return n;
        }

        function _I(e, t) {
          var n = !1;

          var _iterator682 = _createForOfIteratorHelper(e.getChildren()),
              _step682;

          try {
            for (_iterator682.s(); !(_step682 = _iterator682.n()).done;) {
              var _i342 = _step682.value;
              n = vI(_i342, t) || n;
            }
          } catch (err) {
            _iterator682.e(err);
          } finally {
            _iterator682.f();
          }

          return n;
        }

        function vI(e, t) {
          if (0 == e.childCount) return t.insertElement("paragraph", e), !0;
          var n = Array.from(e.getChildren()).filter(function (e) {
            return e.is("$text");
          });

          var _iterator683 = _createForOfIteratorHelper(n),
              _step683;

          try {
            for (_iterator683.s(); !(_step683 = _iterator683.n()).done;) {
              var _e531 = _step683.value;
              t.wrap(t.createRangeOn(_e531), "paragraph");
            }
          } catch (err) {
            _iterator683.e(err);
          } finally {
            _iterator683.f();
          }

          return !!n.length;
        }

        function xI(e) {
          return !(!e.position || !e.position.parent.is("element", "tableCell")) && ("insert" == e.type && "$text" == e.name || "remove" == e.type);
        }

        function yI(e, t) {
          e.document.registerPostFixer(function () {
            return function (e, t) {
              var n = new Set();

              var _iterator684 = _createForOfIteratorHelper(e.getChanges()),
                  _step684;

              try {
                for (_iterator684.s(); !(_step684 = _iterator684.n()).done;) {
                  var _t478 = _step684.value;

                  var _e532 = "attribute" == _t478.type ? _t478.range.start.parent : _t478.position.parent;

                  _e532.is("element", "tableCell") && n.add(_e532);
                }
              } catch (err) {
                _iterator684.e(err);
              } finally {
                _iterator684.f();
              }

              var _iterator685 = _createForOfIteratorHelper(n.values()),
                  _step685;

              try {
                for (_iterator685.s(); !(_step685 = _iterator685.n()).done;) {
                  var _i343 = _step685.value;

                  var _iterator686 = _createForOfIteratorHelper(_toConsumableArray(_i343.getChildren()).filter(function (e) {
                    return CI(e, t);
                  })),
                      _step686;

                  try {
                    for (_iterator686.s(); !(_step686 = _iterator686.n()).done;) {
                      var _n385 = _step686.value;
                      e.refreshItem(_n385);
                    }
                  } catch (err) {
                    _iterator686.e(err);
                  } finally {
                    _iterator686.f();
                  }
                }
              } catch (err) {
                _iterator685.e(err);
              } finally {
                _iterator685.f();
              }

              return !1;
            }(e.document.differ, t);
          });
        }

        function CI(e, t) {
          if (!e.is("element", "paragraph")) return !1;
          var n = t.toViewElement(e);
          return !!n && WE(e) !== n.is("element", "span");
        }

        function TI(e) {
          e.document.registerPostFixer(function () {
            return function (e) {
              var t = e.document.differ,
                  n = new Set();

              var _iterator687 = _createForOfIteratorHelper(t.getChanges()),
                  _step687;

              try {
                for (_iterator687.s(); !(_step687 = _iterator687.n()).done;) {
                  var _e534 = _step687.value;

                  if ("attribute" === _e534.type) {
                    var _t479 = _e534.range.start.nodeAfter;
                    _t479 && _t479.is("element", "table") && "headingRows" === _e534.attributeKey && n.add(_t479);
                  } else if ("insert" === _e534.type || "remove" === _e534.type) if ("tableRow" === _e534.name) {
                    var _t480 = _e534.position.findAncestor("table"),
                        _i344 = _t480.getAttribute("headingRows") || 0;

                    _e534.position.offset < _i344 && n.add(_t480);
                  } else if ("tableCell" === _e534.name) {
                    var _t481 = _e534.position.findAncestor("table"),
                        _i345 = _t481.getAttribute("headingColumns") || 0;

                    _e534.position.offset < _i345 && n.add(_t481);
                  }
                }
              } catch (err) {
                _iterator687.e(err);
              } finally {
                _iterator687.f();
              }

              if (n.size) {
                var _iterator688 = _createForOfIteratorHelper(n.values()),
                    _step688;

                try {
                  for (_iterator688.s(); !(_step688 = _iterator688.n()).done;) {
                    var _e533 = _step688.value;
                    t.refreshItem(_e533);
                  }
                } catch (err) {
                  _iterator688.e(err);
                } finally {
                  _iterator688.f();
                }

                return !0;
              }

              return !1;
            }(e);
          });
        }

        n(209);

        var AI = /*#__PURE__*/function (_st121) {
          _inherits(AI, _st121);

          var _super291 = _createSuper(AI);

          function AI() {
            _classCallCheck(this, AI);

            return _super291.apply(this, arguments);
          }

          _createClass(AI, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = e.model,
                  n = t.schema,
                  i = e.conversion;
              n.register("table", {
                allowWhere: "$block",
                allowAttributes: ["headingRows", "headingColumns"],
                isObject: !0,
                isBlock: !0
              }), n.register("tableRow", {
                allowIn: "table",
                isLimit: !0
              }), n.register("tableCell", {
                allowIn: "tableRow",
                allowChildren: "$block",
                allowAttributes: ["colspan", "rowspan"],
                isLimit: !0,
                isSelectable: !0
              }), i["for"]("upcast").add(function (e) {
                e.on("element:figure", function (e, t, n) {
                  if (!n.consumable.test(t.viewItem, {
                    name: !0,
                    classes: "table"
                  })) return;

                  var i = function (e) {
                    var _iterator689 = _createForOfIteratorHelper(e.getChildren()),
                        _step689;

                    try {
                      for (_iterator689.s(); !(_step689 = _iterator689.n()).done;) {
                        var _t482 = _step689.value;
                        if (_t482.is("element", "table")) return _t482;
                      }
                    } catch (err) {
                      _iterator689.e(err);
                    } finally {
                      _iterator689.f();
                    }
                  }(t.viewItem);

                  if (!i || !n.consumable.test(i, {
                    name: !0
                  })) return;
                  var o = Ja(n.convertItem(i, t.modelCursor).modelRange.getItems());
                  o && (n.consumable.consume(t.viewItem, {
                    name: !0,
                    classes: "table"
                  }), n.convertChildren(t.viewItem, n.writer.createPositionAt(o, "end")), n.updateConversionResult(o, t));
                });
              }), i["for"]("upcast").add(BE()), i["for"]("editingDowncast").add(HE({
                asWidget: !0
              })), i["for"]("dataDowncast").add(HE()), i["for"]("upcast").elementToElement({
                model: "tableRow",
                view: "tr"
              }), i["for"]("upcast").add(function (e) {
                e.on("element:tr", function (e, t) {
                  t.viewItem.isEmpty && 0 == t.modelCursor.index && e.stop();
                }, {
                  priority: "high"
                });
              }), i["for"]("editingDowncast").add(function (e) {
                return e.on("insert:tableRow", function (e, t, n) {
                  var i = t.item;
                  if (!n.consumable.consume(i, "insert")) return;

                  var o = i.parent,
                      r = function (e) {
                    var _iterator690 = _createForOfIteratorHelper(e.getChildren()),
                        _step690;

                    try {
                      for (_iterator690.s(); !(_step690 = _iterator690.n()).done;) {
                        var _t483 = _step690.value;
                        if ("table" === _t483.name) return _t483;
                      }
                    } catch (err) {
                      _iterator690.e(err);
                    } finally {
                      _iterator690.f();
                    }
                  }(n.mapper.toViewElement(o)),
                      s = o.getChildIndex(i),
                      a = new $v(o, {
                    row: s
                  }),
                      c = {
                    headingRows: o.getAttribute("headingRows") || 0,
                    headingColumns: o.getAttribute("headingColumns") || 0
                  },
                      l = new Map();

                  var _iterator691 = _createForOfIteratorHelper(a),
                      _step691;

                  try {
                    for (_iterator691.s(); !(_step691 = _iterator691.n()).done;) {
                      var _e535 = _step691.value;

                      var _t484 = l.get(s) || GE(r, i, s, c, n);

                      l.set(s, _t484), n.consumable.consume(_e535.cell, "insert"), $E(_e535, c, n.writer.createPositionAt(_t484, "end"), n, {
                        asWidget: !0
                      });
                    }
                  } catch (err) {
                    _iterator691.e(err);
                  } finally {
                    _iterator691.f();
                  }
                });
              }), i["for"]("editingDowncast").add(function (e) {
                return e.on("remove:tableRow", function (e, t, n) {
                  e.stop();
                  var i = n.writer,
                      o = n.mapper,
                      r = o.toViewPosition(t.position).getLastMatchingPosition(function (e) {
                    return !e.item.is("element", "tr");
                  }).nodeAfter,
                      s = r.parent.parent,
                      a = i.createRangeOn(r),
                      c = i.remove(a);

                  var _iterator692 = _createForOfIteratorHelper(i.createRangeIn(c).getItems()),
                      _step692;

                  try {
                    for (_iterator692.s(); !(_step692 = _iterator692.n()).done;) {
                      var _e536 = _step692.value;
                      o.unbindViewElement(_e536);
                    }
                  } catch (err) {
                    _iterator692.e(err);
                  } finally {
                    _iterator692.f();
                  }

                  QE("thead", s, n), QE("tbody", s, n);
                }, {
                  priority: "higher"
                });
              }), i["for"]("upcast").elementToElement({
                model: "tableCell",
                view: "td"
              }), i["for"]("upcast").elementToElement({
                model: "tableCell",
                view: "th"
              }), i["for"]("upcast").add(FE("td")), i["for"]("upcast").add(FE("th")), i["for"]("editingDowncast").add(function (e) {
                return e.on("insert:tableCell", function (e, t, n) {
                  var i = t.item;
                  if (!n.consumable.consume(i, "insert")) return;
                  var o = i.parent,
                      r = o.parent,
                      s = r.getChildIndex(o),
                      a = new $v(r, {
                    row: s
                  }),
                      c = {
                    headingRows: r.getAttribute("headingRows") || 0,
                    headingColumns: r.getAttribute("headingColumns") || 0
                  };

                  var _iterator693 = _createForOfIteratorHelper(a),
                      _step693;

                  try {
                    for (_iterator693.s(); !(_step693 = _iterator693.n()).done;) {
                      var _e537 = _step693.value;

                      if (_e537.cell === i) {
                        var _t485 = n.mapper.toViewElement(o);

                        return void $E(_e537, c, n.writer.createPositionAt(_t485, o.getChildIndex(i)), n, {
                          asWidget: !0
                        });
                      }
                    }
                  } catch (err) {
                    _iterator693.e(err);
                  } finally {
                    _iterator693.f();
                  }
                });
              }), i["for"]("editingDowncast").elementToElement({
                model: "paragraph",
                view: UE,
                converterPriority: "high"
              }), i["for"]("downcast").attributeToAttribute({
                model: "colspan",
                view: "colspan"
              }), i["for"]("upcast").attributeToAttribute({
                model: {
                  key: "colspan",
                  value: EI("colspan")
                },
                view: "colspan"
              }), i["for"]("downcast").attributeToAttribute({
                model: "rowspan",
                view: "rowspan"
              }), i["for"]("upcast").attributeToAttribute({
                model: {
                  key: "rowspan",
                  value: EI("rowspan")
                },
                view: "rowspan"
              }), i["for"]("editingDowncast").add(function (e) {
                return e.on("attribute:headingColumns:table", function (e, t, n) {
                  var i = t.item;
                  if (!n.consumable.consume(t.item, e.name)) return;
                  var o = {
                    headingRows: i.getAttribute("headingRows") || 0,
                    headingColumns: i.getAttribute("headingColumns") || 0
                  },
                      r = t.attributeOldValue,
                      s = t.attributeNewValue,
                      a = (r > s ? r : s) - 1;

                  var _iterator694 = _createForOfIteratorHelper(new $v(i, {
                    endColumn: a
                  })),
                      _step694;

                  try {
                    for (_iterator694.s(); !(_step694 = _iterator694.n()).done;) {
                      var _e538 = _step694.value;
                      qE(_e538, o, n);
                    }
                  } catch (err) {
                    _iterator694.e(err);
                  } finally {
                    _iterator694.f();
                  }
                });
              }), e.data.mapper.on("modelToViewPosition", function (e, t) {
                var n = t.modelPosition.parent,
                    i = t.modelPosition.nodeBefore;
                if (!n.is("element", "tableCell")) return;
                if (!i || !i.is("element", "paragraph")) return;
                var o = t.mapper.toViewElement(i),
                    r = t.mapper.toViewElement(n);
                o === r && (t.viewPosition = t.mapper.findPositionIn(r, i.maxOffset));
              }), e.config.define("table.defaultHeadings.rows", 0), e.config.define("table.defaultHeadings.columns", 0), e.commands.add("insertTable", new XE(e)), e.commands.add("insertTableRowAbove", new ZE(e, {
                order: "above"
              })), e.commands.add("insertTableRowBelow", new ZE(e, {
                order: "below"
              })), e.commands.add("insertTableColumnLeft", new eI(e, {
                order: "left"
              })), e.commands.add("insertTableColumnRight", new eI(e, {
                order: "right"
              })), e.commands.add("removeTableRow", new oI(e)), e.commands.add("removeTableColumn", new rI(e)), e.commands.add("splitTableCellVertically", new tI(e, {
                direction: "vertically"
              })), e.commands.add("splitTableCellHorizontally", new tI(e, {
                direction: "horizontally"
              })), e.commands.add("mergeTableCells", new cI(e)), e.commands.add("mergeTableCellRight", new nI(e, {
                direction: "right"
              })), e.commands.add("mergeTableCellLeft", new nI(e, {
                direction: "left"
              })), e.commands.add("mergeTableCellDown", new nI(e, {
                direction: "down"
              })), e.commands.add("mergeTableCellUp", new nI(e, {
                direction: "up"
              })), e.commands.add("setTableColumnHeader", new aI(e)), e.commands.add("setTableRowHeader", new sI(e)), e.commands.add("selectTableRow", new hI(e)), e.commands.add("selectTableColumn", new gI(e)), TI(t), mI(t), yI(t, e.editing.mapper), bI(t);
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "TableEditing";
            }
          }, {
            key: "requires",
            get: function get() {
              return [Px];
            }
          }]);

          return AI;
        }(st);

        function EI(e) {
          return function (t) {
            var n = parseInt(t.getAttribute(e));
            return Number.isNaN(n) || n <= 0 ? null : n;
          };
        }

        n(211);

        var II = /*#__PURE__*/function (_nh43) {
          _inherits(II, _nh43);

          var _super292 = _createSuper(II);

          function II(e) {
            var _this456;

            _classCallCheck(this, II);

            _this456 = _super292.call(this, e);
            var t = _this456.bindTemplate;
            _this456.items = _this456._createGridCollection(), _this456.set("rows", 0), _this456.set("columns", 0), _this456.bind("label").to(_assertThisInitialized(_this456), "columns", _assertThisInitialized(_this456), "rows", function (e, t) {
              return "".concat(t, " \xD7 ").concat(e);
            }), _this456.setTemplate({
              tag: "div",
              attributes: {
                "class": ["ck"]
              },
              children: [{
                tag: "div",
                attributes: {
                  "class": ["ck-insert-table-dropdown__grid"]
                },
                on: {
                  "mouseover@.ck-insert-table-dropdown-grid-box": t.to("boxover")
                },
                children: _this456.items
              }, {
                tag: "div",
                attributes: {
                  "class": ["ck-insert-table-dropdown__label"]
                },
                children: [{
                  text: t.to("label")
                }]
              }],
              on: {
                mousedown: t.to(function (e) {
                  e.preventDefault();
                }),
                click: t.to(function () {
                  _this456.fire("execute");
                })
              }
            }), _this456.on("boxover", function (e, t) {
              var _t$target$dataset = t.target.dataset,
                  n = _t$target$dataset.row,
                  i = _t$target$dataset.column;

              _this456.set({
                rows: parseInt(n),
                columns: parseInt(i)
              });
            }), _this456.on("change:columns", function () {
              _this456._highlightGridBoxes();
            }), _this456.on("change:rows", function () {
              _this456._highlightGridBoxes();
            });
            return _this456;
          }

          _createClass(II, [{
            key: "focus",
            value: function focus() {}
          }, {
            key: "focusLast",
            value: function focusLast() {}
          }, {
            key: "_highlightGridBoxes",
            value: function _highlightGridBoxes() {
              var e = this.rows,
                  t = this.columns;
              this.items.map(function (n, i) {
                var o = Math.floor(i / 10) < e && i % 10 < t;
                n.set("isOn", o);
              });
            }
          }, {
            key: "_createGridCollection",
            value: function _createGridCollection() {
              var e = [];

              for (var _t486 = 0; _t486 < 100; _t486++) {
                var _n386 = Math.floor(_t486 / 10),
                    _i346 = _t486 % 10;

                e.push(new SI(this.locale, _n386 + 1, _i346 + 1));
              }

              return this.createCollection(e);
            }
          }]);

          return II;
        }(nh);

        var SI = /*#__PURE__*/function (_nh44) {
          _inherits(SI, _nh44);

          var _super293 = _createSuper(SI);

          function SI(e, t, n) {
            var _this457;

            _classCallCheck(this, SI);

            _this457 = _super293.call(this, e);
            var i = _this457.bindTemplate;
            _this457.set("isOn", !1), _this457.setTemplate({
              tag: "div",
              attributes: {
                "class": ["ck-insert-table-dropdown-grid-box", i["if"]("isOn", "ck-on")],
                "data-row": t,
                "data-column": n
              }
            });
            return _this457;
          }

          return SI;
        }(nh);

        var MI = n(75),
            PI = n.n(MI),
            RI = n(76),
            NI = n.n(RI),
            OI = n(77),
            DI = n.n(OI),
            LI = n(78),
            zI = n.n(LI);

        var VI = /*#__PURE__*/function (_st122) {
          _inherits(VI, _st122);

          var _super294 = _createSuper(VI);

          function VI() {
            _classCallCheck(this, VI);

            return _super294.apply(this, arguments);
          }

          _createClass(VI, [{
            key: "init",
            value: function init() {
              var _this458 = this;

              var e = this.editor,
                  t = this.editor.t,
                  n = "ltr" === e.locale.contentLanguageDirection;
              e.ui.componentFactory.add("insertTable", function (n) {
                var i = e.commands.get("insertTable"),
                    o = Qh(n);
                var r;
                return o.bind("isEnabled").to(i), o.buttonView.set({
                  icon: PI.a,
                  label: t("Insert table"),
                  tooltip: !0
                }), o.on("change:isOpen", function () {
                  r || (r = new II(n), o.panelView.children.add(r), r.delegate("execute").to(o), o.buttonView.on("open", function () {
                    r.rows = 0, r.columns = 0;
                  }), o.on("execute", function () {
                    e.execute("insertTable", {
                      rows: r.rows,
                      columns: r.columns
                    }), e.editing.view.focus();
                  }));
                }), o;
              }), e.ui.componentFactory.add("tableColumn", function (e) {
                var i = [{
                  type: "switchbutton",
                  model: {
                    commandName: "setTableColumnHeader",
                    label: t("Header column"),
                    bindIsOn: !0
                  }
                }, {
                  type: "separator"
                }, {
                  type: "button",
                  model: {
                    commandName: n ? "insertTableColumnLeft" : "insertTableColumnRight",
                    label: t("Insert column left")
                  }
                }, {
                  type: "button",
                  model: {
                    commandName: n ? "insertTableColumnRight" : "insertTableColumnLeft",
                    label: t("Insert column right")
                  }
                }, {
                  type: "button",
                  model: {
                    commandName: "removeTableColumn",
                    label: t("Delete column")
                  }
                }, {
                  type: "button",
                  model: {
                    commandName: "selectTableColumn",
                    label: t("Select column")
                  }
                }];
                return _this458._prepareDropdown(t("Column"), NI.a, i, e);
              }), e.ui.componentFactory.add("tableRow", function (e) {
                var n = [{
                  type: "switchbutton",
                  model: {
                    commandName: "setTableRowHeader",
                    label: t("Header row"),
                    bindIsOn: !0
                  }
                }, {
                  type: "separator"
                }, {
                  type: "button",
                  model: {
                    commandName: "insertTableRowAbove",
                    label: t("Insert row above")
                  }
                }, {
                  type: "button",
                  model: {
                    commandName: "insertTableRowBelow",
                    label: t("Insert row below")
                  }
                }, {
                  type: "button",
                  model: {
                    commandName: "removeTableRow",
                    label: t("Delete row")
                  }
                }, {
                  type: "button",
                  model: {
                    commandName: "selectTableRow",
                    label: t("Select row")
                  }
                }];
                return _this458._prepareDropdown(t("Row"), DI.a, n, e);
              }), e.ui.componentFactory.add("mergeTableCells", function (e) {
                var i = [{
                  type: "button",
                  model: {
                    commandName: "mergeTableCellUp",
                    label: t("Merge cell up")
                  }
                }, {
                  type: "button",
                  model: {
                    commandName: n ? "mergeTableCellRight" : "mergeTableCellLeft",
                    label: t("Merge cell right")
                  }
                }, {
                  type: "button",
                  model: {
                    commandName: "mergeTableCellDown",
                    label: t("Merge cell down")
                  }
                }, {
                  type: "button",
                  model: {
                    commandName: n ? "mergeTableCellLeft" : "mergeTableCellRight",
                    label: t("Merge cell left")
                  }
                }, {
                  type: "separator"
                }, {
                  type: "button",
                  model: {
                    commandName: "splitTableCellVertically",
                    label: t("Split cell vertically")
                  }
                }, {
                  type: "button",
                  model: {
                    commandName: "splitTableCellHorizontally",
                    label: t("Split cell horizontally")
                  }
                }];
                return _this458._prepareMergeSplitButtonDropdown(t("Merge cells"), zI.a, i, e);
              });
            }
          }, {
            key: "_prepareDropdown",
            value: function _prepareDropdown(e, t, n, i) {
              var o = this.editor,
                  r = Qh(i),
                  s = this._fillDropdownWithListOptions(r, n);

              return r.buttonView.set({
                label: e,
                icon: t,
                tooltip: !0
              }), r.bind("isEnabled").toMany(s, "isEnabled", function () {
                for (var _len34 = arguments.length, e = new Array(_len34), _key34 = 0; _key34 < _len34; _key34++) {
                  e[_key34] = arguments[_key34];
                }

                return e.some(function (e) {
                  return e;
                });
              }), this.listenTo(r, "execute", function (e) {
                o.execute(e.source.commandName), o.editing.view.focus();
              }), r;
            }
          }, {
            key: "_prepareMergeSplitButtonDropdown",
            value: function _prepareMergeSplitButtonDropdown(e, t, n, i) {
              var o = this.editor,
                  r = Qh(i, Oh),
                  s = o.commands.get("mergeTableCells"),
                  a = this._fillDropdownWithListOptions(r, n);

              return r.buttonView.set({
                label: e,
                icon: t,
                tooltip: !0,
                isEnabled: !0
              }), r.bind("isEnabled").toMany([s].concat(_toConsumableArray(a)), "isEnabled", function () {
                for (var _len35 = arguments.length, e = new Array(_len35), _key35 = 0; _key35 < _len35; _key35++) {
                  e[_key35] = arguments[_key35];
                }

                return e.some(function (e) {
                  return e;
                });
              }), this.listenTo(r.buttonView, "execute", function () {
                o.execute("mergeTableCells"), o.editing.view.focus();
              }), this.listenTo(r, "execute", function (e) {
                o.execute(e.source.commandName), o.editing.view.focus();
              }), r;
            }
          }, {
            key: "_fillDropdownWithListOptions",
            value: function _fillDropdownWithListOptions(e, t) {
              var n = this.editor,
                  i = [],
                  o = new Hi();

              var _iterator695 = _createForOfIteratorHelper(t),
                  _step695;

              try {
                for (_iterator695.s(); !(_step695 = _iterator695.n()).done;) {
                  var _e539 = _step695.value;
                  BI(_e539, n, i, o);
                }
              } catch (err) {
                _iterator695.e(err);
              } finally {
                _iterator695.f();
              }

              return Xh(e, o, n.ui.componentFactory), i;
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "TableUI";
            }
          }]);

          return VI;
        }(st);

        function BI(e, t, n, i) {
          var o = e.model = new cg(e.model),
              _e$model2 = e.model,
              r = _e$model2.commandName,
              s = _e$model2.bindIsOn;

          if ("button" === e.type || "switchbutton" === e.type) {
            var _e540 = t.commands.get(r);

            n.push(_e540), o.set({
              commandName: r
            }), o.bind("isEnabled").to(_e540), s && o.bind("isOn").to(_e540, "value");
          }

          o.set({
            withText: !0
          }), i.add(e);
        }

        var FI = /*#__PURE__*/function (_st123) {
          _inherits(FI, _st123);

          var _super295 = _createSuper(FI);

          function FI() {
            _classCallCheck(this, FI);

            return _super295.apply(this, arguments);
          }

          _createClass(FI, [{
            key: "init",
            value: function init() {
              var _this459 = this;

              var e = this.editor.editing.view.document;
              this.editor.keystrokes.set("Tab", function () {
                return _this459._handleTabOnSelectedTable.apply(_this459, arguments);
              }, {
                priority: "low"
              }), this.editor.keystrokes.set("Tab", this._getTabHandler(!0), {
                priority: "low"
              }), this.editor.keystrokes.set("Shift+Tab", this._getTabHandler(!1), {
                priority: "low"
              }), this.listenTo(e, "arrowKey", function () {
                return _this459._onArrowKey.apply(_this459, arguments);
              }, {
                context: "table"
              });
            }
          }, {
            key: "_handleTabOnSelectedTable",
            value: function _handleTabOnSelectedTable(e, t) {
              var n = this.editor,
                  i = n.model.document.selection.getSelectedElement();
              i && i.is("element", "table") && (t(), n.model.change(function (e) {
                e.setSelection(e.createRangeIn(i.getChild(0).getChild(0)));
              }));
            }
          }, {
            key: "_getTabHandler",
            value: function _getTabHandler(e) {
              var _this460 = this;

              var t = this.editor;
              return function (n, i) {
                var o = Kv(t.model.document.selection)[0];
                if (o || (o = _this460.editor.plugins.get("TableSelection").getFocusCell()), !o) return;
                i();
                var r = o.parent,
                    s = r.parent,
                    a = s.getChildIndex(r),
                    c = r.getChildIndex(o),
                    l = 0 === c;
                if (!e && l && 0 === a) return void t.model.change(function (e) {
                  e.setSelection(e.createRangeOn(s));
                });

                var d = _this460.editor.plugins.get("TableUtils"),
                    u = c === r.childCount - 1,
                    h = a === d.getRows(s) - 1;

                if (e && h && u && (t.execute("insertTableRowBelow"), a === d.getRows(s) - 1)) return void t.model.change(function (e) {
                  e.setSelection(e.createRangeOn(s));
                });
                var g;

                if (e && u) {
                  var _e541 = s.getChild(a + 1);

                  g = _e541.getChild(0);
                } else if (!e && l) {
                  var _e542 = s.getChild(a - 1);

                  g = _e542.getChild(_e542.childCount - 1);
                } else g = r.getChild(c + (e ? 1 : -1));

                t.model.change(function (e) {
                  e.setSelection(e.createRangeIn(g));
                });
              };
            }
          }, {
            key: "_onArrowKey",
            value: function _onArrowKey(e, t) {
              var n = this.editor,
                  i = Rr(t.keyCode, n.locale.contentLanguageDirection);
              this._handleArrowKeys(i, t.shiftKey) && (t.preventDefault(), t.stopPropagation(), e.stop());
            }
          }, {
            key: "_handleArrowKeys",
            value: function _handleArrowKeys(e, t) {
              var n = this.editor.model,
                  i = n.document.selection,
                  o = ["right", "down"].includes(e),
                  r = Yv(i);

              if (r.length) {
                var _n387;

                return _n387 = t ? this.editor.plugins.get("TableSelection").getFocusCell() : o ? r[r.length - 1] : r[0], this._navigateFromCellInDirection(_n387, e, t), !0;
              }

              var s = i.focus.findAncestor("tableCell");
              if (!s) return !1;
              if (!i.isCollapsed) if (t) {
                if (i.isBackward == o && !i.containsEntireContent(s)) return !1;
              } else {
                var _e543 = i.getSelectedElement();

                if (!_e543 || !n.schema.isObject(_e543)) return !1;
              }
              return !!this._isSelectionAtCellEdge(i, s, o) && (this._navigateFromCellInDirection(s, e, t), !0);
            }
          }, {
            key: "_isSelectionAtCellEdge",
            value: function _isSelectionAtCellEdge(e, t, n) {
              var i = this.editor.model,
                  o = this.editor.model.schema,
                  r = n ? e.getLastPosition() : e.getFirstPosition();

              if (!o.getLimitElement(r).is("element", "tableCell")) {
                return i.createPositionAt(t, n ? "end" : 0).isTouching(r);
              }

              var s = i.createSelection(r);
              return i.modifySelection(s, {
                direction: n ? "forward" : "backward"
              }), r.isEqual(s.focus);
            }
          }, {
            key: "_navigateFromCellInDirection",
            value: function _navigateFromCellInDirection(e, t) {
              var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;

              var i = this.editor.model,
                  o = e.findAncestor("table"),
                  r = _toConsumableArray(new $v(o, {
                includeAllSlots: !0
              })),
                  _r103 = r[r.length - 1],
                  s = _r103.row,
                  a = _r103.column,
                  c = r.find(function (_ref151) {
                var t = _ref151.cell;
                return t == e;
              });

              var l = c.row,
                  d = c.column;

              switch (t) {
                case "left":
                  d--;
                  break;

                case "up":
                  l--;
                  break;

                case "right":
                  d += c.cellWidth;
                  break;

                case "down":
                  l += c.cellHeight;
              }

              if (l < 0 || l > s || d < 0 && l <= 0 || d > a && l >= s) return void i.change(function (e) {
                e.setSelection(e.createRangeOn(o));
              });
              d < 0 ? (d = n ? 0 : a, l--) : d > a && (d = n ? a : 0, l++);
              var u = r.find(function (e) {
                return e.row == l && e.column == d;
              }).cell,
                  h = ["right", "down"].includes(t),
                  g = this.editor.plugins.get("TableSelection");

              if (n && g.isEnabled) {
                var _t487 = g.getAnchorCell() || e;

                g.setCellSelection(_t487, u);
              } else {
                var _e544 = i.createPositionAt(u, h ? 0 : "end");

                i.change(function (t) {
                  t.setSelection(_e544);
                });
              }
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "TableKeyboard";
            }
          }, {
            key: "requires",
            get: function get() {
              return [Dx];
            }
          }]);

          return FI;
        }(st);

        var jI = /*#__PURE__*/function (_pa8) {
          _inherits(jI, _pa8);

          var _super296 = _createSuper(jI);

          function jI(e) {
            var _this461;

            _classCallCheck(this, jI);

            _this461 = _super296.call(this, e), _this461.domEventType = ["mousemove", "mouseleave"];
            return _this461;
          }

          _createClass(jI, [{
            key: "onDomEvent",
            value: function onDomEvent(e) {
              this.fire(e.type, e);
            }
          }]);

          return jI;
        }(pa);

        var HI = /*#__PURE__*/function (_st124) {
          _inherits(HI, _st124);

          var _super297 = _createSuper(HI);

          function HI() {
            _classCallCheck(this, HI);

            return _super297.apply(this, arguments);
          }

          _createClass(HI, [{
            key: "init",
            value: function init() {
              this.editor.editing.view.addObserver(jI), this._enableShiftClickSelection(), this._enableMouseDragSelection();
            }
          }, {
            key: "_enableShiftClickSelection",
            value: function _enableShiftClickSelection() {
              var _this462 = this;

              var e = this.editor;
              var t = !1;
              var n = e.plugins.get(Dx);
              this.listenTo(e.editing.view.document, "mousedown", function (i, o) {
                if (!_this462.isEnabled || !n.isEnabled) return;
                if (!o.domEvent.shiftKey) return;
                var r = n.getAnchorCell() || Kv(e.model.document.selection)[0];
                if (!r) return;

                var s = _this462._getModelTableCellFromDomEvent(o);

                s && UI(r, s) && (t = !0, n.setCellSelection(r, s), o.preventDefault());
              }), this.listenTo(e.editing.view.document, "mouseup", function () {
                t = !1;
              }), this.listenTo(e.editing.view.document, "selectionChange", function (e) {
                t && e.stop();
              }, {
                priority: "highest"
              });
            }
          }, {
            key: "_enableMouseDragSelection",
            value: function _enableMouseDragSelection() {
              var _this463 = this;

              var e = this.editor;
              var t,
                  n,
                  i = !1,
                  o = !1;
              var r = e.plugins.get(Dx);
              this.listenTo(e.editing.view.document, "mousedown", function (e, n) {
                _this463.isEnabled && r.isEnabled && (n.domEvent.shiftKey || n.domEvent.ctrlKey || n.domEvent.altKey || (t = _this463._getModelTableCellFromDomEvent(n)));
              }), this.listenTo(e.editing.view.document, "mousemove", function (e, s) {
                if (!s.domEvent.buttons) return;
                if (!t) return;

                var a = _this463._getModelTableCellFromDomEvent(s);

                a && UI(t, a) && (n = a, i || n == t || (i = !0)), i && (o = !0, r.setCellSelection(t, n), s.preventDefault());
              }), this.listenTo(e.editing.view.document, "mouseup", function () {
                i = !1, o = !1, t = null, n = null;
              }), this.listenTo(e.editing.view.document, "selectionChange", function (e) {
                o && e.stop();
              }, {
                priority: "highest"
              });
            }
          }, {
            key: "_getModelTableCellFromDomEvent",
            value: function _getModelTableCellFromDomEvent(e) {
              var t = e.target,
                  n = this.editor.editing.view.createPositionAt(t, 0);
              return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell", {
                includeSelf: !0
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "TableMouse";
            }
          }, {
            key: "requires",
            get: function get() {
              return [Dx];
            }
          }]);

          return HI;
        }(st);

        function UI(e, t) {
          return e.parent.parent == t.parent.parent;
        }

        n(213);

        function WI(e) {
          var t = e.getSelectedElement();
          return t && $I(t) ? t : null;
        }

        function qI(e) {
          var t = e.getFirstPosition().parent;

          for (; t;) {
            if (t.is("element") && $I(t)) return t;
            t = t.parent;
          }

          return null;
        }

        function $I(e) {
          return !!e.getCustomProperty("table") && Ff(e);
        }

        var GI = "underline";

        var YI = /*#__PURE__*/function (_st125) {
          _inherits(YI, _st125);

          var _super298 = _createSuper(YI);

          function YI() {
            _classCallCheck(this, YI);

            return _super298.apply(this, arguments);
          }

          _createClass(YI, [{
            key: "init",
            value: function init() {
              var e = this.editor;
              e.model.schema.extend("$text", {
                allowAttributes: GI
              }), e.model.schema.setAttributeProperties(GI, {
                isFormatting: !0,
                copyOnEnter: !0
              }), e.conversion.attributeToElement({
                model: GI,
                view: "u",
                upcastAlso: {
                  styles: {
                    "text-decoration": "underline"
                  }
                }
              }), e.commands.add(GI, new uk(e, GI)), e.keystrokes.set("CTRL+U", "underline");
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "UnderlineEditing";
            }
          }]);

          return YI;
        }(st);

        var KI = n(79),
            QI = n.n(KI);
        var JI = "underline";

        var XI = /*#__PURE__*/function (_st126) {
          _inherits(XI, _st126);

          var _super299 = _createSuper(XI);

          function XI() {
            _classCallCheck(this, XI);

            return _super299.apply(this, arguments);
          }

          _createClass(XI, [{
            key: "init",
            value: function init() {
              var _this464 = this;

              var e = this.editor,
                  t = e.t;
              e.ui.componentFactory.add(JI, function (n) {
                var i = e.commands.get(JI),
                    o = new Th(n);
                return o.set({
                  label: t("Underline"),
                  icon: QI.a,
                  keystroke: "CTRL+U",
                  tooltip: !0,
                  isToggleable: !0
                }), o.bind("isOn", "isEnabled").to(i, "value", "isEnabled"), _this464.listenTo(o, "execute", function () {
                  e.execute(JI), e.editing.view.focus();
                }), o;
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "UnderlineUI";
            }
          }]);

          return XI;
        }(st);

        var ZI = "ckCsrfToken",
            eS = 40,
            tS = "abcdefghijklmnopqrstuvwxyz0123456789";

        function nS() {
          var e = function (e) {
            e = e.toLowerCase();
            var t = document.cookie.split(";");

            var _iterator696 = _createForOfIteratorHelper(t),
                _step696;

            try {
              for (_iterator696.s(); !(_step696 = _iterator696.n()).done;) {
                var _n388 = _step696.value;

                var _t488 = _n388.split("="),
                    _i347 = decodeURIComponent(_t488[0].trim().toLowerCase());

                if (_i347 === e) return decodeURIComponent(_t488[1]);
              }
            } catch (err) {
              _iterator696.e(err);
            } finally {
              _iterator696.f();
            }

            return null;
          }(ZI);

          return e && e.length == eS || (e = function (e) {
            var t = "";
            var n = new Uint8Array(e);
            window.crypto.getRandomValues(n);

            for (var _e545 = 0; _e545 < n.length; _e545++) {
              var _i348 = tS.charAt(n[_e545] % tS.length);

              t += Math.random() > .5 ? _i348.toUpperCase() : _i348;
            }

            return t;
          }(eS), function (e, t) {
            document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + ";path=/";
          }(ZI, e)), e;
        }

        var iS = /*#__PURE__*/function () {
          function iS(e, t, n) {
            _classCallCheck(this, iS);

            this.loader = e, this.url = t, this.t = n;
          }

          _createClass(iS, [{
            key: "upload",
            value: function upload() {
              var _this465 = this;

              return this.loader.file.then(function (e) {
                return new Promise(function (t, n) {
                  _this465._initRequest(), _this465._initListeners(t, n, e), _this465._sendRequest(e);
                });
              });
            }
          }, {
            key: "abort",
            value: function abort() {
              this.xhr && this.xhr.abort();
            }
          }, {
            key: "_initRequest",
            value: function _initRequest() {
              var e = this.xhr = new XMLHttpRequest();
              e.open("POST", this.url, !0), e.responseType = "json";
            }
          }, {
            key: "_initListeners",
            value: function _initListeners(e, t, n) {
              var i = this.xhr,
                  o = this.loader,
                  r = (0, this.t)("Cannot upload file:") + " ".concat(n.name, ".");
              i.addEventListener("error", function () {
                return t(r);
              }), i.addEventListener("abort", function () {
                return t();
              }), i.addEventListener("load", function () {
                var n = i.response;
                if (!n || !n.uploaded) return t(n && n.error && n.error.message ? n.error.message : r);
                e({
                  "default": n.url
                });
              }), i.upload && i.upload.addEventListener("progress", function (e) {
                e.lengthComputable && (o.uploadTotal = e.total, o.uploaded = e.loaded);
              });
            }
          }, {
            key: "_sendRequest",
            value: function _sendRequest(e) {
              var t = new FormData();
              t.append("upload", e), t.append("ckCsrfToken", nS()), this.xhr.send(t);
            }
          }]);

          return iS;
        }();

        var oS = /*#__PURE__*/function (_Qg) {
          _inherits(oS, _Qg);

          var _super300 = _createSuper(oS);

          function oS() {
            _classCallCheck(this, oS);

            return _super300.apply(this, arguments);
          }

          return oS;
        }(Qg);

        oS.builtinPlugins = [/*#__PURE__*/function (_st127) {
          _inherits(_class2, _st127);

          var _super301 = _createSuper(_class2);

          function _class2() {
            _classCallCheck(this, _class2);

            return _super301.apply(this, arguments);
          }

          _createClass(_class2, null, [{
            key: "requires",
            get: function get() {
              return [Ry, Oy];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "Alignment";
            }
          }]);

          return _class2;
        }(st), ab, /*#__PURE__*/function (_st128) {
          _inherits(_class3, _st128);

          var _super302 = _createSuper(_class3);

          function _class3() {
            _classCallCheck(this, _class3);

            return _super302.apply(this, arguments);
          }

          _createClass(_class3, null, [{
            key: "requires",
            get: function get() {
              return [By, Fy];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "BlockQuote";
            }
          }]);

          return _class3;
        }(st), bk, /*#__PURE__*/function (_st129) {
          _inherits(_class4, _st129);

          var _super303 = _createSuper(_class4);

          function _class4() {
            _classCallCheck(this, _class4);

            return _super303.apply(this, arguments);
          }

          _createClass(_class4, null, [{
            key: "pluginName",
            get: function get() {
              return "CKFinder";
            }
          }, {
            key: "requires",
            get: function get() {
              return ["Link", "CKFinderUploadAdapter", $y, Uy];
            }
          }]);

          return _class4;
        }(st), /*#__PURE__*/function (_Qi12) {
          _inherits(_class5, _Qi12);

          var _super304 = _createSuper(_class5);

          function _class5() {
            _classCallCheck(this, _class5);

            return _super304.apply(this, arguments);
          }

          _createClass(_class5, [{
            key: "init",
            value: function init() {
              var e = this.context.config.get("cloudServices") || {};

              for (var _t489 in e) {
                this[_t489] = e[_t489];
              }

              if (this._tokens = new Map(), this.tokenUrl) return this.token = this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl), this._tokens.set(this.tokenUrl, this.token), this.token.init();
              this.token = null;
            }
          }, {
            key: "registerTokenUrl",
            value: function registerTokenUrl(e) {
              if (this._tokens.has(e)) return Promise.resolve(this.getTokenFor(e));
              var t = this.context.plugins.get("CloudServicesCore").createToken(e);
              return this._tokens.set(e, t), t.init();
            }
          }, {
            key: "getTokenFor",
            value: function getTokenFor(e) {
              var t = this._tokens.get(e);

              if (!t) throw new c.a("cloudservices-token-not-registered", this);
              return t;
            }
          }, {
            key: "destroy",
            value: function destroy() {
              _get(_getPrototypeOf(_class5.prototype), "destroy", this).call(this);

              var _iterator697 = _createForOfIteratorHelper(this._tokens.values()),
                  _step697;

              try {
                for (_iterator697.s(); !(_step697 = _iterator697.n()).done;) {
                  var _e546 = _step697.value;

                  _e546.destroy();
                }
              } catch (err) {
                _iterator697.e(err);
              } finally {
                _iterator697.f();
              }
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "CloudServices";
            }
          }, {
            key: "requires",
            get: function get() {
              return [eC];
            }
          }]);

          return _class5;
        }(Qi), /*#__PURE__*/function (_st130) {
          _inherits(_class6, _st130);

          var _super305 = _createSuper(_class6);

          function _class6() {
            _classCallCheck(this, _class6);

            return _super305.apply(this, arguments);
          }

          _createClass(_class6, [{
            key: "init",
            value: function init() {
              var e = this.editor;
              e.plugins.has("ImageBlockEditing") || e.plugins.has("ImageInlineEditing") || Object(c.b)("easy-image-image-feature-missing", e);
            }
          }], [{
            key: "requires",
            get: function get() {
              return [sC, "ImageUpload"];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "EasyImage";
            }
          }]);

          return _class6;
        }(st), sk, /*#__PURE__*/function (_st131) {
          _inherits(_class7, _st131);

          var _super306 = _createSuper(_class7);

          function _class7() {
            _classCallCheck(this, _class7);

            return _super306.apply(this, arguments);
          }

          _createClass(_class7, null, [{
            key: "requires",
            get: function get() {
              return [kC, _C];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "FontFamily";
            }
          }]);

          return _class7;
        }(st), /*#__PURE__*/function (_st132) {
          _inherits(_class8, _st132);

          var _super307 = _createSuper(_class8);

          function _class8() {
            _classCallCheck(this, _class8);

            return _super307.apply(this, arguments);
          }

          _createClass(_class8, null, [{
            key: "requires",
            get: function get() {
              return [yC, AC];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "FontSize";
            }
          }]);

          return _class8;
        }(st), /*#__PURE__*/function (_st133) {
          _inherits(_class9, _st133);

          var _super308 = _createSuper(_class9);

          function _class9() {
            _classCallCheck(this, _class9);

            return _super308.apply(this, arguments);
          }

          _createClass(_class9, null, [{
            key: "requires",
            get: function get() {
              return [MC, PC];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "Heading";
            }
          }]);

          return _class9;
        }(st), /*#__PURE__*/function (_st134) {
          _inherits(_class10, _st134);

          var _super309 = _createSuper(_class10);

          function _class10() {
            _classCallCheck(this, _class10);

            return _super309.apply(this, arguments);
          }

          _createClass(_class10, null, [{
            key: "requires",
            get: function get() {
              return [NC, VC];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "Highlight";
            }
          }]);

          return _class10;
        }(st), /*#__PURE__*/function (_st135) {
          _inherits(_class11, _st135);

          var _super310 = _createSuper(_class11);

          function _class11() {
            _classCallCheck(this, _class11);

            return _super310.apply(this, arguments);
          }

          _createClass(_class11, null, [{
            key: "requires",
            get: function get() {
              return [oT, sT];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "Image";
            }
          }]);

          return _class11;
        }(st), /*#__PURE__*/function (_st136) {
          _inherits(_class12, _st136);

          var _super311 = _createSuper(_class12);

          function _class12() {
            _classCallCheck(this, _class12);

            return _super311.apply(this, arguments);
          }

          _createClass(_class12, null, [{
            key: "requires",
            get: function get() {
              return [cT, dT];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "ImageCaption";
            }
          }]);

          return _class12;
        }(st), /*#__PURE__*/function (_st137) {
          _inherits(_class13, _st137);

          var _super312 = _createSuper(_class13);

          function _class13() {
            _classCallCheck(this, _class13);

            return _super312.apply(this, arguments);
          }

          _createClass(_class13, null, [{
            key: "requires",
            get: function get() {
              return [hT, wT, mT];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "ImageResize";
            }
          }]);

          return _class13;
        }(st), /*#__PURE__*/function (_st138) {
          _inherits(_class14, _st138);

          var _super313 = _createSuper(_class14);

          function _class14() {
            _classCallCheck(this, _class14);

            return _super313.apply(this, arguments);
          }

          _createClass(_class14, null, [{
            key: "requires",
            get: function get() {
              return [OT, DT];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "ImageStyle";
            }
          }]);

          return _class14;
        }(st), /*#__PURE__*/function (_st139) {
          _inherits(_class15, _st139);

          var _super314 = _createSuper(_class15);

          function _class15() {
            _classCallCheck(this, _class15);

            return _super314.apply(this, arguments);
          }

          _createClass(_class15, [{
            key: "afterInit",
            value: function afterInit() {
              var e = this.editor,
                  t = e.t,
                  n = e.plugins.get(ox),
                  i = e.plugins.get("ImageUtils");
              n.register("image", {
                ariaLabel: t("Image toolbar"),
                items: function (e) {
                  return e.map(function (e) {
                    return b(e) ? e.name : e;
                  });
                }(e.config.get("image.toolbar") || []),
                getRelatedElement: function getRelatedElement(e) {
                  return i.getClosestSelectedImageWidget(e);
                }
              });
            }
          }], [{
            key: "requires",
            get: function get() {
              return [ox, WC];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "ImageToolbar";
            }
          }]);

          return _class15;
        }(st), /*#__PURE__*/function (_st140) {
          _inherits(_class16, _st140);

          var _super315 = _createSuper(_class16);

          function _class16() {
            _classCallCheck(this, _class16);

            return _super315.apply(this, arguments);
          }

          _createClass(_class16, null, [{
            key: "pluginName",
            get: function get() {
              return "ImageUpload";
            }
          }, {
            key: "requires",
            get: function get() {
              return [XT, HT, qT];
            }
          }]);

          return _class16;
        }(st), Tk, /*#__PURE__*/function (_st141) {
          _inherits(_class17, _st141);

          var _super316 = _createSuper(_class17);

          function _class17() {
            _classCallCheck(this, _class17);

            return _super316.apply(this, arguments);
          }

          _createClass(_class17, null, [{
            key: "requires",
            get: function get() {
              return [OA, qA, QA];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "Link";
            }
          }]);

          return _class17;
        }(st), ib, /*#__PURE__*/function (_st142) {
          _inherits(_class18, _st142);

          var _super317 = _createSuper(_class18);

          function _class18() {
            _classCallCheck(this, _class18);

            return _super317.apply(this, arguments);
          }

          _createClass(_class18, null, [{
            key: "requires",
            get: function get() {
              return [cE, mE, dE, sp];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "MediaEmbed";
            }
          }]);

          return _class18;
        }(st), dk, /*#__PURE__*/function (_st143) {
          _inherits(_class19, _st143);

          var _super318 = _createSuper(_class19);

          function _class19() {
            _classCallCheck(this, _class19);

            return _super318.apply(this, arguments);
          }

          _createClass(_class19, [{
            key: "init",
            value: function init() {
              var e = this.editor,
                  t = e.editing.view.document,
                  n = [];
              n.push(new CE(t)), n.push(new wE(t)), e.plugins.get("ClipboardPipeline").on("inputTransformation", function (e, i) {
                if (i._isTransformedWithPasteFromOffice) return;
                var o = i.dataTransfer.getData("text/html"),
                    r = n.find(function (e) {
                  return e.isActive(o);
                });
                r && (i._parsedData = AE(o, t.stylesProcessor), r.execute(i), i._isTransformedWithPasteFromOffice = !0);
              }, {
                priority: "high"
              });
            }
          }], [{
            key: "pluginName",
            get: function get() {
              return "PasteFromOffice";
            }
          }, {
            key: "requires",
            get: function get() {
              return [xf];
            }
          }]);

          return _class19;
        }(st), /*#__PURE__*/function (_st144) {
          _inherits(_class20, _st144);

          var _super319 = _createSuper(_class20);

          function _class20() {
            _classCallCheck(this, _class20);

            return _super319.apply(this, arguments);
          }

          _createClass(_class20, null, [{
            key: "requires",
            get: function get() {
              return [RE, ME];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "RemoveFormat";
            }
          }]);

          return _class20;
        }(st), /*#__PURE__*/function (_st145) {
          _inherits(_class21, _st145);

          var _super320 = _createSuper(_class21);

          function _class21() {
            _classCallCheck(this, _class21);

            return _super320.apply(this, arguments);
          }

          _createClass(_class21, null, [{
            key: "requires",
            get: function get() {
              return [OE, VE];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "Strikethrough";
            }
          }]);

          return _class21;
        }(st), /*#__PURE__*/function (_st146) {
          _inherits(_class22, _st146);

          var _super321 = _createSuper(_class22);

          function _class22() {
            _classCallCheck(this, _class22);

            return _super321.apply(this, arguments);
          }

          _createClass(_class22, null, [{
            key: "requires",
            get: function get() {
              return [AI, VI, Dx, HI, FI, Lx, sp];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "Table";
            }
          }]);

          return _class22;
        }(st), /*#__PURE__*/function (_st147) {
          _inherits(_class23, _st147);

          var _super322 = _createSuper(_class23);

          function _class23() {
            _classCallCheck(this, _class23);

            return _super322.apply(this, arguments);
          }

          _createClass(_class23, [{
            key: "afterInit",
            value: function afterInit() {
              var e = this.editor,
                  t = e.t,
                  n = e.plugins.get(ox),
                  i = e.config.get("table.contentToolbar"),
                  o = e.config.get("table.tableToolbar");
              i && n.register("tableContent", {
                ariaLabel: t("Table toolbar"),
                items: i,
                getRelatedElement: qI
              }), o && n.register("table", {
                ariaLabel: t("Table toolbar"),
                items: o,
                getRelatedElement: WI
              });
            }
          }], [{
            key: "requires",
            get: function get() {
              return [ox];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "TableToolbar";
            }
          }]);

          return _class23;
        }(st), /*#__PURE__*/function (_st148) {
          _inherits(_class24, _st148);

          var _super323 = _createSuper(_class24);

          function _class24() {
            _classCallCheck(this, _class24);

            return _super323.apply(this, arguments);
          }

          _createClass(_class24, null, [{
            key: "requires",
            get: function get() {
              return [YI, XI];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "Underline";
            }
          }]);

          return _class24;
        }(st), /*#__PURE__*/function (_st149) {
          _inherits(_class25, _st149);

          var _super324 = _createSuper(_class25);

          function _class25() {
            _classCallCheck(this, _class25);

            return _super324.apply(this, arguments);
          }

          _createClass(_class25, [{
            key: "init",
            value: function init() {
              var _this466 = this;

              var e = this.editor.config.get("ckfinder.uploadUrl");
              e && (this.editor.plugins.get(nC).createUploadAdapter = function (t) {
                return new iS(t, e, _this466.editor.t);
              });
            }
          }], [{
            key: "requires",
            get: function get() {
              return [nC];
            }
          }, {
            key: "pluginName",
            get: function get() {
              return "CKFinderUploadAdapter";
            }
          }]);

          return _class25;
        }(st), u_, /*#__PURE__*/function (_st150, _Ty, _Ty2, _Ty3, _Ty4, _Ty5, _Ty6) {
          _inherits(_class26, _st150);

          var _super325 = _createSuper(_class26);

          function _class26() {
            _classCallCheck(this, _class26);

            return _super325.apply(this, arguments);
          }

          _createClass(_class26, [{
            key: _Ty3,
            set: function set(e) {
              this[Ty("0x7")][Ty("0x3")].get(iy)[Ty("0x2")] = e;
            }
          }, {
            key: _Ty4,
            get: function get() {
              return this[Ty("0x7")].plugins[Ty("0x6")](iy)[Ty("0x2")];
            }
          }, {
            key: "addSuggestion",
            value: function addSuggestion(e) {
              return this[Ty("0x7")][Ty("0x3")].get(iy)[Ty("0x4")](e);
            }
          }, {
            key: _Ty5,
            value: function value(e) {
              return this[Ty("0x7")].plugins[Ty("0x6")](iy)[Ty("0x1")](e);
            }
          }, {
            key: _Ty6,
            value: function value(e) {
              return this[Ty("0x7")].plugins.get(iy)[Ty("0x5")](e);
            }
          }], [{
            key: _Ty,
            get: function get() {
              return [iy, yy, u_, Zw, r_, c_];
            }
          }, {
            key: _Ty2,
            get: function get() {
              return "TrackChanges";
            }
          }]);

          return _class26;
        }(st, Ty("0x8"), Ty("0x0"), Ty("0x2"), Ty("0x2"), Ty("0x1"), Ty("0x5"))], oS.defaultConfig = {
          cloudServices: {
            tokenUrl: "https://33333.cke-cs.com/token/dev/ijrDsqFix838Gh3wGO3F77FSW94BwcLXprJ4APSp3XQ26xsUHTi0jcb1hoBt",
            uploadUrl: "https://33333.cke-cs.com/easyimage/upload/"
          },
          toolbar: ["heading", "|", "fontsize", "fontfamily", "|", "bold", "italic", "underline", "strikethrough", "removeFormat", "highlight", "|", "numberedList", "bulletedList", "|", "link", "blockquote", "imageUpload", "insertTable", "mediaEmbed", "|", "trackChanges", "|", "comment", "|", "undo", "redo"],
          image: {
            toolbar: ["imageStyle:inline", "imageStyle:block", "imageStyle:side", "|", "toggleImageCaption", "imageTextAlternative", "|", "comment"]
          },
          table: {
            contentToolbar: ["tableColumn", "tableRow", "mergeTableCells"],
            tableToolbar: ["comment"]
          },
          mediaEmbed: {
            toolbar: ["comment"]
          }
        };
      }])["default"];
    });
    /***/
  },

  /***/
  0:
  /*!***************************!*\
    !*** multi ./src/main.ts ***!
    \***************************/

  /*! no static exports found */

  /***/
  function _(module, exports, __webpack_require__) {
    module.exports = __webpack_require__(
    /*! /private/tmp/release-collaboration-samples/track-changes-for-angular/src/main.ts */
    "./src/main.ts");
    /***/
  }
}, [[0, "runtime", "vendor"]]]);